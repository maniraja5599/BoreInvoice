(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();var YL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ZA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ng={exports:{}},gf={};var dy;function tS(){if(dy)return gf;dy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:o}}return gf.Fragment=t,gf.jsx=e,gf.jsxs=e,gf}var py;function eS(){return py||(py=1,Ng.exports=tS()),Ng.exports}var O=eS(),Cg={exports:{}},tn={};var my;function nS(){if(my)return tn;my=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),I=Symbol.iterator;function w(W){return W===null||typeof W!="object"?null:(W=I&&W[I]||W["@@iterator"],typeof W=="function"?W:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,K={};function q(W,k,$){this.props=W,this.context=k,this.refs=K,this.updater=$||Y}q.prototype.isReactComponent={},q.prototype.setState=function(W,k){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,k,"setState")},q.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function lt(){}lt.prototype=q.prototype;function ot(W,k,$){this.props=W,this.context=k,this.refs=K,this.updater=$||Y}var st=ot.prototype=new lt;st.constructor=ot,H(st,q.prototype),st.isPureReactComponent=!0;var At=Array.isArray;function kt(){}var z={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function N(W,k,$){var Z=$.ref;return{$$typeof:n,type:W,key:k,ref:Z!==void 0?Z:null,props:$}}function V(W,k){return N(W.type,k,W.props)}function E(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function R(W){var k={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function($){return k[$]})}var D=/\/+/g;function rt(W,k){return typeof W=="object"&&W!==null&&W.key!=null?R(""+W.key):k.toString(36)}function _t(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(kt,kt):(W.status="pending",W.then(function(k){W.status==="pending"&&(W.status="fulfilled",W.value=k)},function(k){W.status==="pending"&&(W.status="rejected",W.reason=k)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function it(W,k,$,Z,at){var ut=typeof W;(ut==="undefined"||ut==="boolean")&&(W=null);var gt=!1;if(W===null)gt=!0;else switch(ut){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(W.$$typeof){case n:case t:gt=!0;break;case b:return gt=W._init,it(gt(W._payload),k,$,Z,at)}}if(gt)return at=at(W),gt=Z===""?"."+rt(W,0):Z,At(at)?($="",gt!=null&&($=gt.replace(D,"$&/")+"/"),it(at,k,$,"",function(Bt){return Bt})):at!=null&&(E(at)&&(at=V(at,$+(at.key==null||W&&W.key===at.key?"":(""+at.key).replace(D,"$&/")+"/")+gt)),k.push(at)),1;gt=0;var Rt=Z===""?".":Z+":";if(At(W))for(var Ct=0;Ct<W.length;Ct++)Z=W[Ct],ut=Rt+rt(Z,Ct),gt+=it(Z,k,$,ut,at);else if(Ct=w(W),typeof Ct=="function")for(W=Ct.call(W),Ct=0;!(Z=W.next()).done;)Z=Z.value,ut=Rt+rt(Z,Ct++),gt+=it(Z,k,$,ut,at);else if(ut==="object"){if(typeof W.then=="function")return it(_t(W),k,$,Z,at);throw k=String(W),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return gt}function dt(W,k,$){if(W==null)return W;var Z=[],at=0;return it(W,Z,"","",function(ut){return k.call($,ut,at++)}),Z}function ft(W){if(W._status===-1){var k=W._result;k=k(),k.then(function($){(W._status===0||W._status===-1)&&(W._status=1,W._result=$)},function($){(W._status===0||W._status===-1)&&(W._status=2,W._result=$)}),W._status===-1&&(W._status=0,W._result=k)}if(W._status===1)return W._result.default;throw W._result}var vt=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},Mt={map:dt,forEach:function(W,k,$){dt(W,function(){k.apply(this,arguments)},$)},count:function(W){var k=0;return dt(W,function(){k++}),k},toArray:function(W){return dt(W,function(k){return k})||[]},only:function(W){if(!E(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return tn.Activity=S,tn.Children=Mt,tn.Component=q,tn.Fragment=e,tn.Profiler=a,tn.PureComponent=ot,tn.StrictMode=r,tn.Suspense=d,tn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,tn.__COMPILER_RUNTIME={__proto__:null,c:function(W){return z.H.useMemoCache(W)}},tn.cache=function(W){return function(){return W.apply(null,arguments)}},tn.cacheSignal=function(){return null},tn.cloneElement=function(W,k,$){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var Z=H({},W.props),at=W.key;if(k!=null)for(ut in k.key!==void 0&&(at=""+k.key),k)!P.call(k,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&k.ref===void 0||(Z[ut]=k[ut]);var ut=arguments.length-2;if(ut===1)Z.children=$;else if(1<ut){for(var gt=Array(ut),Rt=0;Rt<ut;Rt++)gt[Rt]=arguments[Rt+2];Z.children=gt}return N(W.type,at,Z)},tn.createContext=function(W){return W={$$typeof:c,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:o,_context:W},W},tn.createElement=function(W,k,$){var Z,at={},ut=null;if(k!=null)for(Z in k.key!==void 0&&(ut=""+k.key),k)P.call(k,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(at[Z]=k[Z]);var gt=arguments.length-2;if(gt===1)at.children=$;else if(1<gt){for(var Rt=Array(gt),Ct=0;Ct<gt;Ct++)Rt[Ct]=arguments[Ct+2];at.children=Rt}if(W&&W.defaultProps)for(Z in gt=W.defaultProps,gt)at[Z]===void 0&&(at[Z]=gt[Z]);return N(W,ut,at)},tn.createRef=function(){return{current:null}},tn.forwardRef=function(W){return{$$typeof:h,render:W}},tn.isValidElement=E,tn.lazy=function(W){return{$$typeof:b,_payload:{_status:-1,_result:W},_init:ft}},tn.memo=function(W,k){return{$$typeof:m,type:W,compare:k===void 0?null:k}},tn.startTransition=function(W){var k=z.T,$={};z.T=$;try{var Z=W(),at=z.S;at!==null&&at($,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(kt,vt)}catch(ut){vt(ut)}finally{k!==null&&$.types!==null&&(k.types=$.types),z.T=k}},tn.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},tn.use=function(W){return z.H.use(W)},tn.useActionState=function(W,k,$){return z.H.useActionState(W,k,$)},tn.useCallback=function(W,k){return z.H.useCallback(W,k)},tn.useContext=function(W){return z.H.useContext(W)},tn.useDebugValue=function(){},tn.useDeferredValue=function(W,k){return z.H.useDeferredValue(W,k)},tn.useEffect=function(W,k){return z.H.useEffect(W,k)},tn.useEffectEvent=function(W){return z.H.useEffectEvent(W)},tn.useId=function(){return z.H.useId()},tn.useImperativeHandle=function(W,k,$){return z.H.useImperativeHandle(W,k,$)},tn.useInsertionEffect=function(W,k){return z.H.useInsertionEffect(W,k)},tn.useLayoutEffect=function(W,k){return z.H.useLayoutEffect(W,k)},tn.useMemo=function(W,k){return z.H.useMemo(W,k)},tn.useOptimistic=function(W,k){return z.H.useOptimistic(W,k)},tn.useReducer=function(W,k,$){return z.H.useReducer(W,k,$)},tn.useRef=function(W){return z.H.useRef(W)},tn.useState=function(W){return z.H.useState(W)},tn.useSyncExternalStore=function(W,k,$){return z.H.useSyncExternalStore(W,k,$)},tn.useTransition=function(){return z.H.useTransition()},tn.version="19.2.1",tn}var gy;function t0(){return gy||(gy=1,Cg.exports=nS()),Cg.exports}var hn=t0();const sh=ZA(hn);var Ig={exports:{}},yf={},Rg={exports:{}},Lg={};var yy;function iS(){return yy||(yy=1,(function(n){function t(it,dt){var ft=it.length;it.push(dt);t:for(;0<ft;){var vt=ft-1>>>1,Mt=it[vt];if(0<a(Mt,dt))it[vt]=dt,it[ft]=Mt,ft=vt;else break t}}function e(it){return it.length===0?null:it[0]}function r(it){if(it.length===0)return null;var dt=it[0],ft=it.pop();if(ft!==dt){it[0]=ft;t:for(var vt=0,Mt=it.length,W=Mt>>>1;vt<W;){var k=2*(vt+1)-1,$=it[k],Z=k+1,at=it[Z];if(0>a($,ft))Z<Mt&&0>a(at,$)?(it[vt]=at,it[Z]=ft,vt=Z):(it[vt]=$,it[k]=ft,vt=k);else if(Z<Mt&&0>a(at,ft))it[vt]=at,it[Z]=ft,vt=Z;else break t}}return dt}function a(it,dt){var ft=it.sortIndex-dt.sortIndex;return ft!==0?ft:it.id-dt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var d=[],m=[],b=1,S=null,I=3,w=!1,Y=!1,H=!1,K=!1,q=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function st(it){for(var dt=e(m);dt!==null;){if(dt.callback===null)r(m);else if(dt.startTime<=it)r(m),dt.sortIndex=dt.expirationTime,t(d,dt);else break;dt=e(m)}}function At(it){if(H=!1,st(it),!Y)if(e(d)!==null)Y=!0,kt||(kt=!0,R());else{var dt=e(m);dt!==null&&_t(At,dt.startTime-it)}}var kt=!1,z=-1,P=5,N=-1;function V(){return K?!0:!(n.unstable_now()-N<P)}function E(){if(K=!1,kt){var it=n.unstable_now();N=it;var dt=!0;try{t:{Y=!1,H&&(H=!1,lt(z),z=-1),w=!0;var ft=I;try{e:{for(st(it),S=e(d);S!==null&&!(S.expirationTime>it&&V());){var vt=S.callback;if(typeof vt=="function"){S.callback=null,I=S.priorityLevel;var Mt=vt(S.expirationTime<=it);if(it=n.unstable_now(),typeof Mt=="function"){S.callback=Mt,st(it),dt=!0;break e}S===e(d)&&r(d),st(it)}else r(d);S=e(d)}if(S!==null)dt=!0;else{var W=e(m);W!==null&&_t(At,W.startTime-it),dt=!1}}break t}finally{S=null,I=ft,w=!1}dt=void 0}}finally{dt?R():kt=!1}}}var R;if(typeof ot=="function")R=function(){ot(E)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,rt=D.port2;D.port1.onmessage=E,R=function(){rt.postMessage(null)}}else R=function(){q(E,0)};function _t(it,dt){z=q(function(){it(n.unstable_now())},dt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(it){it.callback=null},n.unstable_forceFrameRate=function(it){0>it||125<it?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<it?Math.floor(1e3/it):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_next=function(it){switch(I){case 1:case 2:case 3:var dt=3;break;default:dt=I}var ft=I;I=dt;try{return it()}finally{I=ft}},n.unstable_requestPaint=function(){K=!0},n.unstable_runWithPriority=function(it,dt){switch(it){case 1:case 2:case 3:case 4:case 5:break;default:it=3}var ft=I;I=it;try{return dt()}finally{I=ft}},n.unstable_scheduleCallback=function(it,dt,ft){var vt=n.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?vt+ft:vt):ft=vt,it){case 1:var Mt=-1;break;case 2:Mt=250;break;case 5:Mt=1073741823;break;case 4:Mt=1e4;break;default:Mt=5e3}return Mt=ft+Mt,it={id:b++,callback:dt,priorityLevel:it,startTime:ft,expirationTime:Mt,sortIndex:-1},ft>vt?(it.sortIndex=ft,t(m,it),e(d)===null&&it===e(m)&&(H?(lt(z),z=-1):H=!0,_t(At,ft-vt))):(it.sortIndex=Mt,t(d,it),Y||w||(Y=!0,kt||(kt=!0,R()))),it},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(it){var dt=I;return function(){var ft=I;I=dt;try{return it.apply(this,arguments)}finally{I=ft}}}})(Lg)),Lg}var vy;function rS(){return vy||(vy=1,Rg.exports=iS()),Rg.exports}var kg={exports:{}},us={};var by;function sS(){if(by)return us;by=1;var n=t0();function t(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,m,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:S==null?null:""+S,children:d,containerInfo:m,implementation:b}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return us.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,us.createPortal=function(d,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(d,m,null,b)},us.flushSync=function(d){var m=c.T,b=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=m,r.p=b,r.d.f()}},us.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(d,m))},us.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},us.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var b=m.as,S=h(b,m.crossOrigin),I=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;b==="style"?r.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:I,fetchPriority:w}):b==="script"&&r.d.X(d,{crossOrigin:S,integrity:I,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},us.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var b=h(m.as,m.crossOrigin);r.d.M(d,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(d)},us.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var b=m.as,S=h(b,m.crossOrigin);r.d.L(d,b,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},us.preloadModule=function(d,m){if(typeof d=="string")if(m){var b=h(m.as,m.crossOrigin);r.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(d)},us.requestFormReset=function(d){r.d.r(d)},us.unstable_batchedUpdates=function(d,m){return d(m)},us.useFormState=function(d,m,b){return c.H.useFormState(d,m,b)},us.useFormStatus=function(){return c.H.useHostTransitionStatus()},us.version="19.2.1",us}var _y;function aS(){if(_y)return kg.exports;_y=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),kg.exports=sS(),kg.exports}var wy;function oS(){if(wy)return yf;wy=1;var n=rS(),t=t0(),e=aS();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,u=s;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return d(g),i;if(v===u)return d(g),s;v=v.sibling}throw Error(r(188))}if(l.return!==u.return)l=g,u=v;else{for(var C=!1,G=g.child;G;){if(G===l){C=!0,l=g,u=v;break}if(G===u){C=!0,u=g,l=v;break}G=G.sibling}if(!C){for(G=v.child;G;){if(G===l){C=!0,l=v,u=g;break}if(G===u){C=!0,u=v,l=g;break}G=G.sibling}if(!C)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function b(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=b(i),s!==null)return s;i=i.sibling}return null}var S=Object.assign,I=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),lt=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),At=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),E=Symbol.iterator;function R(i){return i===null||typeof i!="object"?null:(i=E&&i[E]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function rt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case H:return"Fragment";case q:return"Profiler";case K:return"StrictMode";case At:return"Suspense";case kt:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case Y:return"Portal";case ot:return i.displayName||"Context";case lt:return(i._context.displayName||"Context")+".Consumer";case st:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case z:return s=i.displayName||null,s!==null?s:rt(i.type)||"Memo";case P:s=i._payload,i=i._init;try{return rt(i(s))}catch{}}return null}var _t=Array.isArray,it=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},vt=[],Mt=-1;function W(i){return{current:i}}function k(i){0>Mt||(i.current=vt[Mt],vt[Mt]=null,Mt--)}function $(i,s){Mt++,vt[Mt]=i.current,i.current=s}var Z=W(null),at=W(null),ut=W(null),gt=W(null);function Rt(i,s){switch($(ut,s),$(at,i),$(Z,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?M5(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=M5(s),i=j5(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}k(Z),$(Z,i)}function Ct(){k(Z),k(at),k(ut)}function Bt(i){i.memoizedState!==null&&$(gt,i);var s=Z.current,l=j5(s,i.type);s!==l&&($(at,i),$(Z,l))}function Xt(i){at.current===i&&(k(Z),k(at)),gt.current===i&&(k(gt),ff._currentValue=ft)}var te,ee;function oe(i){if(te===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);te=s&&s[1]||"",ee=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+te+i+ee}var M=!1;function Vt(i,s){if(!i||M)return"";M=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var Gt=function(){throw Error()};if(Object.defineProperty(Gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Gt,[])}catch(Ot){var Dt=Ot}Reflect.construct(i,[],Gt)}else{try{Gt.call()}catch(Ot){Dt=Ot}i.call(Gt.prototype)}}else{try{throw Error()}catch(Ot){Dt=Ot}(Gt=i())&&typeof Gt.catch=="function"&&Gt.catch(function(){})}}catch(Ot){if(Ot&&Dt&&typeof Ot.stack=="string")return[Ot.stack,Dt.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),C=v[0],G=v[1];if(C&&G){var ct=C.split(`
`),It=G.split(`
`);for(g=u=0;u<ct.length&&!ct[u].includes("DetermineComponentFrameRoot");)u++;for(;g<It.length&&!It[g].includes("DetermineComponentFrameRoot");)g++;if(u===ct.length||g===It.length)for(u=ct.length-1,g=It.length-1;1<=u&&0<=g&&ct[u]!==It[g];)g--;for(;1<=u&&0<=g;u--,g--)if(ct[u]!==It[g]){if(u!==1||g!==1)do if(u--,g--,0>g||ct[u]!==It[g]){var zt=`
`+ct[u].replace(" at new "," at ");return i.displayName&&zt.includes("<anonymous>")&&(zt=zt.replace("<anonymous>",i.displayName)),zt}while(1<=u&&0<=g);break}}}finally{M=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?oe(l):""}function ce(i,s){switch(i.tag){case 26:case 27:case 5:return oe(i.type);case 16:return oe("Lazy");case 13:return i.child!==s&&s!==null?oe("Suspense Fallback"):oe("Suspense");case 19:return oe("SuspenseList");case 0:case 15:return Vt(i.type,!1);case 11:return Vt(i.type.render,!1);case 1:return Vt(i.type,!0);case 31:return oe("Activity");default:return""}}function ie(i){try{var s="",l=null;do s+=ce(i,l),l=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var jt=Object.prototype.hasOwnProperty,ne=n.unstable_scheduleCallback,re=n.unstable_cancelCallback,Ne=n.unstable_shouldYield,_e=n.unstable_requestPaint,Ke=n.unstable_now,Je=n.unstable_getCurrentPriorityLevel,Be=n.unstable_ImmediatePriority,sn=n.unstable_UserBlockingPriority,Xe=n.unstable_NormalPriority,ge=n.unstable_LowPriority,qe=n.unstable_IdlePriority,ye=n.log,ui=n.unstable_setDisableYieldValue,Qe=null,Ee=null;function Me(i){if(typeof ye=="function"&&ui(i),Ee&&typeof Ee.setStrictMode=="function")try{Ee.setStrictMode(Qe,i)}catch{}}var $e=Math.clz32?Math.clz32:Oe,Ae=Math.log,In=Math.LN2;function Oe(i){return i>>>=0,i===0?32:31-(Ae(i)/In|0)|0}var Pe=256,kn=262144,we=4194304;function ve(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function an(i,s,l){var u=i.pendingLanes;if(u===0)return 0;var g=0,v=i.suspendedLanes,C=i.pingedLanes;i=i.warmLanes;var G=u&134217727;return G!==0?(u=G&~v,u!==0?g=ve(u):(C&=G,C!==0?g=ve(C):l||(l=G&~i,l!==0&&(g=ve(l))))):(G=u&~v,G!==0?g=ve(G):C!==0?g=ve(C):l||(l=u&~i,l!==0&&(g=ve(l)))),g===0?0:s!==0&&s!==g&&(s&v)===0&&(v=g&-g,l=s&-s,v>=l||v===32&&(l&4194048)!==0)?s:g}function lr(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Wi(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cs(){var i=we;return we<<=1,(we&62914560)===0&&(we=4194304),i}function zi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Se(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Js(i,s,l,u,g,v){var C=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var G=i.entanglements,ct=i.expirationTimes,It=i.hiddenUpdates;for(l=C&~l;0<l;){var zt=31-$e(l),Gt=1<<zt;G[zt]=0,ct[zt]=-1;var Dt=It[zt];if(Dt!==null)for(It[zt]=null,zt=0;zt<Dt.length;zt++){var Ot=Dt[zt];Ot!==null&&(Ot.lane&=-536870913)}l&=~Gt}u!==0&&Vr(i,u,0),v!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=v&~(C&~s))}function Vr(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-$e(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|l&261930}function Sr(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var u=31-$e(l),g=1<<u;g&s|i[u]&s&&(i[u]|=s),l&=~g}}function xr(i,s){var l=s&-s;return l=(l&42)!==0?1:Fn(l),(l&(i.suspendedLanes|s))!==0?0:l}function Fn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Qn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ki(){var i=dt.p;return i!==0?i:(i=window.event,i===void 0?32:ay(i.type))}function ur(i,s){var l=dt.p;try{return dt.p=i,s()}finally{dt.p=l}}var Ji=Math.random().toString(36).slice(2),Dn="__reactFiber$"+Ji,Hn="__reactProps$"+Ji,Di="__reactContainer$"+Ji,Er="__reactEvents$"+Ji,ns="__reactListeners$"+Ji,ga="__reactHandles$"+Ji,vs="__reactResources$"+Ji,Tr="__reactMarker$"+Ji;function Zs(i){delete i[Dn],delete i[Hn],delete i[Er],delete i[ns],delete i[ga]}function Br(i){var s=i[Dn];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Di]||l[Dn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=H5(i);i!==null;){if(l=i[Dn])return l;i=H5(i)}return s}i=l,l=i.parentNode}return null}function cr(i){if(i=i[Dn]||i[Di]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Fr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function is(i){var s=i[vs];return s||(s=i[vs]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ci(i){i[Tr]=!0}var po=new Set,Nr={};function rs(i,s){bs(i,s),bs(i+"Capture",s)}function bs(i,s){for(Nr[i]=s,i=0;i<s.length;i++)po.add(s[i])}var Ua=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mo={},go={};function Xo(i){return jt.call(go,i)?!0:jt.call(mo,i)?!1:Ua.test(i)?go[i]=!0:(mo[i]=!0,!1)}function zr(i,s,l){if(Xo(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Zi(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function yi(i,s,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+u)}}function cn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ta(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ss(i,s,l){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(C){l=""+C,v.call(this,C)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(C){l=""+C},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function yn(i){if(!i._valueTracker){var s=ta(i)?"checked":"value";i._valueTracker=ss(i,s,""+i[s])}}function ya(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return i&&(u=ta(i)?i.checked?"true":"false":i.value),i=u,i!==l?(s.setValue(i),!0):!1}function xi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ri=/[\n"\\]/g;function vi(i){return i.replace(ri,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Va(i,s,l,u,g,v,C,G){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),s!=null?C==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+cn(s)):i.value!==""+cn(s)&&(i.value=""+cn(s)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),s!=null?Qo(i,C,cn(s)):l!=null?Qo(i,C,cn(l)):u!=null&&i.removeAttribute("value"),g==null&&v!=null&&(i.defaultChecked=!!v),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?i.name=""+cn(G):i.removeAttribute("name")}function Dl(i,s,l,u,g,v,C,G){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),s!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||s!=null)){yn(i);return}l=l!=null?""+cn(l):"",s=s!=null?""+cn(s):l,G||s===i.value||(i.value=s),i.defaultValue=s}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=G?i.checked:!!u,i.defaultChecked=!!u,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C),yn(i)}function Qo(i,s,l){s==="number"&&xi(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function hr(i,s,l,u){if(i=i.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=s.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&u&&(i[l].defaultSelected=!0)}else{for(l=""+cn(l),s=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,u&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function Wo(i,s,l){if(s!=null&&(s=""+cn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+cn(l):""}function ea(i,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(r(92));if(_t(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=cn(s),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u),yn(i)}function qi(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var va=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jo(i,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,l):typeof l!="number"||l===0||va.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function Zo(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var g in s)u=s[g],s.hasOwnProperty(g)&&l[g]!==u&&Jo(i,g,u)}else for(var v in s)s.hasOwnProperty(v)&&Jo(i,v,s[v])}function yo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),na=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cr(i){return na.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function _s(){}var ia=null;function Ir(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ba=null,Ce=null;function Ba(i){var s=cr(i);if(s&&(i=s.stateNode)){var l=i[Hn]||null;t:switch(i=s.stateNode,s.type){case"input":if(Va(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+vi(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==i&&u.form===i.form){var g=u[Hn]||null;if(!g)throw Error(r(90));Va(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===i.form&&ya(u)}break t;case"textarea":Wo(i,l.value,l.defaultValue);break t;case"select":s=l.value,s!=null&&hr(i,!!l.multiple,s,!1)}}}var bo=!1;function _a(i,s,l){if(bo)return i(s,l);bo=!0;try{var u=i(s);return u}finally{if(bo=!1,(ba!==null||Ce!==null)&&(xd(),ba&&(s=ba,i=Ce,Ce=ba=null,Ba(s),i)))for(s=0;s<i.length;s++)Ba(i[s])}}function Hi(i,s){var l=i.stateNode;if(l===null)return null;var u=l[Hn]||null;if(u===null)return null;l=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fa=!1;if(Oi)try{var On={};Object.defineProperty(On,"passive",{get:function(){Fa=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{Fa=!1}var qr=null,za=null,ws=null;function tl(){if(ws)return ws;var i,s=za,l=s.length,u,g="value"in qr?qr.value:qr.textContent,v=g.length;for(i=0;i<l&&s[i]===g[i];i++);var C=l-i;for(u=1;u<=C&&s[l-u]===g[v-u];u++);return ws=g.slice(i,1<u?1-u:void 0)}function Hr(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function ra(){return!0}function Gr(){return!1}function Ei(i){function s(l,u,g,v,C){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var G in i)i.hasOwnProperty(G)&&(l=i[G],this[G]=l?l(v):v[G]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ra:Gr,this.isPropagationStopped=Gr,this}return S(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ra)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ra)},persist:function(){},isPersistent:ra}),s}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tr=Ei(Is),Rs=S({},Is,{view:0,detail:0}),wa=Ei(Rs),Ls,ks,as,qa=S({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Le,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==as&&(as&&i.type==="mousemove"?(Ls=i.screenX-as.screenX,ks=i.screenY-as.screenY):ks=Ls=0,as=i),Ls)},movementY:function(i){return"movementY"in i?i.movementY:ks}}),_o=Ei(qa),Yr=S({},qa,{dataTransfer:0}),Ds=Ei(Yr),el=S({},Rs,{relatedTarget:0}),As=Ei(el),wo=S({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),_=Ei(wo),j=S({},Is,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),et=Ei(j),ht=S({},Is,{data:0}),bt=Ei(ht),Ft={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},le={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function de(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=le[i])?!!s[i]:!1}function Le(){return de}var xe=S({},Rs,{key:function(i){if(i.key){var s=Ft[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Hr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Kt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Le,charCode:function(i){return i.type==="keypress"?Hr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Hr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),fn=Ei(xe),Wn=S({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zn=Ei(Wn),p=S({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Le}),x=Ei(p),L=S({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q=Ei(L),St=S({},qa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Lt=Ei(St),Jt=S({},Is,{newState:0,oldState:0}),ze=Ei(Jt),Jn=[9,13,27,32],ln=Oi&&"CompositionEvent"in window,Pn=null;Oi&&"documentMode"in document&&(Pn=document.documentMode);var er=Oi&&"TextEvent"in window&&!Pn,fr=Oi&&(!ln||Pn&&8<Pn&&11>=Pn),Gn=" ",dr=!1;function Ss(i,s){switch(i){case"keyup":return Jn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aa(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Sa=!1;function Kr(i,s){switch(i){case"compositionend":return Aa(s);case"keypress":return s.which!==32?null:(dr=!0,Gn);case"textInput":return i=s.data,i===Gn&&dr?null:i;default:return null}}function Ha(i,s){if(Sa)return i==="compositionend"||!ln&&Ss(i,s)?(i=tl(),ws=za=qr=null,Sa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return fr&&s.locale!=="ko"?null:s.data;default:return null}}var Ol={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cu(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Ol[i.type]:s==="textarea"}function xs(i,s,l,u){ba?Ce?Ce.push(u):Ce=[u]:ba=u,s=Ld(s,"onChange"),0<s.length&&(l=new tr("onChange","change",null,l,u),i.push({event:l,listeners:s}))}var sa=null,Ga=null;function Iu(i){R5(i,0)}function aa(i){var s=Fr(i);if(ya(s))return i}function Ao(i,s){if(i==="change")return s}var os=!1;if(Oi){var $r;if(Oi){var xa="oninput"in document;if(!xa){var Ea=document.createElement("div");Ea.setAttribute("oninput","return;"),xa=typeof Ea.oninput=="function"}$r=xa}else $r=!1;os=$r&&(!document.documentMode||9<document.documentMode)}function Ya(){sa&&(sa.detachEvent("onpropertychange",Pl),Ga=sa=null)}function Pl(i){if(i.propertyName==="value"&&aa(Ga)){var s=[];xs(s,Ga,i,Ir(i)),_a(Iu,s)}}function Ml(i,s,l){i==="focusin"?(Ya(),sa=s,Ga=l,sa.attachEvent("onpropertychange",Pl)):i==="focusout"&&Ya()}function Ti(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return aa(Ga)}function pc(i,s){if(i==="click")return aa(s)}function Ta(i,s){if(i==="input"||i==="change")return aa(s)}function Na(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var pr=typeof Object.is=="function"?Object.is:Na;function Ka(i,s){if(pr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!jt.call(s,g)||!pr(i[g],s[g]))return!1}return!0}function jl(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ul(i,s){var l=jl(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=s&&u>=s)return{node:l,offset:s-i};i=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=jl(l)}}function $a(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?$a(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Xa(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=xi(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=xi(i.document)}return s}function Ca(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var nl=Oi&&"documentMode"in document&&11>=document.documentMode,Es=null,Qa=null,Rr=null,Os=!1;function Rn(i,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Os||Es==null||Es!==xi(u)||(u=Es,"selectionStart"in u&&Ca(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Rr&&Ka(Rr,u)||(Rr=u,u=Ld(Qa,"onSelect"),0<u.length&&(s=new tr("onSelect","select",null,s,l),i.push({event:s,listeners:u}),s.target=Es)))}function Sn(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Zn={animationend:Sn("Animation","AnimationEnd"),animationiteration:Sn("Animation","AnimationIteration"),animationstart:Sn("Animation","AnimationStart"),transitionrun:Sn("Transition","TransitionRun"),transitionstart:Sn("Transition","TransitionStart"),transitioncancel:Sn("Transition","TransitionCancel"),transitionend:Sn("Transition","TransitionEnd")},Ni={},Ia={};Oi&&(Ia=document.createElement("div").style,"AnimationEvent"in window||(delete Zn.animationend.animation,delete Zn.animationiteration.animation,delete Zn.animationstart.animation),"TransitionEvent"in window||delete Zn.transitionend.transition);function oa(i){if(Ni[i])return Ni[i];if(!Zn[i])return i;var s=Zn[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Ia)return Ni[i]=s[l];return i}var il=oa("animationend"),Ru=oa("animationiteration"),Oh=oa("animationstart"),td=oa("transitionrun"),ed=oa("transitionstart"),nd=oa("transitioncancel"),Ph=oa("transitionend"),Mh=new Map,rl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rl.push("scrollEnd");function Ps(i,s){Mh.set(i,s),rs(s,[i])}var Lu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ts=[],sl=0,mc=0;function ku(){for(var i=sl,s=mc=sl=0;s<i;){var l=Ts[s];Ts[s++]=null;var u=Ts[s];Ts[s++]=null;var g=Ts[s];Ts[s++]=null;var v=Ts[s];if(Ts[s++]=null,u!==null&&g!==null){var C=u.pending;C===null?g.next=g:(g.next=C.next,C.next=g),u.pending=g}v!==0&&Ou(l,g,v)}}function Du(i,s,l,u){Ts[sl++]=i,Ts[sl++]=s,Ts[sl++]=l,Ts[sl++]=u,mc|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function gc(i,s,l,u){return Du(i,s,l,u),Lr(i)}function Wa(i,s){return Du(i,null,null,s),Lr(i)}function Ou(i,s,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var g=!1,v=i.return;v!==null;)v.childLanes|=l,u=v.alternate,u!==null&&(u.childLanes|=l),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(g=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,g&&s!==null&&(g=31-$e(l),i=v.hiddenUpdates,u=i[g],u===null?i[g]=[s]:u.push(s),s.lane=l|536870912),v):null}function Lr(i){if(50<sf)throw sf=0,Wm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var mr={};function yc(i,s,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kr(i,s,l,u){return new yc(i,s,l,u)}function vc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ms(i,s){var l=i.alternate;return l===null?(l=kr(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Pu(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Vl(i,s,l,u,g,v){var C=0;if(u=i,typeof i=="function")vc(i)&&(C=1);else if(typeof i=="string")C=FA(i,l,Z.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case N:return i=kr(31,l,s,g),i.elementType=N,i.lanes=v,i;case H:return So(l.children,g,v,s);case K:C=8,g|=24;break;case q:return i=kr(12,l,s,g|2),i.elementType=q,i.lanes=v,i;case At:return i=kr(13,l,s,g),i.elementType=At,i.lanes=v,i;case kt:return i=kr(19,l,s,g),i.elementType=kt,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ot:C=10;break t;case lt:C=9;break t;case st:C=11;break t;case z:C=14;break t;case P:C=16,u=null;break t}C=29,l=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=kr(C,l,s,g),s.elementType=i,s.type=u,s.lanes=v,s}function So(i,s,l,u){return i=kr(7,i,u,s),i.lanes=l,i}function Mu(i,s,l){return i=kr(6,i,null,s),i.lanes=l,i}function bc(i){var s=kr(18,null,null,0);return s.stateNode=i,s}function Bl(i,s,l){return s=kr(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var _c=new WeakMap;function js(i,s){if(typeof i=="object"&&i!==null){var l=_c.get(i);return l!==void 0?l:(s={value:i,source:s,stack:ie(s)},_c.set(i,s),s)}return{value:i,source:s,stack:ie(s)}}var Fl=[],al=0,wc=null,ju=0,Us=[],Vs=0,xo=null,Bs=1,Fs="";function Ns(i,s){Fl[al++]=ju,Fl[al++]=wc,wc=i,ju=s}function id(i,s,l){Us[Vs++]=Bs,Us[Vs++]=Fs,Us[Vs++]=xo,xo=i;var u=Bs;i=Fs;var g=32-$e(u)-1;u&=~(1<<g),l+=1;var v=32-$e(s)+g;if(30<v){var C=g-g%5;v=(u&(1<<C)-1).toString(32),u>>=C,g-=C,Bs=1<<32-$e(s)+g|l<<g|u,Fs=v+i}else Bs=1<<v|l<<g|u,Fs=i}function jh(i){i.return!==null&&(Ns(i,1),id(i,1,0))}function Ac(i){for(;i===wc;)wc=Fl[--al],Fl[al]=null,ju=Fl[--al],Fl[al]=null;for(;i===xo;)xo=Us[--Vs],Us[Vs]=null,Fs=Us[--Vs],Us[Vs]=null,Bs=Us[--Vs],Us[Vs]=null}function rd(i,s){Us[Vs++]=Bs,Us[Vs++]=Fs,Us[Vs++]=xo,Bs=s.id,Fs=s.overflow,xo=i}var gr=null,si=null,pn=!1,Xr=null,bi=!1,la=Error(r(519));function Eo(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(js(s,i)),la}function Uh(i){var s=i.stateNode,l=i.type,u=i.memoizedProps;switch(s[Dn]=i,s[Hn]=u,l){case"dialog":gn("cancel",s),gn("close",s);break;case"iframe":case"object":case"embed":gn("load",s);break;case"video":case"audio":for(l=0;l<of.length;l++)gn(of[l],s);break;case"source":gn("error",s);break;case"img":case"image":case"link":gn("error",s),gn("load",s);break;case"details":gn("toggle",s);break;case"input":gn("invalid",s),Dl(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":gn("invalid",s);break;case"textarea":gn("invalid",s),ea(s,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||O5(s.textContent,l)?(u.popover!=null&&(gn("beforetoggle",s),gn("toggle",s)),u.onScroll!=null&&gn("scroll",s),u.onScrollEnd!=null&&gn("scrollend",s),u.onClick!=null&&(s.onclick=_s),s=!0):s=!1,s||Eo(i,!0)}function Ja(i){for(gr=i.return;gr;)switch(gr.tag){case 5:case 31:case 13:bi=!1;return;case 27:case 3:bi=!0;return;default:gr=gr.return}}function yr(i){if(i!==gr)return!1;if(!pn)return Ja(i),pn=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||fg(i.type,i.memoizedProps)),l=!l),l&&si&&Eo(i),Ja(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));si=q5(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));si=q5(i)}else s===27?(s=si,nu(i.type)?(i=yg,yg=null,si=i):si=s):si=gr?Da(i.stateNode.nextSibling):null;return!0}function ol(){si=gr=null,pn=!1}function Vh(){var i=Xr;return i!==null&&(Ks===null?Ks=i:Ks.push.apply(Ks,i),Xr=null),i}function zl(i){Xr===null?Xr=[i]:Xr.push(i)}var Sc=W(null),To=null,Ra=null;function No(i,s,l){$(Sc,s._currentValue),s._currentValue=l}function zs(i){i._currentValue=Sc.current,k(Sc)}function ql(i,s,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===l)break;i=i.return}}function ll(i,s,l,u){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var v=g.dependencies;if(v!==null){var C=g.child;v=v.firstContext;t:for(;v!==null;){var G=v;v=g;for(var ct=0;ct<s.length;ct++)if(G.context===s[ct]){v.lanes|=l,G=v.alternate,G!==null&&(G.lanes|=l),ql(v.return,l,i),u||(C=null);break t}v=G.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(r(341));C.lanes|=l,v=C.alternate,v!==null&&(v.lanes|=l),ql(C,l,i),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===i){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function Co(i,s,l,u){i=null;for(var g=s,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var G=g.type;pr(g.pendingProps.value,C.value)||(i!==null?i.push(G):i=[G])}}else if(g===gt.current){if(C=g.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(ff):i=[ff])}g=g.return}i!==null&&ll(s,i,l,u),s.flags|=262144}function xc(i){for(i=i.firstContext;i!==null;){if(!pr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Io(i){To=i,Ra=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function vr(i){return sd(To,i)}function Ec(i,s){return To===null&&Io(i),sd(i,s)}function sd(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Ra===null){if(i===null)throw Error(r(308));Ra=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Ra=Ra.next=s;return l}var gm=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},ym=n.unstable_scheduleCallback,vm=n.unstable_NormalPriority,Ci={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hl(){return{controller:new gm,data:new Map,refCount:0}}function Uu(i){i.refCount--,i.refCount===0&&ym(vm,function(){i.controller.abort()})}var Vu=null,Tc=0,f=0,y=null;function A(i,s){if(Vu===null){var l=Vu=[];Tc=0,f=ig(),y={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Tc++,s.then(T,T),s}function T(){if(--Tc===0&&Vu!==null){y!==null&&(y.status="fulfilled");var i=Vu;Vu=null,f=0,y=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function U(i,s){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var B=it.S;it.S=function(i,s){r5=Ke(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&A(i,s),B!==null&&B(i,s)};var F=W(null);function X(){var i=F.current;return i!==null?i:oi.pooledCache}function J(i,s){s===null?$(F,F.current):$(F,s.pool)}function nt(){var i=X();return i===null?null:{parent:Ci._currentValue,pool:i}}var pt=Error(r(460)),Tt=Error(r(474)),tt=Error(r(542)),yt={then:function(){}};function xt(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ut(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(_s,_s),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Qt(i),i;default:if(typeof s.status=="string")s.then(_s,_s);else{if(i=oi,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=u}},function(u){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Qt(i),i}throw Pt=s,pt}}function Et(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Pt=l,pt):l}}var Pt=null;function qt(){if(Pt===null)throw Error(r(459));var i=Pt;return Pt=null,i}function Qt(i){if(i===pt||i===tt)throw Error(r(483))}var Yt=null,pe=0;function se(i){var s=pe;return pe+=1,Yt===null&&(Yt=[]),Ut(Yt,i,s)}function He(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function he(i,s){throw s.$$typeof===I?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function dn(i){function s(wt,mt){if(i){var Nt=wt.deletions;Nt===null?(wt.deletions=[mt],wt.flags|=16):Nt.push(mt)}}function l(wt,mt){if(!i)return null;for(;mt!==null;)s(wt,mt),mt=mt.sibling;return null}function u(wt){for(var mt=new Map;wt!==null;)wt.key!==null?mt.set(wt.key,wt):mt.set(wt.index,wt),wt=wt.sibling;return mt}function g(wt,mt){return wt=Ms(wt,mt),wt.index=0,wt.sibling=null,wt}function v(wt,mt,Nt){return wt.index=Nt,i?(Nt=wt.alternate,Nt!==null?(Nt=Nt.index,Nt<mt?(wt.flags|=67108866,mt):Nt):(wt.flags|=67108866,mt)):(wt.flags|=1048576,mt)}function C(wt){return i&&wt.alternate===null&&(wt.flags|=67108866),wt}function G(wt,mt,Nt,Ht){return mt===null||mt.tag!==6?(mt=Mu(Nt,wt.mode,Ht),mt.return=wt,mt):(mt=g(mt,Nt),mt.return=wt,mt)}function ct(wt,mt,Nt,Ht){var De=Nt.type;return De===H?zt(wt,mt,Nt.props.children,Ht,Nt.key):mt!==null&&(mt.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===P&&Et(De)===mt.type)?(mt=g(mt,Nt.props),He(mt,Nt),mt.return=wt,mt):(mt=Vl(Nt.type,Nt.key,Nt.props,null,wt.mode,Ht),He(mt,Nt),mt.return=wt,mt)}function It(wt,mt,Nt,Ht){return mt===null||mt.tag!==4||mt.stateNode.containerInfo!==Nt.containerInfo||mt.stateNode.implementation!==Nt.implementation?(mt=Bl(Nt,wt.mode,Ht),mt.return=wt,mt):(mt=g(mt,Nt.children||[]),mt.return=wt,mt)}function zt(wt,mt,Nt,Ht,De){return mt===null||mt.tag!==7?(mt=So(Nt,wt.mode,Ht,De),mt.return=wt,mt):(mt=g(mt,Nt),mt.return=wt,mt)}function Gt(wt,mt,Nt){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return mt=Mu(""+mt,wt.mode,Nt),mt.return=wt,mt;if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case w:return Nt=Vl(mt.type,mt.key,mt.props,null,wt.mode,Nt),He(Nt,mt),Nt.return=wt,Nt;case Y:return mt=Bl(mt,wt.mode,Nt),mt.return=wt,mt;case P:return mt=Et(mt),Gt(wt,mt,Nt)}if(_t(mt)||R(mt))return mt=So(mt,wt.mode,Nt,null),mt.return=wt,mt;if(typeof mt.then=="function")return Gt(wt,se(mt),Nt);if(mt.$$typeof===ot)return Gt(wt,Ec(wt,mt),Nt);he(wt,mt)}return null}function Dt(wt,mt,Nt,Ht){var De=mt!==null?mt.key:null;if(typeof Nt=="string"&&Nt!==""||typeof Nt=="number"||typeof Nt=="bigint")return De!==null?null:G(wt,mt,""+Nt,Ht);if(typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case w:return Nt.key===De?ct(wt,mt,Nt,Ht):null;case Y:return Nt.key===De?It(wt,mt,Nt,Ht):null;case P:return Nt=Et(Nt),Dt(wt,mt,Nt,Ht)}if(_t(Nt)||R(Nt))return De!==null?null:zt(wt,mt,Nt,Ht,null);if(typeof Nt.then=="function")return Dt(wt,mt,se(Nt),Ht);if(Nt.$$typeof===ot)return Dt(wt,mt,Ec(wt,Nt),Ht);he(wt,Nt)}return null}function Ot(wt,mt,Nt,Ht,De){if(typeof Ht=="string"&&Ht!==""||typeof Ht=="number"||typeof Ht=="bigint")return wt=wt.get(Nt)||null,G(mt,wt,""+Ht,De);if(typeof Ht=="object"&&Ht!==null){switch(Ht.$$typeof){case w:return wt=wt.get(Ht.key===null?Nt:Ht.key)||null,ct(mt,wt,Ht,De);case Y:return wt=wt.get(Ht.key===null?Nt:Ht.key)||null,It(mt,wt,Ht,De);case P:return Ht=Et(Ht),Ot(wt,mt,Nt,Ht,De)}if(_t(Ht)||R(Ht))return wt=wt.get(Nt)||null,zt(mt,wt,Ht,De,null);if(typeof Ht.then=="function")return Ot(wt,mt,Nt,se(Ht),De);if(Ht.$$typeof===ot)return Ot(wt,mt,Nt,Ec(mt,Ht),De);he(mt,Ht)}return null}function fe(wt,mt,Nt,Ht){for(var De=null,Mn=null,be=mt,on=mt=0,bn=null;be!==null&&on<Nt.length;on++){be.index>on?(bn=be,be=null):bn=be.sibling;var jn=Dt(wt,be,Nt[on],Ht);if(jn===null){be===null&&(be=bn);break}i&&be&&jn.alternate===null&&s(wt,be),mt=v(jn,mt,on),Mn===null?De=jn:Mn.sibling=jn,Mn=jn,be=bn}if(on===Nt.length)return l(wt,be),pn&&Ns(wt,on),De;if(be===null){for(;on<Nt.length;on++)be=Gt(wt,Nt[on],Ht),be!==null&&(mt=v(be,mt,on),Mn===null?De=be:Mn.sibling=be,Mn=be);return pn&&Ns(wt,on),De}for(be=u(be);on<Nt.length;on++)bn=Ot(be,wt,on,Nt[on],Ht),bn!==null&&(i&&bn.alternate!==null&&be.delete(bn.key===null?on:bn.key),mt=v(bn,mt,on),Mn===null?De=bn:Mn.sibling=bn,Mn=bn);return i&&be.forEach(function(ou){return s(wt,ou)}),pn&&Ns(wt,on),De}function Ve(wt,mt,Nt,Ht){if(Nt==null)throw Error(r(151));for(var De=null,Mn=null,be=mt,on=mt=0,bn=null,jn=Nt.next();be!==null&&!jn.done;on++,jn=Nt.next()){be.index>on?(bn=be,be=null):bn=be.sibling;var ou=Dt(wt,be,jn.value,Ht);if(ou===null){be===null&&(be=bn);break}i&&be&&ou.alternate===null&&s(wt,be),mt=v(ou,mt,on),Mn===null?De=ou:Mn.sibling=ou,Mn=ou,be=bn}if(jn.done)return l(wt,be),pn&&Ns(wt,on),De;if(be===null){for(;!jn.done;on++,jn=Nt.next())jn=Gt(wt,jn.value,Ht),jn!==null&&(mt=v(jn,mt,on),Mn===null?De=jn:Mn.sibling=jn,Mn=jn);return pn&&Ns(wt,on),De}for(be=u(be);!jn.done;on++,jn=Nt.next())jn=Ot(be,wt,on,jn.value,Ht),jn!==null&&(i&&jn.alternate!==null&&be.delete(jn.key===null?on:jn.key),mt=v(jn,mt,on),Mn===null?De=jn:Mn.sibling=jn,Mn=jn);return i&&be.forEach(function(JA){return s(wt,JA)}),pn&&Ns(wt,on),De}function ii(wt,mt,Nt,Ht){if(typeof Nt=="object"&&Nt!==null&&Nt.type===H&&Nt.key===null&&(Nt=Nt.props.children),typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case w:t:{for(var De=Nt.key;mt!==null;){if(mt.key===De){if(De=Nt.type,De===H){if(mt.tag===7){l(wt,mt.sibling),Ht=g(mt,Nt.props.children),Ht.return=wt,wt=Ht;break t}}else if(mt.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===P&&Et(De)===mt.type){l(wt,mt.sibling),Ht=g(mt,Nt.props),He(Ht,Nt),Ht.return=wt,wt=Ht;break t}l(wt,mt);break}else s(wt,mt);mt=mt.sibling}Nt.type===H?(Ht=So(Nt.props.children,wt.mode,Ht,Nt.key),Ht.return=wt,wt=Ht):(Ht=Vl(Nt.type,Nt.key,Nt.props,null,wt.mode,Ht),He(Ht,Nt),Ht.return=wt,wt=Ht)}return C(wt);case Y:t:{for(De=Nt.key;mt!==null;){if(mt.key===De)if(mt.tag===4&&mt.stateNode.containerInfo===Nt.containerInfo&&mt.stateNode.implementation===Nt.implementation){l(wt,mt.sibling),Ht=g(mt,Nt.children||[]),Ht.return=wt,wt=Ht;break t}else{l(wt,mt);break}else s(wt,mt);mt=mt.sibling}Ht=Bl(Nt,wt.mode,Ht),Ht.return=wt,wt=Ht}return C(wt);case P:return Nt=Et(Nt),ii(wt,mt,Nt,Ht)}if(_t(Nt))return fe(wt,mt,Nt,Ht);if(R(Nt)){if(De=R(Nt),typeof De!="function")throw Error(r(150));return Nt=De.call(Nt),Ve(wt,mt,Nt,Ht)}if(typeof Nt.then=="function")return ii(wt,mt,se(Nt),Ht);if(Nt.$$typeof===ot)return ii(wt,mt,Ec(wt,Nt),Ht);he(wt,Nt)}return typeof Nt=="string"&&Nt!==""||typeof Nt=="number"||typeof Nt=="bigint"?(Nt=""+Nt,mt!==null&&mt.tag===6?(l(wt,mt.sibling),Ht=g(mt,Nt),Ht.return=wt,wt=Ht):(l(wt,mt),Ht=Mu(Nt,wt.mode,Ht),Ht.return=wt,wt=Ht),C(wt)):l(wt,mt)}return function(wt,mt,Nt,Ht){try{pe=0;var De=ii(wt,mt,Nt,Ht);return Yt=null,De}catch(be){if(be===pt||be===tt)throw be;var Mn=kr(29,be,null,wt.mode);return Mn.lanes=Ht,Mn.return=wt,Mn}finally{}}}var ai=dn(!0),Ze=dn(!1),ae=!1;function Zt(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hi(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function je(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function rn(i,s,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Bn&2)!==0){var g=u.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),u.pending=s,s=Lr(i),Ou(i,null,l),s}return Du(i,u,s,l),Lr(i)}function Un(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,Sr(i,l)}}function Gi(i,s){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?g=v=C:v=v.next=C,l=l.next}while(l!==null);v===null?g=v=s:v=v.next=s}else g=v=s;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var br=!1;function ti(){if(br){var i=y;if(i!==null)throw i}}function Pi(i,s,l,u){br=!1;var g=i.updateQueue;ae=!1;var v=g.firstBaseUpdate,C=g.lastBaseUpdate,G=g.shared.pending;if(G!==null){g.shared.pending=null;var ct=G,It=ct.next;ct.next=null,C===null?v=It:C.next=It,C=ct;var zt=i.alternate;zt!==null&&(zt=zt.updateQueue,G=zt.lastBaseUpdate,G!==C&&(G===null?zt.firstBaseUpdate=It:G.next=It,zt.lastBaseUpdate=ct))}if(v!==null){var Gt=g.baseState;C=0,zt=It=ct=null,G=v;do{var Dt=G.lane&-536870913,Ot=Dt!==G.lane;if(Ot?(vn&Dt)===Dt:(u&Dt)===Dt){Dt!==0&&Dt===f&&(br=!0),zt!==null&&(zt=zt.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});t:{var fe=i,Ve=G;Dt=s;var ii=l;switch(Ve.tag){case 1:if(fe=Ve.payload,typeof fe=="function"){Gt=fe.call(ii,Gt,Dt);break t}Gt=fe;break t;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Ve.payload,Dt=typeof fe=="function"?fe.call(ii,Gt,Dt):fe,Dt==null)break t;Gt=S({},Gt,Dt);break t;case 2:ae=!0}}Dt=G.callback,Dt!==null&&(i.flags|=64,Ot&&(i.flags|=8192),Ot=g.callbacks,Ot===null?g.callbacks=[Dt]:Ot.push(Dt))}else Ot={lane:Dt,tag:G.tag,payload:G.payload,callback:G.callback,next:null},zt===null?(It=zt=Ot,ct=Gt):zt=zt.next=Ot,C|=Dt;if(G=G.next,G===null){if(G=g.shared.pending,G===null)break;Ot=G,G=Ot.next,Ot.next=null,g.lastBaseUpdate=Ot,g.shared.pending=null}}while(!0);zt===null&&(ct=Gt),g.baseState=ct,g.firstBaseUpdate=It,g.lastBaseUpdate=zt,v===null&&(g.shared.lanes=0),Wl|=C,i.lanes=C,i.memoizedState=Gt}}function Dr(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Mi(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Dr(l[i],s)}var un=W(null),En=W(0);function fi(i,s){i=vl,$(En,i),$(un,s),vl=i|s.baseLanes}function Ln(){$(En,vl),$(un,un.current)}function Yi(){vl=En.current,k(un),k(En)}var di=W(null),Tn=null;function Ii(i){var s=i.alternate;$(xn,xn.current&1),$(di,i),Tn===null&&(s===null||un.current!==null||s.memoizedState!==null)&&(Tn=i)}function Vn(i){$(xn,xn.current),$(di,i),Tn===null&&(Tn=i)}function ji(i){i.tag===22?($(xn,xn.current),$(di,i),Tn===null&&(Tn=i)):Ui()}function Ui(){$(xn,xn.current),$(di,di.current)}function Yn(i){k(di),Tn===i&&(Tn=null),k(xn)}var xn=W(0);function Or(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||mg(l)||gg(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var _i=0,Ie=null,ke=null,Nn=null,ls=!1,qs=!1,Qr=!1,Vi=0,Ro=0,Lo=null,Nc=0;function ei(){throw Error(r(321))}function Bh(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!pr(i[l],s[l]))return!1;return!0}function Fh(i,s,l,u,g,v){return _i=v,Ie=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,it.H=i===null||i.memoizedState===null?m2:Tm,Qr=!1,v=l(u,g),Qr=!1,qs&&(v=Za(s,l,u,g)),Cc(i),v}function Cc(i){it.H=Xh;var s=ke!==null&&ke.next!==null;if(_i=0,Nn=ke=Ie=null,ls=!1,Ro=0,Lo=null,s)throw Error(r(300));i===null||ir||(i=i.dependencies,i!==null&&xc(i)&&(ir=!0))}function Za(i,s,l,u){Ie=i;var g=0;do{if(qs&&(Lo=null),Ro=0,qs=!1,25<=g)throw Error(r(301));if(g+=1,Nn=ke=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}it.H=g2,v=s(l,u)}while(qs);return v}function bm(){var i=it.H,s=i.useState()[0];return s=typeof s.then=="function"?ko(s):s,i=i.useState()[0],(ke!==null?ke.memoizedState:null)!==i&&(Ie.flags|=1024),s}function zh(){var i=Vi!==0;return Vi=0,i}function qh(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function Ic(i){if(ls){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ls=!1}_i=0,Nn=ke=Ie=null,qs=!1,Ro=Vi=0,Lo=null}function nr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?Ie.memoizedState=Nn=i:Nn=Nn.next=i,Nn}function wi(){if(ke===null){var i=Ie.alternate;i=i!==null?i.memoizedState:null}else i=ke.next;var s=Nn===null?Ie.memoizedState:Nn.next;if(s!==null)Nn=s,ke=i;else{if(i===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));ke=i,i={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Nn===null?Ie.memoizedState=Nn=i:Nn=Nn.next=i}return Nn}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(i){var s=Ro;return Ro+=1,Lo===null&&(Lo=[]),i=Ut(Lo,i,s),s=Ie,(Nn===null?s.memoizedState:Nn.next)===null&&(s=s.alternate,it.H=s===null||s.memoizedState===null?m2:Tm),i}function Gl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ko(i);if(i.$$typeof===ot)return vr(i)}throw Error(r(438,String(i)))}function ul(i){var s=null,l=Ie.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=Ie.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Bu(),Ie.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),u=0;u<i;u++)l[u]=V;return s.index++,l}function La(i,s){return typeof s=="function"?s(i):s}function Rc(i){var s=wi();return Yl(s,ke,i)}function Yl(i,s,l){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var g=i.baseQueue,v=u.pending;if(v!==null){if(g!==null){var C=g.next;g.next=v.next,v.next=C}s.baseQueue=g=v,u.pending=null}if(v=i.baseState,g===null)i.memoizedState=v;else{s=g.next;var G=C=null,ct=null,It=s,zt=!1;do{var Gt=It.lane&-536870913;if(Gt!==It.lane?(vn&Gt)===Gt:(_i&Gt)===Gt){var Dt=It.revertLane;if(Dt===0)ct!==null&&(ct=ct.next={lane:0,revertLane:0,gesture:null,action:It.action,hasEagerState:It.hasEagerState,eagerState:It.eagerState,next:null}),Gt===f&&(zt=!0);else if((_i&Dt)===Dt){It=It.next,Dt===f&&(zt=!0);continue}else Gt={lane:0,revertLane:It.revertLane,gesture:null,action:It.action,hasEagerState:It.hasEagerState,eagerState:It.eagerState,next:null},ct===null?(G=ct=Gt,C=v):ct=ct.next=Gt,Ie.lanes|=Dt,Wl|=Dt;Gt=It.action,Qr&&l(v,Gt),v=It.hasEagerState?It.eagerState:l(v,Gt)}else Dt={lane:Gt,revertLane:It.revertLane,gesture:It.gesture,action:It.action,hasEagerState:It.hasEagerState,eagerState:It.eagerState,next:null},ct===null?(G=ct=Dt,C=v):ct=ct.next=Dt,Ie.lanes|=Gt,Wl|=Gt;It=It.next}while(It!==null&&It!==s);if(ct===null?C=v:ct.next=G,!pr(v,i.memoizedState)&&(ir=!0,zt&&(l=y,l!==null)))throw l;i.memoizedState=v,i.baseState=C,i.baseQueue=ct,u.lastRenderedState=v}return g===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Lc(i){var s=wi(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var u=l.dispatch,g=l.pending,v=s.memoizedState;if(g!==null){l.pending=null;var C=g=g.next;do v=i(v,C.action),C=C.next;while(C!==g);pr(v,s.memoizedState)||(ir=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,u]}function kc(i,s,l){var u=Ie,g=wi(),v=pn;if(v){if(l===void 0)throw Error(r(407));l=l()}else l=s();var C=!pr((ke||g).memoizedState,l);if(C&&(g.memoizedState=l,ir=!0),g=g.queue,_m(Gh.bind(null,u,g,i),[i]),g.getSnapshot!==s||C||Nn!==null&&Nn.memoizedState.tag&1){if(u.flags|=2048,hl(9,{destroy:void 0},Hh.bind(null,u,g,l,s),null),oi===null)throw Error(r(349));v||(_i&127)!==0||to(u,s,l)}return l}function to(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Ie.updateQueue,s===null?(s=Bu(),Ie.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Hh(i,s,l,u){s.value=l,s.getSnapshot=u,ad(s)&&Yh(i)}function Gh(i,s,l){return l(function(){ad(s)&&Yh(i)})}function ad(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!pr(i,l)}catch{return!0}}function Yh(i){var s=Wa(i,2);s!==null&&$s(s,i,2)}function Do(i){var s=nr();if(typeof i=="function"){var l=i;if(i=l(),Qr){Me(!0);try{l()}finally{Me(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:i},s}function od(i,s,l,u){return i.baseState=l,Yl(i,ke,typeof u=="function"?u:La)}function ld(i,s,l,u,g){if(fd(i))throw Error(r(485));if(i=s.action,i!==null){var v={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){v.listeners.push(C)}};it.T!==null?l(!0):v.isTransition=!1,u(v),l=s.pending,l===null?(v.next=s.pending=v,ud(s,v)):(v.next=l.next,s.pending=l.next=v)}}function ud(i,s){var l=s.action,u=s.payload,g=i.state;if(s.isTransition){var v=it.T,C={};it.T=C;try{var G=l(g,u),ct=it.S;ct!==null&&ct(C,G),Kh(i,s,G)}catch(It){cl(i,s,It)}finally{v!==null&&C.types!==null&&(v.types=C.types),it.T=v}}else try{v=l(g,u),Kh(i,s,v)}catch(It){cl(i,s,It)}}function Kh(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){cd(i,s,u)},function(u){return cl(i,s,u)}):cd(i,s,l)}function cd(i,s,l){s.status="fulfilled",s.value=l,Dc(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,ud(i,l)))}function cl(i,s,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,Dc(s),s=s.next;while(s!==u)}i.action=null}function Dc(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Fu(i,s){return s}function ka(i,s){if(pn){var l=oi.formState;if(l!==null){t:{var u=Ie;if(pn){if(si){e:{for(var g=si,v=bi;g.nodeType!==8;){if(!v){g=null;break e}if(g=Da(g.nextSibling),g===null){g=null;break e}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){si=Da(g.nextSibling),u=g.data==="F!";break t}}Eo(u)}u=!1}u&&(s=l[0])}}return l=nr(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fu,lastRenderedState:s},l.queue=u,l=f2.bind(null,Ie,u),u.dispatch=l,u=Do(!1),v=Em.bind(null,Ie,!1,u.queue),u=nr(),g={state:s,dispatch:null,action:i,pending:null},u.queue=g,l=ld.bind(null,Ie,g,v,l),g.dispatch=l,u.memoizedState=i,[s,l,!1]}function eo(i){var s=wi();return no(s,ke,i)}function no(i,s,l){if(s=Yl(i,s,Fu)[0],i=Rc(La)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=ko(s)}catch(C){throw C===pt?tt:C}else u=s;s=wi();var g=s.queue,v=g.dispatch;return l!==s.memoizedState&&(Ie.flags|=2048,hl(9,{destroy:void 0},Oc.bind(null,g,l),null)),[u,v,i]}function Oc(i,s){i.action=s}function Pc(i){var s=wi(),l=ke;if(l!==null)return no(s,l,i);wi(),s=s.memoizedState,l=wi();var u=l.queue.dispatch;return l.memoizedState=i,[s,u,!1]}function hl(i,s,l,u){return i={tag:i,create:l,deps:u,inst:s,next:null},s=Ie.updateQueue,s===null&&(s=Bu(),Ie.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,s.lastEffect=i),i}function hd(){return wi().memoizedState}function Kl(i,s,l,u){var g=nr();Ie.flags|=i,g.memoizedState=hl(1|s,{destroy:void 0},l,u===void 0?null:u)}function $l(i,s,l,u){var g=wi();u=u===void 0?null:u;var v=g.memoizedState.inst;ke!==null&&u!==null&&Bh(u,ke.memoizedState.deps)?g.memoizedState=hl(s,v,l,u):(Ie.flags|=i,g.memoizedState=hl(1|s,v,l,u))}function J0(i,s){Kl(8390656,8,i,s)}function _m(i,s){$l(2048,8,i,s)}function Y3(i){Ie.flags|=4;var s=Ie.updateQueue;if(s===null)s=Bu(),Ie.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function Z0(i){var s=wi().memoizedState;return Y3({ref:s,nextImpl:i}),function(){if((Bn&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function t2(i,s){return $l(4,2,i,s)}function e2(i,s){return $l(4,4,i,s)}function n2(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function i2(i,s,l){l=l!=null?l.concat([i]):null,$l(4,4,n2.bind(null,s,i),l)}function wm(){}function r2(i,s){var l=wi();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&Bh(s,u[1])?u[0]:(l.memoizedState=[i,s],i)}function s2(i,s){var l=wi();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&Bh(s,u[1]))return u[0];if(u=i(),Qr){Me(!0);try{i()}finally{Me(!1)}}return l.memoizedState=[u,s],u}function Am(i,s,l){return l===void 0||(_i&1073741824)!==0&&(vn&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=a5(),Ie.lanes|=i,Wl|=i,l)}function a2(i,s,l,u){return pr(l,s)?l:un.current!==null?(i=Am(i,l,u),pr(i,s)||(ir=!0),i):(_i&42)===0||(_i&1073741824)!==0&&(vn&261930)===0?(ir=!0,i.memoizedState=l):(i=a5(),Ie.lanes|=i,Wl|=i,s)}function o2(i,s,l,u,g){var v=dt.p;dt.p=v!==0&&8>v?v:8;var C=it.T,G={};it.T=G,Em(i,!1,s,l);try{var ct=g(),It=it.S;if(It!==null&&It(G,ct),ct!==null&&typeof ct=="object"&&typeof ct.then=="function"){var zt=U(ct,u);$h(i,s,zt,ha(i))}else $h(i,s,u,ha(i))}catch(Gt){$h(i,s,{then:function(){},status:"rejected",reason:Gt},ha())}finally{dt.p=v,C!==null&&G.types!==null&&(C.types=G.types),it.T=C}}function K3(){}function Sm(i,s,l,u){if(i.tag!==5)throw Error(r(476));var g=l2(i).queue;o2(i,g,s,ft,l===null?K3:function(){return u2(i),l(u)})}function l2(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:ft},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function u2(i){var s=l2(i);s.next===null&&(s=i.alternate.memoizedState),$h(i,s.next.queue,{},ha())}function xm(){return vr(ff)}function c2(){return wi().memoizedState}function h2(){return wi().memoizedState}function $3(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=ha();i=je(l);var u=rn(s,i,l);u!==null&&($s(u,s,l),Un(u,s,l)),s={cache:Hl()},i.payload=s;return}s=s.return}}function X3(i,s,l){var u=ha();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},fd(i)?d2(s,l):(l=gc(i,s,l,u),l!==null&&($s(l,i,u),p2(l,s,u)))}function f2(i,s,l){var u=ha();$h(i,s,l,u)}function $h(i,s,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(fd(i))d2(s,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var C=s.lastRenderedState,G=v(C,l);if(g.hasEagerState=!0,g.eagerState=G,pr(G,C))return Du(i,s,g,0),oi===null&&ku(),!1}catch{}finally{}if(l=gc(i,s,g,u),l!==null)return $s(l,i,u),p2(l,s,u),!0}return!1}function Em(i,s,l,u){if(u={lane:2,revertLane:ig(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},fd(i)){if(s)throw Error(r(479))}else s=gc(i,l,u,2),s!==null&&$s(s,i,2)}function fd(i){var s=i.alternate;return i===Ie||s!==null&&s===Ie}function d2(i,s){qs=ls=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function p2(i,s,l){if((l&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,Sr(i,l)}}var Xh={readContext:vr,use:Gl,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useLayoutEffect:ei,useInsertionEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useSyncExternalStore:ei,useId:ei,useHostTransitionStatus:ei,useFormState:ei,useActionState:ei,useOptimistic:ei,useMemoCache:ei,useCacheRefresh:ei};Xh.useEffectEvent=ei;var m2={readContext:vr,use:Gl,useCallback:function(i,s){return nr().memoizedState=[i,s===void 0?null:s],i},useContext:vr,useEffect:J0,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Kl(4194308,4,n2.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Kl(4194308,4,i,s)},useInsertionEffect:function(i,s){Kl(4,2,i,s)},useMemo:function(i,s){var l=nr();s=s===void 0?null:s;var u=i();if(Qr){Me(!0);try{i()}finally{Me(!1)}}return l.memoizedState=[u,s],u},useReducer:function(i,s,l){var u=nr();if(l!==void 0){var g=l(s);if(Qr){Me(!0);try{l(s)}finally{Me(!1)}}}else g=s;return u.memoizedState=u.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},u.queue=i,i=i.dispatch=X3.bind(null,Ie,i),[u.memoizedState,i]},useRef:function(i){var s=nr();return i={current:i},s.memoizedState=i},useState:function(i){i=Do(i);var s=i.queue,l=f2.bind(null,Ie,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:wm,useDeferredValue:function(i,s){var l=nr();return Am(l,i,s)},useTransition:function(){var i=Do(!1);return i=o2.bind(null,Ie,i.queue,!0,!1),nr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var u=Ie,g=nr();if(pn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),oi===null)throw Error(r(349));(vn&127)!==0||to(u,s,l)}g.memoizedState=l;var v={value:l,getSnapshot:s};return g.queue=v,J0(Gh.bind(null,u,v,i),[i]),u.flags|=2048,hl(9,{destroy:void 0},Hh.bind(null,u,v,l,s),null),l},useId:function(){var i=nr(),s=oi.identifierPrefix;if(pn){var l=Fs,u=Bs;l=(u&~(1<<32-$e(u)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Vi++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=Nc++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:xm,useFormState:ka,useActionState:ka,useOptimistic:function(i){var s=nr();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Em.bind(null,Ie,!0,l),l.dispatch=s,[i,s]},useMemoCache:ul,useCacheRefresh:function(){return nr().memoizedState=$3.bind(null,Ie)},useEffectEvent:function(i){var s=nr(),l={impl:i};return s.memoizedState=l,function(){if((Bn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Tm={readContext:vr,use:Gl,useCallback:r2,useContext:vr,useEffect:_m,useImperativeHandle:i2,useInsertionEffect:t2,useLayoutEffect:e2,useMemo:s2,useReducer:Rc,useRef:hd,useState:function(){return Rc(La)},useDebugValue:wm,useDeferredValue:function(i,s){var l=wi();return a2(l,ke.memoizedState,i,s)},useTransition:function(){var i=Rc(La)[0],s=wi().memoizedState;return[typeof i=="boolean"?i:ko(i),s]},useSyncExternalStore:kc,useId:c2,useHostTransitionStatus:xm,useFormState:eo,useActionState:eo,useOptimistic:function(i,s){var l=wi();return od(l,ke,i,s)},useMemoCache:ul,useCacheRefresh:h2};Tm.useEffectEvent=Z0;var g2={readContext:vr,use:Gl,useCallback:r2,useContext:vr,useEffect:_m,useImperativeHandle:i2,useInsertionEffect:t2,useLayoutEffect:e2,useMemo:s2,useReducer:Lc,useRef:hd,useState:function(){return Lc(La)},useDebugValue:wm,useDeferredValue:function(i,s){var l=wi();return ke===null?Am(l,i,s):a2(l,ke.memoizedState,i,s)},useTransition:function(){var i=Lc(La)[0],s=wi().memoizedState;return[typeof i=="boolean"?i:ko(i),s]},useSyncExternalStore:kc,useId:c2,useHostTransitionStatus:xm,useFormState:Pc,useActionState:Pc,useOptimistic:function(i,s){var l=wi();return ke!==null?od(l,ke,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:ul,useCacheRefresh:h2};g2.useEffectEvent=Z0;function Nm(i,s,l,u){s=i.memoizedState,l=l(u,s),l=l==null?s:S({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Cm={enqueueSetState:function(i,s,l){i=i._reactInternals;var u=ha(),g=je(u);g.payload=s,l!=null&&(g.callback=l),s=rn(i,g,u),s!==null&&($s(s,i,u),Un(s,i,u))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var u=ha(),g=je(u);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=rn(i,g,u),s!==null&&($s(s,i,u),Un(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=ha(),u=je(l);u.tag=2,s!=null&&(u.callback=s),s=rn(i,u,l),s!==null&&($s(s,i,l),Un(s,i,l))}};function y2(i,s,l,u,g,v,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,v,C):s.prototype&&s.prototype.isPureReactComponent?!Ka(l,u)||!Ka(g,v):!0}function v2(i,s,l,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==i&&Cm.enqueueReplaceState(s,s.state,null)}function zu(i,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(i=i.defaultProps){l===s&&(l=S({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}function b2(i){Lu(i)}function _2(i){console.error(i)}function w2(i){Lu(i)}function dd(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function A2(i,s,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Im(i,s,l){return l=je(l),l.tag=3,l.payload={element:null},l.callback=function(){dd(i,s)},l}function S2(i){return i=je(i),i.tag=3,i}function x2(i,s,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var v=u.value;i.payload=function(){return g(v)},i.callback=function(){A2(s,l,u)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){A2(s,l,u),typeof g!="function"&&(Jl===null?Jl=new Set([this]):Jl.add(this));var G=u.stack;this.componentDidCatch(u.value,{componentStack:G!==null?G:""})})}function Q3(i,s,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&Co(s,l,g,!0),l=di.current,l!==null){switch(l.tag){case 31:case 13:return Tn===null?Ed():l.alternate===null&&Bi===0&&(Bi=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===yt?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),tg(i,u,g)),!1;case 22:return l.flags|=65536,u===yt?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),tg(i,u,g)),!1}throw Error(r(435,l.tag))}return tg(i,u,g),Ed(),!1}if(pn)return s=di.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,u!==la&&(i=Error(r(422),{cause:u}),zl(js(i,l)))):(u!==la&&(s=Error(r(423),{cause:u}),zl(js(s,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,u=js(u,l),g=Im(i.stateNode,u,g),Gi(i,g),Bi!==4&&(Bi=2)),!1;var v=Error(r(520),{cause:u});if(v=js(v,l),rf===null?rf=[v]:rf.push(v),Bi!==4&&(Bi=2),s===null)return!0;u=js(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=Im(l.stateNode,u,i),Gi(l,i),!1;case 1:if(s=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Jl===null||!Jl.has(v))))return l.flags|=65536,g&=-g,l.lanes|=g,g=S2(g),x2(g,i,l,u),Gi(l,g),!1}l=l.return}while(l!==null);return!1}var Rm=Error(r(461)),ir=!1;function Wr(i,s,l,u){s.child=i===null?Ze(s,null,l,u):ai(s,i.child,l,u)}function E2(i,s,l,u,g){l=l.render;var v=s.ref;if("ref"in u){var C={};for(var G in u)G!=="ref"&&(C[G]=u[G])}else C=u;return Io(s),u=Fh(i,s,l,C,v,g),G=zh(),i!==null&&!ir?(qh(i,s,g),fl(i,s,g)):(pn&&G&&jh(s),s.flags|=1,Wr(i,s,u,g),s.child)}function T2(i,s,l,u,g){if(i===null){var v=l.type;return typeof v=="function"&&!vc(v)&&v.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=v,N2(i,s,v,u,g)):(i=Vl(l.type,null,u,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(v=i.child,!Um(i,g)){var C=v.memoizedProps;if(l=l.compare,l=l!==null?l:Ka,l(C,u)&&i.ref===s.ref)return fl(i,s,g)}return s.flags|=1,i=Ms(v,u),i.ref=s.ref,i.return=s,s.child=i}function N2(i,s,l,u,g){if(i!==null){var v=i.memoizedProps;if(Ka(v,u)&&i.ref===s.ref)if(ir=!1,s.pendingProps=u=v,Um(i,g))(i.flags&131072)!==0&&(ir=!0);else return s.lanes=i.lanes,fl(i,s,g)}return Lm(i,s,l,u,g)}function C2(i,s,l,u){var g=u.children,v=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(v=v!==null?v.baseLanes|l:l,i!==null){for(u=s.child=i.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~v}else u=0,s.child=null;return I2(i,s,v,l,u)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&J(s,v!==null?v.cachePool:null),v!==null?fi(s,v):Ln(),ji(s);else return u=s.lanes=536870912,I2(i,s,v!==null?v.baseLanes|l:l,l,u)}else v!==null?(J(s,v.cachePool),fi(s,v),Ui(),s.memoizedState=null):(i!==null&&J(s,null),Ln(),Ui());return Wr(i,s,g,l),s.child}function Qh(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function I2(i,s,l,u,g){var v=X();return v=v===null?null:{parent:Ci._currentValue,pool:v},s.memoizedState={baseLanes:l,cachePool:v},i!==null&&J(s,null),Ln(),ji(s),i!==null&&Co(i,s,u,!0),s.childLanes=g,null}function pd(i,s){return s=gd({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function R2(i,s,l){return ai(s,i.child,null,l),i=pd(s,s.pendingProps),i.flags|=2,Yn(s),s.memoizedState=null,i}function W3(i,s,l){var u=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(pn){if(u.mode==="hidden")return i=pd(s,u),s.lanes=536870912,Qh(null,i);if(Vn(s),(i=si)?(i=z5(i,bi),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:xo!==null?{id:Bs,overflow:Fs}:null,retryLane:536870912,hydrationErrors:null},l=bc(i),l.return=s,s.child=l,gr=s,si=null)):i=null,i===null)throw Eo(s);return s.lanes=536870912,null}return pd(s,u)}var v=i.memoizedState;if(v!==null){var C=v.dehydrated;if(Vn(s),g)if(s.flags&256)s.flags&=-257,s=R2(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(ir||Co(i,s,l,!1),g=(l&i.childLanes)!==0,ir||g){if(u=oi,u!==null&&(C=xr(u,l),C!==0&&C!==v.retryLane))throw v.retryLane=C,Wa(i,C),$s(u,i,C),Rm;Ed(),s=R2(i,s,l)}else i=v.treeContext,si=Da(C.nextSibling),gr=s,pn=!0,Xr=null,bi=!1,i!==null&&rd(s,i),s=pd(s,u),s.flags|=4096;return s}return i=Ms(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function md(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function Lm(i,s,l,u,g){return Io(s),l=Fh(i,s,l,u,void 0,g),u=zh(),i!==null&&!ir?(qh(i,s,g),fl(i,s,g)):(pn&&u&&jh(s),s.flags|=1,Wr(i,s,l,g),s.child)}function L2(i,s,l,u,g,v){return Io(s),s.updateQueue=null,l=Za(s,u,l,g),Cc(i),u=zh(),i!==null&&!ir?(qh(i,s,v),fl(i,s,v)):(pn&&u&&jh(s),s.flags|=1,Wr(i,s,l,v),s.child)}function k2(i,s,l,u,g){if(Io(s),s.stateNode===null){var v=mr,C=l.contextType;typeof C=="object"&&C!==null&&(v=vr(C)),v=new l(u,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Cm,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=u,v.state=s.memoizedState,v.refs={},Zt(s),C=l.contextType,v.context=typeof C=="object"&&C!==null?vr(C):mr,v.state=s.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(Nm(s,l,C,u),v.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(C=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),C!==v.state&&Cm.enqueueReplaceState(v,v.state,null),Pi(s,u,v,g),ti(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){v=s.stateNode;var G=s.memoizedProps,ct=zu(l,G);v.props=ct;var It=v.context,zt=l.contextType;C=mr,typeof zt=="object"&&zt!==null&&(C=vr(zt));var Gt=l.getDerivedStateFromProps;zt=typeof Gt=="function"||typeof v.getSnapshotBeforeUpdate=="function",G=s.pendingProps!==G,zt||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(G||It!==C)&&v2(s,v,u,C),ae=!1;var Dt=s.memoizedState;v.state=Dt,Pi(s,u,v,g),ti(),It=s.memoizedState,G||Dt!==It||ae?(typeof Gt=="function"&&(Nm(s,l,Gt,u),It=s.memoizedState),(ct=ae||y2(s,l,ct,u,Dt,It,C))?(zt||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=It),v.props=u,v.state=It,v.context=C,u=ct):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{v=s.stateNode,hi(i,s),C=s.memoizedProps,zt=zu(l,C),v.props=zt,Gt=s.pendingProps,Dt=v.context,It=l.contextType,ct=mr,typeof It=="object"&&It!==null&&(ct=vr(It)),G=l.getDerivedStateFromProps,(It=typeof G=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==Gt||Dt!==ct)&&v2(s,v,u,ct),ae=!1,Dt=s.memoizedState,v.state=Dt,Pi(s,u,v,g),ti();var Ot=s.memoizedState;C!==Gt||Dt!==Ot||ae||i!==null&&i.dependencies!==null&&xc(i.dependencies)?(typeof G=="function"&&(Nm(s,l,G,u),Ot=s.memoizedState),(zt=ae||y2(s,l,zt,u,Dt,Ot,ct)||i!==null&&i.dependencies!==null&&xc(i.dependencies))?(It||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,Ot,ct),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,Ot,ct)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===i.memoizedProps&&Dt===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&Dt===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Ot),v.props=u,v.state=Ot,v.context=ct,u=zt):(typeof v.componentDidUpdate!="function"||C===i.memoizedProps&&Dt===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&Dt===i.memoizedState||(s.flags|=1024),u=!1)}return v=u,md(i,s),u=(s.flags&128)!==0,v||u?(v=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,i!==null&&u?(s.child=ai(s,i.child,null,g),s.child=ai(s,null,l,g)):Wr(i,s,l,g),s.memoizedState=v.state,i=s.child):i=fl(i,s,g),i}function D2(i,s,l,u){return ol(),s.flags|=256,Wr(i,s,l,u),s.child}var km={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dm(i){return{baseLanes:i,cachePool:nt()}}function Om(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=ca),i}function O2(i,s,l){var u=s.pendingProps,g=!1,v=(s.flags&128)!==0,C;if((C=v)||(C=i!==null&&i.memoizedState===null?!1:(xn.current&2)!==0),C&&(g=!0,s.flags&=-129),C=(s.flags&32)!==0,s.flags&=-33,i===null){if(pn){if(g?Ii(s):Ui(),(i=si)?(i=z5(i,bi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:xo!==null?{id:Bs,overflow:Fs}:null,retryLane:536870912,hydrationErrors:null},l=bc(i),l.return=s,s.child=l,gr=s,si=null)):i=null,i===null)throw Eo(s);return gg(i)?s.lanes=32:s.lanes=536870912,null}var G=u.children;return u=u.fallback,g?(Ui(),g=s.mode,G=gd({mode:"hidden",children:G},g),u=So(u,g,l,null),G.return=s,u.return=s,G.sibling=u,s.child=G,u=s.child,u.memoizedState=Dm(l),u.childLanes=Om(i,C,l),s.memoizedState=km,Qh(null,u)):(Ii(s),Pm(s,G))}var ct=i.memoizedState;if(ct!==null&&(G=ct.dehydrated,G!==null)){if(v)s.flags&256?(Ii(s),s.flags&=-257,s=Mm(i,s,l)):s.memoizedState!==null?(Ui(),s.child=i.child,s.flags|=128,s=null):(Ui(),G=u.fallback,g=s.mode,u=gd({mode:"visible",children:u.children},g),G=So(G,g,l,null),G.flags|=2,u.return=s,G.return=s,u.sibling=G,s.child=u,ai(s,i.child,null,l),u=s.child,u.memoizedState=Dm(l),u.childLanes=Om(i,C,l),s.memoizedState=km,s=Qh(null,u));else if(Ii(s),gg(G)){if(C=G.nextSibling&&G.nextSibling.dataset,C)var It=C.dgst;C=It,u=Error(r(419)),u.stack="",u.digest=C,zl({value:u,source:null,stack:null}),s=Mm(i,s,l)}else if(ir||Co(i,s,l,!1),C=(l&i.childLanes)!==0,ir||C){if(C=oi,C!==null&&(u=xr(C,l),u!==0&&u!==ct.retryLane))throw ct.retryLane=u,Wa(i,u),$s(C,i,u),Rm;mg(G)||Ed(),s=Mm(i,s,l)}else mg(G)?(s.flags|=192,s.child=i.child,s=null):(i=ct.treeContext,si=Da(G.nextSibling),gr=s,pn=!0,Xr=null,bi=!1,i!==null&&rd(s,i),s=Pm(s,u.children),s.flags|=4096);return s}return g?(Ui(),G=u.fallback,g=s.mode,ct=i.child,It=ct.sibling,u=Ms(ct,{mode:"hidden",children:u.children}),u.subtreeFlags=ct.subtreeFlags&65011712,It!==null?G=Ms(It,G):(G=So(G,g,l,null),G.flags|=2),G.return=s,u.return=s,u.sibling=G,s.child=u,Qh(null,u),u=s.child,G=i.child.memoizedState,G===null?G=Dm(l):(g=G.cachePool,g!==null?(ct=Ci._currentValue,g=g.parent!==ct?{parent:ct,pool:ct}:g):g=nt(),G={baseLanes:G.baseLanes|l,cachePool:g}),u.memoizedState=G,u.childLanes=Om(i,C,l),s.memoizedState=km,Qh(i.child,u)):(Ii(s),l=i.child,i=l.sibling,l=Ms(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,i!==null&&(C=s.deletions,C===null?(s.deletions=[i],s.flags|=16):C.push(i)),s.child=l,s.memoizedState=null,l)}function Pm(i,s){return s=gd({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function gd(i,s){return i=kr(22,i,null,s),i.lanes=0,i}function Mm(i,s,l){return ai(s,i.child,null,l),i=Pm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function P2(i,s,l){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),ql(i.return,s,l)}function jm(i,s,l,u,g,v){var C=i.memoizedState;C===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:v}:(C.isBackwards=s,C.rendering=null,C.renderingStartTime=0,C.last=u,C.tail=l,C.tailMode=g,C.treeForkCount=v)}function M2(i,s,l){var u=s.pendingProps,g=u.revealOrder,v=u.tail;u=u.children;var C=xn.current,G=(C&2)!==0;if(G?(C=C&1|2,s.flags|=128):C&=1,$(xn,C),Wr(i,s,u,l),u=pn?ju:0,!G&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&P2(i,l,s);else if(i.tag===19)P2(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(l=s.child,g=null;l!==null;)i=l.alternate,i!==null&&Or(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),jm(s,!1,g,l,v,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&Or(i)===null){s.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}jm(s,!0,l,null,v,u);break;case"together":jm(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function fl(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Wl|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Co(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=Ms(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Ms(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Um(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&xc(i)))}function J3(i,s,l){switch(s.tag){case 3:Rt(s,s.stateNode.containerInfo),No(s,Ci,i.memoizedState.cache),ol();break;case 27:case 5:Bt(s);break;case 4:Rt(s,s.stateNode.containerInfo);break;case 10:No(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Vn(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Ii(s),s.flags|=128,null):(l&s.child.childLanes)!==0?O2(i,s,l):(Ii(s),i=fl(i,s,l),i!==null?i.sibling:null);Ii(s);break;case 19:var g=(i.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(Co(i,s,l,!1),u=(l&s.childLanes)!==0),g){if(u)return M2(i,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),$(xn,xn.current),u)break;return null;case 22:return s.lanes=0,C2(i,s,l,s.pendingProps);case 24:No(s,Ci,i.memoizedState.cache)}return fl(i,s,l)}function j2(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)ir=!0;else{if(!Um(i,l)&&(s.flags&128)===0)return ir=!1,J3(i,s,l);ir=(i.flags&131072)!==0}else ir=!1,pn&&(s.flags&1048576)!==0&&id(s,ju,s.index);switch(s.lanes=0,s.tag){case 16:t:{var u=s.pendingProps;if(i=Et(s.elementType),s.type=i,typeof i=="function")vc(i)?(u=zu(i,u),s.tag=1,s=k2(null,s,i,u,l)):(s.tag=0,s=Lm(null,s,i,u,l));else{if(i!=null){var g=i.$$typeof;if(g===st){s.tag=11,s=E2(null,s,i,u,l);break t}else if(g===z){s.tag=14,s=T2(null,s,i,u,l);break t}}throw s=rt(i)||i,Error(r(306,s,""))}}return s;case 0:return Lm(i,s,s.type,s.pendingProps,l);case 1:return u=s.type,g=zu(u,s.pendingProps),k2(i,s,u,g,l);case 3:t:{if(Rt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var v=s.memoizedState;g=v.element,hi(i,s),Pi(s,u,null,l);var C=s.memoizedState;if(u=C.cache,No(s,Ci,u),u!==v.cache&&ll(s,[Ci],l,!0),ti(),u=C.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:C.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=D2(i,s,u,l);break t}else if(u!==g){g=js(Error(r(424)),s),zl(g),s=D2(i,s,u,l);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(si=Da(i.firstChild),gr=s,pn=!0,Xr=null,bi=!0,l=Ze(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ol(),u===g){s=fl(i,s,l);break t}Wr(i,s,u,l)}s=s.child}return s;case 26:return md(i,s),i===null?(l=$5(s.type,null,s.pendingProps,null))?s.memoizedState=l:pn||(l=s.type,i=s.pendingProps,u=kd(ut.current).createElement(l),u[Dn]=s,u[Hn]=i,Jr(u,l,i),ci(u),s.stateNode=u):s.memoizedState=$5(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Bt(s),i===null&&pn&&(u=s.stateNode=G5(s.type,s.pendingProps,ut.current),gr=s,bi=!0,g=si,nu(s.type)?(yg=g,si=Da(u.firstChild)):si=g),Wr(i,s,s.pendingProps.children,l),md(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&pn&&((g=u=si)&&(u=CA(u,s.type,s.pendingProps,bi),u!==null?(s.stateNode=u,gr=s,si=Da(u.firstChild),bi=!1,g=!0):g=!1),g||Eo(s)),Bt(s),g=s.type,v=s.pendingProps,C=i!==null?i.memoizedProps:null,u=v.children,fg(g,v)?u=null:C!==null&&fg(g,C)&&(s.flags|=32),s.memoizedState!==null&&(g=Fh(i,s,bm,null,null,l),ff._currentValue=g),md(i,s),Wr(i,s,u,l),s.child;case 6:return i===null&&pn&&((i=l=si)&&(l=IA(l,s.pendingProps,bi),l!==null?(s.stateNode=l,gr=s,si=null,i=!0):i=!1),i||Eo(s)),null;case 13:return O2(i,s,l);case 4:return Rt(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=ai(s,null,u,l):Wr(i,s,u,l),s.child;case 11:return E2(i,s,s.type,s.pendingProps,l);case 7:return Wr(i,s,s.pendingProps,l),s.child;case 8:return Wr(i,s,s.pendingProps.children,l),s.child;case 12:return Wr(i,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,No(s,s.type,u.value),Wr(i,s,u.children,l),s.child;case 9:return g=s.type._context,u=s.pendingProps.children,Io(s),g=vr(g),u=u(g),s.flags|=1,Wr(i,s,u,l),s.child;case 14:return T2(i,s,s.type,s.pendingProps,l);case 15:return N2(i,s,s.type,s.pendingProps,l);case 19:return M2(i,s,l);case 31:return W3(i,s,l);case 22:return C2(i,s,l,s.pendingProps);case 24:return Io(s),u=vr(Ci),i===null?(g=X(),g===null&&(g=oi,v=Hl(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=l),g=v),s.memoizedState={parent:u,cache:g},Zt(s),No(s,Ci,g)):((i.lanes&l)!==0&&(hi(i,s),Pi(s,null,null,l),ti()),g=i.memoizedState,v=s.memoizedState,g.parent!==u?(g={parent:u,cache:u},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),No(s,Ci,u)):(u=v.cache,No(s,Ci,u),u!==g.cache&&ll(s,[Ci],l,!0))),Wr(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function dl(i){i.flags|=4}function Vm(i,s,l,u,g){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(c5())i.flags|=8192;else throw Pt=yt,Tt}else i.flags&=-16777217}function U2(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Z5(s))if(c5())i.flags|=8192;else throw Pt=yt,Tt}function yd(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Cs():536870912,i.lanes|=s,Vc|=s)}function Wh(i,s){if(!pn)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function pi(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(s)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=u,i.childLanes=l,s}function Z3(i,s,l){var u=s.pendingProps;switch(Ac(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pi(s),null;case 1:return pi(s),null;case 3:return l=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),zs(Ci),Ct(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(yr(s)?dl(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Vh())),pi(s),null;case 26:var g=s.type,v=s.memoizedState;return i===null?(dl(s),v!==null?(pi(s),U2(s,v)):(pi(s),Vm(s,g,null,u,l))):v?v!==i.memoizedState?(dl(s),pi(s),U2(s,v)):(pi(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&dl(s),pi(s),Vm(s,g,i,u,l)),null;case 27:if(Xt(s),l=ut.current,g=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&dl(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return pi(s),null}i=Z.current,yr(s)?Uh(s):(i=G5(g,u,l),s.stateNode=i,dl(s))}return pi(s),null;case 5:if(Xt(s),g=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&dl(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return pi(s),null}if(v=Z.current,yr(s))Uh(s);else{var C=kd(ut.current);switch(v){case 1:v=C.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:v=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":v=C.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":v=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":v=C.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof u.is=="string"?C.createElement("select",{is:u.is}):C.createElement("select"),u.multiple?v.multiple=!0:u.size&&(v.size=u.size);break;default:v=typeof u.is=="string"?C.createElement(g,{is:u.is}):C.createElement(g)}}v[Dn]=s,v[Hn]=u;t:for(C=s.child;C!==null;){if(C.tag===5||C.tag===6)v.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===s)break t;for(;C.sibling===null;){if(C.return===null||C.return===s)break t;C=C.return}C.sibling.return=C.return,C=C.sibling}s.stateNode=v;t:switch(Jr(v,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&dl(s)}}return pi(s),Vm(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&dl(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=ut.current,yr(s)){if(i=s.stateNode,l=s.memoizedProps,u=null,g=gr,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}i[Dn]=s,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||O5(i.nodeValue,l)),i||Eo(s,!0)}else i=kd(i).createTextNode(u),i[Dn]=s,s.stateNode=i}return pi(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(u=yr(s),l!==null){if(i===null){if(!u)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Dn]=s}else ol(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pi(s),i=!1}else l=Vh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(Yn(s),s):(Yn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return pi(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=yr(s),u!==null&&u.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Dn]=s}else ol(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pi(s),g=!1}else g=Vh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Yn(s),s):(Yn(s),null)}return Yn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=u!==null,i=i!==null&&i.memoizedState!==null,l&&(u=s.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==g&&(u.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),yd(s,s.updateQueue),pi(s),null);case 4:return Ct(),i===null&&og(s.stateNode.containerInfo),pi(s),null;case 10:return zs(s.type),pi(s),null;case 19:if(k(xn),u=s.memoizedState,u===null)return pi(s),null;if(g=(s.flags&128)!==0,v=u.rendering,v===null)if(g)Wh(u,!1);else{if(Bi!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(v=Or(i),v!==null){for(s.flags|=128,Wh(u,!1),i=v.updateQueue,s.updateQueue=i,yd(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)Pu(l,i),l=l.sibling;return $(xn,xn.current&1|2),pn&&Ns(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&Ke()>Ad&&(s.flags|=128,g=!0,Wh(u,!1),s.lanes=4194304)}else{if(!g)if(i=Or(v),i!==null){if(s.flags|=128,g=!0,i=i.updateQueue,s.updateQueue=i,yd(s,i),Wh(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!pn)return pi(s),null}else 2*Ke()-u.renderingStartTime>Ad&&l!==536870912&&(s.flags|=128,g=!0,Wh(u,!1),s.lanes=4194304);u.isBackwards?(v.sibling=s.child,s.child=v):(i=u.last,i!==null?i.sibling=v:s.child=v,u.last=v)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Ke(),i.sibling=null,l=xn.current,$(xn,g?l&1|2:l&1),pn&&Ns(s,u.treeForkCount),i):(pi(s),null);case 22:case 23:return Yn(s),Yi(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(pi(s),s.subtreeFlags&6&&(s.flags|=8192)):pi(s),l=s.updateQueue,l!==null&&yd(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),i!==null&&k(F),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),zs(Ci),pi(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function tA(i,s){switch(Ac(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return zs(Ci),Ct(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Xt(s),null;case 31:if(s.memoizedState!==null){if(Yn(s),s.alternate===null)throw Error(r(340));ol()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Yn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ol()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return k(xn),null;case 4:return Ct(),null;case 10:return zs(s.type),null;case 22:case 23:return Yn(s),Yi(),i!==null&&k(F),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return zs(Ci),null;case 25:return null;default:return null}}function V2(i,s){switch(Ac(s),s.tag){case 3:zs(Ci),Ct();break;case 26:case 27:case 5:Xt(s);break;case 4:Ct();break;case 31:s.memoizedState!==null&&Yn(s);break;case 13:Yn(s);break;case 19:k(xn);break;case 10:zs(s.type);break;case 22:case 23:Yn(s),Yi(),i!==null&&k(F);break;case 24:zs(Ci)}}function Jh(i,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&i)===i){u=void 0;var v=l.create,C=l.inst;u=v(),C.destroy=u}l=l.next}while(l!==g)}}catch(G){$n(s,s.return,G)}}function Xl(i,s,l){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var v=g.next;u=v;do{if((u.tag&i)===i){var C=u.inst,G=C.destroy;if(G!==void 0){C.destroy=void 0,g=s;var ct=l,It=G;try{It()}catch(zt){$n(g,ct,zt)}}}u=u.next}while(u!==v)}}catch(zt){$n(s,s.return,zt)}}function B2(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{Mi(s,l)}catch(u){$n(i,i.return,u)}}}function F2(i,s,l){l.props=zu(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){$n(i,s,u)}}function Zh(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof l=="function"?i.refCleanup=l(u):l.current=u}}catch(g){$n(i,s,g)}}function Oo(i,s){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){$n(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){$n(i,s,g)}else l.current=null}function z2(i){var s=i.type,l=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){$n(i,i.return,g)}}function Bm(i,s,l){try{var u=i.stateNode;AA(u,i.type,l,s),u[Hn]=s}catch(g){$n(i,i.return,g)}}function q2(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&nu(i.type)||i.tag===4}function Fm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||q2(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&nu(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function zm(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=_s));else if(u!==4&&(u===27&&nu(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(zm(i,s,l),i=i.sibling;i!==null;)zm(i,s,l),i=i.sibling}function vd(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(u!==4&&(u===27&&nu(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(vd(i,s,l),i=i.sibling;i!==null;)vd(i,s,l),i=i.sibling}function H2(i){var s=i.stateNode,l=i.memoizedProps;try{for(var u=i.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Jr(s,u,l),s[Dn]=i,s[Hn]=l}catch(v){$n(i,i.return,v)}}var pl=!1,rr=!1,qm=!1,G2=typeof WeakSet=="function"?WeakSet:Set,Pr=null;function eA(i,s){if(i=i.containerInfo,cg=Vd,i=Xa(i),Ca(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break t}var C=0,G=-1,ct=-1,It=0,zt=0,Gt=i,Dt=null;e:for(;;){for(var Ot;Gt!==l||g!==0&&Gt.nodeType!==3||(G=C+g),Gt!==v||u!==0&&Gt.nodeType!==3||(ct=C+u),Gt.nodeType===3&&(C+=Gt.nodeValue.length),(Ot=Gt.firstChild)!==null;)Dt=Gt,Gt=Ot;for(;;){if(Gt===i)break e;if(Dt===l&&++It===g&&(G=C),Dt===v&&++zt===u&&(ct=C),(Ot=Gt.nextSibling)!==null)break;Gt=Dt,Dt=Gt.parentNode}Gt=Ot}l=G===-1||ct===-1?null:{start:G,end:ct}}else l=null}l=l||{start:0,end:0}}else l=null;for(hg={focusedElem:i,selectionRange:l},Vd=!1,Pr=s;Pr!==null;)if(s=Pr,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Pr=i;else for(;Pr!==null;){switch(s=Pr,v=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)g=i[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,l=s,g=v.memoizedProps,v=v.memoizedState,u=l.stateNode;try{var fe=zu(l.type,g);i=u.getSnapshotBeforeUpdate(fe,v),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ve){$n(l,l.return,Ve)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)pg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":pg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Pr=i;break}Pr=s.return}}function Y2(i,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:gl(i,l),u&4&&Jh(5,l);break;case 1:if(gl(i,l),u&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(C){$n(l,l.return,C)}else{var g=zu(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(C){$n(l,l.return,C)}}u&64&&B2(l),u&512&&Zh(l,l.return);break;case 3:if(gl(i,l),u&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Mi(i,s)}catch(C){$n(l,l.return,C)}}break;case 27:s===null&&u&4&&H2(l);case 26:case 5:gl(i,l),s===null&&u&4&&z2(l),u&512&&Zh(l,l.return);break;case 12:gl(i,l);break;case 31:gl(i,l),u&4&&X2(i,l);break;case 13:gl(i,l),u&4&&Q2(i,l),u&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=cA.bind(null,l),RA(i,l))));break;case 22:if(u=l.memoizedState!==null||pl,!u){s=s!==null&&s.memoizedState!==null||rr,g=pl;var v=rr;pl=u,(rr=s)&&!v?yl(i,l,(l.subtreeFlags&8772)!==0):gl(i,l),pl=g,rr=v}break;case 30:break;default:gl(i,l)}}function K2(i){var s=i.alternate;s!==null&&(i.alternate=null,K2(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Zs(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ai=null,Hs=!1;function ml(i,s,l){for(l=l.child;l!==null;)$2(i,s,l),l=l.sibling}function $2(i,s,l){if(Ee&&typeof Ee.onCommitFiberUnmount=="function")try{Ee.onCommitFiberUnmount(Qe,l)}catch{}switch(l.tag){case 26:rr||Oo(l,s),ml(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:rr||Oo(l,s);var u=Ai,g=Hs;nu(l.type)&&(Ai=l.stateNode,Hs=!1),ml(i,s,l),uf(l.stateNode),Ai=u,Hs=g;break;case 5:rr||Oo(l,s);case 6:if(u=Ai,g=Hs,Ai=null,ml(i,s,l),Ai=u,Hs=g,Ai!==null)if(Hs)try{(Ai.nodeType===9?Ai.body:Ai.nodeName==="HTML"?Ai.ownerDocument.body:Ai).removeChild(l.stateNode)}catch(v){$n(l,s,v)}else try{Ai.removeChild(l.stateNode)}catch(v){$n(l,s,v)}break;case 18:Ai!==null&&(Hs?(i=Ai,B5(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Kc(i)):B5(Ai,l.stateNode));break;case 4:u=Ai,g=Hs,Ai=l.stateNode.containerInfo,Hs=!0,ml(i,s,l),Ai=u,Hs=g;break;case 0:case 11:case 14:case 15:Xl(2,l,s),rr||Xl(4,l,s),ml(i,s,l);break;case 1:rr||(Oo(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&F2(l,s,u)),ml(i,s,l);break;case 21:ml(i,s,l);break;case 22:rr=(u=rr)||l.memoizedState!==null,ml(i,s,l),rr=u;break;default:ml(i,s,l)}}function X2(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Kc(i)}catch(l){$n(s,s.return,l)}}}function Q2(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Kc(i)}catch(l){$n(s,s.return,l)}}function nA(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new G2),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new G2),s;default:throw Error(r(435,i.tag))}}function bd(i,s){var l=nA(i);s.forEach(function(u){if(!l.has(u)){l.add(u);var g=hA.bind(null,i,u);u.then(g,g)}})}function Gs(i,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],v=i,C=s,G=C;t:for(;G!==null;){switch(G.tag){case 27:if(nu(G.type)){Ai=G.stateNode,Hs=!1;break t}break;case 5:Ai=G.stateNode,Hs=!1;break t;case 3:case 4:Ai=G.stateNode.containerInfo,Hs=!0;break t}G=G.return}if(Ai===null)throw Error(r(160));$2(v,C,g),Ai=null,Hs=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)W2(s,i),s=s.sibling}var io=null;function W2(i,s){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Gs(s,i),Ys(i),u&4&&(Xl(3,i,i.return),Jh(3,i),Xl(5,i,i.return));break;case 1:Gs(s,i),Ys(i),u&512&&(rr||l===null||Oo(l,l.return)),u&64&&pl&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=io;if(Gs(s,i),Ys(i),u&512&&(rr||l===null||Oo(l,l.return)),u&4){var v=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){t:{u=i.type,l=i.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":v=g.getElementsByTagName("title")[0],(!v||v[Tr]||v[Dn]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(u),g.head.insertBefore(v,g.querySelector("head > title"))),Jr(v,u,l),v[Dn]=i,ci(v),u=v;break t;case"link":var C=W5("link","href",g).get(u+(l.href||""));if(C){for(var G=0;G<C.length;G++)if(v=C[G],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(G,1);break e}}v=g.createElement(u),Jr(v,u,l),g.head.appendChild(v);break;case"meta":if(C=W5("meta","content",g).get(u+(l.content||""))){for(G=0;G<C.length;G++)if(v=C[G],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(G,1);break e}}v=g.createElement(u),Jr(v,u,l),g.head.appendChild(v);break;default:throw Error(r(468,u))}v[Dn]=i,ci(v),u=v}i.stateNode=u}else J5(g,i.type,i.stateNode);else i.stateNode=Q5(g,u,i.memoizedProps);else v!==u?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,u===null?J5(g,i.type,i.stateNode):Q5(g,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Bm(i,i.memoizedProps,l.memoizedProps)}break;case 27:Gs(s,i),Ys(i),u&512&&(rr||l===null||Oo(l,l.return)),l!==null&&u&4&&Bm(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Gs(s,i),Ys(i),u&512&&(rr||l===null||Oo(l,l.return)),i.flags&32){g=i.stateNode;try{qi(g,"")}catch(fe){$n(i,i.return,fe)}}u&4&&i.stateNode!=null&&(g=i.memoizedProps,Bm(i,g,l!==null?l.memoizedProps:g)),u&1024&&(qm=!0);break;case 6:if(Gs(s,i),Ys(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(fe){$n(i,i.return,fe)}}break;case 3:if(Pd=null,g=io,io=Dd(s.containerInfo),Gs(s,i),io=g,Ys(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Kc(s.containerInfo)}catch(fe){$n(i,i.return,fe)}qm&&(qm=!1,J2(i));break;case 4:u=io,io=Dd(i.stateNode.containerInfo),Gs(s,i),Ys(i),io=u;break;case 12:Gs(s,i),Ys(i);break;case 31:Gs(s,i),Ys(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,bd(i,u)));break;case 13:Gs(s,i),Ys(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(wd=Ke()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,bd(i,u)));break;case 22:g=i.memoizedState!==null;var ct=l!==null&&l.memoizedState!==null,It=pl,zt=rr;if(pl=It||g,rr=zt||ct,Gs(s,i),rr=zt,pl=It,Ys(i),u&8192)t:for(s=i.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||ct||pl||rr||qu(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){ct=l=s;try{if(v=ct.stateNode,g)C=v.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{G=ct.stateNode;var Gt=ct.memoizedProps.style,Dt=Gt!=null&&Gt.hasOwnProperty("display")?Gt.display:null;G.style.display=Dt==null||typeof Dt=="boolean"?"":(""+Dt).trim()}}catch(fe){$n(ct,ct.return,fe)}}}else if(s.tag===6){if(l===null){ct=s;try{ct.stateNode.nodeValue=g?"":ct.memoizedProps}catch(fe){$n(ct,ct.return,fe)}}}else if(s.tag===18){if(l===null){ct=s;try{var Ot=ct.stateNode;g?F5(Ot,!0):F5(ct.stateNode,!1)}catch(fe){$n(ct,ct.return,fe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,bd(i,l))));break;case 19:Gs(s,i),Ys(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,bd(i,u)));break;case 30:break;case 21:break;default:Gs(s,i),Ys(i)}}function Ys(i){var s=i.flags;if(s&2){try{for(var l,u=i.return;u!==null;){if(q2(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,v=Fm(i);vd(i,v,g);break;case 5:var C=l.stateNode;l.flags&32&&(qi(C,""),l.flags&=-33);var G=Fm(i);vd(i,G,C);break;case 3:case 4:var ct=l.stateNode.containerInfo,It=Fm(i);zm(i,It,ct);break;default:throw Error(r(161))}}catch(zt){$n(i,i.return,zt)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function J2(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;J2(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function gl(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Y2(i,s.alternate,s),s=s.sibling}function qu(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Xl(4,s,s.return),qu(s);break;case 1:Oo(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&F2(s,s.return,l),qu(s);break;case 27:uf(s.stateNode);case 26:case 5:Oo(s,s.return),qu(s);break;case 22:s.memoizedState===null&&qu(s);break;case 30:qu(s);break;default:qu(s)}i=i.sibling}}function yl(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,g=i,v=s,C=v.flags;switch(v.tag){case 0:case 11:case 15:yl(g,v,l),Jh(4,v);break;case 1:if(yl(g,v,l),u=v,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(It){$n(u,u.return,It)}if(u=v,g=u.updateQueue,g!==null){var G=u.stateNode;try{var ct=g.shared.hiddenCallbacks;if(ct!==null)for(g.shared.hiddenCallbacks=null,g=0;g<ct.length;g++)Dr(ct[g],G)}catch(It){$n(u,u.return,It)}}l&&C&64&&B2(v),Zh(v,v.return);break;case 27:H2(v);case 26:case 5:yl(g,v,l),l&&u===null&&C&4&&z2(v),Zh(v,v.return);break;case 12:yl(g,v,l);break;case 31:yl(g,v,l),l&&C&4&&X2(g,v);break;case 13:yl(g,v,l),l&&C&4&&Q2(g,v);break;case 22:v.memoizedState===null&&yl(g,v,l),Zh(v,v.return);break;case 30:break;default:yl(g,v,l)}s=s.sibling}}function Hm(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Uu(l))}function Gm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Uu(i))}function ro(i,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Z2(i,s,l,u),s=s.sibling}function Z2(i,s,l,u){var g=s.flags;switch(s.tag){case 0:case 11:case 15:ro(i,s,l,u),g&2048&&Jh(9,s);break;case 1:ro(i,s,l,u);break;case 3:ro(i,s,l,u),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Uu(i)));break;case 12:if(g&2048){ro(i,s,l,u),i=s.stateNode;try{var v=s.memoizedProps,C=v.id,G=v.onPostCommit;typeof G=="function"&&G(C,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ct){$n(s,s.return,ct)}}else ro(i,s,l,u);break;case 31:ro(i,s,l,u);break;case 13:ro(i,s,l,u);break;case 23:break;case 22:v=s.stateNode,C=s.alternate,s.memoizedState!==null?v._visibility&2?ro(i,s,l,u):tf(i,s):v._visibility&2?ro(i,s,l,u):(v._visibility|=2,Mc(i,s,l,u,(s.subtreeFlags&10256)!==0||!1)),g&2048&&Hm(C,s);break;case 24:ro(i,s,l,u),g&2048&&Gm(s.alternate,s);break;default:ro(i,s,l,u)}}function Mc(i,s,l,u,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var v=i,C=s,G=l,ct=u,It=C.flags;switch(C.tag){case 0:case 11:case 15:Mc(v,C,G,ct,g),Jh(8,C);break;case 23:break;case 22:var zt=C.stateNode;C.memoizedState!==null?zt._visibility&2?Mc(v,C,G,ct,g):tf(v,C):(zt._visibility|=2,Mc(v,C,G,ct,g)),g&&It&2048&&Hm(C.alternate,C);break;case 24:Mc(v,C,G,ct,g),g&&It&2048&&Gm(C.alternate,C);break;default:Mc(v,C,G,ct,g)}s=s.sibling}}function tf(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,u=s,g=u.flags;switch(u.tag){case 22:tf(l,u),g&2048&&Hm(u.alternate,u);break;case 24:tf(l,u),g&2048&&Gm(u.alternate,u);break;default:tf(l,u)}s=s.sibling}}var ef=8192;function jc(i,s,l){if(i.subtreeFlags&ef)for(i=i.child;i!==null;)t5(i,s,l),i=i.sibling}function t5(i,s,l){switch(i.tag){case 26:jc(i,s,l),i.flags&ef&&i.memoizedState!==null&&zA(l,io,i.memoizedState,i.memoizedProps);break;case 5:jc(i,s,l);break;case 3:case 4:var u=io;io=Dd(i.stateNode.containerInfo),jc(i,s,l),io=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=ef,ef=16777216,jc(i,s,l),ef=u):jc(i,s,l));break;default:jc(i,s,l)}}function e5(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function nf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Pr=u,i5(u,i)}e5(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)n5(i),i=i.sibling}function n5(i){switch(i.tag){case 0:case 11:case 15:nf(i),i.flags&2048&&Xl(9,i,i.return);break;case 3:nf(i);break;case 12:nf(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,_d(i)):nf(i);break;default:nf(i)}}function _d(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Pr=u,i5(u,i)}e5(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Xl(8,s,s.return),_d(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,_d(s));break;default:_d(s)}i=i.sibling}}function i5(i,s){for(;Pr!==null;){var l=Pr;switch(l.tag){case 0:case 11:case 15:Xl(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Uu(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Pr=u;else t:for(l=i;Pr!==null;){u=Pr;var g=u.sibling,v=u.return;if(K2(u),u===l){Pr=null;break t}if(g!==null){g.return=v,Pr=g;break t}Pr=v}}}var iA={getCacheForType:function(i){var s=vr(Ci),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return vr(Ci).controller.signal}},rA=typeof WeakMap=="function"?WeakMap:Map,Bn=0,oi=null,mn=null,vn=0,Kn=0,ua=null,Ql=!1,Uc=!1,Ym=!1,vl=0,Bi=0,Wl=0,Hu=0,Km=0,ca=0,Vc=0,rf=null,Ks=null,$m=!1,wd=0,r5=0,Ad=1/0,Sd=null,Jl=null,_r=0,Zl=null,Bc=null,bl=0,Xm=0,Qm=null,s5=null,sf=0,Wm=null;function ha(){return(Bn&2)!==0&&vn!==0?vn&-vn:it.T!==null?ig():ki()}function a5(){if(ca===0)if((vn&536870912)===0||pn){var i=kn;kn<<=1,(kn&3932160)===0&&(kn=262144),ca=i}else ca=536870912;return i=di.current,i!==null&&(i.flags|=32),ca}function $s(i,s,l){(i===oi&&(Kn===2||Kn===9)||i.cancelPendingCommit!==null)&&(Fc(i,0),tu(i,vn,ca,!1)),Se(i,l),((Bn&2)===0||i!==oi)&&(i===oi&&((Bn&2)===0&&(Hu|=l),Bi===4&&tu(i,vn,ca,!1)),Po(i))}function o5(i,s,l){if((Bn&6)!==0)throw Error(r(327));var u=!l&&(s&127)===0&&(s&i.expiredLanes)===0||lr(i,s),g=u?oA(i,s):Zm(i,s,!0),v=u;do{if(g===0){Uc&&!u&&tu(i,s,0,!1);break}else{if(l=i.current.alternate,v&&!sA(l)){g=Zm(i,s,!1),v=!1;continue}if(g===2){if(v=s,i.errorRecoveryDisabledLanes&v)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){s=C;t:{var G=i;g=rf;var ct=G.current.memoizedState.isDehydrated;if(ct&&(Fc(G,C).flags|=256),C=Zm(G,C,!1),C!==2){if(Ym&&!ct){G.errorRecoveryDisabledLanes|=v,Hu|=v,g=4;break t}v=Ks,Ks=g,v!==null&&(Ks===null?Ks=v:Ks.push.apply(Ks,v))}g=C}if(v=!1,g!==2)continue}}if(g===1){Fc(i,0),tu(i,s,0,!0);break}t:{switch(u=i,v=g,v){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:tu(u,s,ca,!Ql);break t;case 2:Ks=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=wd+300-Ke(),10<g)){if(tu(u,s,ca,!Ql),an(u,0,!0)!==0)break t;bl=s,u.timeoutHandle=U5(l5.bind(null,u,l,Ks,Sd,$m,s,ca,Hu,Vc,Ql,v,"Throttled",-0,0),g);break t}l5(u,l,Ks,Sd,$m,s,ca,Hu,Vc,Ql,v,null,-0,0)}}break}while(!0);Po(i)}function l5(i,s,l,u,g,v,C,G,ct,It,zt,Gt,Dt,Ot){if(i.timeoutHandle=-1,Gt=s.subtreeFlags,Gt&8192||(Gt&16785408)===16785408){Gt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_s},t5(s,v,Gt);var fe=(v&62914560)===v?wd-Ke():(v&4194048)===v?r5-Ke():0;if(fe=qA(Gt,fe),fe!==null){bl=v,i.cancelPendingCommit=fe(g5.bind(null,i,s,v,l,u,g,C,G,ct,zt,Gt,null,Dt,Ot)),tu(i,v,C,!It);return}}g5(i,s,v,l,u,g,C,G,ct)}function sA(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],v=g.getSnapshot;g=g.value;try{if(!pr(v(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function tu(i,s,l,u){s&=~Km,s&=~Hu,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var g=s;0<g;){var v=31-$e(g),C=1<<v;u[v]=-1,g&=~C}l!==0&&Vr(i,l,s)}function xd(){return(Bn&6)===0?(af(0),!1):!0}function Jm(){if(mn!==null){if(Kn===0)var i=mn.return;else i=mn,Ra=To=null,Ic(i),Yt=null,pe=0,i=mn;for(;i!==null;)V2(i.alternate,i),i=i.return;mn=null}}function Fc(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,EA(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),bl=0,Jm(),oi=i,mn=l=Ms(i.current,null),vn=s,Kn=0,ua=null,Ql=!1,Uc=lr(i,s),Ym=!1,Vc=ca=Km=Hu=Wl=Bi=0,Ks=rf=null,$m=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var g=31-$e(u),v=1<<g;s|=i[g],u&=~v}return vl=s,ku(),l}function u5(i,s){Ie=null,it.H=Xh,s===pt||s===tt?(s=qt(),Kn=3):s===Tt?(s=qt(),Kn=4):Kn=s===Rm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ua=s,mn===null&&(Bi=1,dd(i,js(s,i.current)))}function c5(){var i=di.current;return i===null?!0:(vn&4194048)===vn?Tn===null:(vn&62914560)===vn||(vn&536870912)!==0?i===Tn:!1}function h5(){var i=it.H;return it.H=Xh,i===null?Xh:i}function f5(){var i=it.A;return it.A=iA,i}function Ed(){Bi=4,Ql||(vn&4194048)!==vn&&di.current!==null||(Uc=!0),(Wl&134217727)===0&&(Hu&134217727)===0||oi===null||tu(oi,vn,ca,!1)}function Zm(i,s,l){var u=Bn;Bn|=2;var g=h5(),v=f5();(oi!==i||vn!==s)&&(Sd=null,Fc(i,s)),s=!1;var C=Bi;t:do try{if(Kn!==0&&mn!==null){var G=mn,ct=ua;switch(Kn){case 8:Jm(),C=6;break t;case 3:case 2:case 9:case 6:di.current===null&&(s=!0);var It=Kn;if(Kn=0,ua=null,zc(i,G,ct,It),l&&Uc){C=0;break t}break;default:It=Kn,Kn=0,ua=null,zc(i,G,ct,It)}}aA(),C=Bi;break}catch(zt){u5(i,zt)}while(!0);return s&&i.shellSuspendCounter++,Ra=To=null,Bn=u,it.H=g,it.A=v,mn===null&&(oi=null,vn=0,ku()),C}function aA(){for(;mn!==null;)d5(mn)}function oA(i,s){var l=Bn;Bn|=2;var u=h5(),g=f5();oi!==i||vn!==s?(Sd=null,Ad=Ke()+500,Fc(i,s)):Uc=lr(i,s);t:do try{if(Kn!==0&&mn!==null){s=mn;var v=ua;e:switch(Kn){case 1:Kn=0,ua=null,zc(i,s,v,1);break;case 2:case 9:if(xt(v)){Kn=0,ua=null,p5(s);break}s=function(){Kn!==2&&Kn!==9||oi!==i||(Kn=7),Po(i)},v.then(s,s);break t;case 3:Kn=7;break t;case 4:Kn=5;break t;case 7:xt(v)?(Kn=0,ua=null,p5(s)):(Kn=0,ua=null,zc(i,s,v,7));break;case 5:var C=null;switch(mn.tag){case 26:C=mn.memoizedState;case 5:case 27:var G=mn;if(C?Z5(C):G.stateNode.complete){Kn=0,ua=null;var ct=G.sibling;if(ct!==null)mn=ct;else{var It=G.return;It!==null?(mn=It,Td(It)):mn=null}break e}}Kn=0,ua=null,zc(i,s,v,5);break;case 6:Kn=0,ua=null,zc(i,s,v,6);break;case 8:Jm(),Bi=6;break t;default:throw Error(r(462))}}lA();break}catch(zt){u5(i,zt)}while(!0);return Ra=To=null,it.H=u,it.A=g,Bn=l,mn!==null?0:(oi=null,vn=0,ku(),Bi)}function lA(){for(;mn!==null&&!Ne();)d5(mn)}function d5(i){var s=j2(i.alternate,i,vl);i.memoizedProps=i.pendingProps,s===null?Td(i):mn=s}function p5(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=L2(l,s,s.pendingProps,s.type,void 0,vn);break;case 11:s=L2(l,s,s.pendingProps,s.type.render,s.ref,vn);break;case 5:Ic(s);default:V2(l,s),s=mn=Pu(s,vl),s=j2(l,s,vl)}i.memoizedProps=i.pendingProps,s===null?Td(i):mn=s}function zc(i,s,l,u){Ra=To=null,Ic(s),Yt=null,pe=0;var g=s.return;try{if(Q3(i,g,s,l,vn)){Bi=1,dd(i,js(l,i.current)),mn=null;return}}catch(v){if(g!==null)throw mn=g,v;Bi=1,dd(i,js(l,i.current)),mn=null;return}s.flags&32768?(pn||u===1?i=!0:Uc||(vn&536870912)!==0?i=!1:(Ql=i=!0,(u===2||u===9||u===3||u===6)&&(u=di.current,u!==null&&u.tag===13&&(u.flags|=16384))),m5(s,i)):Td(s)}function Td(i){var s=i;do{if((s.flags&32768)!==0){m5(s,Ql);return}i=s.return;var l=Z3(s.alternate,s,vl);if(l!==null){mn=l;return}if(s=s.sibling,s!==null){mn=s;return}mn=s=i}while(s!==null);Bi===0&&(Bi=5)}function m5(i,s){do{var l=tA(i.alternate,i);if(l!==null){l.flags&=32767,mn=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){mn=i;return}mn=i=l}while(i!==null);Bi=6,mn=null}function g5(i,s,l,u,g,v,C,G,ct){i.cancelPendingCommit=null;do Nd();while(_r!==0);if((Bn&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(v=s.lanes|s.childLanes,v|=mc,Js(i,l,v,C,G,ct),i===oi&&(mn=oi=null,vn=0),Bc=s,Zl=i,bl=l,Xm=v,Qm=g,s5=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,fA(Xe,function(){return w5(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=it.T,it.T=null,g=dt.p,dt.p=2,C=Bn,Bn|=4;try{eA(i,s,l)}finally{Bn=C,dt.p=g,it.T=u}}_r=1,y5(),v5(),b5()}}function y5(){if(_r===1){_r=0;var i=Zl,s=Bc,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=it.T,it.T=null;var u=dt.p;dt.p=2;var g=Bn;Bn|=4;try{W2(s,i);var v=hg,C=Xa(i.containerInfo),G=v.focusedElem,ct=v.selectionRange;if(C!==G&&G&&G.ownerDocument&&$a(G.ownerDocument.documentElement,G)){if(ct!==null&&Ca(G)){var It=ct.start,zt=ct.end;if(zt===void 0&&(zt=It),"selectionStart"in G)G.selectionStart=It,G.selectionEnd=Math.min(zt,G.value.length);else{var Gt=G.ownerDocument||document,Dt=Gt&&Gt.defaultView||window;if(Dt.getSelection){var Ot=Dt.getSelection(),fe=G.textContent.length,Ve=Math.min(ct.start,fe),ii=ct.end===void 0?Ve:Math.min(ct.end,fe);!Ot.extend&&Ve>ii&&(C=ii,ii=Ve,Ve=C);var wt=Ul(G,Ve),mt=Ul(G,ii);if(wt&&mt&&(Ot.rangeCount!==1||Ot.anchorNode!==wt.node||Ot.anchorOffset!==wt.offset||Ot.focusNode!==mt.node||Ot.focusOffset!==mt.offset)){var Nt=Gt.createRange();Nt.setStart(wt.node,wt.offset),Ot.removeAllRanges(),Ve>ii?(Ot.addRange(Nt),Ot.extend(mt.node,mt.offset)):(Nt.setEnd(mt.node,mt.offset),Ot.addRange(Nt))}}}}for(Gt=[],Ot=G;Ot=Ot.parentNode;)Ot.nodeType===1&&Gt.push({element:Ot,left:Ot.scrollLeft,top:Ot.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Gt.length;G++){var Ht=Gt[G];Ht.element.scrollLeft=Ht.left,Ht.element.scrollTop=Ht.top}}Vd=!!cg,hg=cg=null}finally{Bn=g,dt.p=u,it.T=l}}i.current=s,_r=2}}function v5(){if(_r===2){_r=0;var i=Zl,s=Bc,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=it.T,it.T=null;var u=dt.p;dt.p=2;var g=Bn;Bn|=4;try{Y2(i,s.alternate,s)}finally{Bn=g,dt.p=u,it.T=l}}_r=3}}function b5(){if(_r===4||_r===3){_r=0,_e();var i=Zl,s=Bc,l=bl,u=s5;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?_r=5:(_r=0,Bc=Zl=null,_5(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Jl=null),Qn(l),s=s.stateNode,Ee&&typeof Ee.onCommitFiberRoot=="function")try{Ee.onCommitFiberRoot(Qe,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=it.T,g=dt.p,dt.p=2,it.T=null;try{for(var v=i.onRecoverableError,C=0;C<u.length;C++){var G=u[C];v(G.value,{componentStack:G.stack})}}finally{it.T=s,dt.p=g}}(bl&3)!==0&&Nd(),Po(i),g=i.pendingLanes,(l&261930)!==0&&(g&42)!==0?i===Wm?sf++:(sf=0,Wm=i):sf=0,af(0)}}function _5(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Uu(s)))}function Nd(){return y5(),v5(),b5(),w5()}function w5(){if(_r!==5)return!1;var i=Zl,s=Xm;Xm=0;var l=Qn(bl),u=it.T,g=dt.p;try{dt.p=32>l?32:l,it.T=null,l=Qm,Qm=null;var v=Zl,C=bl;if(_r=0,Bc=Zl=null,bl=0,(Bn&6)!==0)throw Error(r(331));var G=Bn;if(Bn|=4,n5(v.current),Z2(v,v.current,C,l),Bn=G,af(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot=="function")try{Ee.onPostCommitFiberRoot(Qe,v)}catch{}return!0}finally{dt.p=g,it.T=u,_5(i,s)}}function A5(i,s,l){s=js(l,s),s=Im(i.stateNode,s,2),i=rn(i,s,2),i!==null&&(Se(i,2),Po(i))}function $n(i,s,l){if(i.tag===3)A5(i,i,l);else for(;s!==null;){if(s.tag===3){A5(s,i,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Jl===null||!Jl.has(u))){i=js(l,i),l=S2(2),u=rn(s,l,2),u!==null&&(x2(l,u,s,i),Se(u,2),Po(u));break}}s=s.return}}function tg(i,s,l){var u=i.pingCache;if(u===null){u=i.pingCache=new rA;var g=new Set;u.set(s,g)}else g=u.get(s),g===void 0&&(g=new Set,u.set(s,g));g.has(l)||(Ym=!0,g.add(l),i=uA.bind(null,i,s,l),s.then(i,i))}function uA(i,s,l){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,oi===i&&(vn&l)===l&&(Bi===4||Bi===3&&(vn&62914560)===vn&&300>Ke()-wd?(Bn&2)===0&&Fc(i,0):Km|=l,Vc===vn&&(Vc=0)),Po(i)}function S5(i,s){s===0&&(s=Cs()),i=Wa(i,s),i!==null&&(Se(i,s),Po(i))}function cA(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),S5(i,l)}function hA(i,s){var l=0;switch(i.tag){case 31:case 13:var u=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),S5(i,l)}function fA(i,s){return ne(i,s)}var Cd=null,qc=null,eg=!1,Id=!1,ng=!1,eu=0;function Po(i){i!==qc&&i.next===null&&(qc===null?Cd=qc=i:qc=qc.next=i),Id=!0,eg||(eg=!0,pA())}function af(i,s){if(!ng&&Id){ng=!0;do for(var l=!1,u=Cd;u!==null;){if(i!==0){var g=u.pendingLanes;if(g===0)var v=0;else{var C=u.suspendedLanes,G=u.pingedLanes;v=(1<<31-$e(42|i)+1)-1,v&=g&~(C&~G),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,N5(u,v))}else v=vn,v=an(u,u===oi?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||lr(u,v)||(l=!0,N5(u,v));u=u.next}while(l);ng=!1}}function dA(){x5()}function x5(){Id=eg=!1;var i=0;eu!==0&&xA()&&(i=eu);for(var s=Ke(),l=null,u=Cd;u!==null;){var g=u.next,v=E5(u,s);v===0?(u.next=null,l===null?Cd=g:l.next=g,g===null&&(qc=l)):(l=u,(i!==0||(v&3)!==0)&&(Id=!0)),u=g}_r!==0&&_r!==5||af(i),eu!==0&&(eu=0)}function E5(i,s){for(var l=i.suspendedLanes,u=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var C=31-$e(v),G=1<<C,ct=g[C];ct===-1?((G&l)===0||(G&u)!==0)&&(g[C]=Wi(G,s)):ct<=s&&(i.expiredLanes|=G),v&=~G}if(s=oi,l=vn,l=an(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,l===0||i===s&&(Kn===2||Kn===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&re(u),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||lr(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(u!==null&&re(u),Qn(l)){case 2:case 8:l=sn;break;case 32:l=Xe;break;case 268435456:l=qe;break;default:l=Xe}return u=T5.bind(null,i),l=ne(l,u),i.callbackPriority=s,i.callbackNode=l,s}return u!==null&&u!==null&&re(u),i.callbackPriority=2,i.callbackNode=null,2}function T5(i,s){if(_r!==0&&_r!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Nd()&&i.callbackNode!==l)return null;var u=vn;return u=an(i,i===oi?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(o5(i,u,s),E5(i,Ke()),i.callbackNode!=null&&i.callbackNode===l?T5.bind(null,i):null)}function N5(i,s){if(Nd())return null;o5(i,s,!0)}function pA(){TA(function(){(Bn&6)!==0?ne(Be,dA):x5()})}function ig(){if(eu===0){var i=f;i===0&&(i=Pe,Pe<<=1,(Pe&261888)===0&&(Pe=256)),eu=i}return eu}function C5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Cr(""+i)}function I5(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function mA(i,s,l,u,g){if(s==="submit"&&l&&l.stateNode===g){var v=C5((g[Hn]||null).action),C=u.submitter;C&&(s=(s=C[Hn]||null)?C5(s.formAction):C.getAttribute("formAction"),s!==null&&(v=s,C=null));var G=new tr("action","action",null,u,g);i.push({event:G,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(eu!==0){var ct=C?I5(g,C):new FormData(g);Sm(l,{pending:!0,data:ct,method:g.method,action:v},null,ct)}}else typeof v=="function"&&(G.preventDefault(),ct=C?I5(g,C):new FormData(g),Sm(l,{pending:!0,data:ct,method:g.method,action:v},v,ct))},currentTarget:g}]})}}for(var rg=0;rg<rl.length;rg++){var sg=rl[rg],gA=sg.toLowerCase(),yA=sg[0].toUpperCase()+sg.slice(1);Ps(gA,"on"+yA)}Ps(il,"onAnimationEnd"),Ps(Ru,"onAnimationIteration"),Ps(Oh,"onAnimationStart"),Ps("dblclick","onDoubleClick"),Ps("focusin","onFocus"),Ps("focusout","onBlur"),Ps(td,"onTransitionRun"),Ps(ed,"onTransitionStart"),Ps(nd,"onTransitionCancel"),Ps(Ph,"onTransitionEnd"),bs("onMouseEnter",["mouseout","mouseover"]),bs("onMouseLeave",["mouseout","mouseover"]),bs("onPointerEnter",["pointerout","pointerover"]),bs("onPointerLeave",["pointerout","pointerover"]),rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rs("onBeforeInput",["compositionend","keypress","textInput","paste"]),rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var of="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(of));function R5(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],g=u.event;u=u.listeners;t:{var v=void 0;if(s)for(var C=u.length-1;0<=C;C--){var G=u[C],ct=G.instance,It=G.currentTarget;if(G=G.listener,ct!==v&&g.isPropagationStopped())break t;v=G,g.currentTarget=It;try{v(g)}catch(zt){Lu(zt)}g.currentTarget=null,v=ct}else for(C=0;C<u.length;C++){if(G=u[C],ct=G.instance,It=G.currentTarget,G=G.listener,ct!==v&&g.isPropagationStopped())break t;v=G,g.currentTarget=It;try{v(g)}catch(zt){Lu(zt)}g.currentTarget=null,v=ct}}}}function gn(i,s){var l=s[Er];l===void 0&&(l=s[Er]=new Set);var u=i+"__bubble";l.has(u)||(L5(s,i,2,!1),l.add(u))}function ag(i,s,l){var u=0;s&&(u|=4),L5(l,i,u,s)}var Rd="_reactListening"+Math.random().toString(36).slice(2);function og(i){if(!i[Rd]){i[Rd]=!0,po.forEach(function(l){l!=="selectionchange"&&(vA.has(l)||ag(l,!1,i),ag(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Rd]||(s[Rd]=!0,ag("selectionchange",!1,s))}}function L5(i,s,l,u){switch(ay(s)){case 2:var g=YA;break;case 8:g=KA;break;default:g=Ag}l=g.bind(null,s,l,i),g=void 0,!Fa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),u?g!==void 0?i.addEventListener(s,l,{capture:!0,passive:g}):i.addEventListener(s,l,!0):g!==void 0?i.addEventListener(s,l,{passive:g}):i.addEventListener(s,l,!1)}function lg(i,s,l,u,g){var v=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var C=u.tag;if(C===3||C===4){var G=u.stateNode.containerInfo;if(G===g)break;if(C===4)for(C=u.return;C!==null;){var ct=C.tag;if((ct===3||ct===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;G!==null;){if(C=Br(G),C===null)return;if(ct=C.tag,ct===5||ct===6||ct===26||ct===27){u=v=C;continue t}G=G.parentNode}}u=u.return}_a(function(){var It=v,zt=Ir(l),Gt=[];t:{var Dt=Mh.get(i);if(Dt!==void 0){var Ot=tr,fe=i;switch(i){case"keypress":if(Hr(l)===0)break t;case"keydown":case"keyup":Ot=fn;break;case"focusin":fe="focus",Ot=As;break;case"focusout":fe="blur",Ot=As;break;case"beforeblur":case"afterblur":Ot=As;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ot=_o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ot=Ds;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ot=x;break;case il:case Ru:case Oh:Ot=_;break;case Ph:Ot=Q;break;case"scroll":case"scrollend":Ot=wa;break;case"wheel":Ot=Lt;break;case"copy":case"cut":case"paste":Ot=et;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ot=zn;break;case"toggle":case"beforetoggle":Ot=ze}var Ve=(s&4)!==0,ii=!Ve&&(i==="scroll"||i==="scrollend"),wt=Ve?Dt!==null?Dt+"Capture":null:Dt;Ve=[];for(var mt=It,Nt;mt!==null;){var Ht=mt;if(Nt=Ht.stateNode,Ht=Ht.tag,Ht!==5&&Ht!==26&&Ht!==27||Nt===null||wt===null||(Ht=Hi(mt,wt),Ht!=null&&Ve.push(lf(mt,Ht,Nt))),ii)break;mt=mt.return}0<Ve.length&&(Dt=new Ot(Dt,fe,null,l,zt),Gt.push({event:Dt,listeners:Ve}))}}if((s&7)===0){t:{if(Dt=i==="mouseover"||i==="pointerover",Ot=i==="mouseout"||i==="pointerout",Dt&&l!==ia&&(fe=l.relatedTarget||l.fromElement)&&(Br(fe)||fe[Di]))break t;if((Ot||Dt)&&(Dt=zt.window===zt?zt:(Dt=zt.ownerDocument)?Dt.defaultView||Dt.parentWindow:window,Ot?(fe=l.relatedTarget||l.toElement,Ot=It,fe=fe?Br(fe):null,fe!==null&&(ii=o(fe),Ve=fe.tag,fe!==ii||Ve!==5&&Ve!==27&&Ve!==6)&&(fe=null)):(Ot=null,fe=It),Ot!==fe)){if(Ve=_o,Ht="onMouseLeave",wt="onMouseEnter",mt="mouse",(i==="pointerout"||i==="pointerover")&&(Ve=zn,Ht="onPointerLeave",wt="onPointerEnter",mt="pointer"),ii=Ot==null?Dt:Fr(Ot),Nt=fe==null?Dt:Fr(fe),Dt=new Ve(Ht,mt+"leave",Ot,l,zt),Dt.target=ii,Dt.relatedTarget=Nt,Ht=null,Br(zt)===It&&(Ve=new Ve(wt,mt+"enter",fe,l,zt),Ve.target=Nt,Ve.relatedTarget=ii,Ht=Ve),ii=Ht,Ot&&fe)e:{for(Ve=bA,wt=Ot,mt=fe,Nt=0,Ht=wt;Ht;Ht=Ve(Ht))Nt++;Ht=0;for(var De=mt;De;De=Ve(De))Ht++;for(;0<Nt-Ht;)wt=Ve(wt),Nt--;for(;0<Ht-Nt;)mt=Ve(mt),Ht--;for(;Nt--;){if(wt===mt||mt!==null&&wt===mt.alternate){Ve=wt;break e}wt=Ve(wt),mt=Ve(mt)}Ve=null}else Ve=null;Ot!==null&&k5(Gt,Dt,Ot,Ve,!1),fe!==null&&ii!==null&&k5(Gt,ii,fe,Ve,!0)}}t:{if(Dt=It?Fr(It):window,Ot=Dt.nodeName&&Dt.nodeName.toLowerCase(),Ot==="select"||Ot==="input"&&Dt.type==="file")var Mn=Ao;else if(Cu(Dt))if(os)Mn=Ta;else{Mn=Ti;var be=Ml}else Ot=Dt.nodeName,!Ot||Ot.toLowerCase()!=="input"||Dt.type!=="checkbox"&&Dt.type!=="radio"?It&&yo(It.elementType)&&(Mn=Ao):Mn=pc;if(Mn&&(Mn=Mn(i,It))){xs(Gt,Mn,l,zt);break t}be&&be(i,Dt,It),i==="focusout"&&It&&Dt.type==="number"&&It.memoizedProps.value!=null&&Qo(Dt,"number",Dt.value)}switch(be=It?Fr(It):window,i){case"focusin":(Cu(be)||be.contentEditable==="true")&&(Es=be,Qa=It,Rr=null);break;case"focusout":Rr=Qa=Es=null;break;case"mousedown":Os=!0;break;case"contextmenu":case"mouseup":case"dragend":Os=!1,Rn(Gt,l,zt);break;case"selectionchange":if(nl)break;case"keydown":case"keyup":Rn(Gt,l,zt)}var on;if(ln)t:{switch(i){case"compositionstart":var bn="onCompositionStart";break t;case"compositionend":bn="onCompositionEnd";break t;case"compositionupdate":bn="onCompositionUpdate";break t}bn=void 0}else Sa?Ss(i,l)&&(bn="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(bn="onCompositionStart");bn&&(fr&&l.locale!=="ko"&&(Sa||bn!=="onCompositionStart"?bn==="onCompositionEnd"&&Sa&&(on=tl()):(qr=zt,za="value"in qr?qr.value:qr.textContent,Sa=!0)),be=Ld(It,bn),0<be.length&&(bn=new bt(bn,i,null,l,zt),Gt.push({event:bn,listeners:be}),on?bn.data=on:(on=Aa(l),on!==null&&(bn.data=on)))),(on=er?Kr(i,l):Ha(i,l))&&(bn=Ld(It,"onBeforeInput"),0<bn.length&&(be=new bt("onBeforeInput","beforeinput",null,l,zt),Gt.push({event:be,listeners:bn}),be.data=on)),mA(Gt,i,It,l,zt)}R5(Gt,s)})}function lf(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Ld(i,s){for(var l=s+"Capture",u=[];i!==null;){var g=i,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Hi(i,l),g!=null&&u.unshift(lf(i,g,v)),g=Hi(i,s),g!=null&&u.push(lf(i,g,v))),i.tag===3)return u;i=i.return}return[]}function bA(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function k5(i,s,l,u,g){for(var v=s._reactName,C=[];l!==null&&l!==u;){var G=l,ct=G.alternate,It=G.stateNode;if(G=G.tag,ct!==null&&ct===u)break;G!==5&&G!==26&&G!==27||It===null||(ct=It,g?(It=Hi(l,v),It!=null&&C.unshift(lf(l,It,ct))):g||(It=Hi(l,v),It!=null&&C.push(lf(l,It,ct)))),l=l.return}C.length!==0&&i.push({event:s,listeners:C})}var _A=/\r\n?/g,wA=/\u0000|\uFFFD/g;function D5(i){return(typeof i=="string"?i:""+i).replace(_A,`
`).replace(wA,"")}function O5(i,s){return s=D5(s),D5(i)===s}function ni(i,s,l,u,g,v){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||qi(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&qi(i,""+u);break;case"className":Zi(i,"class",u);break;case"tabIndex":Zi(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Zi(i,l,u);break;case"style":Zo(i,u,v);break;case"data":if(s!=="object"){Zi(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Cr(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(s!=="input"&&ni(i,s,"name",g.name,g,null),ni(i,s,"formEncType",g.formEncType,g,null),ni(i,s,"formMethod",g.formMethod,g,null),ni(i,s,"formTarget",g.formTarget,g,null)):(ni(i,s,"encType",g.encType,g,null),ni(i,s,"method",g.method,g,null),ni(i,s,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Cr(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=_s);break;case"onScroll":u!=null&&gn("scroll",i);break;case"onScrollEnd":u!=null&&gn("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=Cr(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":gn("beforetoggle",i),gn("toggle",i),zr(i,"popover",u);break;case"xlinkActuate":yi(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":yi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":yi(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":yi(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":yi(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":yi(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":yi(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":yi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":yi(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":zr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=vo.get(l)||l,zr(i,l,u))}}function ug(i,s,l,u,g,v){switch(l){case"style":Zo(i,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof u=="string"?qi(i,u):(typeof u=="number"||typeof u=="bigint")&&qi(i,""+u);break;case"onScroll":u!=null&&gn("scroll",i);break;case"onScrollEnd":u!=null&&gn("scrollend",i);break;case"onClick":u!=null&&(i.onclick=_s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nr.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),v=i[Hn]||null,v=v!=null?v[l]:null,typeof v=="function"&&i.removeEventListener(s,v,g),typeof u=="function")){typeof v!="function"&&v!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,u,g);break t}l in i?i[l]=u:u===!0?i.setAttribute(l,""):zr(i,l,u)}}}function Jr(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gn("error",i),gn("load",i);var u=!1,g=!1,v;for(v in l)if(l.hasOwnProperty(v)){var C=l[v];if(C!=null)switch(v){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ni(i,s,v,C,l,null)}}g&&ni(i,s,"srcSet",l.srcSet,l,null),u&&ni(i,s,"src",l.src,l,null);return;case"input":gn("invalid",i);var G=v=C=g=null,ct=null,It=null;for(u in l)if(l.hasOwnProperty(u)){var zt=l[u];if(zt!=null)switch(u){case"name":g=zt;break;case"type":C=zt;break;case"checked":ct=zt;break;case"defaultChecked":It=zt;break;case"value":v=zt;break;case"defaultValue":G=zt;break;case"children":case"dangerouslySetInnerHTML":if(zt!=null)throw Error(r(137,s));break;default:ni(i,s,u,zt,l,null)}}Dl(i,v,G,ct,It,C,g,!1);return;case"select":gn("invalid",i),u=C=v=null;for(g in l)if(l.hasOwnProperty(g)&&(G=l[g],G!=null))switch(g){case"value":v=G;break;case"defaultValue":C=G;break;case"multiple":u=G;default:ni(i,s,g,G,l,null)}s=v,l=C,i.multiple=!!u,s!=null?hr(i,!!u,s,!1):l!=null&&hr(i,!!u,l,!0);return;case"textarea":gn("invalid",i),v=g=u=null;for(C in l)if(l.hasOwnProperty(C)&&(G=l[C],G!=null))switch(C){case"value":u=G;break;case"defaultValue":g=G;break;case"children":v=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:ni(i,s,C,G,l,null)}ea(i,u,g,v);return;case"option":for(ct in l)if(l.hasOwnProperty(ct)&&(u=l[ct],u!=null))switch(ct){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ni(i,s,ct,u,l,null)}return;case"dialog":gn("beforetoggle",i),gn("toggle",i),gn("cancel",i),gn("close",i);break;case"iframe":case"object":gn("load",i);break;case"video":case"audio":for(u=0;u<of.length;u++)gn(of[u],i);break;case"image":gn("error",i),gn("load",i);break;case"details":gn("toggle",i);break;case"embed":case"source":case"link":gn("error",i),gn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(It in l)if(l.hasOwnProperty(It)&&(u=l[It],u!=null))switch(It){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ni(i,s,It,u,l,null)}return;default:if(yo(s)){for(zt in l)l.hasOwnProperty(zt)&&(u=l[zt],u!==void 0&&ug(i,s,zt,u,l,void 0));return}}for(G in l)l.hasOwnProperty(G)&&(u=l[G],u!=null&&ni(i,s,G,u,l,null))}function AA(i,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,C=null,G=null,ct=null,It=null,zt=null;for(Ot in l){var Gt=l[Ot];if(l.hasOwnProperty(Ot)&&Gt!=null)switch(Ot){case"checked":break;case"value":break;case"defaultValue":ct=Gt;default:u.hasOwnProperty(Ot)||ni(i,s,Ot,null,u,Gt)}}for(var Dt in u){var Ot=u[Dt];if(Gt=l[Dt],u.hasOwnProperty(Dt)&&(Ot!=null||Gt!=null))switch(Dt){case"type":v=Ot;break;case"name":g=Ot;break;case"checked":It=Ot;break;case"defaultChecked":zt=Ot;break;case"value":C=Ot;break;case"defaultValue":G=Ot;break;case"children":case"dangerouslySetInnerHTML":if(Ot!=null)throw Error(r(137,s));break;default:Ot!==Gt&&ni(i,s,Dt,Ot,u,Gt)}}Va(i,C,G,ct,It,zt,v,g);return;case"select":Ot=C=G=Dt=null;for(v in l)if(ct=l[v],l.hasOwnProperty(v)&&ct!=null)switch(v){case"value":break;case"multiple":Ot=ct;default:u.hasOwnProperty(v)||ni(i,s,v,null,u,ct)}for(g in u)if(v=u[g],ct=l[g],u.hasOwnProperty(g)&&(v!=null||ct!=null))switch(g){case"value":Dt=v;break;case"defaultValue":G=v;break;case"multiple":C=v;default:v!==ct&&ni(i,s,g,v,u,ct)}s=G,l=C,u=Ot,Dt!=null?hr(i,!!l,Dt,!1):!!u!=!!l&&(s!=null?hr(i,!!l,s,!0):hr(i,!!l,l?[]:"",!1));return;case"textarea":Ot=Dt=null;for(G in l)if(g=l[G],l.hasOwnProperty(G)&&g!=null&&!u.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:ni(i,s,G,null,u,g)}for(C in u)if(g=u[C],v=l[C],u.hasOwnProperty(C)&&(g!=null||v!=null))switch(C){case"value":Dt=g;break;case"defaultValue":Ot=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==v&&ni(i,s,C,g,u,v)}Wo(i,Dt,Ot);return;case"option":for(var fe in l)if(Dt=l[fe],l.hasOwnProperty(fe)&&Dt!=null&&!u.hasOwnProperty(fe))switch(fe){case"selected":i.selected=!1;break;default:ni(i,s,fe,null,u,Dt)}for(ct in u)if(Dt=u[ct],Ot=l[ct],u.hasOwnProperty(ct)&&Dt!==Ot&&(Dt!=null||Ot!=null))switch(ct){case"selected":i.selected=Dt&&typeof Dt!="function"&&typeof Dt!="symbol";break;default:ni(i,s,ct,Dt,u,Ot)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in l)Dt=l[Ve],l.hasOwnProperty(Ve)&&Dt!=null&&!u.hasOwnProperty(Ve)&&ni(i,s,Ve,null,u,Dt);for(It in u)if(Dt=u[It],Ot=l[It],u.hasOwnProperty(It)&&Dt!==Ot&&(Dt!=null||Ot!=null))switch(It){case"children":case"dangerouslySetInnerHTML":if(Dt!=null)throw Error(r(137,s));break;default:ni(i,s,It,Dt,u,Ot)}return;default:if(yo(s)){for(var ii in l)Dt=l[ii],l.hasOwnProperty(ii)&&Dt!==void 0&&!u.hasOwnProperty(ii)&&ug(i,s,ii,void 0,u,Dt);for(zt in u)Dt=u[zt],Ot=l[zt],!u.hasOwnProperty(zt)||Dt===Ot||Dt===void 0&&Ot===void 0||ug(i,s,zt,Dt,u,Ot);return}}for(var wt in l)Dt=l[wt],l.hasOwnProperty(wt)&&Dt!=null&&!u.hasOwnProperty(wt)&&ni(i,s,wt,null,u,Dt);for(Gt in u)Dt=u[Gt],Ot=l[Gt],!u.hasOwnProperty(Gt)||Dt===Ot||Dt==null&&Ot==null||ni(i,s,Gt,Dt,u,Ot)}function P5(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function SA(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],v=g.transferSize,C=g.initiatorType,G=g.duration;if(v&&G&&P5(C)){for(C=0,G=g.responseEnd,u+=1;u<l.length;u++){var ct=l[u],It=ct.startTime;if(It>G)break;var zt=ct.transferSize,Gt=ct.initiatorType;zt&&P5(Gt)&&(ct=ct.responseEnd,C+=zt*(ct<G?1:(G-It)/(ct-It)))}if(--u,s+=8*(v+C)/(g.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var cg=null,hg=null;function kd(i){return i.nodeType===9?i:i.ownerDocument}function M5(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function j5(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function fg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var dg=null;function xA(){var i=window.event;return i&&i.type==="popstate"?i===dg?!1:(dg=i,!0):(dg=null,!1)}var U5=typeof setTimeout=="function"?setTimeout:void 0,EA=typeof clearTimeout=="function"?clearTimeout:void 0,V5=typeof Promise=="function"?Promise:void 0,TA=typeof queueMicrotask=="function"?queueMicrotask:typeof V5<"u"?function(i){return V5.resolve(null).then(i).catch(NA)}:U5;function NA(i){setTimeout(function(){throw i})}function nu(i){return i==="head"}function B5(i,s){var l=s,u=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){i.removeChild(g),Kc(s);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")uf(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,uf(l);for(var v=l.firstChild;v;){var C=v.nextSibling,G=v.nodeName;v[Tr]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=C}}else l==="body"&&uf(i.ownerDocument.body);l=g}while(l);Kc(s)}function F5(i,s){var l=i;i=0;do{var u=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=u}while(l)}function pg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":pg(l),Zs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function CA(i,s,l,u){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Tr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=Da(i.nextSibling),i===null)break}return null}function IA(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Da(i.nextSibling),i===null))return null;return i}function z5(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Da(i.nextSibling),i===null))return null;return i}function mg(i){return i.data==="$?"||i.data==="$~"}function gg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function RA(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Da(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var yg=null;function q5(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return Da(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function H5(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function G5(i,s,l){switch(s=kd(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function uf(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Zs(i)}var Oa=new Map,Y5=new Set;function Dd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var _l=dt.d;dt.d={f:LA,r:kA,D:DA,C:OA,L:PA,m:MA,X:UA,S:jA,M:VA};function LA(){var i=_l.f(),s=xd();return i||s}function kA(i){var s=cr(i);s!==null&&s.tag===5&&s.type==="form"?u2(s):_l.r(i)}var Hc=typeof document>"u"?null:document;function K5(i,s,l){var u=Hc;if(u&&typeof s=="string"&&s){var g=vi(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Y5.has(g)||(Y5.add(g),i={rel:i,crossOrigin:l,href:s},u.querySelector(g)===null&&(s=u.createElement("link"),Jr(s,"link",i),ci(s),u.head.appendChild(s)))}}function DA(i){_l.D(i),K5("dns-prefetch",i,null)}function OA(i,s){_l.C(i,s),K5("preconnect",i,s)}function PA(i,s,l){_l.L(i,s,l);var u=Hc;if(u&&i&&s){var g='link[rel="preload"][as="'+vi(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+vi(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+vi(l.imageSizes)+'"]')):g+='[href="'+vi(i)+'"]';var v=g;switch(s){case"style":v=Gc(i);break;case"script":v=Yc(i)}Oa.has(v)||(i=S({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Oa.set(v,i),u.querySelector(g)!==null||s==="style"&&u.querySelector(cf(v))||s==="script"&&u.querySelector(hf(v))||(s=u.createElement("link"),Jr(s,"link",i),ci(s),u.head.appendChild(s)))}}function MA(i,s){_l.m(i,s);var l=Hc;if(l&&i){var u=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+vi(u)+'"][href="'+vi(i)+'"]',v=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Yc(i)}if(!Oa.has(v)&&(i=S({rel:"modulepreload",href:i},s),Oa.set(v,i),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(hf(v)))return}u=l.createElement("link"),Jr(u,"link",i),ci(u),l.head.appendChild(u)}}}function jA(i,s,l){_l.S(i,s,l);var u=Hc;if(u&&i){var g=is(u).hoistableStyles,v=Gc(i);s=s||"default";var C=g.get(v);if(!C){var G={loading:0,preload:null};if(C=u.querySelector(cf(v)))G.loading=5;else{i=S({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Oa.get(v))&&vg(i,l);var ct=C=u.createElement("link");ci(ct),Jr(ct,"link",i),ct._p=new Promise(function(It,zt){ct.onload=It,ct.onerror=zt}),ct.addEventListener("load",function(){G.loading|=1}),ct.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Od(C,s,u)}C={type:"stylesheet",instance:C,count:1,state:G},g.set(v,C)}}}function UA(i,s){_l.X(i,s);var l=Hc;if(l&&i){var u=is(l).hoistableScripts,g=Yc(i),v=u.get(g);v||(v=l.querySelector(hf(g)),v||(i=S({src:i,async:!0},s),(s=Oa.get(g))&&bg(i,s),v=l.createElement("script"),ci(v),Jr(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function VA(i,s){_l.M(i,s);var l=Hc;if(l&&i){var u=is(l).hoistableScripts,g=Yc(i),v=u.get(g);v||(v=l.querySelector(hf(g)),v||(i=S({src:i,async:!0,type:"module"},s),(s=Oa.get(g))&&bg(i,s),v=l.createElement("script"),ci(v),Jr(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function $5(i,s,l,u){var g=(g=ut.current)?Dd(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Gc(l.href),l=is(g).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Gc(l.href);var v=is(g).hoistableStyles,C=v.get(i);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,C),(v=g.querySelector(cf(i)))&&!v._p&&(C.instance=v,C.state.loading=5),Oa.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Oa.set(i,l),v||BA(g,i,l,C.state))),s&&u===null)throw Error(r(528,""));return C}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Yc(l),l=is(g).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Gc(i){return'href="'+vi(i)+'"'}function cf(i){return'link[rel="stylesheet"]['+i+"]"}function X5(i){return S({},i,{"data-precedence":i.precedence,precedence:null})}function BA(i,s,l,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Jr(s,"link",l),ci(s),i.head.appendChild(s))}function Yc(i){return'[src="'+vi(i)+'"]'}function hf(i){return"script[async]"+i}function Q5(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+vi(l.href)+'"]');if(u)return s.instance=u,ci(u),u;var g=S({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),ci(u),Jr(u,"style",g),Od(u,l.precedence,i),s.instance=u;case"stylesheet":g=Gc(l.href);var v=i.querySelector(cf(g));if(v)return s.state.loading|=4,s.instance=v,ci(v),v;u=X5(l),(g=Oa.get(g))&&vg(u,g),v=(i.ownerDocument||i).createElement("link"),ci(v);var C=v;return C._p=new Promise(function(G,ct){C.onload=G,C.onerror=ct}),Jr(v,"link",u),s.state.loading|=4,Od(v,l.precedence,i),s.instance=v;case"script":return v=Yc(l.src),(g=i.querySelector(hf(v)))?(s.instance=g,ci(g),g):(u=l,(g=Oa.get(v))&&(u=S({},l),bg(u,g)),i=i.ownerDocument||i,g=i.createElement("script"),ci(g),Jr(g,"link",u),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Od(u,l.precedence,i));return s.instance}function Od(i,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,v=g,C=0;C<u.length;C++){var G=u[C];if(G.dataset.precedence===s)v=G;else if(v!==g)break}v?v.parentNode.insertBefore(i,v.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function vg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function bg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Pd=null;function W5(i,s,l){if(Pd===null){var u=new Map,g=Pd=new Map;g.set(l,u)}else g=Pd,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var v=l[g];if(!(v[Tr]||v[Dn]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var C=v.getAttribute(s)||"";C=i+C;var G=u.get(C);G?G.push(v):u.set(C,[v])}}return u}function J5(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function FA(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Z5(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function zA(i,s,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Gc(u.href),v=s.querySelector(cf(g));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Md.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=v,ci(v);return}v=s.ownerDocument||s,u=X5(u),(g=Oa.get(g))&&vg(u,g),v=v.createElement("link"),ci(v);var C=v;C._p=new Promise(function(G,ct){C.onload=G,C.onerror=ct}),Jr(v,"link",u),l.instance=v}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Md.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var _g=0;function qA(i,s){return i.stylesheets&&i.count===0&&Ud(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var u=setTimeout(function(){if(i.stylesheets&&Ud(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4+s);0<i.imgBytes&&_g===0&&(_g=62500*SA());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ud(i,i.stylesheets),i.unsuspend)){var v=i.unsuspend;i.unsuspend=null,v()}},(i.imgBytes>_g?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Md(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ud(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var jd=null;function Ud(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,jd=new Map,s.forEach(HA,i),jd=null,Md.call(i))}function HA(i,s){if(!(s.state.loading&4)){var l=jd.get(i);if(l)var u=l.get(null);else{l=new Map,jd.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var C=g[v];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),u=C)}u&&l.set(null,u)}g=s.instance,C=g.getAttribute("data-precedence"),v=l.get(C)||u,v===u&&l.set(null,g),l.set(C,g),this.count++,u=Md.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),v?v.parentNode.insertBefore(g,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var ff={$$typeof:ot,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function GA(i,s,l,u,g,v,C,G,ct){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.hiddenUpdates=zi(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ct,this.incompleteTransitions=new Map}function ty(i,s,l,u,g,v,C,G,ct,It,zt,Gt){return i=new GA(i,s,l,C,ct,It,zt,Gt,G),s=1,v===!0&&(s|=24),v=kr(3,null,null,s),i.current=v,v.stateNode=i,s=Hl(),s.refCount++,i.pooledCache=s,s.refCount++,v.memoizedState={element:u,isDehydrated:l,cache:s},Zt(v),i}function ey(i){return i?(i=mr,i):mr}function ny(i,s,l,u,g,v){g=ey(g),u.context===null?u.context=g:u.pendingContext=g,u=je(s),u.payload={element:l},v=v===void 0?null:v,v!==null&&(u.callback=v),l=rn(i,u,s),l!==null&&($s(l,i,s),Un(l,i,s))}function iy(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function wg(i,s){iy(i,s),(i=i.alternate)&&iy(i,s)}function ry(i){if(i.tag===13||i.tag===31){var s=Wa(i,67108864);s!==null&&$s(s,i,67108864),wg(i,67108864)}}function sy(i){if(i.tag===13||i.tag===31){var s=ha();s=Fn(s);var l=Wa(i,s);l!==null&&$s(l,i,s),wg(i,s)}}var Vd=!0;function YA(i,s,l,u){var g=it.T;it.T=null;var v=dt.p;try{dt.p=2,Ag(i,s,l,u)}finally{dt.p=v,it.T=g}}function KA(i,s,l,u){var g=it.T;it.T=null;var v=dt.p;try{dt.p=8,Ag(i,s,l,u)}finally{dt.p=v,it.T=g}}function Ag(i,s,l,u){if(Vd){var g=Sg(u);if(g===null)lg(i,s,u,Bd,l),oy(i,u);else if(XA(g,i,s,l,u))u.stopPropagation();else if(oy(i,u),s&4&&-1<$A.indexOf(i)){for(;g!==null;){var v=cr(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var C=ve(v.pendingLanes);if(C!==0){var G=v;for(G.pendingLanes|=2,G.entangledLanes|=2;C;){var ct=1<<31-$e(C);G.entanglements[1]|=ct,C&=~ct}Po(v),(Bn&6)===0&&(Ad=Ke()+500,af(0))}}break;case 31:case 13:G=Wa(v,2),G!==null&&$s(G,v,2),xd(),wg(v,2)}if(v=Sg(u),v===null&&lg(i,s,u,Bd,l),v===g)break;g=v}g!==null&&u.stopPropagation()}else lg(i,s,u,null,l)}}function Sg(i){return i=Ir(i),xg(i)}var Bd=null;function xg(i){if(Bd=null,i=Br(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=c(s),i!==null)return i;i=null}else if(l===31){if(i=h(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Bd=i,null}function ay(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Je()){case Be:return 2;case sn:return 8;case Xe:case ge:return 32;case qe:return 268435456;default:return 32}default:return 32}}var Eg=!1,iu=null,ru=null,su=null,df=new Map,pf=new Map,au=[],$A="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oy(i,s){switch(i){case"focusin":case"focusout":iu=null;break;case"dragenter":case"dragleave":ru=null;break;case"mouseover":case"mouseout":su=null;break;case"pointerover":case"pointerout":df.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":pf.delete(s.pointerId)}}function mf(i,s,l,u,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:v,targetContainers:[g]},s!==null&&(s=cr(s),s!==null&&ry(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function XA(i,s,l,u,g){switch(s){case"focusin":return iu=mf(iu,i,s,l,u,g),!0;case"dragenter":return ru=mf(ru,i,s,l,u,g),!0;case"mouseover":return su=mf(su,i,s,l,u,g),!0;case"pointerover":var v=g.pointerId;return df.set(v,mf(df.get(v)||null,i,s,l,u,g)),!0;case"gotpointercapture":return v=g.pointerId,pf.set(v,mf(pf.get(v)||null,i,s,l,u,g)),!0}return!1}function ly(i){var s=Br(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){i.blockedOn=s,ur(i.priority,function(){sy(l)});return}}else if(s===31){if(s=h(l),s!==null){i.blockedOn=s,ur(i.priority,function(){sy(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Fd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Sg(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);ia=u,l.target.dispatchEvent(u),ia=null}else return s=cr(l),s!==null&&ry(s),i.blockedOn=l,!1;s.shift()}return!0}function uy(i,s,l){Fd(i)&&l.delete(s)}function QA(){Eg=!1,iu!==null&&Fd(iu)&&(iu=null),ru!==null&&Fd(ru)&&(ru=null),su!==null&&Fd(su)&&(su=null),df.forEach(uy),pf.forEach(uy)}function zd(i,s){i.blockedOn===s&&(i.blockedOn=null,Eg||(Eg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,QA)))}var qd=null;function cy(i){qd!==i&&(qd=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){qd===i&&(qd=null);for(var s=0;s<i.length;s+=3){var l=i[s],u=i[s+1],g=i[s+2];if(typeof u!="function"){if(xg(u||l)===null)continue;break}var v=cr(l);v!==null&&(i.splice(s,3),s-=3,Sm(v,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function Kc(i){function s(ct){return zd(ct,i)}iu!==null&&zd(iu,i),ru!==null&&zd(ru,i),su!==null&&zd(su,i),df.forEach(s),pf.forEach(s);for(var l=0;l<au.length;l++){var u=au[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<au.length&&(l=au[0],l.blockedOn===null);)ly(l),l.blockedOn===null&&au.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],v=l[u+1],C=g[Hn]||null;if(typeof v=="function")C||cy(l);else if(C){var G=null;if(v&&v.hasAttribute("formAction")){if(g=v,C=v[Hn]||null)G=C.formAction;else if(xg(g)!==null)continue}else G=C.action;typeof G=="function"?l[u+1]=G:(l.splice(u,3),u-=3),cy(l)}}}function hy(){function i(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(C){return g=C})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function Tg(i){this._internalRoot=i}Hd.prototype.render=Tg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,u=ha();ny(l,u,i,s,null,null)},Hd.prototype.unmount=Tg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;ny(i.current,2,null,i,null,null),xd(),s[Di]=null}};function Hd(i){this._internalRoot=i}Hd.prototype.unstable_scheduleHydration=function(i){if(i){var s=ki();i={blockedOn:null,target:i,priority:s};for(var l=0;l<au.length&&s!==0&&s<au[l].priority;l++);au.splice(l,0,i),l===0&&ly(i)}};var fy=t.version;if(fy!=="19.2.1")throw Error(r(527,fy,"19.2.1"));dt.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?b(i):null,i=i===null?null:i.stateNode,i};var WA={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:it,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gd.isDisabled&&Gd.supportsFiber)try{Qe=Gd.inject(WA),Ee=Gd}catch{}}return yf.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,u="",g=b2,v=_2,C=w2;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError)),s=ty(i,1,!1,null,null,l,u,null,g,v,C,hy),i[Di]=s.current,og(i),new Tg(s)},yf.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var u=!1,g="",v=b2,C=_2,G=w2,ct=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(G=l.onRecoverableError),l.formState!==void 0&&(ct=l.formState)),s=ty(i,1,!0,s,l??null,u,g,ct,v,C,G,hy),s.context=ey(null),l=s.current,u=ha(),u=Fn(u),g=je(u),g.callback=null,rn(l,g,u),l=u,s.current.lanes=l,Se(s,l),Po(s),i[Di]=s.current,og(i),new Hd(s)},yf.version="19.2.1",yf}var Ay;function lS(){if(Ay)return Ig.exports;Ay=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Ig.exports=oS(),Ig.exports}var uS=lS();const cS=""+new URL("logo-C3QPRB5h.jpg",import.meta.url).href,hS=()=>{};var Sy={};const A_=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},fS=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const a=n[e++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[e++];t[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[e++],c=n[e++],h=n[e++],d=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[r++]=String.fromCharCode(55296+(d>>10)),t[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[e++],c=n[e++];t[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return t.join("")},S_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,h=c?n[a+1]:0,d=a+2<n.length,m=d?n[a+2]:0,b=o>>2,S=(o&3)<<4|h>>4;let I=(h&15)<<2|m>>6,w=m&63;d||(w=64,c||(I=64)),r.push(e[b],e[S],e[I],e[w])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(A_(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):fS(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const m=a<n.length?e[n.charAt(a)]:64;++a;const S=a<n.length?e[n.charAt(a)]:64;if(++a,o==null||h==null||m==null||S==null)throw new dS;const I=o<<2|h>>4;if(r.push(I),m!==64){const w=h<<4&240|m>>2;if(r.push(w),S!==64){const Y=m<<6&192|S;r.push(Y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class dS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pS=function(n){const t=A_(n);return S_.encodeByteArray(t,!0)},Sp=function(n){return pS(n).replace(/\./g,"")},x_=function(n){try{return S_.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function mS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const gS=()=>mS().__FIREBASE_DEFAULTS__,yS=()=>{if(typeof process>"u"||typeof Sy>"u")return;const n=Sy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},vS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&x_(n[1]);return t&&JSON.parse(t)},Qp=()=>{try{return hS()||gS()||yS()||vS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},E_=n=>Qp()?.emulatorHosts?.[n],bS=n=>{const t=E_(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},T_=()=>Qp()?.config,N_=n=>Qp()?.[`_${n}`];class _S{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}function Th(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function C_(n){return(await fetch(n,{credentials:"include"})).ok}function wS(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Sp(JSON.stringify(e)),Sp(JSON.stringify(c)),""].join(".")}const xf={};function AS(){const n={prod:[],emulator:[]};for(const t of Object.keys(xf))xf[t]?n.emulator.push(t):n.prod.push(t);return n}function SS(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let xy=!1;function I_(n,t){if(typeof window>"u"||typeof document>"u"||!Th(window.location.host)||xf[n]===t||xf[n]||xy)return;xf[n]=t;function e(I){return`__firebase__banner__${I}`}const r="__firebase__banner",o=AS().prod.length>0;function c(){const I=document.getElementById(r);I&&I.remove()}function h(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function d(I,w){I.setAttribute("width","24"),I.setAttribute("id",w),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function m(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{xy=!0,c()},I}function b(I,w){I.setAttribute("id",w),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function S(){const I=SS(r),w=e("text"),Y=document.getElementById(w)||document.createElement("span"),H=e("learnmore"),K=document.getElementById(H)||document.createElement("a"),q=e("preprendIcon"),lt=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ot=I.element;h(ot),b(K,H);const st=m();d(lt,q),ot.append(lt,Y,K,st),document.body.appendChild(ot)}o?(Y.innerText="Preview backend disconnected.",lt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function ys(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ys())}function ES(){const n=Qp()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function CS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IS(){const n=ys();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function RS(){return!ES()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LS(){try{return typeof indexedDB=="object"}catch{return!1}}function kS(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}const DS="FirebaseError";class kl extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=DS,Object.setPrototypeOf(this,kl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qf.prototype.create)}}class qf{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},a=`${this.service}/${t}`,o=this.errors[t],c=o?OS(o,r):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new kl(a,h,r)}}function OS(n,t){return n.replace(PS,(e,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const PS=/\{\$([^}]+)}/g;function MS(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function ec(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const a of e){if(!r.includes(a))return!1;const o=n[a],c=t[a];if(Ey(o)&&Ey(c)){if(!ec(o,c))return!1}else if(o!==c)return!1}for(const a of r)if(!e.includes(a))return!1;return!0}function Ey(n){return n!==null&&typeof n=="object"}function Hf(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function jS(n,t){const e=new US(n,t);return e.subscribe.bind(e)}class US{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let a;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");VS(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:r},a.next===void 0&&(a.next=Dg),a.error===void 0&&(a.error=Dg),a.complete===void 0&&(a.complete=Dg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VS(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Dg(){}function ma(n){return n&&n._delegate?n._delegate:n}class nc{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Gu="[DEFAULT]";class BS{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new _S;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(zS(t))try{this.getOrInitializeService({instanceIdentifier:Gu})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(t=Gu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Gu){return this.instances.has(t)}getOptions(t=Gu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&c.resolve(a)}return a}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(r)??new Set;a.add(t),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&t(o,r),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const a of r)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FS(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Gu){return this.component?this.component.multipleInstances?t:Gu:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FS(n){return n===Gu?void 0:n}function zS(n){return n.instantiationMode==="EAGER"}class qS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new BS(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var _n;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(_n||(_n={}));const HS={debug:_n.DEBUG,verbose:_n.VERBOSE,info:_n.INFO,warn:_n.WARN,error:_n.ERROR,silent:_n.SILENT},GS=_n.INFO,YS={[_n.DEBUG]:"log",[_n.VERBOSE]:"log",[_n.INFO]:"info",[_n.WARN]:"warn",[_n.ERROR]:"error"},KS=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),a=YS[t];if(a)console[a](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class e0{constructor(t){this.name=t,this._logLevel=GS,this._logHandler=KS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _n))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?HS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_n.DEBUG,...t),this._logHandler(this,_n.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_n.VERBOSE,...t),this._logHandler(this,_n.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_n.INFO,...t),this._logHandler(this,_n.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_n.WARN,...t),this._logHandler(this,_n.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_n.ERROR,...t),this._logHandler(this,_n.ERROR,...t)}}const $S=(n,t)=>t.some(e=>n instanceof e);let Ty,Ny;function XS(){return Ty||(Ty=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QS(){return Ny||(Ny=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R_=new WeakMap,m1=new WeakMap,L_=new WeakMap,Og=new WeakMap,n0=new WeakMap;function WS(n){const t=new Promise((e,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(gu(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&R_.set(e,n)}).catch(()=>{}),n0.set(t,n),t}function JS(n){if(m1.has(n))return;const t=new Promise((e,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});m1.set(n,t)}let g1={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return m1.get(n);if(t==="objectStoreNames")return n.objectStoreNames||L_.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return gu(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function ZS(n){g1=n(g1)}function tx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(Pg(this),t,...e);return L_.set(r,t.sort?t.sort():[t]),gu(r)}:QS().includes(n)?function(...t){return n.apply(Pg(this),t),gu(R_.get(this))}:function(...t){return gu(n.apply(Pg(this),t))}}function ex(n){return typeof n=="function"?tx(n):(n instanceof IDBTransaction&&JS(n),$S(n,XS())?new Proxy(n,g1):n)}function gu(n){if(n instanceof IDBRequest)return WS(n);if(Og.has(n))return Og.get(n);const t=ex(n);return t!==n&&(Og.set(n,t),n0.set(t,n)),t}const Pg=n=>n0.get(n);function nx(n,t,{blocked:e,upgrade:r,blocking:a,terminated:o}={}){const c=indexedDB.open(n,t),h=gu(c);return r&&c.addEventListener("upgradeneeded",d=>{r(gu(c.result),d.oldVersion,d.newVersion,gu(c.transaction),d)}),e&&c.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const ix=["get","getKey","getAll","getAllKeys","count"],rx=["put","add","delete","clear"],Mg=new Map;function Cy(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Mg.get(t))return Mg.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,a=rx.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(a||ix.includes(e)))return;const o=async function(c,...h){const d=this.transaction(c,a?"readwrite":"readonly");let m=d.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[e](...h),a&&d.done]))[0]};return Mg.set(t,o),o}ZS(n=>({...n,get:(t,e,r)=>Cy(t,e)||n.get(t,e,r),has:(t,e)=>!!Cy(t,e)||n.has(t,e)}));class sx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(ax(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function ax(n){return n.getComponent()?.type==="VERSION"}const y1="@firebase/app",Iy="0.14.6";const Cl=new e0("@firebase/app"),ox="@firebase/app-compat",lx="@firebase/analytics-compat",ux="@firebase/analytics",cx="@firebase/app-check-compat",hx="@firebase/app-check",fx="@firebase/auth",dx="@firebase/auth-compat",px="@firebase/database",mx="@firebase/data-connect",gx="@firebase/database-compat",yx="@firebase/functions",vx="@firebase/functions-compat",bx="@firebase/installations",_x="@firebase/installations-compat",wx="@firebase/messaging",Ax="@firebase/messaging-compat",Sx="@firebase/performance",xx="@firebase/performance-compat",Ex="@firebase/remote-config",Tx="@firebase/remote-config-compat",Nx="@firebase/storage",Cx="@firebase/storage-compat",Ix="@firebase/firestore",Rx="@firebase/ai",Lx="@firebase/firestore-compat",kx="firebase",Dx="12.6.0";const v1="[DEFAULT]",Ox={[y1]:"fire-core",[ox]:"fire-core-compat",[ux]:"fire-analytics",[lx]:"fire-analytics-compat",[hx]:"fire-app-check",[cx]:"fire-app-check-compat",[fx]:"fire-auth",[dx]:"fire-auth-compat",[px]:"fire-rtdb",[mx]:"fire-data-connect",[gx]:"fire-rtdb-compat",[yx]:"fire-fn",[vx]:"fire-fn-compat",[bx]:"fire-iid",[_x]:"fire-iid-compat",[wx]:"fire-fcm",[Ax]:"fire-fcm-compat",[Sx]:"fire-perf",[xx]:"fire-perf-compat",[Ex]:"fire-rc",[Tx]:"fire-rc-compat",[Nx]:"fire-gcs",[Cx]:"fire-gcs-compat",[Ix]:"fire-fst",[Lx]:"fire-fst-compat",[Rx]:"fire-vertex","fire-js":"fire-js",[kx]:"fire-js-all"};const xp=new Map,Px=new Map,b1=new Map;function Ry(n,t){try{n.container.addComponent(t)}catch(e){Cl.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function vh(n){const t=n.name;if(b1.has(t))return Cl.debug(`There were multiple attempts to register component ${t}.`),!1;b1.set(t,n);for(const e of xp.values())Ry(e,n);for(const e of Px.values())Ry(e,n);return!0}function i0(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ao(n){return n==null?!1:n.settings!==void 0}const Mx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yu=new qf("app","Firebase",Mx);class jx{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw yu.create("app-deleted",{appName:this._name})}}const Nh=Dx;function k_(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:v1,automaticDataCollectionEnabled:!0,...t},a=r.name;if(typeof a!="string"||!a)throw yu.create("bad-app-name",{appName:String(a)});if(e||(e=T_()),!e)throw yu.create("no-options");const o=xp.get(a);if(o){if(ec(e,o.options)&&ec(r,o.config))return o;throw yu.create("duplicate-app",{appName:a})}const c=new qS(a);for(const d of b1.values())c.addComponent(d);const h=new jx(e,r,c);return xp.set(a,h),h}function D_(n=v1){const t=xp.get(n);if(!t&&n===v1&&T_())return k_();if(!t)throw yu.create("no-app",{appName:n});return t}function vu(n,t,e){let r=Ox[n]??n;e&&(r+=`-${e}`);const a=r.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const c=[`Unable to register library "${r}" with version "${t}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Cl.warn(c.join(" "));return}vh(new nc(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const Ux="firebase-heartbeat-database",Vx=1,kf="firebase-heartbeat-store";let jg=null;function O_(){return jg||(jg=nx(Ux,Vx,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(kf)}catch(e){console.warn(e)}}}}).catch(n=>{throw yu.create("idb-open",{originalErrorMessage:n.message})})),jg}async function Bx(n){try{const e=(await O_()).transaction(kf),r=await e.objectStore(kf).get(P_(n));return await e.done,r}catch(t){if(t instanceof kl)Cl.warn(t.message);else{const e=yu.create("idb-get",{originalErrorMessage:t?.message});Cl.warn(e.message)}}}async function Ly(n,t){try{const r=(await O_()).transaction(kf,"readwrite");await r.objectStore(kf).put(t,P_(n)),await r.done}catch(e){if(e instanceof kl)Cl.warn(e.message);else{const r=yu.create("idb-set",{originalErrorMessage:e?.message});Cl.warn(r.message)}}}function P_(n){return`${n.name}!${n.options.appId}`}const Fx=1024,zx=30;class qx{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Gx(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ky();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>zx){const a=Yx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Cl.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ky(),{heartbeatsToSend:e,unsentEntries:r}=Hx(this._heartbeatsCache.heartbeats),a=Sp(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Cl.warn(t),""}}}function ky(){return new Date().toISOString().substring(0,10)}function Hx(n,t=Fx){const e=[];let r=n.slice();for(const a of n){const o=e.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),Dy(e)>t){o.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),Dy(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class Gx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LS()?kS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await Bx(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ly(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ly(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Dy(n){return Sp(JSON.stringify({version:2,heartbeats:n})).length}function Yx(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}function Kx(n){vh(new nc("platform-logger",t=>new sx(t),"PRIVATE")),vh(new nc("heartbeat",t=>new qx(t),"PRIVATE")),vu(y1,Iy,n),vu(y1,Iy,"esm2020"),vu("fire-js","")}Kx("");var $x="firebase",Xx="12.6.0";vu($x,Xx,"app");function M_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Qx=M_,j_=new qf("auth","Firebase",M_());const Ep=new e0("@firebase/auth");function Wx(n,...t){Ep.logLevel<=_n.WARN&&Ep.warn(`Auth (${Nh}): ${n}`,...t)}function op(n,...t){Ep.logLevel<=_n.ERROR&&Ep.error(`Auth (${Nh}): ${n}`,...t)}function Go(n,...t){throw s0(n,...t)}function uo(n,...t){return s0(n,...t)}function r0(n,t,e){const r={...Qx(),[t]:e};return new qf("auth","Firebase",r).create(t,{appName:n.name})}function Qu(n){return r0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jx(n,t,e){const r=e;if(!(t instanceof r))throw r.name!==t.constructor.name&&Go(n,"argument-error"),r0(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function s0(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return j_.create(n,...t)}function Ye(n,t,...e){if(!n)throw s0(t,...e)}function El(n){const t="INTERNAL ASSERTION FAILED: "+n;throw op(t),new Error(t)}function Il(n,t){n||El(t)}function _1(){return typeof self<"u"&&self.location?.href||""}function Zx(){return Oy()==="http:"||Oy()==="https:"}function Oy(){return typeof self<"u"&&self.location?.protocol||null}function t6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Zx()||NS()||"connection"in navigator)?navigator.onLine:!0}function e6(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Gf{constructor(t,e){this.shortDelay=t,this.longDelay=e,Il(e>t,"Short delay should be less than long delay!"),this.isMobile=xS()||CS()}get(){return t6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function a0(n,t){Il(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class U_{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;El("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;El("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;El("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const n6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const i6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],r6=new Gf(3e4,6e4);function o0(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Ch(n,t,e,r,a={}){return V_(n,a,async()=>{let o={},c={};r&&(t==="GET"?c=r:o={body:JSON.stringify(r)});const h=Hf({key:n.config.apiKey,...c}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const m={method:t,headers:d,...o};return TS()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Th(n.emulatorConfig.host)&&(m.credentials="include"),U_.fetch()(await B_(n,n.config.apiHost,e,h),m)})}async function V_(n,t,e){n._canInitEmulator=!1;const r={...n6,...t};try{const a=new a6(n),o=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Yd(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yd(n,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Yd(n,"email-already-in-use",c);if(d==="USER_DISABLED")throw Yd(n,"user-disabled",c);const b=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw r0(n,b,m);Go(n,b)}}catch(a){if(a instanceof kl)throw a;Go(n,"network-request-failed",{message:String(a)})}}async function s6(n,t,e,r,a={}){const o=await Ch(n,t,e,r,a);return"mfaPendingCredential"in o&&Go(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function B_(n,t,e,r){const a=`${t}${e}?${r}`,o=n,c=o.config.emulator?a0(n.config,a):`${n.config.apiScheme}://${a}`;return i6.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class a6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(uo(this.auth,"network-request-failed")),r6.get())})}}function Yd(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const a=uo(n,t,r);return a.customData._tokenResponse=e,a}async function o6(n,t){return Ch(n,"POST","/v1/accounts:delete",t)}async function Tp(n,t){return Ch(n,"POST","/v1/accounts:lookup",t)}function Ef(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function l6(n,t=!1){const e=ma(n),r=await e.getIdToken(t),a=l0(r);Ye(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:r,authTime:Ef(Ug(a.auth_time)),issuedAtTime:Ef(Ug(a.iat)),expirationTime:Ef(Ug(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Ug(n){return Number(n)*1e3}function l0(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return op("JWT malformed, contained fewer than 3 sections"),null;try{const a=x_(e);return a?JSON.parse(a):(op("Failed to decode base64 JWT payload"),null)}catch(a){return op("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Py(n){const t=l0(n);return Ye(t,"internal-error"),Ye(typeof t.exp<"u","internal-error"),Ye(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Df(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof kl&&u6(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function u6({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class c6{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class w1{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ef(this.lastLoginAt),this.creationTime=Ef(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Np(n){const t=n.auth,e=await n.getIdToken(),r=await Df(n,Tp(t,{idToken:e}));Ye(r?.users.length,t,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?F_(a.providerUserInfo):[],c=f6(n.providerData,o),h=n.isAnonymous,d=!(n.email&&a.passwordHash)&&!c?.length,m=h?d:!1,b={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new w1(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,b)}async function h6(n){const t=ma(n);await Np(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function f6(n,t){return[...n.filter(r=>!t.some(a=>a.providerId===r.providerId)),...t]}function F_(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function d6(n,t){const e=await V_(n,{},async()=>{const r=Hf({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await B_(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return n.emulatorConfig&&Th(n.emulatorConfig.host)&&(d.credentials="include"),U_.fetch()(c,d)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function p6(n,t){return Ch(n,"POST","/v2/accounts:revokeToken",o0(n,t))}class oh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ye(t.idToken,"internal-error"),Ye(typeof t.idToken<"u","internal-error"),Ye(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Py(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ye(t.length!==0,"internal-error");const e=Py(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ye(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:a,expiresIn:o}=await d6(t,e);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:a,expirationTime:o}=e,c=new oh;return r&&(Ye(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),a&&(Ye(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),o&&(Ye(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new oh,this.toJSON())}_performRefresh(){return El("not implemented")}}function lu(n,t){Ye(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class oo{constructor({uid:t,auth:e,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new c6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new w1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await Df(this,this.stsTokenManager.getToken(this.auth,t));return Ye(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return l6(this,t)}reload(){return h6(this)}_assign(t){this!==t&&(Ye(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new oo({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await Np(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ao(this.auth.app))return Promise.reject(Qu(this.auth));const t=await this.getIdToken();return await Df(this,o6(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,a=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,d=e._redirectEventId??void 0,m=e.createdAt??void 0,b=e.lastLoginAt??void 0,{uid:S,emailVerified:I,isAnonymous:w,providerData:Y,stsTokenManager:H}=e;Ye(S&&H,t,"internal-error");const K=oh.fromJSON(this.name,H);Ye(typeof S=="string",t,"internal-error"),lu(r,t.name),lu(a,t.name),Ye(typeof I=="boolean",t,"internal-error"),Ye(typeof w=="boolean",t,"internal-error"),lu(o,t.name),lu(c,t.name),lu(h,t.name),lu(d,t.name),lu(m,t.name),lu(b,t.name);const q=new oo({uid:S,auth:t,email:a,emailVerified:I,displayName:r,isAnonymous:w,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:K,createdAt:m,lastLoginAt:b});return Y&&Array.isArray(Y)&&(q.providerData=Y.map(lt=>({...lt}))),d&&(q._redirectEventId=d),q}static async _fromIdTokenResponse(t,e,r=!1){const a=new oh;a.updateFromServerResponse(e);const o=new oo({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:r});return await Np(o),o}static async _fromGetAccountInfoResponse(t,e,r){const a=e.users[0];Ye(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?F_(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,h=new oh;h.updateFromIdToken(r);const d=new oo({uid:a.localId,auth:t,stsTokenManager:h,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new w1(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(d,m),d}}const My=new Map;function Tl(n){Il(n instanceof Function,"Expected a class definition");let t=My.get(n);return t?(Il(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,My.set(n,t),t)}class z_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}z_.type="NONE";const jy=z_;function lp(n,t,e){return`firebase:${n}:${t}:${e}`}class lh{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=lp(this.userKey,a.apiKey,o),this.fullPersistenceKey=lp("persistence",a.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Tp(this.auth,{idToken:t}).catch(()=>{});return e?oo._fromGetAccountInfoResponse(this.auth,e,t):null}return oo._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new lh(Tl(jy),t,r);const a=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||Tl(jy);const c=lp(r,t.config.apiKey,t.name);let h=null;for(const m of e)try{const b=await m._get(c);if(b){let S;if(typeof b=="string"){const I=await Tp(t,{idToken:b}).catch(()=>{});if(!I)break;S=await oo._fromGetAccountInfoResponse(t,I,b)}else S=oo._fromJSON(t,b);m!==o&&(h=S),o=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new lh(o,t,r):(o=d[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new lh(o,t,r))}}function Uy(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Y_(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(q_(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($_(t))return"Blackberry";if(X_(t))return"Webos";if(H_(t))return"Safari";if((t.includes("chrome/")||G_(t))&&!t.includes("edge/"))return"Chrome";if(K_(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if(r?.length===2)return r[1]}return"Other"}function q_(n=ys()){return/firefox\//i.test(n)}function H_(n=ys()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function G_(n=ys()){return/crios\//i.test(n)}function Y_(n=ys()){return/iemobile/i.test(n)}function K_(n=ys()){return/android/i.test(n)}function $_(n=ys()){return/blackberry/i.test(n)}function X_(n=ys()){return/webos/i.test(n)}function u0(n=ys()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function m6(n=ys()){return u0(n)&&!!window.navigator?.standalone}function g6(){return IS()&&document.documentMode===10}function Q_(n=ys()){return u0(n)||K_(n)||X_(n)||$_(n)||/windows phone/i.test(n)||Y_(n)}function W_(n,t=[]){let e;switch(n){case"Browser":e=Uy(ys());break;case"Worker":e=`${Uy(ys())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Nh}/${r}`}class y6{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=o=>new Promise((c,h)=>{try{const d=t(o);c(d)}catch(d){h(d)}});r.onAbort=e,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function v6(n,t={}){return Ch(n,"GET","/v2/passwordPolicy",o0(n,t))}const b6=6;class _6{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??b6,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let a=0;a<t.length;a++)r=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class w6{constructor(t,e,r,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vy(this),this.idTokenSubscription=new Vy(this),this.beforeStateQueue=new y6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Tl(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await lh.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Tp(this,{idToken:t}),r=await oo._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ao(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=r?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Np(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=e6()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ao(this.app))return Promise.reject(Qu(this));const e=t?ma(t):null;return e&&Ye(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ye(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ao(this.app)?Promise.reject(Qu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ao(this.app)?Promise.reject(Qu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Tl(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await v6(this),e=new _6(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new qf("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await p6(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Tl(t)||this._popupRedirectResolver;Ye(e,this,"argument-error"),this.redirectPersistenceManager=await lh.create(this,[Tl(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,a){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ye(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const d=t.addObserver(e,r,a);return()=>{c=!0,d()}}else{const d=t.addObserver(e);return()=>{c=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=W_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(ao(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Wx(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Wp(n){return ma(n)}class Vy{constructor(t){this.auth=t,this.observer=null,this.addObserver=jS(e=>this.observer=e)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let c0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function A6(n){c0=n}function S6(n){return c0.loadJS(n)}function x6(){return c0.gapiScript}function E6(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function T6(n,t){const e=i0(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),o=e.getOptions();if(ec(o,t??{}))return a;Go(a,"already-initialized")}return e.initialize({options:t})}function N6(n,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(Tl);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}function C6(n,t,e){const r=Wp(n);Ye(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!1,o=J_(t),{host:c,port:h}=I6(t),d=h===null?"":`:${h}`,m={url:`${o}//${c}${d}/`},b=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ye(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ye(ec(m,r.config.emulator)&&ec(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,Th(c)?(C_(`${o}//${c}${d}`),I_("Auth",!0)):R6()}function J_(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function I6(n){const t=J_(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:By(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:By(c)}}}function By(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function R6(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Z_{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return El("not implemented")}_getIdTokenResponse(t){return El("not implemented")}_linkToIdToken(t,e){return El("not implemented")}_getReauthenticationResolver(t){return El("not implemented")}}async function uh(n,t){return s6(n,"POST","/v1/accounts:signInWithIdp",o0(n,t))}const L6="http://localhost";class ic extends Z_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new ic(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Go("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:a,...o}=e;if(!r||!a)return null;const c=new ic(r,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return uh(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,uh(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,uh(t,e)}buildRequest(){const t={requestUri:L6,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Hf(e)}return t}}class h0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Yf extends h0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class hu extends Yf{constructor(){super("facebook.com")}static credential(t){return ic._fromParams({providerId:hu.PROVIDER_ID,signInMethod:hu.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hu.credentialFromTaggedObject(t)}static credentialFromError(t){return hu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return hu.credential(t.oauthAccessToken)}catch{return null}}}hu.FACEBOOK_SIGN_IN_METHOD="facebook.com";hu.PROVIDER_ID="facebook.com";class xl extends Yf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return ic._fromParams({providerId:xl.PROVIDER_ID,signInMethod:xl.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return xl.credentialFromTaggedObject(t)}static credentialFromError(t){return xl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return xl.credential(e,r)}catch{return null}}}xl.GOOGLE_SIGN_IN_METHOD="google.com";xl.PROVIDER_ID="google.com";class fu extends Yf{constructor(){super("github.com")}static credential(t){return ic._fromParams({providerId:fu.PROVIDER_ID,signInMethod:fu.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fu.credentialFromTaggedObject(t)}static credentialFromError(t){return fu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fu.credential(t.oauthAccessToken)}catch{return null}}}fu.GITHUB_SIGN_IN_METHOD="github.com";fu.PROVIDER_ID="github.com";class du extends Yf{constructor(){super("twitter.com")}static credential(t,e){return ic._fromParams({providerId:du.PROVIDER_ID,signInMethod:du.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return du.credentialFromTaggedObject(t)}static credentialFromError(t){return du.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return du.credential(e,r)}catch{return null}}}du.TWITTER_SIGN_IN_METHOD="twitter.com";du.PROVIDER_ID="twitter.com";class bh{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,a=!1){const o=await oo._fromIdTokenResponse(t,r,a),c=Fy(r);return new bh({user:o,providerId:c,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const a=Fy(r);return new bh({user:t,providerId:a,_tokenResponse:r,operationType:e})}}function Fy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Cp extends kl{constructor(t,e,r,a){super(e.code,e.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Cp.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,a){return new Cp(t,e,r,a)}}function tw(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Cp._fromErrorAndOperation(n,o,t,r):o})}async function k6(n,t,e=!1){const r=await Df(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return bh._forOperation(n,"link",r)}async function D6(n,t,e=!1){const{auth:r}=n;if(ao(r.app))return Promise.reject(Qu(r));const a="reauthenticate";try{const o=await Df(n,tw(r,a,t,n),e);Ye(o.idToken,r,"internal-error");const c=l0(o.idToken);Ye(c,r,"internal-error");const{sub:h}=c;return Ye(n.uid===h,r,"user-mismatch"),bh._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Go(r,"user-mismatch"),o}}async function O6(n,t,e=!1){if(ao(n.app))return Promise.reject(Qu(n));const r="signIn",a=await tw(n,r,t),o=await bh._fromIdTokenResponse(n,r,a);return e||await n._updateCurrentUser(o.user),o}function P6(n,t,e,r){return ma(n).onIdTokenChanged(t,e,r)}function M6(n,t,e){return ma(n).beforeAuthStateChanged(t,e)}function j6(n,t,e,r){return ma(n).onAuthStateChanged(t,e,r)}function U6(n){return ma(n).signOut()}const Ip="__sak";class ew{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Ip,"1"),this.storage.removeItem(Ip),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const V6=1e3,B6=10;class nw extends ew{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Q_(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),a=this.localCache[e];r!==a&&t(e,a,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const r=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!e&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);g6()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,B6):a()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},V6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}nw.type="LOCAL";const F6=nw;class iw extends ew{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}iw.type="SESSION";const rw=iw;function z6(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Jp{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const r=new Jp(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:a,data:o}=e.data,c=this.handlersMap[a];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(c).map(async m=>m(e.origin,o)),d=await z6(h);e.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jp.receivers=[];function f0(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}class q6{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,d)=>{const m=f0("",20);a.port1.start();const b=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(S){const I=S;if(I.data.eventId===m)switch(I.data.status){case"ack":clearTimeout(b),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(I.data.response);break;default:clearTimeout(b),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Bo(){return window}function H6(n){Bo().location.href=n}function sw(){return typeof Bo().WorkerGlobalScope<"u"&&typeof Bo().importScripts=="function"}async function G6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Y6(){return navigator?.serviceWorker?.controller||null}function K6(){return sw()?self:null}const aw="firebaseLocalStorageDb",$6=1,Rp="firebaseLocalStorage",ow="fbase_key";class Kf{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Zp(n,t){return n.transaction([Rp],t?"readwrite":"readonly").objectStore(Rp)}function X6(){const n=indexedDB.deleteDatabase(aw);return new Kf(n).toPromise()}function A1(){const n=indexedDB.open(aw,$6);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Rp,{keyPath:ow})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Rp)?t(r):(r.close(),await X6(),t(await A1()))})})}async function zy(n,t,e){const r=Zp(n,!0).put({[ow]:t,value:e});return new Kf(r).toPromise()}async function Q6(n,t){const e=Zp(n,!1).get(t),r=await new Kf(e).toPromise();return r===void 0?null:r.value}function qy(n,t){const e=Zp(n,!0).delete(t);return new Kf(e).toPromise()}const W6=800,J6=3;class lw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await A1(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>J6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jp._getInstance(K6()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await G6(),!this.activeServiceWorker)return;this.sender=new q6(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Y6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await A1();return await zy(t,Ip,"1"),await qy(t,Ip),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>zy(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>Q6(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>qy(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const o=Zp(a,!1).getAll();return new Kf(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:a,value:o}of t)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),W6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lw.type="LOCAL";const Z6=lw;new Gf(3e4,6e4);function uw(n,t){return t?Tl(t):(Ye(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class d0 extends Z_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return uh(t,this._buildIdpRequest())}_linkToIdToken(t,e){return uh(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return uh(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function tE(n){return O6(n.auth,new d0(n),n.bypassAuthState)}function eE(n){const{auth:t,user:e}=n;return Ye(e,t,"internal-error"),D6(e,new d0(n),n.bypassAuthState)}async function nE(n){const{auth:t,user:e}=n;return Ye(e,t,"internal-error"),k6(e,new d0(n),n.bypassAuthState)}class cw{constructor(t,e,r,a,o=!1){this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:a,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:e,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return tE;case"linkViaPopup":case"linkViaRedirect":return nE;case"reauthViaPopup":case"reauthViaRedirect":return eE;default:Go(this.auth,"internal-error")}}resolve(t){Il(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Il(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const iE=new Gf(2e3,1e4);async function rE(n,t,e){if(ao(n.app))return Promise.reject(uo(n,"operation-not-supported-in-this-environment"));const r=Wp(n);Jx(n,t,h0);const a=uw(r,e);return new $u(r,"signInViaPopup",t,a).executeNotNull()}class $u extends cw{constructor(t,e,r,a,o){super(t,e,a,o),this.provider=r,this.authWindow=null,this.pollId=null,$u.currentPopupAction&&$u.currentPopupAction.cancel(),$u.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ye(t,this.auth,"internal-error"),t}async onExecution(){Il(this.filter.length===1,"Popup operations only handle one event");const t=f0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(uo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(uo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$u.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(uo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,iE.get())};t()}}$u.currentPopupAction=null;const sE="pendingRedirect",up=new Map;class aE extends cw{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=up.get(this.auth._key());if(!t){try{const r=await oE(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}up.set(this.auth._key(),t)}return this.bypassAuthState||up.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oE(n,t){const e=cE(t),r=uE(n);if(!await r._isAvailable())return!1;const a=await r._get(e)==="true";return await r._remove(e),a}function lE(n,t){up.set(n._key(),t)}function uE(n){return Tl(n._redirectPersistence)}function cE(n){return lp(sE,n.config.apiKey,n.name)}async function hE(n,t,e=!1){if(ao(n.app))return Promise.reject(Qu(n));const r=Wp(n),a=uw(r,t),c=await new aE(r,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}const fE=600*1e3;class dE{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!pE(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!hw(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";e.onError(uo(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fE&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hy(t))}saveEventToCache(t){this.cachedEventUids.add(Hy(t)),this.lastProcessedEventTime=Date.now()}}function Hy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function hw({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function pE(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hw(n);default:return!1}}async function mE(n,t={}){return Ch(n,"GET","/v1/projects",t)}const gE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yE=/^https?/;async function vE(n){if(n.config.emulator)return;const{authorizedDomains:t}=await mE(n);for(const e of t)try{if(bE(e))return}catch{}Go(n,"unauthorized-domain")}function bE(n){const t=_1(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===r}if(!yE.test(e))return!1;if(gE.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const _E=new Gf(3e4,6e4);function Gy(){const n=Bo().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function wE(n){return new Promise((t,e)=>{function r(){Gy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Gy(),e(uo(n,"network-request-failed"))},timeout:_E.get()})}if(Bo().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Bo().gapi?.load)r();else{const a=E6("iframefcb");return Bo()[a]=()=>{gapi.load?r():e(uo(n,"network-request-failed"))},S6(`${x6()}?onload=${a}`).catch(o=>e(o))}}).catch(t=>{throw cp=null,t})}let cp=null;function AE(n){return cp=cp||wE(n),cp}const SE=new Gf(5e3,15e3),xE="__/auth/iframe",EE="emulator/auth/iframe",TE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CE(n){const t=n.config;Ye(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?a0(t,EE):`https://${n.config.authDomain}/${xE}`,r={apiKey:t.apiKey,appName:n.name,v:Nh},a=NE.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${e}?${Hf(r).slice(1)}`}async function IE(n){const t=await AE(n),e=Bo().gapi;return Ye(e,n,"internal-error"),t.open({where:document.body,url:CE(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TE,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const c=uo(n,"network-request-failed"),h=Bo().setTimeout(()=>{o(c)},SE.get());function d(){Bo().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{o(c)})}))}const RE={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LE=500,kE=600,DE="_blank",OE="http://localhost";class Yy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PE(n,t,e,r=LE,a=kE){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...RE,width:r.toString(),height:a.toString(),top:o,left:c},m=ys().toLowerCase();e&&(h=G_(m)?DE:e),q_(m)&&(t=t||OE,d.scrollbars="yes");const b=Object.entries(d).reduce((I,[w,Y])=>`${I}${w}=${Y},`,"");if(m6(m)&&h!=="_self")return ME(t||"",h),new Yy(null);const S=window.open(t||"",h,b);Ye(S,n,"popup-blocked");try{S.focus()}catch{}return new Yy(S)}function ME(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}const jE="__/auth/handler",UE="emulator/auth/handler",VE=encodeURIComponent("fac");async function Ky(n,t,e,r,a,o){Ye(n.config.authDomain,n,"auth-domain-config-required"),Ye(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Nh,eventId:a};if(t instanceof h0){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",MS(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,S]of Object.entries({}))c[b]=S}if(t instanceof Yf){const b=t.getScopes().filter(S=>S!=="");b.length>0&&(c.scopes=b.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const b of Object.keys(h))h[b]===void 0&&delete h[b];const d=await n._getAppCheckToken(),m=d?`#${VE}=${encodeURIComponent(d)}`:"";return`${BE(n)}?${Hf(h).slice(1)}${m}`}function BE({config:n}){return n.emulator?a0(n,UE):`https://${n.authDomain}/${jE}`}const Vg="webStorageSupport";class FE{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rw,this._completeRedirectFn=hE,this._overrideRedirectResult=lE}async _openPopup(t,e,r,a){Il(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Ky(t,e,r,_1(),a);return PE(t,o,f0())}async _openRedirect(t,e,r,a){await this._originValidation(t);const o=await Ky(t,e,r,_1(),a);return H6(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:o}=this.eventManagers[e];return a?Promise.resolve(a):(Il(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await IE(t),r=new dE(t);return e.register("authEvent",a=>(Ye(a?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Vg,{type:Vg},a=>{const o=a?.[0]?.[Vg];o!==void 0&&e(!!o),Go(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=vE(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Q_()||H_()||u0()}}const zE=FE;var $y="@firebase/auth",Xy="1.11.1";class qE{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function HE(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GE(n){vh(new nc("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;Ye(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:W_(n)},m=new w6(r,a,o,d);return N6(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),vh(new nc("auth-internal",t=>{const e=Wp(t.getProvider("auth").getImmediate());return(r=>new qE(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),vu($y,Xy,HE(n)),vu($y,Xy,"esm2020")}const YE=300,KE=N_("authIdTokenMaxAge")||YE;let Qy=null;const $E=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>KE)return;const a=e?.token;Qy!==a&&(Qy=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function XE(n=D_()){const t=i0(n,"auth");if(t.isInitialized())return t.getImmediate();const e=T6(n,{popupRedirectResolver:zE,persistence:[Z6,F6,rw]}),r=N_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=$E(o.toString());M6(e,c,()=>c(e.currentUser)),P6(e,h=>c(h))}}const a=E_("auth");return a&&C6(e,`http://${a}`),e}function QE(){return document.getElementsByTagName("head")?.[0]??document}A6({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=a=>{const o=uo("internal-error");o.customData=a,e(o)},r.type="text/javascript",r.charset="UTF-8",QE().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GE("Browser");var Wy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bu,fw;(function(){var n;function t(z,P){function N(){}N.prototype=P.prototype,z.F=P.prototype,z.prototype=new N,z.prototype.constructor=z,z.D=function(V,E,R){for(var D=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)D[rt-2]=arguments[rt];return P.prototype[E].apply(V,D)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(z,P,N){N||(N=0);const V=Array(16);if(typeof P=="string")for(var E=0;E<16;++E)V[E]=P.charCodeAt(N++)|P.charCodeAt(N++)<<8|P.charCodeAt(N++)<<16|P.charCodeAt(N++)<<24;else for(E=0;E<16;++E)V[E]=P[N++]|P[N++]<<8|P[N++]<<16|P[N++]<<24;P=z.g[0],N=z.g[1],E=z.g[2];let R=z.g[3],D;D=P+(R^N&(E^R))+V[0]+3614090360&4294967295,P=N+(D<<7&4294967295|D>>>25),D=R+(E^P&(N^E))+V[1]+3905402710&4294967295,R=P+(D<<12&4294967295|D>>>20),D=E+(N^R&(P^N))+V[2]+606105819&4294967295,E=R+(D<<17&4294967295|D>>>15),D=N+(P^E&(R^P))+V[3]+3250441966&4294967295,N=E+(D<<22&4294967295|D>>>10),D=P+(R^N&(E^R))+V[4]+4118548399&4294967295,P=N+(D<<7&4294967295|D>>>25),D=R+(E^P&(N^E))+V[5]+1200080426&4294967295,R=P+(D<<12&4294967295|D>>>20),D=E+(N^R&(P^N))+V[6]+2821735955&4294967295,E=R+(D<<17&4294967295|D>>>15),D=N+(P^E&(R^P))+V[7]+4249261313&4294967295,N=E+(D<<22&4294967295|D>>>10),D=P+(R^N&(E^R))+V[8]+1770035416&4294967295,P=N+(D<<7&4294967295|D>>>25),D=R+(E^P&(N^E))+V[9]+2336552879&4294967295,R=P+(D<<12&4294967295|D>>>20),D=E+(N^R&(P^N))+V[10]+4294925233&4294967295,E=R+(D<<17&4294967295|D>>>15),D=N+(P^E&(R^P))+V[11]+2304563134&4294967295,N=E+(D<<22&4294967295|D>>>10),D=P+(R^N&(E^R))+V[12]+1804603682&4294967295,P=N+(D<<7&4294967295|D>>>25),D=R+(E^P&(N^E))+V[13]+4254626195&4294967295,R=P+(D<<12&4294967295|D>>>20),D=E+(N^R&(P^N))+V[14]+2792965006&4294967295,E=R+(D<<17&4294967295|D>>>15),D=N+(P^E&(R^P))+V[15]+1236535329&4294967295,N=E+(D<<22&4294967295|D>>>10),D=P+(E^R&(N^E))+V[1]+4129170786&4294967295,P=N+(D<<5&4294967295|D>>>27),D=R+(N^E&(P^N))+V[6]+3225465664&4294967295,R=P+(D<<9&4294967295|D>>>23),D=E+(P^N&(R^P))+V[11]+643717713&4294967295,E=R+(D<<14&4294967295|D>>>18),D=N+(R^P&(E^R))+V[0]+3921069994&4294967295,N=E+(D<<20&4294967295|D>>>12),D=P+(E^R&(N^E))+V[5]+3593408605&4294967295,P=N+(D<<5&4294967295|D>>>27),D=R+(N^E&(P^N))+V[10]+38016083&4294967295,R=P+(D<<9&4294967295|D>>>23),D=E+(P^N&(R^P))+V[15]+3634488961&4294967295,E=R+(D<<14&4294967295|D>>>18),D=N+(R^P&(E^R))+V[4]+3889429448&4294967295,N=E+(D<<20&4294967295|D>>>12),D=P+(E^R&(N^E))+V[9]+568446438&4294967295,P=N+(D<<5&4294967295|D>>>27),D=R+(N^E&(P^N))+V[14]+3275163606&4294967295,R=P+(D<<9&4294967295|D>>>23),D=E+(P^N&(R^P))+V[3]+4107603335&4294967295,E=R+(D<<14&4294967295|D>>>18),D=N+(R^P&(E^R))+V[8]+1163531501&4294967295,N=E+(D<<20&4294967295|D>>>12),D=P+(E^R&(N^E))+V[13]+2850285829&4294967295,P=N+(D<<5&4294967295|D>>>27),D=R+(N^E&(P^N))+V[2]+4243563512&4294967295,R=P+(D<<9&4294967295|D>>>23),D=E+(P^N&(R^P))+V[7]+1735328473&4294967295,E=R+(D<<14&4294967295|D>>>18),D=N+(R^P&(E^R))+V[12]+2368359562&4294967295,N=E+(D<<20&4294967295|D>>>12),D=P+(N^E^R)+V[5]+4294588738&4294967295,P=N+(D<<4&4294967295|D>>>28),D=R+(P^N^E)+V[8]+2272392833&4294967295,R=P+(D<<11&4294967295|D>>>21),D=E+(R^P^N)+V[11]+1839030562&4294967295,E=R+(D<<16&4294967295|D>>>16),D=N+(E^R^P)+V[14]+4259657740&4294967295,N=E+(D<<23&4294967295|D>>>9),D=P+(N^E^R)+V[1]+2763975236&4294967295,P=N+(D<<4&4294967295|D>>>28),D=R+(P^N^E)+V[4]+1272893353&4294967295,R=P+(D<<11&4294967295|D>>>21),D=E+(R^P^N)+V[7]+4139469664&4294967295,E=R+(D<<16&4294967295|D>>>16),D=N+(E^R^P)+V[10]+3200236656&4294967295,N=E+(D<<23&4294967295|D>>>9),D=P+(N^E^R)+V[13]+681279174&4294967295,P=N+(D<<4&4294967295|D>>>28),D=R+(P^N^E)+V[0]+3936430074&4294967295,R=P+(D<<11&4294967295|D>>>21),D=E+(R^P^N)+V[3]+3572445317&4294967295,E=R+(D<<16&4294967295|D>>>16),D=N+(E^R^P)+V[6]+76029189&4294967295,N=E+(D<<23&4294967295|D>>>9),D=P+(N^E^R)+V[9]+3654602809&4294967295,P=N+(D<<4&4294967295|D>>>28),D=R+(P^N^E)+V[12]+3873151461&4294967295,R=P+(D<<11&4294967295|D>>>21),D=E+(R^P^N)+V[15]+530742520&4294967295,E=R+(D<<16&4294967295|D>>>16),D=N+(E^R^P)+V[2]+3299628645&4294967295,N=E+(D<<23&4294967295|D>>>9),D=P+(E^(N|~R))+V[0]+4096336452&4294967295,P=N+(D<<6&4294967295|D>>>26),D=R+(N^(P|~E))+V[7]+1126891415&4294967295,R=P+(D<<10&4294967295|D>>>22),D=E+(P^(R|~N))+V[14]+2878612391&4294967295,E=R+(D<<15&4294967295|D>>>17),D=N+(R^(E|~P))+V[5]+4237533241&4294967295,N=E+(D<<21&4294967295|D>>>11),D=P+(E^(N|~R))+V[12]+1700485571&4294967295,P=N+(D<<6&4294967295|D>>>26),D=R+(N^(P|~E))+V[3]+2399980690&4294967295,R=P+(D<<10&4294967295|D>>>22),D=E+(P^(R|~N))+V[10]+4293915773&4294967295,E=R+(D<<15&4294967295|D>>>17),D=N+(R^(E|~P))+V[1]+2240044497&4294967295,N=E+(D<<21&4294967295|D>>>11),D=P+(E^(N|~R))+V[8]+1873313359&4294967295,P=N+(D<<6&4294967295|D>>>26),D=R+(N^(P|~E))+V[15]+4264355552&4294967295,R=P+(D<<10&4294967295|D>>>22),D=E+(P^(R|~N))+V[6]+2734768916&4294967295,E=R+(D<<15&4294967295|D>>>17),D=N+(R^(E|~P))+V[13]+1309151649&4294967295,N=E+(D<<21&4294967295|D>>>11),D=P+(E^(N|~R))+V[4]+4149444226&4294967295,P=N+(D<<6&4294967295|D>>>26),D=R+(N^(P|~E))+V[11]+3174756917&4294967295,R=P+(D<<10&4294967295|D>>>22),D=E+(P^(R|~N))+V[2]+718787259&4294967295,E=R+(D<<15&4294967295|D>>>17),D=N+(R^(E|~P))+V[9]+3951481745&4294967295,z.g[0]=z.g[0]+P&4294967295,z.g[1]=z.g[1]+(E+(D<<21&4294967295|D>>>11))&4294967295,z.g[2]=z.g[2]+E&4294967295,z.g[3]=z.g[3]+R&4294967295}r.prototype.v=function(z,P){P===void 0&&(P=z.length);const N=P-this.blockSize,V=this.C;let E=this.h,R=0;for(;R<P;){if(E==0)for(;R<=N;)a(this,z,R),R+=this.blockSize;if(typeof z=="string"){for(;R<P;)if(V[E++]=z.charCodeAt(R++),E==this.blockSize){a(this,V),E=0;break}}else for(;R<P;)if(V[E++]=z[R++],E==this.blockSize){a(this,V),E=0;break}}this.h=E,this.o+=P},r.prototype.A=function(){var z=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);z[0]=128;for(var P=1;P<z.length-8;++P)z[P]=0;P=this.o*8;for(var N=z.length-8;N<z.length;++N)z[N]=P&255,P/=256;for(this.v(z),z=Array(16),P=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)z[P++]=this.g[N]>>>V&255;return z};function o(z,P){var N=h;return Object.prototype.hasOwnProperty.call(N,z)?N[z]:N[z]=P(z)}function c(z,P){this.h=P;const N=[];let V=!0;for(let E=z.length-1;E>=0;E--){const R=z[E]|0;V&&R==P||(N[E]=R,V=!1)}this.g=N}var h={};function d(z){return-128<=z&&z<128?o(z,function(P){return new c([P|0],P<0?-1:0)}):new c([z|0],z<0?-1:0)}function m(z){if(isNaN(z)||!isFinite(z))return S;if(z<0)return K(m(-z));const P=[];let N=1;for(let V=0;z>=N;V++)P[V]=z/N|0,N*=4294967296;return new c(P,0)}function b(z,P){if(z.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(z.charAt(0)=="-")return K(b(z.substring(1),P));if(z.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=m(Math.pow(P,8));let V=S;for(let R=0;R<z.length;R+=8){var E=Math.min(8,z.length-R);const D=parseInt(z.substring(R,R+E),P);E<8?(E=m(Math.pow(P,E)),V=V.j(E).add(m(D))):(V=V.j(N),V=V.add(m(D)))}return V}var S=d(0),I=d(1),w=d(16777216);n=c.prototype,n.m=function(){if(H(this))return-K(this).m();let z=0,P=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);z+=(V>=0?V:4294967296+V)*P,P*=4294967296}return z},n.toString=function(z){if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(Y(this))return"0";if(H(this))return"-"+K(this).toString(z);const P=m(Math.pow(z,6));var N=this;let V="";for(;;){const E=st(N,P).g;N=q(N,E.j(P));let R=((N.g.length>0?N.g[0]:N.h)>>>0).toString(z);if(N=E,Y(N))return R+V;for(;R.length<6;)R="0"+R;V=R+V}},n.i=function(z){return z<0?0:z<this.g.length?this.g[z]:this.h};function Y(z){if(z.h!=0)return!1;for(let P=0;P<z.g.length;P++)if(z.g[P]!=0)return!1;return!0}function H(z){return z.h==-1}n.l=function(z){return z=q(this,z),H(z)?-1:Y(z)?0:1};function K(z){const P=z.g.length,N=[];for(let V=0;V<P;V++)N[V]=~z.g[V];return new c(N,~z.h).add(I)}n.abs=function(){return H(this)?K(this):this},n.add=function(z){const P=Math.max(this.g.length,z.g.length),N=[];let V=0;for(let E=0;E<=P;E++){let R=V+(this.i(E)&65535)+(z.i(E)&65535),D=(R>>>16)+(this.i(E)>>>16)+(z.i(E)>>>16);V=D>>>16,R&=65535,D&=65535,N[E]=D<<16|R}return new c(N,N[N.length-1]&-2147483648?-1:0)};function q(z,P){return z.add(K(P))}n.j=function(z){if(Y(this)||Y(z))return S;if(H(this))return H(z)?K(this).j(K(z)):K(K(this).j(z));if(H(z))return K(this.j(K(z)));if(this.l(w)<0&&z.l(w)<0)return m(this.m()*z.m());const P=this.g.length+z.g.length,N=[];for(var V=0;V<2*P;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let E=0;E<z.g.length;E++){const R=this.i(V)>>>16,D=this.i(V)&65535,rt=z.i(E)>>>16,_t=z.i(E)&65535;N[2*V+2*E]+=D*_t,lt(N,2*V+2*E),N[2*V+2*E+1]+=R*_t,lt(N,2*V+2*E+1),N[2*V+2*E+1]+=D*rt,lt(N,2*V+2*E+1),N[2*V+2*E+2]+=R*rt,lt(N,2*V+2*E+2)}for(z=0;z<P;z++)N[z]=N[2*z+1]<<16|N[2*z];for(z=P;z<2*P;z++)N[z]=0;return new c(N,0)};function lt(z,P){for(;(z[P]&65535)!=z[P];)z[P+1]+=z[P]>>>16,z[P]&=65535,P++}function ot(z,P){this.g=z,this.h=P}function st(z,P){if(Y(P))throw Error("division by zero");if(Y(z))return new ot(S,S);if(H(z))return P=st(K(z),P),new ot(K(P.g),K(P.h));if(H(P))return P=st(z,K(P)),new ot(K(P.g),P.h);if(z.g.length>30){if(H(z)||H(P))throw Error("slowDivide_ only works with positive integers.");for(var N=I,V=P;V.l(z)<=0;)N=At(N),V=At(V);var E=kt(N,1),R=kt(V,1);for(V=kt(V,2),N=kt(N,2);!Y(V);){var D=R.add(V);D.l(z)<=0&&(E=E.add(N),R=D),V=kt(V,1),N=kt(N,1)}return P=q(z,E.j(P)),new ot(E,P)}for(E=S;z.l(P)>=0;){for(N=Math.max(1,Math.floor(z.m()/P.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),R=m(N),D=R.j(P);H(D)||D.l(z)>0;)N-=V,R=m(N),D=R.j(P);Y(R)&&(R=I),E=E.add(R),z=q(z,D)}return new ot(E,z)}n.B=function(z){return st(this,z).h},n.and=function(z){const P=Math.max(this.g.length,z.g.length),N=[];for(let V=0;V<P;V++)N[V]=this.i(V)&z.i(V);return new c(N,this.h&z.h)},n.or=function(z){const P=Math.max(this.g.length,z.g.length),N=[];for(let V=0;V<P;V++)N[V]=this.i(V)|z.i(V);return new c(N,this.h|z.h)},n.xor=function(z){const P=Math.max(this.g.length,z.g.length),N=[];for(let V=0;V<P;V++)N[V]=this.i(V)^z.i(V);return new c(N,this.h^z.h)};function At(z){const P=z.g.length+1,N=[];for(let V=0;V<P;V++)N[V]=z.i(V)<<1|z.i(V-1)>>>31;return new c(N,z.h)}function kt(z,P){const N=P>>5;P%=32;const V=z.g.length-N,E=[];for(let R=0;R<V;R++)E[R]=P>0?z.i(R+N)>>>P|z.i(R+N+1)<<32-P:z.i(R+N);return new c(E,z.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,fw=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=b,bu=c}).apply(typeof Wy<"u"?Wy:typeof self<"u"?self:typeof window<"u"?window:{});var Kd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dw,_f,pw,hp,S1,mw,gw,yw;(function(){var n,t=Object.defineProperty;function e(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kd=="object"&&Kd];for(var x=0;x<p.length;++x){var L=p[x];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=e(this);function a(p,x){if(x)t:{var L=r;p=p.split(".");for(var Q=0;Q<p.length-1;Q++){var St=p[Q];if(!(St in L))break t;L=L[St]}p=p[p.length-1],Q=L[p],x=x(Q),x!=Q&&x!=null&&t(L,p,{configurable:!0,writable:!0,value:x})}}a("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(p){return p||function(x){var L=[],Q;for(Q in x)Object.prototype.hasOwnProperty.call(x,Q)&&L.push([Q,x[Q]]);return L}});var o=o||{},c=this||self;function h(p){var x=typeof p;return x=="object"&&p!=null||x=="function"}function d(p,x,L){return p.call.apply(p.bind,arguments)}function m(p,x,L){return m=d,m.apply(null,arguments)}function b(p,x){var L=Array.prototype.slice.call(arguments,1);return function(){var Q=L.slice();return Q.push.apply(Q,arguments),p.apply(this,Q)}}function S(p,x){function L(){}L.prototype=x.prototype,p.Z=x.prototype,p.prototype=new L,p.prototype.constructor=p,p.Ob=function(Q,St,Lt){for(var Jt=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)Jt[ze-2]=arguments[ze];return x.prototype[St].apply(Q,Jt)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function w(p){const x=p.length;if(x>0){const L=Array(x);for(let Q=0;Q<x;Q++)L[Q]=p[Q];return L}return[]}function Y(p,x){for(let Q=1;Q<arguments.length;Q++){const St=arguments[Q];var L=typeof St;if(L=L!="object"?L:St?Array.isArray(St)?"array":L:"null",L=="array"||L=="object"&&typeof St.length=="number"){L=p.length||0;const Lt=St.length||0;p.length=L+Lt;for(let Jt=0;Jt<Lt;Jt++)p[L+Jt]=St[Jt]}else p.push(St)}}class H{constructor(x,L){this.i=x,this.j=L,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function K(p){c.setTimeout(()=>{throw p},0)}function q(){var p=z;let x=null;return p.g&&(x=p.g,p.g=p.g.next,p.g||(p.h=null),x.next=null),x}class lt{constructor(){this.h=this.g=null}add(x,L){const Q=ot.get();Q.set(x,L),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var ot=new H(()=>new st,p=>p.reset());class st{constructor(){this.next=this.g=this.h=null}set(x,L){this.h=x,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let At,kt=!1,z=new lt,P=()=>{const p=Promise.resolve(void 0);At=()=>{p.then(N)}};function N(){for(var p;p=q();){try{p.h.call(p.g)}catch(L){K(L)}var x=ot;x.j(p),x.h<100&&(x.h++,p.next=x.g,x.g=p)}kt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function E(p,x){this.type=p,this.g=this.target=x,this.defaultPrevented=!1}E.prototype.h=function(){this.defaultPrevented=!0};var R=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,x=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const L=()=>{};c.addEventListener("test",L,x),c.removeEventListener("test",L,x)}catch{}return p})();function D(p){return/^[\s\xa0]*$/.test(p)}function rt(p,x){E.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,x)}S(rt,E),rt.prototype.init=function(p,x){const L=this.type=p.type,Q=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=x,x=p.relatedTarget,x||(L=="mouseover"?x=p.fromElement:L=="mouseout"&&(x=p.toElement)),this.relatedTarget=x,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var _t="closure_listenable_"+(Math.random()*1e6|0),it=0;function dt(p,x,L,Q,St){this.listener=p,this.proxy=null,this.src=x,this.type=L,this.capture=!!Q,this.ha=St,this.key=++it,this.da=this.fa=!1}function ft(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function vt(p,x,L){for(const Q in p)x.call(L,p[Q],Q,p)}function Mt(p,x){for(const L in p)x.call(void 0,p[L],L,p)}function W(p){const x={};for(const L in p)x[L]=p[L];return x}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(p,x){let L,Q;for(let St=1;St<arguments.length;St++){Q=arguments[St];for(L in Q)p[L]=Q[L];for(let Lt=0;Lt<k.length;Lt++)L=k[Lt],Object.prototype.hasOwnProperty.call(Q,L)&&(p[L]=Q[L])}}function Z(p){this.src=p,this.g={},this.h=0}Z.prototype.add=function(p,x,L,Q,St){const Lt=p.toString();p=this.g[Lt],p||(p=this.g[Lt]=[],this.h++);const Jt=ut(p,x,Q,St);return Jt>-1?(x=p[Jt],L||(x.fa=!1)):(x=new dt(x,this.src,Lt,!!Q,St),x.fa=L,p.push(x)),x};function at(p,x){const L=x.type;if(L in p.g){var Q=p.g[L],St=Array.prototype.indexOf.call(Q,x,void 0),Lt;(Lt=St>=0)&&Array.prototype.splice.call(Q,St,1),Lt&&(ft(x),p.g[L].length==0&&(delete p.g[L],p.h--))}}function ut(p,x,L,Q){for(let St=0;St<p.length;++St){const Lt=p[St];if(!Lt.da&&Lt.listener==x&&Lt.capture==!!L&&Lt.ha==Q)return St}return-1}var gt="closure_lm_"+(Math.random()*1e6|0),Rt={};function Ct(p,x,L,Q,St){if(Array.isArray(x)){for(let Lt=0;Lt<x.length;Lt++)Ct(p,x[Lt],L,Q,St);return null}return L=ie(L),p&&p[_t]?p.J(x,L,h(Q)?!!Q.capture:!1,St):Bt(p,x,L,!1,Q,St)}function Bt(p,x,L,Q,St,Lt){if(!x)throw Error("Invalid event type");const Jt=h(St)?!!St.capture:!!St;let ze=Vt(p);if(ze||(p[gt]=ze=new Z(p)),L=ze.add(x,L,Q,Jt,Lt),L.proxy)return L;if(Q=Xt(),L.proxy=Q,Q.src=p,Q.listener=L,p.addEventListener)R||(St=Jt),St===void 0&&(St=!1),p.addEventListener(x.toString(),Q,St);else if(p.attachEvent)p.attachEvent(oe(x.toString()),Q);else if(p.addListener&&p.removeListener)p.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return L}function Xt(){function p(L){return x.call(p.src,p.listener,L)}const x=M;return p}function te(p,x,L,Q,St){if(Array.isArray(x))for(var Lt=0;Lt<x.length;Lt++)te(p,x[Lt],L,Q,St);else Q=h(Q)?!!Q.capture:!!Q,L=ie(L),p&&p[_t]?(p=p.i,Lt=String(x).toString(),Lt in p.g&&(x=p.g[Lt],L=ut(x,L,Q,St),L>-1&&(ft(x[L]),Array.prototype.splice.call(x,L,1),x.length==0&&(delete p.g[Lt],p.h--)))):p&&(p=Vt(p))&&(x=p.g[x.toString()],p=-1,x&&(p=ut(x,L,Q,St)),(L=p>-1?x[p]:null)&&ee(L))}function ee(p){if(typeof p!="number"&&p&&!p.da){var x=p.src;if(x&&x[_t])at(x.i,p);else{var L=p.type,Q=p.proxy;x.removeEventListener?x.removeEventListener(L,Q,p.capture):x.detachEvent?x.detachEvent(oe(L),Q):x.addListener&&x.removeListener&&x.removeListener(Q),(L=Vt(x))?(at(L,p),L.h==0&&(L.src=null,x[gt]=null)):ft(p)}}}function oe(p){return p in Rt?Rt[p]:Rt[p]="on"+p}function M(p,x){if(p.da)p=!0;else{x=new rt(x,this);const L=p.listener,Q=p.ha||p.src;p.fa&&ee(p),p=L.call(Q,x)}return p}function Vt(p){return p=p[gt],p instanceof Z?p:null}var ce="__closure_events_fn_"+(Math.random()*1e9>>>0);function ie(p){return typeof p=="function"?p:(p[ce]||(p[ce]=function(x){return p.handleEvent(x)}),p[ce])}function jt(){V.call(this),this.i=new Z(this),this.M=this,this.G=null}S(jt,V),jt.prototype[_t]=!0,jt.prototype.removeEventListener=function(p,x,L,Q){te(this,p,x,L,Q)};function ne(p,x){var L,Q=p.G;if(Q)for(L=[];Q;Q=Q.G)L.push(Q);if(p=p.M,Q=x.type||x,typeof x=="string")x=new E(x,p);else if(x instanceof E)x.target=x.target||p;else{var St=x;x=new E(Q,p),$(x,St)}St=!0;let Lt,Jt;if(L)for(Jt=L.length-1;Jt>=0;Jt--)Lt=x.g=L[Jt],St=re(Lt,Q,!0,x)&&St;if(Lt=x.g=p,St=re(Lt,Q,!0,x)&&St,St=re(Lt,Q,!1,x)&&St,L)for(Jt=0;Jt<L.length;Jt++)Lt=x.g=L[Jt],St=re(Lt,Q,!1,x)&&St}jt.prototype.N=function(){if(jt.Z.N.call(this),this.i){var p=this.i;for(const x in p.g){const L=p.g[x];for(let Q=0;Q<L.length;Q++)ft(L[Q]);delete p.g[x],p.h--}}this.G=null},jt.prototype.J=function(p,x,L,Q){return this.i.add(String(p),x,!1,L,Q)},jt.prototype.K=function(p,x,L,Q){return this.i.add(String(p),x,!0,L,Q)};function re(p,x,L,Q){if(x=p.i.g[String(x)],!x)return!0;x=x.concat();let St=!0;for(let Lt=0;Lt<x.length;++Lt){const Jt=x[Lt];if(Jt&&!Jt.da&&Jt.capture==L){const ze=Jt.listener,Jn=Jt.ha||Jt.src;Jt.fa&&at(p.i,Jt),St=ze.call(Jn,Q)!==!1&&St}}return St&&!Q.defaultPrevented}function Ne(p,x){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=m(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:c.setTimeout(p,x||0)}function _e(p){p.g=Ne(()=>{p.g=null,p.i&&(p.i=!1,_e(p))},p.l);const x=p.h;p.h=null,p.m.apply(null,x)}class Ke extends V{constructor(x,L){super(),this.m=x,this.l=L,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:_e(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Je(p){V.call(this),this.h=p,this.g={}}S(Je,V);var Be=[];function sn(p){vt(p.g,function(x,L){this.g.hasOwnProperty(L)&&ee(x)},p),p.g={}}Je.prototype.N=function(){Je.Z.N.call(this),sn(this)},Je.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xe=c.JSON.stringify,ge=c.JSON.parse,qe=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function ye(){}function ui(){}var Qe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ee(){E.call(this,"d")}S(Ee,E);function Me(){E.call(this,"c")}S(Me,E);var $e={},Ae=null;function In(){return Ae=Ae||new jt}$e.Ia="serverreachability";function Oe(p){E.call(this,$e.Ia,p)}S(Oe,E);function Pe(p){const x=In();ne(x,new Oe(x))}$e.STAT_EVENT="statevent";function kn(p,x){E.call(this,$e.STAT_EVENT,p),this.stat=x}S(kn,E);function we(p){const x=In();ne(x,new kn(x,p))}$e.Ja="timingevent";function ve(p,x){E.call(this,$e.Ja,p),this.size=x}S(ve,E);function an(p,x){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},x)}function lr(){this.g=!0}lr.prototype.ua=function(){this.g=!1};function Wi(p,x,L,Q,St,Lt){p.info(function(){if(p.g)if(Lt){var Jt="",ze=Lt.split("&");for(let ln=0;ln<ze.length;ln++){var Jn=ze[ln].split("=");if(Jn.length>1){const Pn=Jn[0];Jn=Jn[1];const er=Pn.split("_");Jt=er.length>=2&&er[1]=="type"?Jt+(Pn+"="+Jn+"&"):Jt+(Pn+"=redacted&")}}}else Jt=null;else Jt=Lt;return"XMLHTTP REQ ("+Q+") [attempt "+St+"]: "+x+`
`+L+`
`+Jt})}function Cs(p,x,L,Q,St,Lt,Jt){p.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+St+"]: "+x+`
`+L+`
`+Lt+" "+Jt})}function zi(p,x,L,Q){p.info(function(){return"XMLHTTP TEXT ("+x+"): "+Js(p,L)+(Q?" "+Q:"")})}function Se(p,x){p.info(function(){return"TIMEOUT: "+x})}lr.prototype.info=function(){};function Js(p,x){if(!p.g)return x;if(!x)return null;try{const Lt=JSON.parse(x);if(Lt){for(p=0;p<Lt.length;p++)if(Array.isArray(Lt[p])){var L=Lt[p];if(!(L.length<2)){var Q=L[1];if(Array.isArray(Q)&&!(Q.length<1)){var St=Q[0];if(St!="noop"&&St!="stop"&&St!="close")for(let Jt=1;Jt<Q.length;Jt++)Q[Jt]=""}}}}return Xe(Lt)}catch{return x}}var Vr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Sr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xr;function Fn(){}S(Fn,ye),Fn.prototype.g=function(){return new XMLHttpRequest},xr=new Fn;function Qn(p){return encodeURIComponent(String(p))}function ki(p){var x=1;p=p.split(":");const L=[];for(;x>0&&p.length;)L.push(p.shift()),x--;return p.length&&L.push(p.join(":")),L}function ur(p,x,L,Q){this.j=p,this.i=x,this.l=L,this.S=Q||1,this.V=new Je(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ji}function Ji(){this.i=null,this.g="",this.h=!1}var Dn={},Hn={};function Di(p,x,L){p.M=1,p.A=ya(yi(x)),p.u=L,p.R=!0,Er(p,null)}function Er(p,x){p.F=Date.now(),Tr(p),p.B=yi(p.A);var L=p.B,Q=p.S;Array.isArray(Q)||(Q=[String(Q)]),yo(L.i,"t",Q),p.C=0,L=p.j.L,p.h=new Ji,p.g=le(p.j,L?x:null,!p.u),p.P>0&&(p.O=new Ke(m(p.Y,p,p.g),p.P)),x=p.V,L=p.g,Q=p.ba;var St="readystatechange";Array.isArray(St)||(St&&(Be[0]=St.toString()),St=Be);for(let Lt=0;Lt<St.length;Lt++){const Jt=Ct(L,St[Lt],Q||x.handleEvent,!1,x.h||x);if(!Jt)break;x.g[Jt.key]=Jt}x=p.J?W(p.J):{},p.u?(p.v||(p.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,x)):(p.v="GET",p.g.ea(p.B,p.v,null,x)),Pe(),Wi(p.i,p.v,p.B,p.l,p.S,p.u)}ur.prototype.ba=function(p){p=p.target;const x=this.O;x&&Gr(p)==3?x.j():this.Y(p)},ur.prototype.Y=function(p){try{if(p==this.g)t:{const ze=Gr(this.g),Jn=this.g.ya(),ln=this.g.ca();if(!(ze<3)&&(ze!=3||this.g&&(this.h.h||this.g.la()||Ei(this.g)))){this.K||ze!=4||Jn==7||(Jn==8||ln<=0?Pe(3):Pe(2)),Br(this);var x=this.g.ca();this.X=x;var L=ns(this);if(this.o=x==200,Cs(this.i,this.v,this.B,this.l,this.S,ze,x),this.o){if(this.U&&!this.L){e:{if(this.g){var Q,St=this.g;if((Q=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(Q)){var Lt=Q;break e}}Lt=null}if(p=Lt)zi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,is(this,p);else{this.o=!1,this.m=3,we(12),Fr(this),cr(this);break t}}if(this.R){p=!0;let Pn;for(;!this.K&&this.C<L.length;)if(Pn=vs(this,L),Pn==Hn){ze==4&&(this.m=4,we(14),p=!1),zi(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==Dn){this.m=4,we(15),zi(this.i,this.l,L,"[Invalid Chunk]"),p=!1;break}else zi(this.i,this.l,Pn,null),is(this,Pn);if(ga(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||L.length!=0||this.h.h||(this.m=1,we(16),p=!1),this.o=this.o&&p,!p)zi(this.i,this.l,L,"[Invalid Chunked Response]"),Fr(this),cr(this);else if(L.length>0&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.aa&&!Jt.P&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),wo(Jt),Jt.P=!0,we(11))}}else zi(this.i,this.l,L,null),is(this,L);ze==4&&Fr(this),this.o&&!this.K&&(ze==4?et(this.j,this):(this.o=!1,Tr(this)))}else Is(this.g),x==400&&L.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),Fr(this),cr(this)}}}catch{}finally{}};function ns(p){if(!ga(p))return p.g.la();const x=Ei(p.g);if(x==="")return"";let L="";const Q=x.length,St=Gr(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Fr(p),cr(p),"";p.h.i=new c.TextDecoder}for(let Lt=0;Lt<Q;Lt++)p.h.h=!0,L+=p.h.i.decode(x[Lt],{stream:!(St&&Lt==Q-1)});return x.length=0,p.h.g+=L,p.C=0,p.h.g}function ga(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function vs(p,x){var L=p.C,Q=x.indexOf(`
`,L);return Q==-1?Hn:(L=Number(x.substring(L,Q)),isNaN(L)?Dn:(Q+=1,Q+L>x.length?Hn:(x=x.slice(Q,Q+L),p.C=Q+L,x)))}ur.prototype.cancel=function(){this.K=!0,Fr(this)};function Tr(p){p.T=Date.now()+p.H,Zs(p,p.H)}function Zs(p,x){if(p.D!=null)throw Error("WatchDog timer not null");p.D=an(m(p.aa,p),x)}function Br(p){p.D&&(c.clearTimeout(p.D),p.D=null)}ur.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(Se(this.i,this.B),this.M!=2&&(Pe(),we(17)),Fr(this),this.m=2,cr(this)):Zs(this,this.T-p)};function cr(p){p.j.I==0||p.K||et(p.j,p)}function Fr(p){Br(p);var x=p.O;x&&typeof x.dispose=="function"&&x.dispose(),p.O=null,sn(p.V),p.g&&(x=p.g,p.g=null,x.abort(),x.dispose())}function is(p,x){try{var L=p.j;if(L.I!=0&&(L.g==p||bs(L.h,p))){if(!p.L&&bs(L.h,p)&&L.I==3){try{var Q=L.Ba.g.parse(x)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var St=Q;if(St[0]==0){t:if(!L.v){if(L.g)if(L.g.F+3e3<p.F)j(L),Ls(L);else break t;As(L),we(18)}}else L.xa=St[1],0<L.xa-L.K&&St[2]<37500&&L.F&&L.A==0&&!L.C&&(L.C=an(m(L.Va,L),6e3));rs(L.h)<=1&&L.ta&&(L.ta=void 0)}else bt(L,11)}else if((p.L||L.g==p)&&j(L),!D(x))for(St=L.Ba.g.parse(x),x=0;x<St.length;x++){let ln=St[x];const Pn=ln[0];if(!(Pn<=L.K))if(L.K=Pn,ln=ln[1],L.I==2)if(ln[0]=="c"){L.M=ln[1],L.ba=ln[2];const er=ln[3];er!=null&&(L.ka=er,L.j.info("VER="+L.ka));const fr=ln[4];fr!=null&&(L.za=fr,L.j.info("SVER="+L.za));const Gn=ln[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(Q=1.5*Gn,L.O=Q,L.j.info("backChannelRequestTimeoutMs_="+Q)),Q=L;const dr=p.g;if(dr){const Ss=dr.g?dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var Lt=Q.h;Lt.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(Lt.j=Lt.l,Lt.g=new Set,Lt.h&&(Ua(Lt,Lt.h),Lt.h=null))}if(Q.G){const Aa=dr.g?dr.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(Q.wa=Aa,yn(Q.J,Q.G,Aa))}}L.I=3,L.l&&L.l.ra(),L.aa&&(L.T=Date.now()-p.F,L.j.info("Handshake RTT: "+L.T+"ms")),Q=L;var Jt=p;if(Q.na=Kt(Q,Q.L?Q.ba:null,Q.W),Jt.L){mo(Q.h,Jt);var ze=Jt,Jn=Q.O;Jn&&(ze.H=Jn),ze.D&&(Br(ze),Tr(ze)),Q.g=Jt}else el(Q);L.i.length>0&&as(L)}else ln[0]!="stop"&&ln[0]!="close"||bt(L,7);else L.I==3&&(ln[0]=="stop"||ln[0]=="close"?ln[0]=="stop"?bt(L,7):wa(L):ln[0]!="noop"&&L.l&&L.l.qa(ln),L.A=0)}}Pe(4)}catch{}}var ci=class{constructor(p,x){this.g=p,this.map=x}};function po(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nr(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function rs(p){return p.h?1:p.g?p.g.size:0}function bs(p,x){return p.h?p.h==x:p.g?p.g.has(x):!1}function Ua(p,x){p.g?p.g.add(x):p.h=x}function mo(p,x){p.h&&p.h==x?p.h=null:p.g&&p.g.has(x)&&p.g.delete(x)}po.prototype.cancel=function(){if(this.i=go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function go(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let x=p.i;for(const L of p.g.values())x=x.concat(L.G);return x}return w(p.i)}var Xo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zr(p,x){if(p){p=p.split("&");for(let L=0;L<p.length;L++){const Q=p[L].indexOf("=");let St,Lt=null;Q>=0?(St=p[L].substring(0,Q),Lt=p[L].substring(Q+1)):St=p[L],x(St,Lt?decodeURIComponent(Lt.replace(/\+/g," ")):"")}}}function Zi(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;p instanceof Zi?(this.l=p.l,cn(this,p.j),this.o=p.o,this.g=p.g,ta(this,p.u),this.h=p.h,ss(this,vo(p.i)),this.m=p.m):p&&(x=String(p).match(Xo))?(this.l=!1,cn(this,x[1]||"",!0),this.o=xi(x[2]||""),this.g=xi(x[3]||"",!0),ta(this,x[4]),this.h=xi(x[5]||"",!0),ss(this,x[6]||"",!0),this.m=xi(x[7]||"")):(this.l=!1,this.i=new ea(null,this.l))}Zi.prototype.toString=function(){const p=[];var x=this.j;x&&p.push(ri(x,Va,!0),":");var L=this.g;return(L||x=="file")&&(p.push("//"),(x=this.o)&&p.push(ri(x,Va,!0),"@"),p.push(Qn(L).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.u,L!=null&&p.push(":",String(L))),(L=this.h)&&(this.g&&L.charAt(0)!="/"&&p.push("/"),p.push(ri(L,L.charAt(0)=="/"?Qo:Dl,!0))),(L=this.i.toString())&&p.push("?",L),(L=this.m)&&p.push("#",ri(L,Wo)),p.join("")},Zi.prototype.resolve=function(p){const x=yi(this);let L=!!p.j;L?cn(x,p.j):L=!!p.o,L?x.o=p.o:L=!!p.g,L?x.g=p.g:L=p.u!=null;var Q=p.h;if(L)ta(x,p.u);else if(L=!!p.h){if(Q.charAt(0)!="/")if(this.g&&!this.h)Q="/"+Q;else{var St=x.h.lastIndexOf("/");St!=-1&&(Q=x.h.slice(0,St+1)+Q)}if(St=Q,St==".."||St==".")Q="";else if(St.indexOf("./")!=-1||St.indexOf("/.")!=-1){Q=St.lastIndexOf("/",0)==0,St=St.split("/");const Lt=[];for(let Jt=0;Jt<St.length;){const ze=St[Jt++];ze=="."?Q&&Jt==St.length&&Lt.push(""):ze==".."?((Lt.length>1||Lt.length==1&&Lt[0]!="")&&Lt.pop(),Q&&Jt==St.length&&Lt.push("")):(Lt.push(ze),Q=!0)}Q=Lt.join("/")}else Q=St}return L?x.h=Q:L=p.i.toString()!=="",L?ss(x,vo(p.i)):L=!!p.m,L&&(x.m=p.m),x};function yi(p){return new Zi(p)}function cn(p,x,L){p.j=L?xi(x,!0):x,p.j&&(p.j=p.j.replace(/:$/,""))}function ta(p,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);p.u=x}else p.u=null}function ss(p,x,L){x instanceof ea?(p.i=x,Cr(p.i,p.l)):(L||(x=ri(x,hr)),p.i=new ea(x,p.l))}function yn(p,x,L){p.i.set(x,L)}function ya(p){return yn(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function xi(p,x){return p?x?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function ri(p,x,L){return typeof p=="string"?(p=encodeURI(p).replace(x,vi),L&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function vi(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Va=/[#\/\?@]/g,Dl=/[#\?:]/g,Qo=/[#\?]/g,hr=/[#\?@]/g,Wo=/#/g;function ea(p,x){this.h=this.g=null,this.i=p||null,this.j=!!x}function qi(p){p.g||(p.g=new Map,p.h=0,p.i&&zr(p.i,function(x,L){p.add(decodeURIComponent(x.replace(/\+/g," ")),L)}))}n=ea.prototype,n.add=function(p,x){qi(this),this.i=null,p=na(this,p);let L=this.g.get(p);return L||this.g.set(p,L=[]),L.push(x),this.h+=1,this};function va(p,x){qi(p),x=na(p,x),p.g.has(x)&&(p.i=null,p.h-=p.g.get(x).length,p.g.delete(x))}function Jo(p,x){return qi(p),x=na(p,x),p.g.has(x)}n.forEach=function(p,x){qi(this),this.g.forEach(function(L,Q){L.forEach(function(St){p.call(x,St,Q,this)},this)},this)};function Zo(p,x){qi(p);let L=[];if(typeof x=="string")Jo(p,x)&&(L=L.concat(p.g.get(na(p,x))));else for(p=Array.from(p.g.values()),x=0;x<p.length;x++)L=L.concat(p[x]);return L}n.set=function(p,x){return qi(this),this.i=null,p=na(this,p),Jo(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[x]),this.h+=1,this},n.get=function(p,x){return p?(p=Zo(this,p),p.length>0?String(p[0]):x):x};function yo(p,x,L){va(p,x),L.length>0&&(p.i=null,p.g.set(na(p,x),w(L)),p.h+=L.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],x=Array.from(this.g.keys());for(let Q=0;Q<x.length;Q++){var L=x[Q];const St=Qn(L);L=Zo(this,L);for(let Lt=0;Lt<L.length;Lt++){let Jt=St;L[Lt]!==""&&(Jt+="="+Qn(L[Lt])),p.push(Jt)}}return this.i=p.join("&")};function vo(p){const x=new ea;return x.i=p.i,p.g&&(x.g=new Map(p.g),x.h=p.h),x}function na(p,x){return x=String(x),p.j&&(x=x.toLowerCase()),x}function Cr(p,x){x&&!p.j&&(qi(p),p.i=null,p.g.forEach(function(L,Q){const St=Q.toLowerCase();Q!=St&&(va(this,Q),yo(this,St,L))},p)),p.j=x}function _s(p,x){const L=new lr;if(c.Image){const Q=new Image;Q.onload=b(Ir,L,"TestLoadImage: loaded",!0,x,Q),Q.onerror=b(Ir,L,"TestLoadImage: error",!1,x,Q),Q.onabort=b(Ir,L,"TestLoadImage: abort",!1,x,Q),Q.ontimeout=b(Ir,L,"TestLoadImage: timeout",!1,x,Q),c.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=p}else x(!1)}function ia(p,x){const L=new lr,Q=new AbortController,St=setTimeout(()=>{Q.abort(),Ir(L,"TestPingServer: timeout",!1,x)},1e4);fetch(p,{signal:Q.signal}).then(Lt=>{clearTimeout(St),Lt.ok?Ir(L,"TestPingServer: ok",!0,x):Ir(L,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(St),Ir(L,"TestPingServer: error",!1,x)})}function Ir(p,x,L,Q,St){try{St&&(St.onload=null,St.onerror=null,St.onabort=null,St.ontimeout=null),Q(L)}catch{}}function ba(){this.g=new qe}function Ce(p){this.i=p.Sb||null,this.h=p.ab||!1}S(Ce,ye),Ce.prototype.g=function(){return new Ba(this.i,this.h)};function Ba(p,x){jt.call(this),this.H=p,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Ba,jt),n=Ba.prototype,n.open=function(p,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=x,this.readyState=1,Hi(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(x.body=p),(this.H||c).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_a(this)),this.readyState=0},n.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Hi(this)),this.g&&(this.readyState=3,Hi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bo(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function bo(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}n.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var x=p.value?p.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!p.done}))&&(this.response=this.responseText+=x)}p.done?_a(this):Hi(this),this.readyState==3&&bo(this)}},n.Oa=function(p){this.g&&(this.response=this.responseText=p,_a(this))},n.Na=function(p){this.g&&(this.response=p,_a(this))},n.ga=function(){this.g&&_a(this)};function _a(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Hi(p)}n.setRequestHeader=function(p,x){this.A.append(p,x)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],x=this.h.entries();for(var L=x.next();!L.done;)L=L.value,p.push(L[0]+": "+L[1]),L=x.next();return p.join(`\r
`)};function Hi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Ba.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Oi(p){let x="";return vt(p,function(L,Q){x+=Q,x+=":",x+=L,x+=`\r
`}),x}function Fa(p,x,L){t:{for(Q in L){var Q=!1;break t}Q=!0}Q||(L=Oi(L),typeof p=="string"?L!=null&&Qn(L):yn(p,x,L))}function On(p){jt.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(On,jt);var qr=/^https?$/i,za=["POST","PUT"];n=On.prototype,n.Fa=function(p){this.H=p},n.ea=function(p,x,L,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);x=x?x.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xr.g(),this.g.onreadystatechange=I(m(this.Ca,this));try{this.B=!0,this.g.open(x,String(p),!0),this.B=!1}catch(Lt){ws(this,Lt);return}if(p=L||"",L=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var St in Q)L.set(St,Q[St]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const Lt of Q.keys())L.set(Lt,Q.get(Lt));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(L.keys()).find(Lt=>Lt.toLowerCase()=="content-type"),St=c.FormData&&p instanceof c.FormData,!(Array.prototype.indexOf.call(za,x,void 0)>=0)||Q||St||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Lt,Jt]of L)this.g.setRequestHeader(Lt,Jt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(Lt){ws(this,Lt)}};function ws(p,x){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=x,p.o=5,tl(p),ra(p)}function tl(p){p.A||(p.A=!0,ne(p,"complete"),ne(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,ne(this,"complete"),ne(this,"abort"),ra(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ra(this,!0)),On.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Hr(this):this.Xa())},n.Xa=function(){Hr(this)};function Hr(p){if(p.h&&typeof o<"u"){if(p.v&&Gr(p)==4)setTimeout(p.Ca.bind(p),0);else if(ne(p,"readystatechange"),Gr(p)==4){p.h=!1;try{const Lt=p.ca();t:switch(Lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break t;default:x=!1}var L;if(!(L=x)){var Q;if(Q=Lt===0){let Jt=String(p.D).match(Xo)[1]||null;!Jt&&c.self&&c.self.location&&(Jt=c.self.location.protocol.slice(0,-1)),Q=!qr.test(Jt?Jt.toLowerCase():"")}L=Q}if(L)ne(p,"complete"),ne(p,"success");else{p.o=6;try{var St=Gr(p)>2?p.g.statusText:""}catch{St=""}p.l=St+" ["+p.ca()+"]",tl(p)}}finally{ra(p)}}}}function ra(p,x){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const L=p.g;p.g=null,x||ne(p,"ready");try{L.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Gr(p){return p.g?p.g.readyState:0}n.ca=function(){try{return Gr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(p){if(this.g){var x=this.g.responseText;return p&&x.indexOf(p)==0&&(x=x.substring(p.length)),ge(x)}};function Ei(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Is(p){const x={};p=(p.g&&Gr(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<p.length;Q++){if(D(p[Q]))continue;var L=ki(p[Q]);const St=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const Lt=x[St]||[];x[St]=Lt,Lt.push(L)}Mt(x,function(Q){return Q.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function tr(p,x,L){return L&&L.internalChannelParams&&L.internalChannelParams[p]||x}function Rs(p){this.za=0,this.i=[],this.j=new lr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=tr("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=tr("baseRetryDelayMs",5e3,p),this.Za=tr("retryDelaySeedMs",1e4,p),this.Ta=tr("forwardChannelMaxRetries",2,p),this.va=tr("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new po(p&&p.concurrentRequestLimit),this.Ba=new ba,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Rs.prototype,n.ka=8,n.I=1,n.connect=function(p,x,L,Q){we(0),this.W=p,this.H=x||{},L&&Q!==void 0&&(this.H.OSID=L,this.H.OAID=Q),this.F=this.X,this.J=Kt(this,null,this.W),as(this)};function wa(p){if(ks(p),p.I==3){var x=p.V++,L=yi(p.J);if(yn(L,"SID",p.M),yn(L,"RID",x),yn(L,"TYPE","terminate"),Yr(p,L),x=new ur(p,p.j,x),x.M=2,x.A=ya(yi(L)),L=!1,c.navigator&&c.navigator.sendBeacon)try{L=c.navigator.sendBeacon(x.A.toString(),"")}catch{}!L&&c.Image&&(new Image().src=x.A,L=!0),L||(x.g=le(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Tr(x)}Ft(p)}function Ls(p){p.g&&(wo(p),p.g.cancel(),p.g=null)}function ks(p){Ls(p),p.v&&(c.clearTimeout(p.v),p.v=null),j(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&c.clearTimeout(p.m),p.m=null)}function as(p){if(!Nr(p.h)&&!p.m){p.m=!0;var x=p.Ea;At||P(),kt||(At(),kt=!0),z.add(x,p),p.D=0}}function qa(p,x){return rs(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=x.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=an(m(p.Ea,p,x),ht(p,p.D)),p.D++,!0)}n.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const St=new ur(this,this.j,p);let Lt=this.o;if(this.U&&(Lt?(Lt=W(Lt),$(Lt,this.U)):Lt=this.U),this.u!==null||this.R||(St.J=Lt,Lt=null),this.S)t:{for(var x=0,L=0;L<this.i.length;L++){e:{var Q=this.i[L];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break e}Q=void 0}if(Q===void 0)break;if(x+=Q,x>4096){x=L;break t}if(x===4096||L===this.i.length-1){x=L+1;break t}}x=1e3}else x=1e3;x=Ds(this,St,x),L=yi(this.J),yn(L,"RID",p),yn(L,"CVER",22),this.G&&yn(L,"X-HTTP-Session-Id",this.G),Yr(this,L),Lt&&(this.R?x="headers="+Qn(Oi(Lt))+"&"+x:this.u&&Fa(L,this.u,Lt)),Ua(this.h,St),this.Ra&&yn(L,"TYPE","init"),this.S?(yn(L,"$req",x),yn(L,"SID","null"),St.U=!0,Di(St,L,null)):Di(St,L,x),this.I=2}}else this.I==3&&(p?_o(this,p):this.i.length==0||Nr(this.h)||_o(this))};function _o(p,x){var L;x?L=x.l:L=p.V++;const Q=yi(p.J);yn(Q,"SID",p.M),yn(Q,"RID",L),yn(Q,"AID",p.K),Yr(p,Q),p.u&&p.o&&Fa(Q,p.u,p.o),L=new ur(p,p.j,L,p.D+1),p.u===null&&(L.J=p.o),x&&(p.i=x.G.concat(p.i)),x=Ds(p,L,1e3),L.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Ua(p.h,L),Di(L,Q,x)}function Yr(p,x){p.H&&vt(p.H,function(L,Q){yn(x,Q,L)}),p.l&&vt({},function(L,Q){yn(x,Q,L)})}function Ds(p,x,L){L=Math.min(p.i.length,L);const Q=p.l?m(p.l.Ka,p.l,p):null;t:{var St=p.i;let ze=-1;for(;;){const Jn=["count="+L];ze==-1?L>0?(ze=St[0].g,Jn.push("ofs="+ze)):ze=0:Jn.push("ofs="+ze);let ln=!0;for(let Pn=0;Pn<L;Pn++){var Lt=St[Pn].g;const er=St[Pn].map;if(Lt-=ze,Lt<0)ze=Math.max(0,St[Pn].g-100),ln=!1;else try{Lt="req"+Lt+"_"||"";try{var Jt=er instanceof Map?er:Object.entries(er);for(const[fr,Gn]of Jt){let dr=Gn;h(Gn)&&(dr=Xe(Gn)),Jn.push(Lt+fr+"="+encodeURIComponent(dr))}}catch(fr){throw Jn.push(Lt+"type="+encodeURIComponent("_badmap")),fr}}catch{Q&&Q(er)}}if(ln){Jt=Jn.join("&");break t}}Jt=void 0}return p=p.i.splice(0,L),x.G=p,Jt}function el(p){if(!p.g&&!p.v){p.Y=1;var x=p.Da;At||P(),kt||(At(),kt=!0),z.add(x,p),p.A=0}}function As(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=an(m(p.Da,p),ht(p,p.A)),p.A++,!0)}n.Da=function(){if(this.v=null,_(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=an(m(this.Wa,this),p)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),Ls(this),_(this))};function wo(p){p.B!=null&&(c.clearTimeout(p.B),p.B=null)}function _(p){p.g=new ur(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var x=yi(p.na);yn(x,"RID","rpc"),yn(x,"SID",p.M),yn(x,"AID",p.K),yn(x,"CI",p.F?"0":"1"),!p.F&&p.ia&&yn(x,"TO",p.ia),yn(x,"TYPE","xmlhttp"),Yr(p,x),p.u&&p.o&&Fa(x,p.u,p.o),p.O&&(p.g.H=p.O);var L=p.g;p=p.ba,L.M=1,L.A=ya(yi(x)),L.u=null,L.R=!0,Er(L,p)}n.Va=function(){this.C!=null&&(this.C=null,Ls(this),As(this),we(19))};function j(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function et(p,x){var L=null;if(p.g==x){j(p),wo(p),p.g=null;var Q=2}else if(bs(p.h,x))L=x.G,mo(p.h,x),Q=1;else return;if(p.I!=0){if(x.o)if(Q==1){L=x.u?x.u.length:0,x=Date.now()-x.F;var St=p.D;Q=In(),ne(Q,new ve(Q,L)),as(p)}else el(p);else if(St=x.m,St==3||St==0&&x.X>0||!(Q==1&&qa(p,x)||Q==2&&As(p)))switch(L&&L.length>0&&(x=p.h,x.i=x.i.concat(L)),St){case 1:bt(p,5);break;case 4:bt(p,10);break;case 3:bt(p,6);break;default:bt(p,2)}}}function ht(p,x){let L=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(L*=2),L*x}function bt(p,x){if(p.j.info("Error code "+x),x==2){var L=m(p.bb,p),Q=p.Ua;const St=!Q;Q=new Zi(Q||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||cn(Q,"https"),ya(Q),St?_s(Q.toString(),L):ia(Q.toString(),L)}else we(2);p.I=0,p.l&&p.l.pa(x),Ft(p),ks(p)}n.bb=function(p){p?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function Ft(p){if(p.I=0,p.ja=[],p.l){const x=go(p.h);(x.length!=0||p.i.length!=0)&&(Y(p.ja,x),Y(p.ja,p.i),p.h.i.length=0,w(p.i),p.i.length=0),p.l.oa()}}function Kt(p,x,L){var Q=L instanceof Zi?yi(L):new Zi(L);if(Q.g!="")x&&(Q.g=x+"."+Q.g),ta(Q,Q.u);else{var St=c.location;Q=St.protocol,x=x?x+"."+St.hostname:St.hostname,St=+St.port;const Lt=new Zi(null);Q&&cn(Lt,Q),x&&(Lt.g=x),St&&ta(Lt,St),L&&(Lt.h=L),Q=Lt}return L=p.G,x=p.wa,L&&x&&yn(Q,L,x),yn(Q,"VER",p.ka),Yr(p,Q),Q}function le(p,x,L){if(x&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=p.Aa&&!p.ma?new On(new Ce({ab:L})):new On(p.ma),x.Fa(p.L),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function de(){}n=de.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Le(){}Le.prototype.g=function(p,x){return new xe(p,x)};function xe(p,x){jt.call(this),this.g=new Rs(x),this.l=p,this.h=x&&x.messageUrlParams||null,p=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(p?p["X-WebChannel-Content-Type"]=x.messageContentType:p={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(p?p["X-WebChannel-Client-Profile"]=x.sa:p={"X-WebChannel-Client-Profile":x.sa}),this.g.U=p,(p=x&&x.Qb)&&!D(p)&&(this.g.u=p),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!D(x)&&(this.g.G=x,p=this.h,p!==null&&x in p&&(p=this.h,x in p&&delete p[x])),this.j=new zn(this)}S(xe,jt),xe.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xe.prototype.close=function(){wa(this.g)},xe.prototype.o=function(p){var x=this.g;if(typeof p=="string"){var L={};L.__data__=p,p=L}else this.v&&(L={},L.__data__=Xe(p),p=L);x.i.push(new ci(x.Ya++,p)),x.I==3&&as(x)},xe.prototype.N=function(){this.g.l=null,delete this.j,wa(this.g),delete this.g,xe.Z.N.call(this)};function fn(p){Ee.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var x=p.__sm__;if(x){t:{for(const L in x){p=L;break t}p=void 0}(this.i=p)&&(p=this.i,x=x!==null&&p in x?x[p]:void 0),this.data=x}else this.data=p}S(fn,Ee);function Wn(){Me.call(this),this.status=1}S(Wn,Me);function zn(p){this.g=p}S(zn,de),zn.prototype.ra=function(){ne(this.g,"a")},zn.prototype.qa=function(p){ne(this.g,new fn(p))},zn.prototype.pa=function(p){ne(this.g,new Wn)},zn.prototype.oa=function(){ne(this.g,"b")},Le.prototype.createWebChannel=Le.prototype.g,xe.prototype.send=xe.prototype.o,xe.prototype.open=xe.prototype.m,xe.prototype.close=xe.prototype.close,yw=function(){return new Le},gw=function(){return In()},mw=$e,S1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vr.NO_ERROR=0,Vr.TIMEOUT=8,Vr.HTTP_ERROR=6,hp=Vr,Sr.COMPLETE="complete",pw=Sr,ui.EventType=Qe,Qe.OPEN="a",Qe.CLOSE="b",Qe.ERROR="c",Qe.MESSAGE="d",jt.prototype.listen=jt.prototype.J,_f=ui,On.prototype.listenOnce=On.prototype.K,On.prototype.getLastError=On.prototype.Ha,On.prototype.getLastErrorCode=On.prototype.ya,On.prototype.getStatus=On.prototype.ca,On.prototype.getResponseJson=On.prototype.La,On.prototype.getResponseText=On.prototype.la,On.prototype.send=On.prototype.ea,On.prototype.setWithCredentials=On.prototype.Fa,dw=On}).apply(typeof Kd<"u"?Kd:typeof self<"u"?self:typeof window<"u"?window:{});const Jy="@firebase/firestore",Zy="4.9.2";class ms{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ms.UNAUTHENTICATED=new ms(null),ms.GOOGLE_CREDENTIALS=new ms("google-credentials-uid"),ms.FIRST_PARTY=new ms("first-party-uid"),ms.MOCK_USER=new ms("mock-user");let Ih="12.3.0";const rc=new e0("@firebase/firestore");function Zc(){return rc.logLevel}function ue(n,...t){if(rc.logLevel<=_n.DEBUG){const e=t.map(p0);rc.debug(`Firestore (${Ih}): ${n}`,...e)}}function Rl(n,...t){if(rc.logLevel<=_n.ERROR){const e=t.map(p0);rc.error(`Firestore (${Ih}): ${n}`,...e)}}function _h(n,...t){if(rc.logLevel<=_n.WARN){const e=t.map(p0);rc.warn(`Firestore (${Ih}): ${n}`,...e)}}function p0(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function Fe(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,vw(n,r,e)}function vw(n,t,e){let r=`FIRESTORE (${Ih}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Rl(r),new Error(r)}function qn(n,t,e,r){let a="Unexpected state";typeof e=="string"?a=e:r=e,n||vw(t,a,r)}function nn(n,t){return n}const Wt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends kl{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wu{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class bw{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class WE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(ms.UNAUTHENTICATED)))}shutdown(){}}class JE{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class ZE{constructor(t){this.t=t,this.currentUser=ms.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){qn(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,e(d)):Promise.resolve();let o=new Wu;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Wu,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const d=o;t.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Wu)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qn(typeof r.accessToken=="string",31837,{l:r}),new bw(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qn(t===null||typeof t=="string",2055,{h:t}),new ms(t)}}class tT{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=ms.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eT{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new tT(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(ms.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nT{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ao(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){qn(this.o===void 0,3512);const r=o=>{o.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ue("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>r(o)))};const a=o=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new tv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(qn(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new tv(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function iT(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class m0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=iT(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<e&&(r+=t.charAt(a[o]%62))}return r}}function wn(n,t){return n<t?-1:n>t?1:0}function x1(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const a=n.charAt(r),o=t.charAt(r);if(a!==o)return Bg(a)===Bg(o)?wn(a,o):Bg(a)?1:-1}return wn(n.length,t.length)}const rT=55296,sT=57343;function Bg(n){const t=n.charCodeAt(0);return t>=rT&&t<=sT}function wh(n,t,e){return n.length===t.length&&n.every(((r,a)=>e(r,t[a])))}const ev="__name__";class Uo{constructor(t,e,r){e===void 0?e=0:e>t.length&&Fe(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&Fe(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Uo.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Uo?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let a=0;a<r;a++){const o=Uo.compareSegments(t.get(a),e.get(a));if(o!==0)return o}return wn(t.length,e.length)}static compareSegments(t,e){const r=Uo.isNumericId(t),a=Uo.isNumericId(e);return r&&!a?-1:!r&&a?1:r&&a?Uo.extractNumericId(t).compare(Uo.extractNumericId(e)):x1(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return bu.fromString(t.substring(4,t.length-2))}}class Ri extends Uo{construct(t,e,r){return new Ri(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new Re(Wt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((a=>a.length>0)))}return new Ri(e)}static emptyPath(){return new Ri([])}}const aT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ts extends Uo{construct(t,e,r){return new ts(t,e,r)}static isValidIdentifier(t){return aT.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ts.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ev}static keyField(){return new ts([ev])}static fromServerFormat(t){const e=[];let r="",a=0;const o=()=>{if(r.length===0)throw new Re(Wt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new Re(Wt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Re(Wt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=d,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(r+=h,a++):(o(),a++)}if(o(),c)throw new Re(Wt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ts(e)}static emptyPath(){return new ts([])}}class Ue{constructor(t){this.path=t}static fromPath(t){return new Ue(Ri.fromString(t))}static fromName(t){return new Ue(Ri.fromString(t).popFirst(5))}static empty(){return new Ue(Ri.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ri.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Ri.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ue(new Ri(t.slice()))}}function oT(n,t,e){if(!e)throw new Re(Wt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function lT(n,t,e,r){if(t===!0&&r===!0)throw new Re(Wt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function nv(n){if(!Ue.isDocumentKey(n))throw new Re(Wt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _w(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function g0(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Fe(12329,{type:typeof n})}function ch(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Re(Wt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=g0(n);throw new Re(Wt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function ar(n,t){const e={typeString:n};return t&&(e.value=t),e}function $f(n,t){if(!_w(n))throw new Re(Wt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const a=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const c=n[r];if(a&&typeof c!==a){e=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${r}' field to equal '${o.value}'`;break}}if(e)throw new Re(Wt.INVALID_ARGUMENT,e);return!0}const iv=-62135596800,rv=1e6;class mi{static now(){return mi.fromMillis(Date.now())}static fromDate(t){return mi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*rv);return new mi(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Re(Wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Re(Wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<iv)throw new Re(Wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Re(Wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rv}_compareTo(t){return this.seconds===t.seconds?wn(this.nanoseconds,t.nanoseconds):wn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mi._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if($f(t,mi._jsonSchema))return new mi(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-iv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mi._jsonSchemaVersion="firestore/timestamp/1.0",mi._jsonSchema={type:ar("string",mi._jsonSchemaVersion),seconds:ar("number"),nanoseconds:ar("number")};class We{static fromTimestamp(t){return new We(t)}static min(){return new We(new mi(0,0))}static max(){return new We(new mi(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Of=-1;function uT(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=We.fromTimestamp(r===1e9?new mi(e+1,0):new mi(e,r));return new wu(a,Ue.empty(),t)}function cT(n){return new wu(n.readTime,n.key,Of)}class wu{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new wu(We.min(),Ue.empty(),Of)}static max(){return new wu(We.max(),Ue.empty(),Of)}}function hT(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Ue.comparator(n.documentKey,t.documentKey),e!==0?e:wn(n.largestBatchId,t.largestBatchId))}const fT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Rh(n){if(n.code!==Wt.FAILED_PRECONDITION||n.message!==fT)throw n;ue("LocalStore","Unexpectedly lost primary lease")}class $t{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new $t(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(e,o).next(r,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof $t?e:$t.resolve(e)}catch(e){return $t.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):$t.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):$t.reject(e)}static resolve(t){return new $t(((e,r)=>{e(t)}))}static reject(t){return new $t(((e,r)=>{r(t)}))}static waitFor(t){return new $t(((e,r)=>{let a=0,o=0,c=!1;t.forEach((h=>{++a,h.next((()=>{++o,c&&o===a&&e()}),(d=>r(d)))})),c=!0,o===a&&e()}))}static or(t){let e=$t.resolve(!1);for(const r of t)e=e.next((a=>a?$t.resolve(a):r()));return e}static forEach(t,e){const r=[];return t.forEach(((a,o)=>{r.push(e.call(this,a,o))})),this.waitFor(r)}static mapArray(t,e){return new $t(((r,a)=>{const o=t.length,c=new Array(o);let h=0;for(let d=0;d<o;d++){const m=d;e(t[m]).next((b=>{c[m]=b,++h,h===o&&r(c)}),(b=>a(b)))}}))}static doWhile(t,e){return new $t(((r,a)=>{const o=()=>{t()===!0?e().next((()=>{o()}),a):r()};o()}))}}function pT(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Lh(n){return n.name==="IndexedDbTransactionError"}class tm{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}tm.ce=-1;const y0=-1;function em(n){return n==null}function Lp(n){return n===0&&1/n==-1/0}function mT(n){return typeof n=="number"&&Number.isInteger(n)&&!Lp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const ww="";function gT(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=sv(t)),t=yT(n.get(e),t);return sv(t)}function yT(n,t){let e=t;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":e+="";break;case ww:e+="";break;default:e+=o}}return e}function sv(n){return n+ww+""}function av(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function lc(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Aw(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Li{constructor(t,e){this.comparator=t,this.root=e||Zr.EMPTY}insert(t,e){return new Li(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Zr.BLACK,null,null))}remove(t){return new Li(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Zr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return e+r.left.size;a<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new $d(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new $d(this.root,t,this.comparator,!1)}getReverseIterator(){return new $d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new $d(this.root,t,this.comparator,!0)}}class $d{constructor(t,e,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?r(t.key,e):1,e&&a&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Zr{constructor(t,e,r,a,o){this.key=t,this.value=e,this.color=r??Zr.RED,this.left=a??Zr.EMPTY,this.right=o??Zr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,a,o){return new Zr(t??this.key,e??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let a=this;const o=r(t,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(t,e,r),null):o===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Zr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return Zr.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Fe(27949);return t+(this.isRed()?0:1)}}Zr.EMPTY=null,Zr.RED=!0,Zr.BLACK=!1;Zr.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(t,e,r,a,o){return this}insert(t,e,r){return new Zr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ar{constructor(t){this.comparator=t,this.data=new Li(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new ov(this.data.getIterator())}getIteratorFrom(t){return new ov(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof Ar)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ar(this.comparator);return e.data=t,e}}class ov{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class lo{constructor(t){this.fields=t,t.sort(ts.comparator)}static empty(){return new lo([])}unionWith(t){let e=new Ar(ts.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new lo(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return wh(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}class Sw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class es{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Sw("Invalid base64 string: "+o):o}})(t);return new es(e)}static fromUint8Array(t){const e=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(t);return new es(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return wn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}es.EMPTY_BYTE_STRING=new es("");const vT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Au(n){if(qn(!!n,39018),typeof n=="string"){let t=0;const e=vT.exec(n);if(qn(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ki(n.seconds),nanos:Ki(n.nanos)}}function Ki(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Su(n){return typeof n=="string"?es.fromBase64String(n):es.fromUint8Array(n)}const xw="server_timestamp",Ew="__type__",Tw="__previous_value__",Nw="__local_write_time__";function v0(n){return(n?.mapValue?.fields||{})[Ew]?.stringValue===xw}function nm(n){const t=n.mapValue.fields[Tw];return v0(t)?nm(t):t}function Pf(n){const t=Au(n.mapValue.fields[Nw].timestampValue);return new mi(t.seconds,t.nanos)}class bT{constructor(t,e,r,a,o,c,h,d,m,b){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=b}}const kp="(default)";class Mf{constructor(t,e){this.projectId=t,this.database=e||kp}static empty(){return new Mf("","")}get isDefaultDatabase(){return this.database===kp}isEqual(t){return t instanceof Mf&&t.projectId===this.projectId&&t.database===this.database}}const Cw="__type__",_T="__max__",Xd={mapValue:{}},Iw="__vector__",Dp="value";function xu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?v0(n)?4:AT(n)?9007199254740991:wT(n)?10:11:Fe(28295,{value:n})}function Yo(n,t){if(n===t)return!0;const e=xu(n);if(e!==xu(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Pf(n).isEqual(Pf(t));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Au(a.timestampValue),h=Au(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,o){return Su(a.bytesValue).isEqual(Su(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,o){return Ki(a.geoPointValue.latitude)===Ki(o.geoPointValue.latitude)&&Ki(a.geoPointValue.longitude)===Ki(o.geoPointValue.longitude)})(n,t);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Ki(a.integerValue)===Ki(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=Ki(a.doubleValue),h=Ki(o.doubleValue);return c===h?Lp(c)===Lp(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return wh(n.arrayValue.values||[],t.arrayValue.values||[],Yo);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if(av(c)!==av(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!Yo(c[d],h[d])))return!1;return!0})(n,t);default:return Fe(52216,{left:n})}}function jf(n,t){return(n.values||[]).find((e=>Yo(e,t)))!==void 0}function Ah(n,t){if(n===t)return 0;const e=xu(n),r=xu(t);if(e!==r)return wn(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return wn(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=Ki(o.integerValue||o.doubleValue),d=Ki(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(n,t);case 3:return lv(n.timestampValue,t.timestampValue);case 4:return lv(Pf(n),Pf(t));case 5:return x1(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=Su(o),d=Su(c);return h.compareTo(d)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),d=c.split("/");for(let m=0;m<h.length&&m<d.length;m++){const b=wn(h[m],d[m]);if(b!==0)return b}return wn(h.length,d.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=wn(Ki(o.latitude),Ki(c.latitude));return h!==0?h:wn(Ki(o.longitude),Ki(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return uv(n.arrayValue,t.arrayValue);case 10:return(function(o,c){const h=o.fields||{},d=c.fields||{},m=h[Dp]?.arrayValue,b=d[Dp]?.arrayValue,S=wn(m?.values?.length||0,b?.values?.length||0);return S!==0?S:uv(m,b)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===Xd.mapValue&&c===Xd.mapValue)return 0;if(o===Xd.mapValue)return 1;if(c===Xd.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),m=c.fields||{},b=Object.keys(m);d.sort(),b.sort();for(let S=0;S<d.length&&S<b.length;++S){const I=x1(d[S],b[S]);if(I!==0)return I;const w=Ah(h[d[S]],m[b[S]]);if(w!==0)return w}return wn(d.length,b.length)})(n.mapValue,t.mapValue);default:throw Fe(23264,{he:e})}}function lv(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return wn(n,t);const e=Au(n),r=Au(t),a=wn(e.seconds,r.seconds);return a!==0?a:wn(e.nanos,r.nanos)}function uv(n,t){const e=n.values||[],r=t.values||[];for(let a=0;a<e.length&&a<r.length;++a){const o=Ah(e[a],r[a]);if(o)return o}return wn(e.length,r.length)}function Sh(n){return E1(n)}function E1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=Au(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Su(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Ue.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",a=!0;for(const o of e.values||[])a?a=!1:r+=",",r+=E1(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let a="{",o=!0;for(const c of r)o?o=!1:a+=",",a+=`${c}:${E1(e.fields[c])}`;return a+"}"})(n.mapValue):Fe(61005,{value:n})}function fp(n){switch(xu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=nm(n);return t?16+fp(t):16;case 5:return 2*n.stringValue.length;case 6:return Su(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+fp(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return lc(r.fields,((o,c)=>{a+=o.length+fp(c)})),a})(n.mapValue);default:throw Fe(13486,{value:n})}}function T1(n){return!!n&&"integerValue"in n}function b0(n){return!!n&&"arrayValue"in n}function cv(n){return!!n&&"nullValue"in n}function hv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dp(n){return!!n&&"mapValue"in n}function wT(n){return(n?.mapValue?.fields||{})[Cw]?.stringValue===Iw}function Tf(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return lc(n.mapValue.fields,((e,r)=>t.mapValue.fields[e]=Tf(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Tf(n.arrayValue.values[e]);return t}return{...n}}function AT(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===_T}class Pa{constructor(t){this.value=t}static empty(){return new Pa({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!dp(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tf(e)}setAll(t){let e=ts.emptyPath(),r={},a=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const d=this.getFieldsMap(e);this.applyChanges(d,r,a),r={},a=[],e=h.popLast()}c?r[h.lastSegment()]=Tf(c):a.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,r,a)}delete(t){const e=this.field(t.popLast());dp(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Yo(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=e.mapValue.fields[t.get(r)];dp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,r){lc(e,((a,o)=>t[a]=o));for(const a of r)delete t[a]}clone(){return new Pa(Tf(this.value))}}function Rw(n){const t=[];return lc(n.fields,((e,r)=>{const a=new ts([e]);if(dp(r)){const o=Rw(r.mapValue).fields;if(o.length===0)t.push(a);else for(const c of o)t.push(a.child(c))}else t.push(a)})),new lo(t)}class gs{constructor(t,e,r,a,o,c,h){this.key=t,this.documentType=e,this.version=r,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new gs(t,0,We.min(),We.min(),We.min(),Pa.empty(),0)}static newFoundDocument(t,e,r,a){return new gs(t,1,e,We.min(),r,a,0)}static newNoDocument(t,e){return new gs(t,2,e,We.min(),We.min(),Pa.empty(),0)}static newUnknownDocument(t,e){return new gs(t,3,e,We.min(),We.min(),Pa.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Pa.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Pa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof gs&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new gs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Op{constructor(t,e){this.position=t,this.inclusive=e}}function fv(n,t,e){let r=0;for(let a=0;a<n.position.length;a++){const o=t[a],c=n.position[a];if(o.field.isKeyField()?r=Ue.comparator(Ue.fromName(c.referenceValue),e.key):r=Ah(c,e.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function dv(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Yo(n.position[e],t.position[e]))return!1;return!0}class Pp{constructor(t,e="asc"){this.field=t,this.dir=e}}function ST(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class Lw{}class wr extends Lw{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new ET(t,e,r):e==="array-contains"?new CT(t,r):e==="in"?new IT(t,r):e==="not-in"?new RT(t,r):e==="array-contains-any"?new LT(t,r):new wr(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new TT(t,r):new NT(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Ah(e,this.value)):e!==null&&xu(this.value)===xu(e)&&this.matchesComparison(Ah(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ko extends Lw{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Ko(t,e)}matches(t){return kw(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kw(n){return n.op==="and"}function Dw(n){return xT(n)&&kw(n)}function xT(n){for(const t of n.filters)if(t instanceof Ko)return!1;return!0}function N1(n){if(n instanceof wr)return n.field.canonicalString()+n.op.toString()+Sh(n.value);if(Dw(n))return n.filters.map((t=>N1(t))).join(",");{const t=n.filters.map((e=>N1(e))).join(",");return`${n.op}(${t})`}}function Ow(n,t){return n instanceof wr?(function(r,a){return a instanceof wr&&r.op===a.op&&r.field.isEqual(a.field)&&Yo(r.value,a.value)})(n,t):n instanceof Ko?(function(r,a){return a instanceof Ko&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,c,h)=>o&&Ow(c,a.filters[h])),!0):!1})(n,t):void Fe(19439)}function Pw(n){return n instanceof wr?(function(e){return`${e.field.canonicalString()} ${e.op} ${Sh(e.value)}`})(n):n instanceof Ko?(function(e){return e.op.toString()+" {"+e.getFilters().map(Pw).join(" ,")+"}"})(n):"Filter"}class ET extends wr{constructor(t,e,r){super(t,e,r),this.key=Ue.fromName(r.referenceValue)}matches(t){const e=Ue.comparator(t.key,this.key);return this.matchesComparison(e)}}class TT extends wr{constructor(t,e){super(t,"in",e),this.keys=Mw("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class NT extends wr{constructor(t,e){super(t,"not-in",e),this.keys=Mw("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Mw(n,t){return(t.arrayValue?.values||[]).map((e=>Ue.fromName(e.referenceValue)))}class CT extends wr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return b0(e)&&jf(e.arrayValue,this.value)}}class IT extends wr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&jf(this.value.arrayValue,e)}}class RT extends wr{constructor(t,e){super(t,"not-in",e)}matches(t){if(jf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!jf(this.value.arrayValue,e)}}class LT extends wr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!b0(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>jf(this.value.arrayValue,r)))}}class kT{constructor(t,e=null,r=[],a=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function pv(n,t=null,e=[],r=[],a=null,o=null,c=null){return new kT(n,t,e,r,a,o,c)}function _0(n){const t=nn(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>N1(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),em(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>Sh(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>Sh(r))).join(",")),t.Te=e}return t.Te}function w0(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!ST(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Ow(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!dv(n.startAt,t.startAt)&&dv(n.endAt,t.endAt)}function C1(n){return Ue.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class im{constructor(t,e=null,r=[],a=[],o=null,c="F",h=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function DT(n,t,e,r,a,o,c,h){return new im(n,t,e,r,a,o,c,h)}function A0(n){return new im(n)}function mv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function OT(n){return n.collectionGroup!==null}function Nf(n){const t=nn(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Ar(ts.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Pp(o,r))})),e.has(ts.keyField().canonicalString())||t.Ie.push(new Pp(ts.keyField(),r))}return t.Ie}function Fo(n){const t=nn(n);return t.Ee||(t.Ee=PT(t,Nf(n))),t.Ee}function PT(n,t){if(n.limitType==="F")return pv(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Pp(a.field,o)}));const e=n.endAt?new Op(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Op(n.startAt.position,n.startAt.inclusive):null;return pv(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function I1(n,t,e){return new im(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function rm(n,t){return w0(Fo(n),Fo(t))&&n.limitType===t.limitType}function jw(n){return`${_0(Fo(n))}|lt:${n.limitType}`}function th(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((a=>Pw(a))).join(", ")}]`),em(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((a=>Sh(a))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((a=>Sh(a))).join(",")),`Target(${r})`})(Fo(n))}; limitType=${n.limitType})`}function sm(n,t){return t.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ue.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,t)&&(function(r,a){for(const o of Nf(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(n,t)&&(function(r,a){return!(r.startAt&&!(function(c,h,d){const m=fv(c,h,d);return c.inclusive?m<=0:m<0})(r.startAt,Nf(r),a)||r.endAt&&!(function(c,h,d){const m=fv(c,h,d);return c.inclusive?m>=0:m>0})(r.endAt,Nf(r),a))})(n,t)}function MT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Uw(n){return(t,e)=>{let r=!1;for(const a of Nf(n)){const o=jT(a,t,e);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function jT(n,t,e){const r=n.field.isKeyField()?Ue.comparator(t.key,e.key):(function(o,c,h){const d=c.data.field(o),m=h.data.field(o);return d!==null&&m!==null?Ah(d,m):Fe(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Fe(19790,{direction:n.dir})}}class uc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return void(a[o]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[e]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){lc(this.inner,((e,r)=>{for(const[a,o]of r)t(a,o)}))}isEmpty(){return Aw(this.inner)}size(){return this.innerSize}}const UT=new Li(Ue.comparator);function Ll(){return UT}const Vw=new Li(Ue.comparator);function wf(...n){let t=Vw;for(const e of n)t=t.insert(e.key,e);return t}function Bw(n){let t=Vw;return n.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function Xu(){return Cf()}function Fw(){return Cf()}function Cf(){return new uc((n=>n.toString()),((n,t)=>n.isEqual(t)))}const VT=new Li(Ue.comparator),BT=new Ar(Ue.comparator);function An(...n){let t=BT;for(const e of n)t=t.add(e);return t}const FT=new Ar(wn);function zT(){return FT}function S0(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lp(t)?"-0":t}}function zw(n){return{integerValue:""+n}}function qT(n,t){return mT(t)?zw(t):S0(n,t)}class am{constructor(){this._=void 0}}function HT(n,t,e){return n instanceof Mp?(function(a,o){const c={fields:{[Ew]:{stringValue:xw},[Nw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&v0(o)&&(o=nm(o)),o&&(c.fields[Tw]=o),{mapValue:c}})(e,t):n instanceof Uf?Hw(n,t):n instanceof Vf?Gw(n,t):(function(a,o){const c=qw(a,o),h=gv(c)+gv(a.Ae);return T1(c)&&T1(a.Ae)?zw(h):S0(a.serializer,h)})(n,t)}function GT(n,t,e){return n instanceof Uf?Hw(n,t):n instanceof Vf?Gw(n,t):e}function qw(n,t){return n instanceof jp?(function(r){return T1(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(t)?t:{integerValue:0}:null}class Mp extends am{}class Uf extends am{constructor(t){super(),this.elements=t}}function Hw(n,t){const e=Yw(t);for(const r of n.elements)e.some((a=>Yo(a,r)))||e.push(r);return{arrayValue:{values:e}}}class Vf extends am{constructor(t){super(),this.elements=t}}function Gw(n,t){let e=Yw(t);for(const r of n.elements)e=e.filter((a=>!Yo(a,r)));return{arrayValue:{values:e}}}class jp extends am{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function gv(n){return Ki(n.integerValue||n.doubleValue)}function Yw(n){return b0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function YT(n,t){return n.field.isEqual(t.field)&&(function(r,a){return r instanceof Uf&&a instanceof Uf||r instanceof Vf&&a instanceof Vf?wh(r.elements,a.elements,Yo):r instanceof jp&&a instanceof jp?Yo(r.Ae,a.Ae):r instanceof Mp&&a instanceof Mp})(n.transform,t.transform)}class KT{constructor(t,e){this.version=t,this.transformResults=e}}class Nl{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Nl}static exists(t){return new Nl(void 0,t)}static updateTime(t){return new Nl(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function pp(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class om{}function Kw(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Xw(n.key,Nl.none()):new Xf(n.key,n.data,Nl.none());{const e=n.data,r=Pa.empty();let a=new Ar(ts.comparator);for(let o of t.fields)if(!a.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?r.delete(o):r.set(o,c),a=a.add(o)}return new cc(n.key,r,new lo(a.toArray()),Nl.none())}}function $T(n,t,e){n instanceof Xf?(function(a,o,c){const h=a.value.clone(),d=vv(a.fieldTransforms,o,c.transformResults);h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof cc?(function(a,o,c){if(!pp(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=vv(a.fieldTransforms,o,c.transformResults),d=o.data;d.setAll($w(a)),d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,t,e):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function If(n,t,e,r){return n instanceof Xf?(function(o,c,h,d){if(!pp(o.precondition,c))return h;const m=o.value.clone(),b=bv(o.fieldTransforms,d,c);return m.setAll(b),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,t,e,r):n instanceof cc?(function(o,c,h,d){if(!pp(o.precondition,c))return h;const m=bv(o.fieldTransforms,d,c),b=c.data;return b.setAll($w(o)),b.setAll(m),c.convertToFoundDocument(c.version,b).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((S=>S.field)))})(n,t,e,r):(function(o,c,h){return pp(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function XT(n,t){let e=null;for(const r of n.fieldTransforms){const a=t.data.field(r.field),o=qw(r.transform,a||null);o!=null&&(e===null&&(e=Pa.empty()),e.set(r.field,o))}return e||null}function yv(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&wh(r,a,((o,c)=>YT(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Xf extends om{constructor(t,e,r,a=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class cc extends om{constructor(t,e,r,a,o=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function $w(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}})),t}function vv(n,t,e){const r=new Map;qn(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let a=0;a<e.length;a++){const o=n[a],c=o.transform,h=t.data.field(o.field);r.set(o.field,GT(c,h,e[a]))}return r}function bv(n,t,e){const r=new Map;for(const a of n){const o=a.transform,c=e.data.field(a.field);r.set(a.field,HT(o,c,t))}return r}class Xw extends om{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QT extends om{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class WT{constructor(t,e,r,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(t.key)&&$T(o,t,r[a])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=If(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=If(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=Fw();return this.mutations.forEach((a=>{const o=t.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(a.key)?null:h;const d=Kw(c,h);d!==null&&r.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(We.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),An())}isEqual(t){return this.batchId===t.batchId&&wh(this.mutations,t.mutations,((e,r)=>yv(e,r)))&&wh(this.baseMutations,t.baseMutations,((e,r)=>yv(e,r)))}}class x0{constructor(t,e,r,a){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=a}static from(t,e,r){qn(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let a=(function(){return VT})();const o=t.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,r[c].version);return new x0(t,e,r,a)}}class JT{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class ZT{constructor(t,e){this.count=t,this.unchangedNames=e}}var sr,Cn;function tN(n){switch(n){case Wt.OK:return Fe(64938);case Wt.CANCELLED:case Wt.UNKNOWN:case Wt.DEADLINE_EXCEEDED:case Wt.RESOURCE_EXHAUSTED:case Wt.INTERNAL:case Wt.UNAVAILABLE:case Wt.UNAUTHENTICATED:return!1;case Wt.INVALID_ARGUMENT:case Wt.NOT_FOUND:case Wt.ALREADY_EXISTS:case Wt.PERMISSION_DENIED:case Wt.FAILED_PRECONDITION:case Wt.ABORTED:case Wt.OUT_OF_RANGE:case Wt.UNIMPLEMENTED:case Wt.DATA_LOSS:return!0;default:return Fe(15467,{code:n})}}function Qw(n){if(n===void 0)return Rl("GRPC error has no .code"),Wt.UNKNOWN;switch(n){case sr.OK:return Wt.OK;case sr.CANCELLED:return Wt.CANCELLED;case sr.UNKNOWN:return Wt.UNKNOWN;case sr.DEADLINE_EXCEEDED:return Wt.DEADLINE_EXCEEDED;case sr.RESOURCE_EXHAUSTED:return Wt.RESOURCE_EXHAUSTED;case sr.INTERNAL:return Wt.INTERNAL;case sr.UNAVAILABLE:return Wt.UNAVAILABLE;case sr.UNAUTHENTICATED:return Wt.UNAUTHENTICATED;case sr.INVALID_ARGUMENT:return Wt.INVALID_ARGUMENT;case sr.NOT_FOUND:return Wt.NOT_FOUND;case sr.ALREADY_EXISTS:return Wt.ALREADY_EXISTS;case sr.PERMISSION_DENIED:return Wt.PERMISSION_DENIED;case sr.FAILED_PRECONDITION:return Wt.FAILED_PRECONDITION;case sr.ABORTED:return Wt.ABORTED;case sr.OUT_OF_RANGE:return Wt.OUT_OF_RANGE;case sr.UNIMPLEMENTED:return Wt.UNIMPLEMENTED;case sr.DATA_LOSS:return Wt.DATA_LOSS;default:return Fe(39323,{code:n})}}(Cn=sr||(sr={}))[Cn.OK=0]="OK",Cn[Cn.CANCELLED=1]="CANCELLED",Cn[Cn.UNKNOWN=2]="UNKNOWN",Cn[Cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cn[Cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cn[Cn.NOT_FOUND=5]="NOT_FOUND",Cn[Cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cn[Cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cn[Cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cn[Cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cn[Cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cn[Cn.ABORTED=10]="ABORTED",Cn[Cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cn[Cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cn[Cn.INTERNAL=13]="INTERNAL",Cn[Cn.UNAVAILABLE=14]="UNAVAILABLE",Cn[Cn.DATA_LOSS=15]="DATA_LOSS";function eN(){return new TextEncoder}const nN=new bu([4294967295,4294967295],0);function _v(n){const t=eN().encode(n),e=new fw;return e.update(t),new Uint8Array(e.digest())}function wv(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new bu([e,r],0),new bu([a,o],0)]}class E0{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new Af(`Invalid padding: ${e}`);if(r<0)throw new Af(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Af(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new Af(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=bu.fromNumber(this.ge)}ye(t,e,r){let a=t.add(e.multiply(bu.fromNumber(r)));return a.compare(nN)===1&&(a=new bu([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=_v(t),[r,a]=wv(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);if(!this.we(c))return!1}return!0}static create(t,e,r){const a=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new E0(o,a,e);return r.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=_v(t),[r,a]=wv(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);this.Se(c)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class Af extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class lm{constructor(t,e,r,a,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const a=new Map;return a.set(t,Qf.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new lm(We.min(),a,new Li(wn),Ll(),An())}}class Qf{constructor(t,e,r,a,o){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Qf(r,e,An(),An(),An())}}class mp{constructor(t,e,r,a){this.be=t,this.removedTargetIds=e,this.key=r,this.De=a}}class Ww{constructor(t,e){this.targetId=t,this.Ce=e}}class Jw{constructor(t,e,r=es.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=a}}class Av{constructor(){this.ve=0,this.Fe=Sv(),this.Me=es.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=An(),e=An(),r=An();return this.Fe.forEach(((a,o)=>{switch(o){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:r=r.add(a);break;default:Fe(38017,{changeType:o})}})),new Qf(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=Sv()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class iN{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ll(),this.Je=Qd(),this.He=Qd(),this.Ye=new Li(wn)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:Fe(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,r=t.Ce.count,a=this.ot(e);if(a){const o=a.target;if(C1(o))if(r===0){const c=new Ue(o.path);this.et(e,c,gs.newNoDocument(c,We.min()))}else qn(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const h=this.ut(t),d=h?this.ct(h,t,c):1;if(d!==0){this.it(e);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,m)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=e;let c,h;try{c=Su(r).toUint8Array()}catch(d){if(d instanceof Sw)return _h("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new E0(c,a,o)}catch(d){return _h(d instanceof Af?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let a=0;return r.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&C1(h.target)){const d=new Ue(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,gs.newNoDocument(d,t))}o.Be&&(e.set(c,o.ke()),o.qe())}}));let r=An();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const a=new lm(t,e,this.Ye,this.je,r);return this.je=Ll(),this.Je=Qd(),this.He=Qd(),this.Ye=new Li(wn),a}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.Qe(e,1):a.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new Av,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Ar(wn),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Ar(wn),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ue("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Av),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Qd(){return new Li(Ue.comparator)}function Sv(){return new Li(Ue.comparator)}const rN={asc:"ASCENDING",desc:"DESCENDING"},sN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aN={and:"AND",or:"OR"};class oN{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function R1(n,t){return n.useProto3Json||em(t)?t:{value:t}}function Up(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Zw(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function lN(n,t){return Up(n,t.toTimestamp())}function zo(n){return qn(!!n,49232),We.fromTimestamp((function(e){const r=Au(e);return new mi(r.seconds,r.nanos)})(n))}function T0(n,t){return L1(n,t).canonicalString()}function L1(n,t){const e=(function(a){return new Ri(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function t4(n){const t=Ri.fromString(n);return qn(s4(t),10190,{key:t.toString()}),t}function k1(n,t){return T0(n.databaseId,t.path)}function Fg(n,t){const e=t4(t);if(e.get(1)!==n.databaseId.projectId)throw new Re(Wt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Re(Wt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ue(n4(e))}function e4(n,t){return T0(n.databaseId,t)}function uN(n){const t=t4(n);return t.length===4?Ri.emptyPath():n4(t)}function D1(n){return new Ri(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function n4(n){return qn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function xv(n,t,e){return{name:k1(n,t),fields:e.value.mapValue.fields}}function cN(n,t){let e;if("targetChange"in t){t.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Fe(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],o=(function(m,b){return m.useProto3Json?(qn(b===void 0||typeof b=="string",58123),es.fromBase64String(b||"")):(qn(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),es.fromUint8Array(b||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(m){const b=m.code===void 0?Wt.UNKNOWN:Qw(m.code);return new Re(b,m.message||"")})(c);e=new Jw(r,a,o,h||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=Fg(n,r.document.name),o=zo(r.document.updateTime),c=r.document.createTime?zo(r.document.createTime):We.min(),h=new Pa({mapValue:{fields:r.document.fields}}),d=gs.newFoundDocument(a,o,c,h),m=r.targetIds||[],b=r.removedTargetIds||[];e=new mp(m,b,d.key,d)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=Fg(n,r.document),o=r.readTime?zo(r.readTime):We.min(),c=gs.newNoDocument(a,o),h=r.removedTargetIds||[];e=new mp([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=Fg(n,r.document),o=r.removedTargetIds||[];e=new mp([],o,a,null)}else{if(!("filter"in t))return Fe(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,c=new ZT(a,o),h=r.targetId;e=new Ww(h,c)}}return e}function hN(n,t){let e;if(t instanceof Xf)e={update:xv(n,t.key,t.value)};else if(t instanceof Xw)e={delete:k1(n,t.key)};else if(t instanceof cc)e={update:xv(n,t.key,t.data),updateMask:_N(t.fieldMask)};else{if(!(t instanceof QT))return Fe(16599,{Vt:t.type});e={verify:k1(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(o,c){const h=c.transform;if(h instanceof Mp)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Uf)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Vf)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof jp)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Fe(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:lN(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Fe(27497)})(n,t.precondition)),e}function fN(n,t){return n&&n.length>0?(qn(t!==void 0,14353),n.map((e=>(function(a,o){let c=a.updateTime?zo(a.updateTime):zo(o);return c.isEqual(We.min())&&(c=zo(o)),new KT(c,a.transformResults||[])})(e,t)))):[]}function dN(n,t){return{documents:[e4(n,t.path)]}}function pN(n,t){const e={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=e4(n,a);const o=(function(m){if(m.length!==0)return r4(Ko.create(m,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(m){if(m.length!==0)return m.map((b=>(function(I){return{field:eh(I.field),direction:yN(I.dir)}})(b)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=R1(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:e,parent:a}}function mN(n){let t=uN(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let a=null;if(r>0){qn(r===1,65062);const b=e.from[0];b.allDescendants?a=b.collectionId:t=t.child(b.collectionId)}let o=[];e.where&&(o=(function(S){const I=i4(S);return I instanceof Ko&&Dw(I)?I.getFilters():[I]})(e.where));let c=[];e.orderBy&&(c=(function(S){return S.map((I=>(function(Y){return new Pp(nh(Y.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(I)))})(e.orderBy));let h=null;e.limit&&(h=(function(S){let I;return I=typeof S=="object"?S.value:S,em(I)?null:I})(e.limit));let d=null;e.startAt&&(d=(function(S){const I=!!S.before,w=S.values||[];return new Op(w,I)})(e.startAt));let m=null;return e.endAt&&(m=(function(S){const I=!S.before,w=S.values||[];return new Op(w,I)})(e.endAt)),DT(t,a,c,o,h,"F",d,m)}function gN(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function i4(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=nh(e.unaryFilter.field);return wr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=nh(e.unaryFilter.field);return wr.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=nh(e.unaryFilter.field);return wr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=nh(e.unaryFilter.field);return wr.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}})(n):n.fieldFilter!==void 0?(function(e){return wr.create(nh(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Ko.create(e.compositeFilter.filters.map((r=>i4(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}})(e.compositeFilter.op))})(n):Fe(30097,{filter:n})}function yN(n){return rN[n]}function vN(n){return sN[n]}function bN(n){return aN[n]}function eh(n){return{fieldPath:n.canonicalString()}}function nh(n){return ts.fromServerFormat(n.fieldPath)}function r4(n){return n instanceof wr?(function(e){if(e.op==="=="){if(hv(e.value))return{unaryFilter:{field:eh(e.field),op:"IS_NAN"}};if(cv(e.value))return{unaryFilter:{field:eh(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(hv(e.value))return{unaryFilter:{field:eh(e.field),op:"IS_NOT_NAN"}};if(cv(e.value))return{unaryFilter:{field:eh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eh(e.field),op:vN(e.op),value:e.value}}})(n):n instanceof Ko?(function(e){const r=e.getFilters().map((a=>r4(a)));return r.length===1?r[0]:{compositeFilter:{op:bN(e.op),filters:r}}})(n):Fe(54877,{filter:n})}function _N(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function s4(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class pu{constructor(t,e,r,a,o=We.min(),c=We.min(),h=es.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(t){return new pu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class wN{constructor(t){this.yt=t}}function AN(n){const t=mN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?I1(t,t.limit,"L"):t}class SN{constructor(){this.Cn=new xN}addToCollectionParentIndex(t,e){return this.Cn.add(e),$t.resolve()}getCollectionParents(t,e){return $t.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return $t.resolve()}deleteFieldIndex(t,e){return $t.resolve()}deleteAllFieldIndexes(t){return $t.resolve()}createTargetIndexes(t,e){return $t.resolve()}getDocumentsMatchingTarget(t,e){return $t.resolve(null)}getIndexType(t,e){return $t.resolve(0)}getFieldIndexes(t,e){return $t.resolve([])}getNextCollectionGroupToUpdate(t){return $t.resolve(null)}getMinOffset(t,e){return $t.resolve(wu.min())}getMinOffsetFromCollectionGroup(t,e){return $t.resolve(wu.min())}updateCollectionGroup(t,e,r){return $t.resolve()}updateIndexEntries(t,e){return $t.resolve()}}class xN{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e]||new Ar(Ri.comparator),o=!a.has(r);return this.index[e]=a.add(r),o}has(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e];return a&&a.has(r)}getEntries(t){return(this.index[t]||new Ar(Ri.comparator)).toArray()}}const Ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},a4=41943040;class Xs{static withCacheSize(t){return new Xs(t,Xs.DEFAULT_COLLECTION_PERCENTILE,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}Xs.DEFAULT_COLLECTION_PERCENTILE=10,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xs.DEFAULT=new Xs(a4,Xs.DEFAULT_COLLECTION_PERCENTILE,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xs.DISABLED=new Xs(-1,0,0);class xh{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new xh(0)}static cr(){return new xh(-1)}}const Tv="LruGarbageCollector",EN=1048576;function Nv([n,t],[e,r]){const a=wn(n,e);return a===0?wn(t,r):a}class TN{constructor(t){this.Ir=t,this.buffer=new Ar(Nv),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();Nv(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class NN{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ue(Tv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Lh(e)?ue(Tv,"Ignoring IndexedDB error during garbage collection: ",e):await Rh(e)}await this.Vr(3e5)}))}}class CN{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return $t.resolve(tm.ce);const r=new TN(e);return this.mr.forEachTarget(t,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),$t.resolve(Ev)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ev):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,a,o,c,h,d,m;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),a=this.params.maximumSequenceNumbersToCollect):a=S,c=Date.now(),this.nthSequenceNumber(t,a)))).next((S=>(r=S,h=Date.now(),this.removeTargets(t,r,e)))).next((S=>(o=S,d=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(m=Date.now(),Zc()<=_n.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-b}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${S} documents in `+(m-d)+`ms
Total Duration: ${m-b}ms`),$t.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:S}))))}}function IN(n,t){return new CN(n,t)}class RN{constructor(){this.changes=new uc((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,gs.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?$t.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class LN{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class kN{constructor(t,e,r,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(r=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(r!==null&&If(r.mutation,a,lo.empty(),mi.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,An()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=An()){const a=Xu();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,r).next((o=>{let c=wf();return o.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const r=Xu();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,An())))}populateOverlays(t,e,r){const a=[];return r.forEach((o=>{e.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(t,a).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,r,a){let o=Ll();const c=Cf(),h=(function(){return Cf()})();return e.forEach(((d,m)=>{const b=r.get(m.key);a.has(m.key)&&(b===void 0||b.mutation instanceof cc)?o=o.insert(m.key,m):b!==void 0?(c.set(m.key,b.mutation.getFieldMask()),If(b.mutation,m,b.mutation.getFieldMask(),mi.now())):c.set(m.key,lo.empty())})),this.recalculateAndSaveOverlays(t,o).next((d=>(d.forEach(((m,b)=>c.set(m,b))),e.forEach(((m,b)=>h.set(m,new LN(b,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(t,e){const r=Cf();let a=new Li(((c,h)=>c-h)),o=An();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((d=>{const m=e.get(d);if(m===null)return;let b=r.get(d)||lo.empty();b=h.applyToLocalView(m,b),r.set(d,b);const S=(a.get(h.batchId)||An()).add(d);a=a.insert(h.batchId,S)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,b=d.value,S=Fw();b.forEach((I=>{if(!o.has(I)){const w=Kw(e.get(I),r.get(I));w!==null&&S.set(I,w),o=o.add(I)}})),c.push(this.documentOverlayCache.saveOverlays(t,m,S))}return $t.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,a){return(function(c){return Ue.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):OT(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,a):this.getDocumentsMatchingCollectionQuery(t,e,r,a)}getNextDocuments(t,e,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,a-o.size):$t.resolve(Xu());let h=Of,d=o;return c.next((m=>$t.forEach(m,((b,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),o.get(b)?$t.resolve():this.remoteDocumentCache.getEntry(t,b).next((I=>{d=d.insert(b,I)}))))).next((()=>this.populateOverlays(t,m,o))).next((()=>this.computeViews(t,d,m,An()))).next((b=>({batchId:h,changes:Bw(b)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ue(e)).next((r=>{let a=wf();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,a){const o=e.collectionGroup;let c=wf();return this.indexManager.getCollectionParents(t,o).next((h=>$t.forEach(h,(d=>{const m=(function(S,I){return new im(I,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(e,d.child(o));return this.getDocumentsMatchingCollectionQuery(t,m,r,a).next((b=>{b.forEach(((S,I)=>{c=c.insert(S,I)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,o,a)))).next((c=>{o.forEach(((d,m)=>{const b=m.getKey();c.get(b)===null&&(c=c.insert(b,gs.newInvalidDocument(b)))}));let h=wf();return c.forEach(((d,m)=>{const b=o.get(d);b!==void 0&&If(b.mutation,m,lo.empty(),mi.now()),sm(e,m)&&(h=h.insert(d,m))})),h}))}}class DN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return $t.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:zo(a.createTime)}})(e)),$t.resolve()}getNamedQuery(t,e){return $t.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(a){return{name:a.name,query:AN(a.bundledQuery),readTime:zo(a.readTime)}})(e)),$t.resolve()}}class ON{constructor(){this.overlays=new Li(Ue.comparator),this.qr=new Map}getOverlay(t,e){return $t.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Xu();return $t.forEach(e,(a=>this.getOverlay(t,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((a,o)=>{this.St(t,e,o)})),$t.resolve()}removeOverlaysForBatchId(t,e,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),$t.resolve()}getOverlaysForCollection(t,e,r){const a=Xu(),o=e.length+1,c=new Ue(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>r&&a.set(d.getKey(),d)}return $t.resolve(a)}getOverlaysForCollectionGroup(t,e,r,a){let o=new Li(((m,b)=>m-b));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>r){let b=o.get(m.largestBatchId);b===null&&(b=Xu(),o=o.insert(m.largestBatchId,b)),b.set(m.getKey(),m)}}const h=Xu(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,b)=>h.set(m,b))),!(h.size()>=a)););return $t.resolve(h)}St(t,e,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new JT(e,r));let o=this.qr.get(e);o===void 0&&(o=An(),this.qr.set(e,o)),this.qr.set(e,o.add(r.key))}}class PN{constructor(){this.sessionToken=es.EMPTY_BYTE_STRING}getSessionToken(t){return $t.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,$t.resolve()}}class N0{constructor(){this.Qr=new Ar(Mr.$r),this.Ur=new Ar(Mr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new Mr(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Gr(new Mr(t,e))}zr(t,e){t.forEach((r=>this.removeReference(r,e)))}jr(t){const e=new Ue(new Ri([])),r=new Mr(e,t),a=new Mr(e,t+1),o=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Ue(new Ri([])),r=new Mr(e,t),a=new Mr(e,t+1);let o=An();return this.Ur.forEachInRange([r,a],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new Mr(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class Mr{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Ue.comparator(t.key,e.key)||wn(t.Yr,e.Yr)}static Kr(t,e){return wn(t.Yr,e.Yr)||Ue.comparator(t.key,e.key)}}class MN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Ar(Mr.$r)}checkEmpty(t){return $t.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new WT(o,e,r,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new Mr(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return $t.resolve(c)}lookupMutationBatch(t,e){return $t.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,a=this.ei(r),o=a<0?0:a;return $t.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return $t.resolve(this.mutationQueue.length===0?y0:this.tr-1)}getAllMutationBatches(t){return $t.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Mr(e,0),a=new Mr(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(c=>{const h=this.Xr(c.Yr);o.push(h)})),$t.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Ar(wn);return e.forEach((a=>{const o=new Mr(a,0),c=new Mr(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{r=r.add(h.Yr)}))})),$t.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,a=r.length+1;let o=r;Ue.isDocumentKey(o)||(o=o.child(""));const c=new Mr(new Ue(o),0);let h=new Ar(wn);return this.Zr.forEachWhile((d=>{const m=d.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Yr)),!0)}),c),$t.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((r=>{const a=this.Xr(r);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){qn(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $t.forEach(e.mutations,(a=>{const o=new Mr(a.key,e.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,e){const r=new Mr(e,0),a=this.Zr.firstAfterOrEqual(r);return $t.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,$t.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class jN{constructor(t){this.ri=t,this.docs=(function(){return new Li(Ue.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,a=this.docs.get(r),o=a?a.size:0,c=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return $t.resolve(r?r.document.mutableCopy():gs.newInvalidDocument(e))}getEntries(t,e){let r=Ll();return e.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():gs.newInvalidDocument(a))})),$t.resolve(r)}getDocumentsMatchingQuery(t,e,r,a){let o=Ll();const c=e.path,h=new Ue(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:b}}=d.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||hT(cT(b),r)<=0||(a.has(b.key)||sm(e,b))&&(o=o.insert(b.key,b.mutableCopy()))}return $t.resolve(o)}getAllFromCollectionGroup(t,e,r,a){Fe(9500)}ii(t,e){return $t.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new UN(this)}getSize(t){return $t.resolve(this.size)}}class UN extends RN{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?e.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(r)})),$t.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class VN{constructor(t){this.persistence=t,this.si=new uc((e=>_0(e)),w0),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.oi=0,this._i=new N0,this.targetCount=0,this.ai=xh.ur()}forEachTarget(t,e){return this.si.forEach(((r,a)=>e(a))),$t.resolve()}getLastRemoteSnapshotVersion(t){return $t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $t.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$t.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),$t.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new xh(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,$t.resolve()}updateTargetData(t,e){return this.Pr(e),$t.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,$t.resolve()}removeTargets(t,e,r){let a=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=e&&r.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),$t.waitFor(o).next((()=>a))}getTargetCount(t){return $t.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return $t.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),$t.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const a=this.persistence.referenceDelegate,o=[];return a&&e.forEach((c=>{o.push(a.markPotentiallyOrphaned(t,c))})),$t.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),$t.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return $t.resolve(r)}containsKey(t,e){return $t.resolve(this._i.containsKey(e))}}class o4{constructor(t,e){this.ui={},this.overlays={},this.ci=new tm(0),this.li=!1,this.li=!0,this.hi=new PN,this.referenceDelegate=t(this),this.Pi=new VN(this),this.indexManager=new SN,this.remoteDocumentCache=(function(a){return new jN(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new wN(e),this.Ii=new DN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new ON,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new MN(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){ue("MemoryPersistence","Starting transaction:",t);const a=new BN(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(t,e){return $t.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,e))))}}class BN extends dT{constructor(t){super(),this.currentSequenceNumber=t}}class C0{constructor(t){this.persistence=t,this.Ri=new N0,this.Vi=null}static mi(t){return new C0(t)}get fi(){if(this.Vi)return this.Vi;throw Fe(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),$t.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),$t.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),$t.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $t.forEach(this.fi,(r=>{const a=Ue.fromPath(r);return this.gi(t,a).next((o=>{o||e.removeEntry(a,We.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return $t.or([()=>$t.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Vp{constructor(t,e){this.persistence=t,this.pi=new uc((r=>gT(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=IN(this,e)}static mi(t,e){return new Vp(t,e)}Ei(){}di(t){return $t.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((a=>r+a))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}pr(t,e){return $t.forEach(this.pi,((r,a)=>this.br(t,r,a).next((o=>o?$t.resolve():e(a)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,e).next((h=>{h||(r++,o.removeEntry(c,We.min()))})))).next((()=>o.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),$t.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),$t.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),$t.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),$t.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=fp(t.data.value)),e}br(t,e,r){return $t.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.pi.get(e);return $t.resolve(a!==void 0&&a>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class I0{constructor(t,e,r,a){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=a}static As(t,e){let r=An(),a=An();for(const o of e.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new I0(t,e.fromCache,r,a)}}class FN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class zN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return RS()?8:pT(ys())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,a){const o={result:null};return this.ys(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(t,e,a,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new FN;return this.Ss(t,e,c).next((h=>{if(o.result=h,this.Vs)return this.bs(t,e,c,h.size)}))})).next((()=>o.result))}bs(t,e,r,a){return r.documentReadCount<this.fs?(Zc()<=_n.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",th(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$t.resolve()):(Zc()<=_n.DEBUG&&ue("QueryEngine","Query:",th(e),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(Zc()<=_n.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",th(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Fo(e))):$t.resolve())}ys(t,e){if(mv(e))return $t.resolve(null);let r=Fo(e);return this.indexManager.getIndexType(t,r).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=I1(e,null,"F"),r=Fo(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((o=>{const c=An(...o);return this.ps.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,r).next((d=>{const m=this.Ds(e,h);return this.Cs(e,m,c,d.readTime)?this.ys(t,I1(e,null,"F")):this.vs(t,m,e,d)}))))})))))}ws(t,e,r,a){return mv(e)||a.isEqual(We.min())?$t.resolve(null):this.ps.getDocuments(t,r).next((o=>{const c=this.Ds(e,o);return this.Cs(e,c,r,a)?$t.resolve(null):(Zc()<=_n.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),th(e)),this.vs(t,c,e,uT(a,Of)).next((h=>h)))}))}Ds(t,e){let r=new Ar(Uw(t));return e.forEach(((a,o)=>{sm(t,o)&&(r=r.add(o))})),r}Cs(t,e,r,a){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(t,e,r){return Zc()<=_n.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",th(e)),this.ps.getDocumentsMatchingQuery(t,e,wu.min(),r)}vs(t,e,r,a){return this.ps.getDocumentsMatchingQuery(t,r,a).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const R0="LocalStore",qN=3e8;class HN{constructor(t,e,r,a){this.persistence=t,this.Fs=e,this.serializer=a,this.Ms=new Li(wn),this.xs=new uc((o=>_0(o)),w0),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new kN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function GN(n,t,e,r){return new HN(n,t,e,r)}async function l4(n,t){const e=nn(n);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return e.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],h=[];let d=An();for(const m of a){c.push(m.batchId);for(const b of m.mutations)d=d.add(b.key)}for(const m of o){h.push(m.batchId);for(const b of m.mutations)d=d.add(b.key)}return e.localDocuments.getDocuments(r,d).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function YN(n,t){const e=nn(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,b){const S=m.batch,I=S.keys();let w=$t.resolve();return I.forEach((Y=>{w=w.next((()=>b.getEntry(d,Y))).next((H=>{const K=m.docVersions.get(Y);qn(K!==null,48541),H.version.compareTo(K)<0&&(S.applyToRemoteDocument(H,m),H.isValidDocument()&&(H.setReadTime(m.commitVersion),b.addEntry(H)))}))})),w.next((()=>h.mutationQueue.removeMutationBatch(d,S)))})(e,r,t,o).next((()=>o.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=An();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(t)))).next((()=>e.localDocuments.getDocuments(r,a)))}))}function u4(n){const t=nn(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function KN(n,t){const e=nn(n),r=t.snapshotVersion;let a=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});a=e.Ms;const h=[];t.targetChanges.forEach(((b,S)=>{const I=a.get(S);if(!I)return;h.push(e.Pi.removeMatchingKeys(o,b.removedDocuments,S).next((()=>e.Pi.addMatchingKeys(o,b.addedDocuments,S))));let w=I.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(S)!==null?w=w.withResumeToken(es.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):b.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(b.resumeToken,r)),a=a.insert(S,w),(function(H,K,q){return H.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=qN?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(I,w,b)&&h.push(e.Pi.updateTargetData(o,w))}));let d=Ll(),m=An();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,b))})),h.push($N(o,c,t.documentUpdates).next((b=>{d=b.ks,m=b.qs}))),!r.isEqual(We.min())){const b=e.Pi.getLastRemoteSnapshotVersion(o).next((S=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(b)}return $t.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,d,m))).next((()=>d))})).then((o=>(e.Ms=a,o)))}function $N(n,t,e){let r=An(),a=An();return e.forEach((o=>r=r.add(o))),t.getEntries(n,r).next((o=>{let c=Ll();return e.forEach(((h,d)=>{const m=o.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(We.min())?(t.removeEntry(h,d.readTime),c=c.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(d),c=c.insert(h,d)):ue(R0,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)})),{ks:c,qs:a}}))}function XN(n,t){const e=nn(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=y0),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function QN(n,t){const e=nn(n);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return e.Pi.getTargetData(r,t).next((o=>o?(a=o,$t.resolve(a)):e.Pi.allocateTargetId(r).next((c=>(a=new pu(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=e.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r}))}async function O1(n,t,e){const r=nn(n),a=r.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Lh(c))throw c;ue(R0,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(a.target)}function Cv(n,t,e){const r=nn(n);let a=We.min(),o=An();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,m,b){const S=nn(d),I=S.xs.get(b);return I!==void 0?$t.resolve(S.Ms.get(I)):S.Pi.getTargetData(m,b)})(r,c,Fo(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,h.targetId).next((d=>{o=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,e?a:We.min(),e?o:An()))).next((h=>(WN(r,MT(t),h),{documents:h,Qs:o})))))}function WN(n,t,e){let r=n.Os.get(t)||We.min();e.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Os.set(t,r)}class Iv{constructor(){this.activeTargetIds=zT()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class JN{constructor(){this.Mo=new Iv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Iv,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class ZN{Oo(t){}shutdown(){}}const Rv="ConnectivityMonitor";class Lv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(Rv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ue(Rv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Wd=null;function P1(){return Wd===null?Wd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wd++,"0x"+Wd.toString(16)}const zg="RestConnection",t8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class e8{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===kp?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(t,e,r,a,o){const c=P1(),h=this.zo(t,e.toUriEncodedString());ue(zg,`Sending RPC '${t}' ${c}:`,h,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,o);const{host:m}=new URL(h),b=Th(m);return this.Jo(t,h,d,r,b).then((S=>(ue(zg,`Received RPC '${t}' ${c}: `,S),S)),(S=>{throw _h(zg,`RPC '${t}' ${c} failed with error: `,S,"url: ",h,"request:",r),S}))}Ho(t,e,r,a,o,c){return this.Go(t,e,r,a,o)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ih})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,o)=>t[o]=a)),r&&r.headers.forEach(((a,o)=>t[o]=a))}zo(t,e){const r=t8[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}class n8{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const cs="WebChannelConnection";class i8 extends e8{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,a,o){const c=P1();return new Promise(((h,d)=>{const m=new dw;m.setWithCredentials(!0),m.listenOnce(pw.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case hp.NO_ERROR:const S=m.getResponseJson();ue(cs,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(S)),h(S);break;case hp.TIMEOUT:ue(cs,`RPC '${t}' ${c} timed out`),d(new Re(Wt.DEADLINE_EXCEEDED,"Request time out"));break;case hp.HTTP_ERROR:const I=m.getStatus();if(ue(cs,`RPC '${t}' ${c} failed with status:`,I,"response text:",m.getResponseText()),I>0){let w=m.getResponseJson();Array.isArray(w)&&(w=w[0]);const Y=w?.error;if(Y&&Y.status&&Y.message){const H=(function(q){const lt=q.toLowerCase().replace(/_/g,"-");return Object.values(Wt).indexOf(lt)>=0?lt:Wt.UNKNOWN})(Y.status);d(new Re(H,Y.message))}else d(new Re(Wt.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Re(Wt.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{l_:t,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ue(cs,`RPC '${t}' ${c} completed.`)}}));const b=JSON.stringify(a);ue(cs,`RPC '${t}' ${c} sending request:`,a),m.send(e,"POST",b,r,15)}))}T_(t,e,r){const a=P1(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=yw(),h=gw(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,e,r),d.encodeInitMessageHeaders=!0;const b=o.join("");ue(cs,`Creating RPC '${t}' stream ${a}: ${b}`,d);const S=c.createWebChannel(b,d);this.I_(S);let I=!1,w=!1;const Y=new n8({Yo:K=>{w?ue(cs,`Not sending because RPC '${t}' stream ${a} is closed:`,K):(I||(ue(cs,`Opening RPC '${t}' stream ${a} transport.`),S.open(),I=!0),ue(cs,`RPC '${t}' stream ${a} sending:`,K),S.send(K))},Zo:()=>S.close()}),H=(K,q,lt)=>{K.listen(q,(ot=>{try{lt(ot)}catch(st){setTimeout((()=>{throw st}),0)}}))};return H(S,_f.EventType.OPEN,(()=>{w||(ue(cs,`RPC '${t}' stream ${a} transport opened.`),Y.o_())})),H(S,_f.EventType.CLOSE,(()=>{w||(w=!0,ue(cs,`RPC '${t}' stream ${a} transport closed`),Y.a_(),this.E_(S))})),H(S,_f.EventType.ERROR,(K=>{w||(w=!0,_h(cs,`RPC '${t}' stream ${a} transport errored. Name:`,K.name,"Message:",K.message),Y.a_(new Re(Wt.UNAVAILABLE,"The operation could not be completed")))})),H(S,_f.EventType.MESSAGE,(K=>{if(!w){const q=K.data[0];qn(!!q,16349);const lt=q,ot=lt?.error||lt[0]?.error;if(ot){ue(cs,`RPC '${t}' stream ${a} received error:`,ot);const st=ot.status;let At=(function(P){const N=sr[P];if(N!==void 0)return Qw(N)})(st),kt=ot.message;At===void 0&&(At=Wt.INTERNAL,kt="Unknown error status: "+st+" with message "+ot.message),w=!0,Y.a_(new Re(At,kt)),S.close()}else ue(cs,`RPC '${t}' stream ${a} received:`,q),Y.u_(q)}})),H(h,mw.STAT_EVENT,(K=>{K.stat===S1.PROXY?ue(cs,`RPC '${t}' stream ${a} detected buffering proxy`):K.stat===S1.NOPROXY&&ue(cs,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{Y.__()}),0),Y}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function qg(){return typeof document<"u"?document:null}function um(n){return new oN(n,!0)}class c4{constructor(t,e,r=1e3,a=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-r);a>0&&ue("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const kv="PersistentStream";class h4{constructor(t,e,r,a,o,c,h,d){this.Mi=t,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new c4(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===Wt.RESOURCE_EXHAUSTED?(Rl(e.toString()),Rl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Wt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===e&&this.G_(r,a)}),(r=>{t((()=>{const a=new Re(Wt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ue(kv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(ue(kv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class r8 extends h4{constructor(t,e,r,a,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,a,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=cN(this.serializer,t),r=(function(o){if(!("targetChange"in o))return We.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?We.min():c.readTime?zo(c.readTime):We.min()})(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=D1(this.serializer),e.addTarget=(function(o,c){let h;const d=c.target;if(h=C1(d)?{documents:dN(o,d)}:{query:pN(o,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=Zw(o,c.resumeToken);const m=R1(o,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(We.min())>0){h.readTime=Up(o,c.snapshotVersion.toTimestamp());const m=R1(o,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,t);const r=gN(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=D1(this.serializer),e.removeTarget=t,this.q_(e)}}class s8 extends h4{constructor(t,e,r,a,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return qn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qn(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=fN(t.writeResults,t.commitTime),r=zo(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=D1(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>hN(this.serializer,r)))};this.q_(e)}}class a8{}class o8 extends a8{constructor(t,e,r,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Re(Wt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(t,L1(e,r),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(Wt.UNKNOWN,o.toString())}))}Ho(t,e,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(t,L1(e,r),a,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Re(Wt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class l8{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rl(e),this.aa=!1):ue("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const sc="RemoteStore";class u8{constructor(t,e,r,a,o){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{hc(this)&&(ue(sc,"Restarting streams for network reachability change."),await(async function(d){const m=nn(d);m.Ea.add(4),await Wf(m),m.Ra.set("Unknown"),m.Ea.delete(4),await cm(m)})(this))}))})),this.Ra=new l8(r,a)}}async function cm(n){if(hc(n))for(const t of n.da)await t(!0)}async function Wf(n){for(const t of n.da)await t(!1)}function f4(n,t){const e=nn(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),O0(e)?D0(e):kh(e).O_()&&k0(e,t))}function L0(n,t){const e=nn(n),r=kh(e);e.Ia.delete(t),r.O_()&&d4(e,t),e.Ia.size===0&&(r.O_()?r.L_():hc(e)&&e.Ra.set("Unknown"))}function k0(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(We.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}kh(n).Y_(t)}function d4(n,t){n.Va.Ue(t),kh(n).Z_(t)}function D0(n){n.Va=new iN({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),kh(n).start(),n.Ra.ua()}function O0(n){return hc(n)&&!kh(n).x_()&&n.Ia.size>0}function hc(n){return nn(n).Ea.size===0}function p4(n){n.Va=void 0}async function c8(n){n.Ra.set("Online")}async function h8(n){n.Ia.forEach(((t,e)=>{k0(n,t)}))}async function f8(n,t){p4(n),O0(n)?(n.Ra.ha(t),D0(n)):n.Ra.set("Unknown")}async function d8(n,t,e){if(n.Ra.set("Online"),t instanceof Jw&&t.state===2&&t.cause)try{await(async function(a,o){const c=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(n,t)}catch(r){ue(sc,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Bp(n,r)}else if(t instanceof mp?n.Va.Ze(t):t instanceof Ww?n.Va.st(t):n.Va.tt(t),!e.isEqual(We.min()))try{const r=await u4(n.localStore);e.compareTo(r)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const b=o.Ia.get(m);b&&o.Ia.set(m,b.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,m)=>{const b=o.Ia.get(d);if(!b)return;o.Ia.set(d,b.withResumeToken(es.EMPTY_BYTE_STRING,b.snapshotVersion)),d4(o,d);const S=new pu(b.target,d,m,b.sequenceNumber);k0(o,S)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(r){ue(sc,"Failed to raise snapshot:",r),await Bp(n,r)}}async function Bp(n,t,e){if(!Lh(t))throw t;n.Ea.add(1),await Wf(n),n.Ra.set("Offline"),e||(e=()=>u4(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ue(sc,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await cm(n)}))}function m4(n,t){return t().catch((e=>Bp(n,e,t)))}async function hm(n){const t=nn(n),e=Eu(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:y0;for(;p8(t);)try{const a=await XN(t.localStore,r);if(a===null){t.Ta.length===0&&e.L_();break}r=a.batchId,m8(t,a)}catch(a){await Bp(t,a)}g4(t)&&y4(t)}function p8(n){return hc(n)&&n.Ta.length<10}function m8(n,t){n.Ta.push(t);const e=Eu(n);e.O_()&&e.X_&&e.ea(t.mutations)}function g4(n){return hc(n)&&!Eu(n).x_()&&n.Ta.length>0}function y4(n){Eu(n).start()}async function g8(n){Eu(n).ra()}async function y8(n){const t=Eu(n);for(const e of n.Ta)t.ea(e.mutations)}async function v8(n,t,e){const r=n.Ta.shift(),a=x0.from(r,t,e);await m4(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await hm(n)}async function b8(n,t){t&&Eu(n).X_&&await(async function(r,a){if((function(c){return tN(c)&&c!==Wt.ABORTED})(a.code)){const o=r.Ta.shift();Eu(r).B_(),await m4(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await hm(r)}})(n,t),g4(n)&&y4(n)}async function Dv(n,t){const e=nn(n);e.asyncQueue.verifyOperationInProgress(),ue(sc,"RemoteStore received new credentials");const r=hc(e);e.Ea.add(3),await Wf(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await cm(e)}async function _8(n,t){const e=nn(n);t?(e.Ea.delete(2),await cm(e)):t||(e.Ea.add(2),await Wf(e),e.Ra.set("Unknown"))}function kh(n){return n.ma||(n.ma=(function(e,r,a){const o=nn(e);return o.sa(),new r8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:c8.bind(null,n),t_:h8.bind(null,n),r_:f8.bind(null,n),H_:d8.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),O0(n)?D0(n):n.Ra.set("Unknown")):(await n.ma.stop(),p4(n))}))),n.ma}function Eu(n){return n.fa||(n.fa=(function(e,r,a){const o=nn(e);return o.sa(),new s8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:g8.bind(null,n),r_:b8.bind(null,n),ta:y8.bind(null,n),na:v8.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await hm(n)):(await n.fa.stop(),n.Ta.length>0&&(ue(sc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class P0{constructor(t,e,r,a,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Wu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,a,o){const c=Date.now()+r,h=new P0(t,e,c,a,o);return h.start(r),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(Wt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function M0(n,t){if(Rl("AsyncQueue",`${t}: ${n}`),Lh(n))return new Re(Wt.UNAVAILABLE,`${t}: ${n}`);throw n}class hh{static emptySet(t){return new hh(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||Ue.comparator(e.key,r.key):(e,r)=>Ue.comparator(e.key,r.key),this.keyedMap=wf(),this.sortedSet=new Li(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof hh)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new hh;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class Ov{constructor(){this.ga=new Li(Ue.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Fe(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class Eh{constructor(t,e,r,a,o,c,h,d,m){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(t,e,r,a,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new Eh(t,e,hh.emptySet(e),c,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==r[a].type||!e[a].doc.isEqual(r[a].doc))return!1;return!0}}class w8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class A8{constructor(){this.queries=Pv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const a=nn(e),o=a.queries;a.queries=Pv(),o.forEach(((c,h)=>{for(const d of h.Sa)d.onError(r)}))})(this,new Re(Wt.ABORTED,"Firestore shutting down"))}}function Pv(){return new uc((n=>jw(n)),rm)}async function S8(n,t){const e=nn(n);let r=3;const a=t.query;let o=e.queries.get(a);o?!o.ba()&&t.Da()&&(r=2):(o=new w8,r=t.Da()?0:1);try{switch(r){case 0:o.wa=await e.onListen(a,!0);break;case 1:o.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const h=M0(c,`Initialization of query '${th(t.query)}' failed`);return void t.onError(h)}e.queries.set(a,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&j0(e)}async function x8(n,t){const e=nn(n),r=t.query;let a=3;const o=e.queries.get(r);if(o){const c=o.Sa.indexOf(t);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=t.Da()?0:1:!o.ba()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function E8(n,t){const e=nn(n);let r=!1;for(const a of t){const o=a.query,c=e.queries.get(o);if(c){for(const h of c.Sa)h.Fa(a)&&(r=!0);c.wa=a}}r&&j0(e)}function T8(n,t,e){const r=nn(n),a=r.queries.get(t);if(a)for(const o of a.Sa)o.onError(e);r.queries.delete(t)}function j0(n){n.Ca.forEach((t=>{t.next()}))}var M1,Mv;(Mv=M1||(M1={})).Ma="default",Mv.Cache="cache";class N8{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new Eh(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Eh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==M1.Cache}}class v4{constructor(t){this.key=t}}class b4{constructor(t){this.key=t}}class C8{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=An(),this.mutatedKeys=An(),this.eu=Uw(t),this.tu=new hh(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new Ov,a=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((b,S)=>{const I=a.get(b),w=sm(this.query,S)?S:null,Y=!!I&&this.mutatedKeys.has(I.key),H=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let K=!1;I&&w?I.data.isEqual(w.data)?Y!==H&&(r.track({type:3,doc:w}),K=!0):this.su(I,w)||(r.track({type:2,doc:w}),K=!0,(d&&this.eu(w,d)>0||m&&this.eu(w,m)<0)&&(h=!0)):!I&&w?(r.track({type:0,doc:w}),K=!0):I&&!w&&(r.track({type:1,doc:I}),K=!0,(d||m)&&(h=!0)),K&&(w?(c=c.add(w),o=H?o.add(b):o.delete(b)):(c=c.delete(b),o=o.delete(b)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const b=this.query.limitType==="F"?c.last():c.first();c=c.delete(b.key),o=o.delete(b.key),r.track({type:1,doc:b})}return{tu:c,iu:r,Cs:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,a){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((b,S)=>(function(w,Y){const H=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{Rt:K})}};return H(w)-H(Y)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(r),a=a??!1;const h=e&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,m=d!==this.Za;return this.Za=d,c.length!==0||m?{snapshot:new Eh(this.query,t.tu,o,c,t.mutatedKeys,d===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ov,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=An(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const e=[];return t.forEach((r=>{this.Xa.has(r)||e.push(new b4(r))})),this.Xa.forEach((r=>{t.has(r)||e.push(new v4(r))})),e}cu(t){this.Ya=t.Qs,this.Xa=An();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Eh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const U0="SyncEngine";class I8{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class R8{constructor(t){this.key=t,this.hu=!1}}class L8{constructor(t,e,r,a,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new uc((h=>jw(h)),rm),this.Iu=new Map,this.Eu=new Set,this.du=new Li(Ue.comparator),this.Au=new Map,this.Ru=new N0,this.Vu={},this.mu=new Map,this.fu=xh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function k8(n,t,e=!0){const r=E4(n);let a;const o=r.Tu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await _4(r,t,e,!0),a}async function D8(n,t){const e=E4(n);await _4(e,t,!0,!1)}async function _4(n,t,e,r){const a=await QN(n.localStore,Fo(t)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return r&&(h=await O8(n,t,o,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&f4(n.remoteStore,a),h}async function O8(n,t,e,r,a){n.pu=(S,I,w)=>(async function(H,K,q,lt){let ot=K.view.ru(q);ot.Cs&&(ot=await Cv(H.localStore,K.query,!1).then((({documents:z})=>K.view.ru(z,ot))));const st=lt&&lt.targetChanges.get(K.targetId),At=lt&&lt.targetMismatches.get(K.targetId)!=null,kt=K.view.applyChanges(ot,H.isPrimaryClient,st,At);return Uv(H,K.targetId,kt.au),kt.snapshot})(n,S,I,w);const o=await Cv(n.localStore,t,!0),c=new C8(t,o.Qs),h=c.ru(o.documents),d=Qf.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",a),m=c.applyChanges(h,n.isPrimaryClient,d);Uv(n,e,m.au);const b=new I8(t,e,c);return n.Tu.set(t,b),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),m.snapshot}async function P8(n,t,e){const r=nn(n),a=r.Tu.get(t),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((c=>!rm(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await O1(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),e&&L0(r.remoteStore,a.targetId),j1(r,a.targetId)})).catch(Rh)):(j1(r,a.targetId),await O1(r.localStore,a.targetId,!0))}async function M8(n,t){const e=nn(n),r=e.Tu.get(t),a=e.Iu.get(r.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),L0(e.remoteStore,r.targetId))}async function j8(n,t,e){const r=H8(n);try{const a=await(function(c,h){const d=nn(c),m=mi.now(),b=h.reduce(((w,Y)=>w.add(Y.key)),An());let S,I;return d.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let Y=Ll(),H=An();return d.Ns.getEntries(w,b).next((K=>{Y=K,Y.forEach(((q,lt)=>{lt.isValidDocument()||(H=H.add(q))}))})).next((()=>d.localDocuments.getOverlayedDocuments(w,Y))).next((K=>{S=K;const q=[];for(const lt of h){const ot=XT(lt,S.get(lt.key).overlayedDocument);ot!=null&&q.push(new cc(lt.key,ot,Rw(ot.value.mapValue),Nl.exists(!0)))}return d.mutationQueue.addMutationBatch(w,m,q,h)})).next((K=>{I=K;const q=K.applyToLocalDocumentSet(S,H);return d.documentOverlayCache.saveOverlays(w,K.batchId,q)}))})).then((()=>({batchId:I.batchId,changes:Bw(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),(function(c,h,d){let m=c.Vu[c.currentUser.toKey()];m||(m=new Li(wn)),m=m.insert(h,d),c.Vu[c.currentUser.toKey()]=m})(r,a.batchId,e),await Jf(r,a.changes),await hm(r.remoteStore)}catch(a){const o=M0(a,"Failed to persist write");e.reject(o)}}async function w4(n,t){const e=nn(n);try{const r=await KN(e.localStore,t);t.targetChanges.forEach(((a,o)=>{const c=e.Au.get(o);c&&(qn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?qn(c.hu,14607):a.removedDocuments.size>0&&(qn(c.hu,42227),c.hu=!1))})),await Jf(e,r,t)}catch(r){await Rh(r)}}function jv(n,t,e){const r=nn(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const a=[];r.Tu.forEach(((o,c)=>{const h=c.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const d=nn(c);d.onlineState=h;let m=!1;d.queries.forEach(((b,S)=>{for(const I of S.Sa)I.va(h)&&(m=!0)})),m&&j0(d)})(r.eventManager,t),a.length&&r.Pu.H_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function U8(n,t,e){const r=nn(n);r.sharedClientState.updateQueryState(t,"rejected",e);const a=r.Au.get(t),o=a&&a.key;if(o){let c=new Li(Ue.comparator);c=c.insert(o,gs.newNoDocument(o,We.min()));const h=An().add(o),d=new lm(We.min(),new Map,new Li(wn),c,h);await w4(r,d),r.du=r.du.remove(o),r.Au.delete(t),V0(r)}else await O1(r.localStore,t,!1).then((()=>j1(r,t,e))).catch(Rh)}async function V8(n,t){const e=nn(n),r=t.batch.batchId;try{const a=await YN(e.localStore,t);S4(e,r,null),A4(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await Jf(e,a)}catch(a){await Rh(a)}}async function B8(n,t,e){const r=nn(n);try{const a=await(function(c,h){const d=nn(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let b;return d.mutationQueue.lookupMutationBatch(m,h).next((S=>(qn(S!==null,37113),b=S.keys(),d.mutationQueue.removeMutationBatch(m,S)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,b,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,b))).next((()=>d.localDocuments.getDocuments(m,b)))}))})(r.localStore,t);S4(r,t,e),A4(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await Jf(r,a)}catch(a){await Rh(a)}}function A4(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function S4(n,t,e){const r=nn(n);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(t);o&&(e?o.reject(e):o.resolve(),a=a.remove(t)),r.Vu[r.currentUser.toKey()]=a}}function j1(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((r=>{n.Ru.containsKey(r)||x4(n,r)}))}function x4(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(L0(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),V0(n))}function Uv(n,t,e){for(const r of e)r instanceof v4?(n.Ru.addReference(r.key,t),F8(n,r)):r instanceof b4?(ue(U0,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||x4(n,r.key)):Fe(19791,{wu:r})}function F8(n,t){const e=t.key,r=e.path.canonicalString();n.du.get(e)||n.Eu.has(r)||(ue(U0,"New document in limbo: "+e),n.Eu.add(r),V0(n))}function V0(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Ue(Ri.fromString(t)),r=n.fu.next();n.Au.set(r,new R8(e)),n.du=n.du.insert(e,r),f4(n.remoteStore,new pu(Fo(A0(e.path)),r,"TargetPurposeLimboResolution",tm.ce))}}async function Jf(n,t,e){const r=nn(n),a=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{c.push(r.pu(d,t,e).then((m=>{if((m||e)&&r.isPrimaryClient){const b=m?!m.fromCache:e?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,b?"current":"not-current")}if(m){a.push(m);const b=I0.As(d.targetId,m);o.push(b)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(d,m){const b=nn(d);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$t.forEach(m,(I=>$t.forEach(I.Es,(w=>b.persistence.referenceDelegate.addReference(S,I.targetId,w))).next((()=>$t.forEach(I.ds,(w=>b.persistence.referenceDelegate.removeReference(S,I.targetId,w)))))))))}catch(S){if(!Lh(S))throw S;ue(R0,"Failed to update sequence numbers: "+S)}for(const S of m){const I=S.targetId;if(!S.fromCache){const w=b.Ms.get(I),Y=w.snapshotVersion,H=w.withLastLimboFreeSnapshotVersion(Y);b.Ms=b.Ms.insert(I,H)}}})(r.localStore,o))}async function z8(n,t){const e=nn(n);if(!e.currentUser.isEqual(t)){ue(U0,"User change. New user:",t.toKey());const r=await l4(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new Re(Wt.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Jf(e,r.Ls)}}function q8(n,t){const e=nn(n),r=e.Au.get(t);if(r&&r.hu)return An().add(r.key);{let a=An();const o=e.Iu.get(t);if(!o)return a;for(const c of o){const h=e.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function E4(n){const t=nn(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=w4.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=q8.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=U8.bind(null,t),t.Pu.H_=E8.bind(null,t.eventManager),t.Pu.yu=T8.bind(null,t.eventManager),t}function H8(n){const t=nn(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=V8.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=B8.bind(null,t),t}class Fp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=um(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return GN(this.persistence,new zN,t.initialUser,this.serializer)}Cu(t){return new o4(C0.mi,this.serializer)}Du(t){return new JN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fp.provider={build:()=>new Fp};class G8 extends Fp{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){qn(this.persistence.referenceDelegate instanceof Vp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new NN(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Xs.withCacheSize(this.cacheSizeBytes):Xs.DEFAULT;return new o4((r=>Vp.mi(r,e)),this.serializer)}}class U1{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=z8.bind(null,this.syncEngine),await _8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new A8})()}createDatastore(t){const e=um(t.databaseInfo.databaseId),r=(function(o){return new i8(o)})(t.databaseInfo);return(function(o,c,h,d){return new o8(o,c,h,d)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,a,o,c,h){return new u8(r,a,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>jv(this.syncEngine,e,0)),(function(){return Lv.v()?new Lv:new ZN})())}createSyncEngine(t,e){return(function(a,o,c,h,d,m,b){const S=new L8(a,o,c,h,d,m);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=nn(e);ue(sc,"RemoteStore shutting down."),r.Ea.add(5),await Wf(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}U1.provider={build:()=>new U1};class Y8{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Rl("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Tu="FirestoreClient";class K8{constructor(t,e,r,a,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=a,this.user=ms.UNAUTHENTICATED,this.clientId=m0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{ue(Tu,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ue(Tu,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Wu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=M0(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Hg(n,t){n.asyncQueue.verifyOperationInProgress(),ue(Tu,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await l4(t.localStore,a),r=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function Vv(n,t){n.asyncQueue.verifyOperationInProgress();const e=await $8(n);ue(Tu,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((r=>Dv(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>Dv(t.remoteStore,a))),n._onlineComponents=t}async function $8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(Tu,"Using user provided OfflineComponentProvider");try{await Hg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===Wt.FAILED_PRECONDITION||a.code===Wt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;_h("Error using user provided cache. Falling back to memory cache: "+e),await Hg(n,new Fp)}}else ue(Tu,"Using default OfflineComponentProvider"),await Hg(n,new G8(void 0));return n._offlineComponents}async function T4(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(Tu,"Using user provided OnlineComponentProvider"),await Vv(n,n._uninitializedComponentsProvider._online)):(ue(Tu,"Using default OnlineComponentProvider"),await Vv(n,new U1))),n._onlineComponents}function X8(n){return T4(n).then((t=>t.syncEngine))}async function Bv(n){const t=await T4(n),e=t.eventManager;return e.onListen=k8.bind(null,t.syncEngine),e.onUnlisten=P8.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=D8.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=M8.bind(null,t.syncEngine),e}function N4(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const Fv=new Map;const C4="firestore.googleapis.com",zv=!0;class qv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Re(Wt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=C4,this.ssl=zv}else this.host=t.host,this.ssl=t.ssl??zv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=a4;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<EN)throw new Re(Wt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}lT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N4(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Re(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Re(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Re(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class B0{constructor(t,e,r,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(Wt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Re(Wt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new WE;switch(r.type){case"firstParty":return new eT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Re(Wt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=Fv.get(e);r&&(ue("ComponentProvider","Removing Datastore"),Fv.delete(e),r.terminate())})(this),Promise.resolve()}}function Q8(n,t,e,r={}){n=ch(n,B0);const a=Th(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;a&&(C_(`https://${h}`),I_("Firestore",!0)),o.host!==C4&&o.host!==h&&_h("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:a,emulatorOptions:r};if(!ec(d,c)&&(n._setSettings(d),r.mockUserToken)){let m,b;if(typeof r.mockUserToken=="string")m=r.mockUserToken,b=ms.MOCK_USER;else{m=wS(r.mockUserToken,n._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new Re(Wt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new ms(S)}n._authCredentials=new JE(new bw(m,b))}}class fm{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new fm(this.firestore,t,this._query)}}class Ur{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ur(this.firestore,t,this._key)}toJSON(){return{type:Ur._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if($f(e,Ur._jsonSchema))return new Ur(t,r||null,new Ue(Ri.fromString(e.referencePath)))}}Ur._jsonSchemaVersion="firestore/documentReference/1.0",Ur._jsonSchema={type:ar("string",Ur._jsonSchemaVersion),referencePath:ar("string")};class Bf extends fm{constructor(t,e,r){super(t,e,A0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ur(this.firestore,null,new Ue(t))}withConverter(t){return new Bf(this.firestore,t,this._path)}}function Hv(n,t,...e){if(n=ma(n),arguments.length===1&&(t=m0.newId()),oT("doc","path",t),n instanceof B0){const r=Ri.fromString(t,...e);return nv(r),new Ur(n,null,new Ue(r))}{if(!(n instanceof Ur||n instanceof Bf))throw new Re(Wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ri.fromString(t,...e));return nv(r),new Ur(n.firestore,n instanceof Bf?n.converter:null,new Ue(r))}}const Gv="AsyncQueue";class Yv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new c4(this,"async_queue_retry"),this._c=()=>{const r=qg();r&&ue(Gv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=qg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=qg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Wu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Lh(t))throw t;ue(Gv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Rl("INTERNAL UNHANDLED ERROR: ",Kv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=P0.createAndSchedule(this,t,e,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Fe(47125,{Pc:Kv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Kv(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function $v(n){return(function(e,r){if(typeof e!="object"||e===null)return!1;const a=e;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class zp extends B0{constructor(t,e,r,a){super(t,e,r,a),this.type="firestore",this._queue=new Yv,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Yv(t),this._firestoreClient=void 0,await t}}}function W8(n,t){const e=typeof n=="object"?n:D_(),r=typeof n=="string"?n:kp,a=i0(e,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=bS("firestore");o&&Q8(a,...o)}return a}function I4(n){if(n._terminated)throw new Re(Wt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||J8(n),n._firestoreClient}function J8(n){const t=n._freezeSettings(),e=(function(a,o,c,h){return new bT(a,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,N4(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new K8(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}class Ma{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ma(es.fromBase64String(t))}catch(e){throw new Re(Wt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ma(es.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ma._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if($f(t,Ma._jsonSchema))return Ma.fromBase64String(t.bytes)}}Ma._jsonSchemaVersion="firestore/bytes/1.0",Ma._jsonSchema={type:ar("string",Ma._jsonSchemaVersion),bytes:ar("string")};class F0{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Re(Wt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ts(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class R4{constructor(t){this._methodName=t}}class qo{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Re(Wt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Re(Wt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return wn(this._lat,t._lat)||wn(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qo._jsonSchemaVersion}}static fromJSON(t){if($f(t,qo._jsonSchema))return new qo(t.latitude,t.longitude)}}qo._jsonSchemaVersion="firestore/geoPoint/1.0",qo._jsonSchema={type:ar("string",qo._jsonSchemaVersion),latitude:ar("number"),longitude:ar("number")};class Ho{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ho._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if($f(t,Ho._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Ho(t.vectorValues);throw new Re(Wt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ho._jsonSchemaVersion="firestore/vectorValue/1.0",Ho._jsonSchema={type:ar("string",Ho._jsonSchemaVersion),vectorValues:ar("object")};const Z8=/^__.*__$/;class tC{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new cc(t,this.data,this.fieldMask,e,this.fieldTransforms):new Xf(t,this.data,e,this.fieldTransforms)}}function L4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{Ac:n})}}class z0{constructor(t,e,r,a,o,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new z0({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return qp(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(L4(this.Ac)&&Z8.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class eC{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||um(t)}Cc(t,e,r,a=!1){return new z0({Ac:t,methodName:e,Dc:r,path:ts.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nC(n){const t=n._freezeSettings(),e=um(n._databaseId);return new eC(n._databaseId,!!t.ignoreUndefinedProperties,e)}function iC(n,t,e,r,a,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,t,e,a);P4("Data must be an object, but it was:",c,r);const h=D4(r,c);let d,m;if(o.merge)d=new lo(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const b=[];for(const S of o.mergeFields){const I=rC(t,S,e);if(!c.contains(I))throw new Re(Wt.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);aC(b,I)||b.push(I)}d=new lo(b),m=c.fieldTransforms.filter((S=>d.covers(S.field)))}else d=null,m=c.fieldTransforms;return new tC(new Pa(h),d,m)}function k4(n,t){if(O4(n=ma(n)))return P4("Unsupported field value:",t,n),D4(n,t);if(n instanceof R4)return(function(r,a){if(!L4(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let c=0;for(const h of r){let d=k4(h,a.wc(c));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),c++}return{arrayValue:{values:o}}})(n,t)}return(function(r,a){if((r=ma(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qT(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=mi.fromDate(r);return{timestampValue:Up(a.serializer,o)}}if(r instanceof mi){const o=new mi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Up(a.serializer,o)}}if(r instanceof qo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ma)return{bytesValue:Zw(a.serializer,r._byteString)};if(r instanceof Ur){const o=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:T0(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Ho)return(function(c,h){return{mapValue:{fields:{[Cw]:{stringValue:Iw},[Dp]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return S0(h.serializer,m)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${g0(r)}`)})(n,t)}function D4(n,t){const e={};return Aw(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lc(n,((r,a)=>{const o=k4(a,t.mc(r));o!=null&&(e[r]=o)})),{mapValue:{fields:e}}}function O4(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof mi||n instanceof qo||n instanceof Ma||n instanceof Ur||n instanceof R4||n instanceof Ho)}function P4(n,t,e){if(!O4(e)||!_w(e)){const r=g0(e);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function rC(n,t,e){if((t=ma(t))instanceof F0)return t._internalPath;if(typeof t=="string")return M4(n,t);throw qp("Field path arguments must be of type string or ",n,!1,void 0,e)}const sC=new RegExp("[~\\*/\\[\\]]");function M4(n,t,e){if(t.search(sC)>=0)throw qp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new F0(...t.split("."))._internalPath}catch{throw qp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function qp(n,t,e,r,a){const o=r&&!r.isEmpty(),c=a!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||c)&&(d+=" (found",o&&(d+=` in field ${r}`),c&&(d+=` in document ${a}`),d+=")"),new Re(Wt.INVALID_ARGUMENT,h+n+d)}function aC(n,t){return n.some((e=>e.isEqual(t)))}class j4{constructor(t,e,r,a,o){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ur(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new oC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(U4("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class oC extends j4{data(){return super.data()}}function U4(n,t){return typeof t=="string"?M4(n,t):t instanceof F0?t._internalPath:t._delegate._internalPath}function lC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Re(Wt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uC{convertValue(t,e="none"){switch(xu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ki(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Su(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Fe(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return lc(t,((a,o)=>{r[a]=this.convertValue(o,e)})),r}convertVectorValue(t){const e=t.fields?.[Dp].arrayValue?.values?.map((r=>Ki(r.doubleValue)));return new Ho(e)}convertGeoPoint(t){return new qo(Ki(t.latitude),Ki(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=nm(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Pf(t));default:return null}}convertTimestamp(t){const e=Au(t);return new mi(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=Ri.fromString(t);qn(s4(r),9688,{name:t});const a=new Mf(r.get(1),r.get(3)),o=new Ue(r.popFirst(5));return a.isEqual(e)||Rl(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function cC(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class Sf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ju extends j4{constructor(t,e,r,a,o,c){super(t,e,r,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new gp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(U4("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(Wt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Ju._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Ju._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ju._jsonSchema={type:ar("string",Ju._jsonSchemaVersion),bundleSource:ar("string","DocumentSnapshot"),bundleName:ar("string"),bundle:ar("string")};class gp extends Ju{data(t={}){return super.data(t)}}class fh{constructor(t,e,r,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new Sf(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new gp(this._firestore,this._userDataWriter,r.key,r,new Sf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Re(Wt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const d=new gp(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Sf(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new gp(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Sf(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,b=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),b=c.indexOf(h.doc.key)),{type:hC(h.type),doc:d,oldIndex:m,newIndex:b}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(Wt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=fh._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=m0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function hC(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:n})}}fh._jsonSchemaVersion="firestore/querySnapshot/1.0",fh._jsonSchema={type:ar("string",fh._jsonSchemaVersion),bundleSource:ar("string","QuerySnapshot"),bundleName:ar("string"),bundle:ar("string")};class V4 extends uC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ma(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ur(this.firestore,null,e)}}function Xv(n,t,e){n=ch(n,Ur);const r=ch(n.firestore,zp),a=cC(n.converter,t,e);return dC(r,[iC(nC(r),"setDoc",n._key,a,n.converter!==null,e).toMutation(n._key,Nl.none())])}function fC(n,...t){n=ma(n);let e={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||$v(t[r])||(e=t[r++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if($v(t[r])){const d=t[r];t[r]=d.next?.bind(d),t[r+1]=d.error?.bind(d),t[r+2]=d.complete?.bind(d)}let o,c,h;if(n instanceof Ur)c=ch(n.firestore,zp),h=A0(n._key.path),o={next:d=>{t[r]&&t[r](pC(c,n,d))},error:t[r+1],complete:t[r+2]};else{const d=ch(n,fm);c=ch(d.firestore,zp),h=d._query;const m=new V4(c);o={next:b=>{t[r]&&t[r](new fh(c,m,d,b))},error:t[r+1],complete:t[r+2]},lC(n._query)}return(function(m,b,S,I){const w=new Y8(I),Y=new N8(b,w,S);return m.asyncQueue.enqueueAndForget((async()=>S8(await Bv(m),Y))),()=>{w.Nu(),m.asyncQueue.enqueueAndForget((async()=>x8(await Bv(m),Y)))}})(I4(c),h,a,o)}function dC(n,t){return(function(r,a){const o=new Wu;return r.asyncQueue.enqueueAndForget((async()=>j8(await X8(r),a,o))),o.promise})(I4(n),t)}function pC(n,t,e){const r=e.docs.get(t._key),a=new V4(n);return new Ju(n,a,t._key,r,new Sf(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(a){Ih=a})(Nh),vh(new nc("firestore",((r,{instanceIdentifier:a,options:o})=>{const c=r.getProvider("app").getImmediate(),h=new zp(new ZE(r.getProvider("auth-internal")),new nT(c,r.getProvider("app-check-internal")),(function(m,b){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Re(Wt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mf(m.options.projectId,b)})(c,a),c);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),vu(Jy,Zy,t),vu(Jy,Zy,"esm2020")})();const mC={apiKey:"AIzaSyBvZw0K6-YjEg5rQ9kQc0A9N1jrxXmBOxM",authDomain:"anjaneya-invoice.firebaseapp.com",projectId:"anjaneya-invoice",storageBucket:"anjaneya-invoice.firebasestorage.app",messagingSenderId:"705018733044",appId:"1:705018733044:web:b2aaeea4a8ac58510919a1"},B4=k_(mC),Gg=XE(B4),gC=new xl,Qv=W8(B4),F4=hn.createContext(void 0),yC=({children:n})=>{const[t,e]=hn.useState([]),[r,a]=hn.useState(cS),[o,c]=hn.useState(1),[h,d]=hn.useState(null),[m,b]=hn.useState("idle"),[S,I]=hn.useState(null);hn.useEffect(()=>{const N=localStorage.getItem("borewell_invoices"),V=localStorage.getItem("borewell_settings"),E=localStorage.getItem("borewell_next_invoice_number");if(N)try{e(JSON.parse(N))}catch(R){console.error("Failed to load invoices",R)}if(V)try{const R=JSON.parse(V);R.logo&&a(R.logo)}catch(R){console.error("Failed settings",R)}E&&c(parseInt(E,10))},[]),hn.useEffect(()=>{const N=j6(Gg,V=>{d(V)});return()=>N()},[]),hn.useEffect(()=>{if(!h)return;b("syncing");const N=Hv(Qv,"users",h.uid),V=fC(N,E=>{if(E.exists()){const R=E.data();R.invoices&&Array.isArray(R.invoices)&&(e(R.invoices),localStorage.setItem("borewell_invoices",JSON.stringify(R.invoices))),R.nextInvoiceNumber&&(c(R.nextInvoiceNumber),localStorage.setItem("borewell_next_invoice_number",R.nextInvoiceNumber.toString())),I(new Date),b("success"),setTimeout(()=>b("idle"),2e3)}else t.length>0&&Xv(N,{invoices:t,nextInvoiceNumber:o,lastUpdated:new Date},{merge:!0}),b("idle")},E=>{console.error("Sync Error:",E),b("error")});return()=>V()},[h]);const w=async(N,V)=>{if(h){b("syncing");try{const E={invoices:N,lastUpdated:new Date};V!==void 0&&(E.nextInvoiceNumber=V),await Xv(Hv(Qv,"users",h.uid),E,{merge:!0}),b("success"),setTimeout(()=>b("idle"),2e3)}catch(E){console.error("Save Error",E),b("error")}}},Y=N=>{c(N),localStorage.setItem("borewell_next_invoice_number",N.toString()),w(t,N)},H=async()=>{try{await rE(Gg,gC)}catch(N){console.error("Login Failed",N),alert("Login Failed: "+N.message)}},K=async()=>{await U6(Gg),d(null)},q=N=>{a(N);const V={logo:N};localStorage.setItem("borewell_settings",JSON.stringify(V))},lt=N=>{let V=!0;return e(E=>{if(E.some(_t=>_t.customer.invoiceNumber.toLowerCase()===N.customer.invoiceNumber.toLowerCase()&&_t.id!==N.id))return alert(`Invoice Number "${N.customer.invoiceNumber}" already exists!`),V=!1,E;const D=E.findIndex(_t=>_t.id===N.id);let rt;return D>=0?(rt=[...E],rt[D]=N):rt=[N,...E],localStorage.setItem("borewell_invoices",JSON.stringify(rt)),w(rt),rt}),V},ot=N=>{e(V=>{const E=V.map(R=>R.id===N?{...R,isDeleted:!0}:R);return localStorage.setItem("borewell_invoices",JSON.stringify(E)),w(E),E})},st=N=>{e(V=>{const E=V.map(R=>R.id===N?{...R,isDeleted:!1}:R);return localStorage.setItem("borewell_invoices",JSON.stringify(E)),w(E),E})},At=N=>{e(V=>{const E=V.filter(R=>R.id!==N);return localStorage.setItem("borewell_invoices",JSON.stringify(E)),w(E),E})},kt=()=>{const N=JSON.stringify(t),V="data:application/json;charset=utf-8,"+encodeURIComponent(N),E=`borewell_backup_${new Date().toISOString().split("T")[0]}.json`,R=document.createElement("a");R.setAttribute("href",V),R.setAttribute("download",E),R.click()},z=async()=>{try{const N=JSON.stringify(t,null,2),V=`borewell_backup_${new Date().toISOString().split("T")[0]}.json`,E=new File([N],V,{type:"application/json"});navigator.canShare&&navigator.canShare({files:[E]})?await navigator.share({files:[E],title:"Borewell Backup",text:"Backup of Invoice Data"}):kt()}catch(N){console.error("Error sharing backup:",N),kt()}},P=async N=>{try{const V=await N.text(),E=JSON.parse(V);Array.isArray(E)?(e(E),localStorage.setItem("borewell_invoices",JSON.stringify(E)),w(E),alert("Backup imported successfully!")):alert("Invalid backup file")}catch(V){alert("Failed to read backup file"),console.error(V)}};return O.jsx(F4.Provider,{value:{invoices:t,saveInvoice:lt,deleteInvoice:ot,restoreInvoice:st,permanentDeleteInvoice:At,exportBackup:kt,importBackup:P,shareBackup:z,logo:r,setLogo:q,user:h,loginToGoogle:H,logout:K,syncStatus:m,lastSyncTime:S,nextInvoiceNumber:o,setNextInvoiceNumber:Y},children:n})},q0=()=>{const n=hn.useContext(F4);if(!n)throw new Error("useInvoices must be used within InvoiceProvider");return n},V1=[{minDepth:0,maxDepth:300,rate:85},{minDepth:300,maxDepth:400,rate:90},{minDepth:400,maxDepth:500,rate:100},{minDepth:500,maxDepth:600,rate:120},{minDepth:600,maxDepth:700,rate:150},{minDepth:700,maxDepth:800,rate:190},{minDepth:800,maxDepth:900,rate:240},{minDepth:900,maxDepth:1e3,rate:300},{minDepth:1e3,maxDepth:1100,rate:400},{minDepth:1100,maxDepth:1200,rate:500},{minDepth:1200,maxDepth:1300,rate:600}],H0=(n,t=0,e=0,r=V1,a=0)=>{let o=0,c=[];if(t>0){const m=Math.min(n,t);if(m>0){const b=m*e;o+=b,c.push({range:`0 - ${m}`,depth:m,rate:e,amount:b})}}let h=r.map(m=>({...m}));if(a>0)for(let m=0;m<h.length;m++){const b=h[m],S=h[m+1];if(n>b.maxDepth&&n<=b.maxDepth+a){b.maxDepth=n,S&&(S.minDepth=n);break}}const d=Math.max(0,t);for(const m of h){const b=Math.max(m.minDepth,d),S=Math.min(m.maxDepth,n);if(S>b){const I=S-b,w=I*m.rate;o+=w,c.push({range:`${b} - ${S}`,depth:I,rate:m.rate,amount:w})}}return{totalCost:o,breakdown:c}};function vC(n){const t=["","One ","Two ","Three ","Four ","Five ","Six ","Seven ","Eight ","Nine ","Ten ","Eleven ","Twelve ","Thirteen ","Fourteen ","Fifteen ","Sixteen ","Seventeen ","Eighteen ","Nineteen "],e=["","","Twenty ","Thirty ","Forty ","Fifty ","Sixty ","Seventy ","Eighty ","Ninety "];if((n=n.toString().length>9?parseFloat(n.toString().slice(0,9)):n)===0)return"";const r=("000000000"+n).substr(-9).match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/);if(!r)return"";let a="";return a+=Number(r[1])!==0?(t[Number(r[1])]||e[Number(r[1][0])]+t[Number(r[1][1])])+"Crore ":"",a+=Number(r[2])!==0?(t[Number(r[2])]||e[Number(r[2][0])]+t[Number(r[2][1])])+"Lakh ":"",a+=Number(r[3])!==0?(t[Number(r[3])]||e[Number(r[3][0])]+t[Number(r[3][1])])+"Thousand ":"",a+=Number(r[4])!==0?(t[Number(r[4])]||e[Number(r[4][0])]+t[Number(r[4][1])])+"Hundred ":"",a+=Number(r[5])!==0?(a!==""?"and ":"")+(t[Number(r[5])]||e[Number(r[5][0])]+t[Number(r[5][1])]):"",a.trim()}const z4=hn.forwardRef(({data:n},t)=>{const{totalCost:e,breakdown:r}=H0(n.borewell.depth,n.borewell.oldBoreDepth,n.borewell.flushingRate,n.borewell.appliedRates,n.borewell.drillingBuffer),{logo:a}=q0(),o=(n.borewell.casingDepth7||0)*(n.borewell.casingRate7||0),c=(n.borewell.casingDepth10||0)*(n.borewell.casingRate10||0),h=n.items.reduce((b,S)=>b+S.amount,0),d=e+o+c+(n.borewell.transportCharges||0)+(n.borewell.bata||0)+(n.borewell.extraTime||0)+h-(n.borewell.discountAmount||0);let m=1;return O.jsxs("div",{ref:t,className:"bg-white p-2 md:p-6 max-w-2xl mx-auto text-xs border shadow-xl print:shadow-none print:border-none font-sans",id:"invoice-preview",children:[O.jsxs("div",{className:"flex justify-between items-start border-b-4 border-[#009900] pb-4 mb-4",children:[O.jsxs("div",{className:"flex gap-2 md:gap-4 items-center",children:[a?O.jsx("img",{src:a,alt:"Logo",className:"w-12 h-12 md:w-16 md:h-16 object-contain"}):O.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-gray-100 rounded flex items-center justify-center text-gray-400 text-xs",children:"No Logo"}),O.jsxs("div",{children:[O.jsxs("h1",{className:"text-sm md:text-xl font-normal text-[#009900] tracking-wider whitespace-nowrap",style:{fontFamily:'"Permanent Marker", cursive'},children:["ANJANEYA BO",O.jsx("span",{className:"text-red-600",children:"R"}),"EWELLS"]}),O.jsx("p",{className:"text-gray-600 font-bold text-[10px] md:text-xs uppercase tracking-wider",children:" !.."}),O.jsxs("div",{className:"mt-1 text-[9px] md:text-[10px] text-gray-600 space-y-0.5 leading-tight",children:[O.jsx("p",{className:"font-medium",children:"6/906-1, Sri Mahal Thirumana Mandapam"}),O.jsx("p",{children:"Trichy Road, Namakkal, Tamil Nadu 637001"}),O.jsx("p",{className:"font-bold text-primary pt-1",children:"Ph: 96596-57777, 94433-73573"})]})]})]}),O.jsxs("div",{className:"text-right flex flex-col items-end",children:[O.jsx("div",{className:"bg-gray-800 text-white px-2 py-0.5 rounded-md mb-2 shadow-sm",children:O.jsx("h2",{className:"text-[10px] md:text-sm font-bold uppercase tracking-widest",children:n.type||"INVOICE"})}),n.boreType&&O.jsx("span",{className:"bg-green-100 text-green-800 text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wide mb-2",children:n.boreType}),O.jsxs("p",{className:"text-gray-600 font-medium text-xs",children:["#",n.customer.invoiceNumber]}),O.jsx("p",{className:"text-gray-500 text-xs",children:n.customer.date})]})]}),O.jsxs("div",{className:"mb-4 bg-slate-50 p-2 rounded",children:[O.jsx("h3",{className:"font-semibold text-gray-700 mb-1 border-b border-gray-200 pb-0.5",children:"Bill To:"}),O.jsx("p",{className:"font-bold text-sm",children:n.customer.name}),O.jsx("p",{className:"break-words",children:n.customer.address}),O.jsxs("p",{children:["Ph: ",n.customer.phone]})]}),O.jsx("div",{className:"mb-6 overflow-x-auto",children:O.jsxs("table",{className:"w-full text-left border-collapse min-w-full",children:[O.jsx("thead",{children:O.jsxs("tr",{className:"bg-primary text-white",children:[O.jsx("th",{className:"p-1 w-8 md:w-10",children:"S.No"}),O.jsx("th",{className:"p-1",children:"Description"}),O.jsx("th",{className:"p-1 text-right whitespace-nowrap",children:"Qty/Dpt"}),O.jsx("th",{className:"p-1 text-right whitespace-nowrap",children:"Rate"}),O.jsx("th",{className:"p-1 text-right whitespace-nowrap",children:"Amount"})]})}),O.jsxs("tbody",{className:"divide-y divide-gray-100",children:[O.jsx("tr",{className:"bg-gray-50",children:O.jsxs("td",{className:"p-1 font-bold",colSpan:5,children:["Drilling Format Details (Depth: ",n.borewell.depth,"ft)",n.borewell.drillingBuffer?O.jsxs("span",{className:"text-[10px] text-gray-500 ml-2 font-normal",children:["(Grace: ",n.borewell.drillingBuffer,"ft)"]}):null]})}),r.map((b,S)=>O.jsxs("tr",{children:[O.jsx("td",{className:"p-1",children:m++}),O.jsxs("td",{className:"p-1 whitespace-nowrap",children:[b.range," ft"]}),O.jsxs("td",{className:"p-1 text-right whitespace-nowrap",children:[b.depth," ft"]}),O.jsxs("td",{className:"p-1 text-right whitespace-nowrap",children:[b.rate,"/ft"]}),O.jsx("td",{className:"p-1 text-right whitespace-nowrap",children:b.amount.toLocaleString()})]},S)),(n.borewell.casingDepth7||0)>0&&O.jsxs("tr",{children:[O.jsx("td",{className:"p-1",children:m++}),O.jsx("td",{className:"p-1 whitespace-normal break-words max-w-[100px] md:max-w-none",children:'7" Casing Pipe'}),O.jsxs("td",{className:"p-1 text-right whitespace-nowrap",children:[n.borewell.casingDepth7," ft"]}),O.jsxs("td",{className:"p-1 text-right whitespace-nowrap",children:[n.borewell.casingRate7," / ft"]}),O.jsx("td",{className:"p-1 text-right whitespace-nowrap",children:o.toLocaleString()})]}),(n.borewell.casingDepth10||0)>0&&O.jsxs("tr",{children:[O.jsx("td",{className:"p-1",children:m++}),O.jsx("td",{className:"p-1 whitespace-normal break-words max-w-[100px] md:max-w-none",children:'10" Casing Pipe'}),O.jsxs("td",{className:"p-1 text-right whitespace-nowrap",children:[n.borewell.casingDepth10," ft"]}),O.jsxs("td",{className:"p-1 text-right whitespace-nowrap",children:[n.borewell.casingRate10," / ft"]}),O.jsx("td",{className:"p-1 text-right whitespace-nowrap",children:c.toLocaleString()})]}),n.borewell.bata>0&&O.jsxs("tr",{children:[O.jsx("td",{className:"p-1",children:m++}),O.jsx("td",{className:"p-1",children:"Bata"}),O.jsx("td",{className:"p-1 text-right",children:"-"}),O.jsx("td",{className:"p-1 text-right",children:"-"}),O.jsx("td",{className:"p-1 text-right",children:n.borewell.bata.toLocaleString()})]}),n.borewell.transportCharges>0&&O.jsxs("tr",{children:[O.jsx("td",{className:"p-1",children:m++}),O.jsx("td",{className:"p-1 whitespace-normal break-words max-w-[100px] md:max-w-none",children:"Transport"}),O.jsx("td",{className:"p-1 text-right",children:"-"}),O.jsx("td",{className:"p-1 text-right",children:"-"}),O.jsx("td",{className:"p-1 text-right",children:n.borewell.transportCharges.toLocaleString()})]}),n.borewell.extraTime>0&&O.jsxs("tr",{children:[O.jsx("td",{className:"p-1",children:m++}),O.jsx("td",{className:"p-1",children:"Extra Time"}),O.jsx("td",{className:"p-1 text-right",children:"-"}),O.jsx("td",{className:"p-1 text-right",children:"-"}),O.jsx("td",{className:"p-1 text-right",children:n.borewell.extraTime.toLocaleString()})]}),n.items.map(b=>O.jsxs("tr",{children:[O.jsx("td",{className:"p-1",children:m++}),O.jsx("td",{className:"p-1 whitespace-normal break-words max-w-[100px] md:max-w-none leading-tight",children:b.description}),O.jsx("td",{className:"p-1 text-right whitespace-nowrap",children:b.quantity}),O.jsx("td",{className:"p-1 text-right whitespace-nowrap",children:b.rate}),O.jsx("td",{className:"p-1 text-right whitespace-nowrap",children:b.amount.toLocaleString()})]},b.id))]}),O.jsxs("tfoot",{children:[(n.borewell.discountAmount||0)>0&&O.jsxs("tr",{className:"bg-red-50 text-red-600",children:[O.jsx("td",{className:"p-2 text-right font-medium",colSpan:4,children:"Less: Discount"}),O.jsxs("td",{className:"p-2 text-right whitespace-nowrap",children:["- ",n.borewell.discountAmount?.toLocaleString()]})]}),O.jsxs("tr",{className:"bg-gray-100 font-bold text-base",children:[O.jsx("td",{className:"p-2 text-right",colSpan:4,children:"Grand Total"}),O.jsxs("td",{className:"p-2 text-right text-primary whitespace-nowrap",children:["",d.toLocaleString()]})]}),O.jsx("tr",{className:"bg-white",children:O.jsxs("td",{className:"p-2 text-left font-semibold text-gray-600 border-t",colSpan:5,children:[O.jsx("span",{className:"text-[10px] text-gray-500 font-normal",children:"Amount in Words:"}),O.jsx("br",{}),vC(Math.round(d))," Rupees Only"]})})]})]})}),O.jsxs("div",{className:"mt-4 pt-4 border-t-2 border-[#009900] text-center",children:[O.jsx("h4",{className:"text-primary font-bold text-sm",children:"Thank You for Choosing Anjaneya Borewells!"}),O.jsx("p",{className:"text-[10px] text-gray-500 mt-0.5",children:"Water is Life  Save Water  Save Earth"}),O.jsx("div",{className:"mt-1 text-[8px] text-gray-400",children:"Computer Generated Invoice"})]})]})});const bC=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_C=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,r)=>r?r.toUpperCase():e.toLowerCase()),Wv=n=>{const t=_C(n);return t.charAt(0).toUpperCase()+t.slice(1)},q4=(...n)=>n.filter((t,e,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===e).join(" ").trim(),wC=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var AC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const SC=hn.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:c,...h},d)=>hn.createElement("svg",{ref:d,...AC,width:t,height:t,stroke:n,strokeWidth:r?Number(e)*24/Number(t):e,className:q4("lucide",a),...!o&&!wC(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,b])=>hn.createElement(m,b)),...Array.isArray(o)?o:[o]]));const or=(n,t)=>{const e=hn.forwardRef(({className:r,...a},o)=>hn.createElement(SC,{ref:o,iconNode:t,className:q4(`lucide-${bC(Wv(n))}`,`lucide-${n}`,r),...a}));return e.displayName=Wv(n),e};const xC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],B1=or("arrow-left",xC);const EC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],TC=or("circle-question-mark",EC);const NC=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],H4=or("cloud",NC);const CC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],IC=or("download",CC);const RC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],LC=or("eye",RC);const kC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],DC=or("file-image",kC);const OC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],PC=or("file-text",OC);const MC=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],jC=or("hard-drive",MC);const UC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],VC=or("image",UC);const BC=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],FC=or("message-circle",BC);const zC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],qC=or("pencil",zC);const HC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Jv=or("plus",HC);const GC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],F1=or("save",GC);const YC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],KC=or("search",YC);const $C=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],XC=or("settings",$C);const QC=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],G4=or("smartphone",QC);const WC=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],JC=or("square-pen",WC);const ZC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],dh=or("trash-2",ZC);const tI=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],eI=or("upload",tI);const nI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zu=or("x",nI),iI=({onBack:n,initialData:t})=>{const{saveInvoice:e,nextInvoiceNumber:r,setNextInvoiceNumber:a}=q0(),o=hn.useRef(null),[c,h]=hn.useState(!1),d=`INV-${String(r).padStart(3,"0")}`,[m,b]=hn.useState(t?.customer||{name:"",phone:"",address:"",date:new Date().toISOString().split("T")[0],invoiceNumber:d}),[S,I]=hn.useState(()=>{const M=localStorage.getItem("invoice_default_rates"),Vt=M?JSON.parse(M):{},ce={depth:0,casingDepth7:0,casingRate7:Vt.casingRate7||400,casingDepth10:0,casingRate10:Vt.casingRate10||700,transportCharges:Vt.transportCharges||0,bata:Vt.bata||2e3,oldBoreDepth:0,flushingRate:Vt.flushingRate||0,extraTime:t?.borewell?.extraTime||0,discountAmount:t?.borewell?.discountAmount||0,drillingBuffer:Vt.drillingBuffer||0},ie=t?.borewell||{},jt=ie,ne={...ie};return jt.casingDepth&&!ne.casingDepth7&&(ne.casingDepth7=jt.casingDepth),jt.casingRate&&!ne.casingRate7&&(ne.casingRate7=jt.casingRate),{...ce,...ne}});sh.useEffect(()=>{t?.borewell?.appliedRates&&it(t.borewell.appliedRates)},[t]);const w=Number(S.casingDepth7)||0,Y=Number(S.casingRate7)||0,H=Number(S.casingDepth10)||0,K=Number(S.casingRate10)||0,q=Number(S.bata)||0,lt=Number(S.extraTime)||0,ot=Number(S.transportCharges)||0,st=Number(S.discountAmount)||0,[At,kt]=hn.useState(t?.items||[]),[z,P]=hn.useState({description:"",quantity:1,rate:0}),[N,V]=hn.useState(t?.type||"Invoice"),[E,R]=hn.useState(t?.boreType||"New Bore"),[D,rt]=hn.useState([]),[_t,it]=hn.useState([]),[dt,ft]=hn.useState([]),[vt,Mt]=hn.useState(!1),[W,k]=hn.useState("");sh.useEffect(()=>{const M=localStorage.getItem("invoice_saved_items");M&&rt(JSON.parse(M));const Vt=localStorage.getItem("invoice_slab_rates");it(Vt?JSON.parse(Vt):V1);const ce=localStorage.getItem("invoice_slab_profiles");ce&&ft(JSON.parse(ce))},[]);const $=()=>{const M=prompt("Enter a name for this Rate Profile:",W||"New Profile");if(!M)return;const Vt={name:M,rates:JSON.parse(JSON.stringify(_t))},ce=dt.findIndex(jt=>jt.name===M);let ie;if(ce>=0){if(!confirm(`Profile "${M}" already exists. Overwrite?`))return;ie=[...dt],ie[ce]=Vt}else ie=[...dt,Vt];ft(ie),k(M),localStorage.setItem("invoice_slab_profiles",JSON.stringify(ie)),alert(`Profile "${M}" saved!`)},Z=M=>{const Vt=dt.find(ce=>ce.name===M);Vt&&(it(JSON.parse(JSON.stringify(Vt.rates))),k(Vt.name))},at=()=>{if(!W||!confirm(`Delete profile "${W}"?`))return;const M=dt.filter(Vt=>Vt.name!==W);ft(M),k(""),localStorage.setItem("invoice_slab_profiles",JSON.stringify(M))},ut=()=>{if(!z.description)return;if(!D.some(Vt=>Vt.description.toLowerCase()===z.description.toLowerCase())){const Vt=[...D,{description:z.description,rate:z.rate}];rt(Vt),localStorage.setItem("invoice_saved_items",JSON.stringify(Vt))}kt([...At,{...z,id:Date.now().toString(),amount:z.quantity*z.rate}]),P({description:"",quantity:1,rate:0})},gt=M=>{kt(At.filter(Vt=>Vt.id!==M))},{totalCost:Rt}=H0(S.depth,S.oldBoreDepth,S.flushingRate,_t,S.drillingBuffer),Ct=w*Y,Bt=H*K,Xt=At.reduce((M,Vt)=>M+Vt.amount,0),te=Rt+Ct+Bt+ot+q+lt+Xt-st,ee=()=>{if(m.phone&&m.phone.length!==10){alert("Phone number must be exactly 10 digits!");return}const M={casingRate7:S.casingRate7,casingRate10:S.casingRate10,bata:S.bata,transportCharges:S.transportCharges,flushingRate:S.flushingRate,drillingBuffer:S.drillingBuffer};localStorage.setItem("invoice_default_rates",JSON.stringify(M));const Vt={id:t?.id||Date.now().toString(),customer:m,borewell:{...S,appliedRates:_t},items:At,totalAmount:te,createdAt:t?.createdAt||Date.now(),type:N,boreType:E};e(Vt)&&(t||a(r+1),alert(`${N} Saved!`))},oe={id:"preview",customer:m,borewell:{...S,appliedRates:_t},items:At,totalAmount:te,createdAt:Date.now(),type:N,boreType:E};return O.jsxs("div",{className:"bg-slate-50 min-h-screen pb-20",children:[O.jsxs("div",{className:"bg-white p-4 shadow-sm flex items-center justify-between sticky top-0 z-10 box-border",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("button",{onClick:n,className:"p-2 hover:bg-slate-100 rounded-full",children:O.jsx(B1,{className:"w-5 h-5 text-gray-600"})}),O.jsx("h1",{className:"text-lg font-bold text-gray-800",children:t?"Edit Invoice":"New Invoice"})]}),O.jsxs("div",{className:"bg-green-50 px-3 py-1.5 rounded-lg border border-green-200 text-right",children:[O.jsx("p",{className:"text-[10px] text-gray-500 font-medium",children:"Estimated Total"}),O.jsxs("p",{className:"text-lg font-bold text-primary leading-none",children:["",te.toLocaleString()]})]})]}),O.jsxs("div",{className:"p-4 max-w-2xl mx-auto space-y-6",children:[O.jsxs("section",{className:"bg-white p-4 rounded-xl shadow-sm space-y-4",children:[O.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[O.jsx("h2",{className:"font-semibold text-lg text-primary",children:"Customer Details"}),O.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[O.jsx("button",{onClick:()=>{V("Invoice"),m.invoiceNumber.startsWith("QTN-")&&b({...m,invoiceNumber:m.invoiceNumber.replace("QTN-","INV-")})},className:`px-3 py-1 text-xs rounded-md font-medium transition-colors ${N==="Invoice"?"bg-white shadow text-primary":"text-gray-500"}`,children:"Invoice"}),O.jsx("button",{onClick:()=>{V("Quotation"),m.invoiceNumber.startsWith("INV-")&&b({...m,invoiceNumber:m.invoiceNumber.replace("INV-","QTN-")})},className:`px-3 py-1 text-xs rounded-md font-medium transition-colors ${N==="Quotation"?"bg-white shadow text-primary":"text-gray-500"}`,children:"Quotation"})]})]}),O.jsx("div",{className:"flex justify-end pt-2",children:O.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[O.jsx("button",{onClick:()=>R("New Bore"),className:`px-3 py-1 text-xs rounded-md font-medium transition-colors ${E==="New Bore"?"bg-white shadow text-primary":"text-gray-500"}`,children:"New Bore"}),O.jsx("button",{onClick:()=>R("Repair Bore"),className:`px-3 py-1 text-xs rounded-md font-medium transition-colors ${E==="Repair Bore"?"bg-white shadow text-primary":"text-gray-500"}`,children:"Repair Bore"})]})}),O.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[O.jsx("input",{type:"date",className:"w-full p-2 border rounded-lg",value:m.date,onChange:M=>b({...m,date:M.target.value}),onFocus:M=>M.target.select()}),O.jsx("input",{type:"text",placeholder:`${N} Number`,className:"w-full p-2 border rounded-lg",value:m.invoiceNumber,onChange:M=>b({...m,invoiceNumber:M.target.value}),onFocus:M=>M.target.select()}),O.jsx("input",{type:"text",placeholder:"Customer Name",className:"w-full p-2 border rounded-lg",value:m.name,onChange:M=>b({...m,name:M.target.value}),onFocus:M=>M.target.select()}),O.jsx("input",{type:"tel",placeholder:"Phone Number",className:"w-full p-2 border rounded-lg",value:m.phone,onChange:M=>{const Vt=M.target.value.replace(/\D/g,"");Vt.length<=10&&b({...m,phone:Vt})},onFocus:M=>M.target.select()}),O.jsx("textarea",{placeholder:"Address",className:"w-full p-2 border rounded-lg md:col-span-2",rows:2,value:m.address,onChange:M=>b({...m,address:M.target.value}),onFocus:M=>M.target.select()})]})]}),O.jsxs("section",{className:"bg-white p-4 rounded-xl shadow-sm space-y-4",children:[O.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[O.jsx("h2",{className:"font-semibold text-lg text-primary",children:"Drilling Details"}),O.jsx("button",{onClick:()=>Mt(!0),className:"text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded-full font-medium transition-colors",children:"Manage Rates"})]}),O.jsxs("div",{className:"flex justify-end pt-1",children:[O.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600 bg-gray-50 px-2 py-1 rounded cursor-pointer",children:[O.jsx("input",{type:"checkbox",checked:(S.drillingBuffer||0)>0,onChange:M=>{I({...S,drillingBuffer:M.target.checked?10:0})},className:"rounded text-primary focus:ring-primary"}),O.jsx("span",{children:"Allow Slab Extension"})]}),(S.drillingBuffer||0)>0&&O.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[O.jsx("label",{className:"text-[10px] text-gray-500",children:"Max Ext:"}),O.jsx("input",{type:"number",className:"w-12 p-1 text-xs border rounded text-center bg-gray-50 focus:ring-2 focus:ring-primary outline-none",value:S.drillingBuffer,onFocus:M=>M.target.select(),onChange:M=>{const Vt=M.target.value;I({...S,drillingBuffer:Vt===""?0:Number(Vt)})}}),O.jsx("span",{className:"text-[10px] text-gray-500",children:"ft"})]})]}),O.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[O.jsxs("div",{children:[O.jsx("label",{className:"text-xs text-gray-500",children:"Total Depth (ft)"}),O.jsx("input",{type:"number",className:"w-full p-2 border rounded-lg",value:S.depth||"",onChange:M=>I({...S,depth:Number(M.target.value)}),onFocus:M=>M.target.select()})]}),O.jsx("div",{className:"flex items-end pb-2",children:O.jsxs("label",{className:"text-xs text-gray-500 font-bold text-green-600",children:["Drilling Cost: ",Rt.toLocaleString()]})}),E==="Repair Bore"&&O.jsxs(O.Fragment,{children:[O.jsxs("div",{children:[O.jsx("label",{className:"text-xs text-gray-500 font-bold text-orange-600",children:"Old Bore Depth (ft)"}),O.jsx("input",{type:"number",className:"w-full p-2 border-2 border-orange-100 rounded-lg bg-orange-50 focus:border-orange-300",value:S.oldBoreDepth||"",onChange:M=>I({...S,oldBoreDepth:Number(M.target.value)}),onFocus:M=>M.target.select()})]}),O.jsxs("div",{children:[O.jsx("label",{className:"text-xs text-gray-500 font-bold text-orange-600",children:"Flushing Rate / ft"}),O.jsx("input",{type:"number",className:"w-full p-2 border-2 border-orange-100 rounded-lg bg-orange-50 focus:border-orange-300",value:S.flushingRate||"",onChange:M=>I({...S,flushingRate:Number(M.target.value)}),onFocus:M=>M.target.select()})]})]}),O.jsxs("div",{children:[O.jsx("label",{className:"text-xs text-gray-500",children:'7" Casing Depth (ft)'}),O.jsx("input",{type:"number",className:"w-full p-2 border rounded-lg",value:S.casingDepth7||"",onChange:M=>I({...S,casingDepth7:Number(M.target.value)}),onFocus:M=>M.target.select()})]}),O.jsxs("div",{children:[O.jsx("label",{className:"text-xs text-gray-500",children:'7" Rate / ft'}),O.jsx("input",{type:"number",className:"w-full p-2 border rounded-lg",value:S.casingRate7||"",onChange:M=>I({...S,casingRate7:Number(M.target.value)}),onFocus:M=>M.target.select()})]}),O.jsxs("div",{children:[O.jsx("label",{className:"text-xs text-gray-500",children:'10" Casing Depth (ft)'}),O.jsx("input",{type:"number",className:"w-full p-2 border rounded-lg",value:S.casingDepth10||"",onChange:M=>I({...S,casingDepth10:Number(M.target.value)}),onFocus:M=>M.target.select()})]}),O.jsxs("div",{children:[O.jsx("label",{className:"text-xs text-gray-500",children:'10" Rate / ft'}),O.jsx("input",{type:"number",className:"w-full p-2 border rounded-lg",value:S.casingRate10||"",onChange:M=>I({...S,casingRate10:Number(M.target.value)}),onFocus:M=>M.target.select()})]})]})]}),O.jsxs("section",{className:"bg-white p-4 rounded-xl shadow-sm space-y-4",children:[O.jsx("h2",{className:"font-semibold text-lg text-primary border-b pb-2",children:"Other Charges"}),O.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[O.jsxs("div",{children:[O.jsx("label",{className:"text-xs text-gray-500",children:"Bata"}),O.jsx("input",{type:"number",className:"w-full p-2 border rounded-lg",value:S.bata||"",onChange:M=>I({...S,bata:Number(M.target.value)}),onFocus:M=>M.target.select()})]}),O.jsxs("div",{children:[O.jsx("label",{className:"text-xs text-gray-500",children:"Transport"}),O.jsx("input",{type:"number",className:"w-full p-2 border rounded-lg",value:S.transportCharges||"",onChange:M=>I({...S,transportCharges:Number(M.target.value)}),onFocus:M=>M.target.select()})]}),O.jsxs("div",{children:[O.jsx("label",{className:"text-xs text-gray-500",children:"Extra Time"}),O.jsx("input",{type:"number",className:"w-full p-2 border rounded-lg",value:S.extraTime||"",onChange:M=>I({...S,extraTime:Number(M.target.value)}),onFocus:M=>M.target.select()})]}),O.jsxs("div",{children:[O.jsx("label",{className:"text-xs text-gray-500 text-red-600 font-semibold",children:"Discount"}),O.jsx("input",{type:"number",className:"w-full p-2 border-2 border-red-50 rounded-lg text-red-600 focus:border-red-300",value:S.discountAmount||"",onChange:M=>I({...S,discountAmount:Number(M.target.value)}),onFocus:M=>M.target.select()})]})]})]}),O.jsxs("section",{className:"bg-white p-4 rounded-xl shadow-sm space-y-4",children:[O.jsx("h2",{className:"font-semibold text-lg text-primary border-b pb-2",children:"Extra Items (Cap, Motor, etc.)"}),O.jsxs("div",{className:"flex flex-col md:flex-row gap-2 mb-2",children:[O.jsx("input",{type:"text",placeholder:"Item Name",className:"w-full md:flex-1 p-2 border rounded-lg",value:z.description,onChange:M=>P({...z,description:M.target.value}),onFocus:M=>M.target.select()}),O.jsxs("div",{className:"flex gap-2",children:[O.jsx("input",{type:"number",placeholder:"Qty",className:"w-16 md:w-20 p-2 border rounded-lg shrink-0",value:z.quantity||"",onChange:M=>P({...z,quantity:Number(M.target.value)}),onFocus:M=>M.target.select()}),O.jsx("input",{type:"number",placeholder:"Rate",className:"flex-1 min-w-0 md:w-32 p-2 border rounded-lg",value:z.rate||"",onChange:M=>P({...z,rate:Number(M.target.value)}),onFocus:M=>M.target.select()}),O.jsx("button",{onClick:ut,className:"bg-secondary text-white p-2 rounded-lg w-12 shrink-0 flex justify-center items-center",children:O.jsx(Jv,{})})]})]}),D.length>0&&O.jsxs("div",{className:"mb-4",children:[O.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Recent Items (Click to fill):"}),O.jsx("div",{className:"flex flex-wrap gap-2",children:D.map((M,Vt)=>O.jsxs("button",{onClick:()=>P({...z,description:M.description,rate:M.rate}),className:"text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 px-2 py-1 rounded-full border border-gray-200 transition-colors",children:[M.description," (",M.rate,")"]},Vt))})]}),O.jsx("div",{className:"space-y-2",children:At.map(M=>O.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[O.jsxs("span",{className:"text-sm",children:[M.description," (",M.quantity," x ",M.rate,")"]}),O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsxs("span",{className:"font-semibold",children:["",M.amount]}),O.jsx("button",{onClick:()=>gt(M.id),className:"text-red-500",children:O.jsx(dh,{size:16})})]})]},M.id))})]}),O.jsx("section",{className:"bg-white p-4 rounded-xl shadow-sm flex flex-col items-center sticky bottom-0 border-t-2 border-primary",children:O.jsxs("div",{className:"flex gap-4 w-full justify-center",children:[O.jsx("button",{onClick:n,className:"bg-gray-200 text-gray-700 px-6 py-3 rounded-full font-semibold hover:bg-gray-300 flex items-center gap-2",children:O.jsx(B1,{size:20})}),O.jsxs("button",{onClick:ee,className:"bg-gray-200 text-gray-700 px-8 py-3 rounded-full font-semibold hover:bg-gray-300 flex items-center gap-2",children:[O.jsx(F1,{size:20}),"Save"]}),O.jsxs("button",{onClick:()=>h(!0),className:"bg-primary text-white px-10 py-3 rounded-full font-semibold shadow-lg hover:bg-sky-700 flex items-center gap-2",children:[O.jsx(LC,{size:20}),"Preview"]})]})})]}),c&&O.jsxs("div",{className:"fixed inset-0 bg-black/80 z-50 flex flex-col pt-10 overflow-y-auto",children:[O.jsx("div",{className:"flex justify-end p-4 gap-4 px-4 sticky top-0",children:O.jsx("button",{onClick:()=>h(!1),className:"bg-white p-2 rounded-full",children:O.jsx(Zu,{})})}),O.jsx("div",{className:"flex-1 overflow-y-auto px-2 md:px-0",children:O.jsx(z4,{ref:o,data:oe})}),O.jsx("div",{className:"bg-white p-4 flex justify-around items-center sticky bottom-0 pb-8 rounded-t-xl",children:O.jsxs("button",{onClick:()=>{ee(),h(!1)},className:"flex flex-col items-center gap-1 text-primary",children:[O.jsx("div",{className:"bg-blue-50 p-3 rounded-full",children:O.jsx(F1,{})}),O.jsx("span",{className:"text-xs font-semibold",children:"Save Invoice"})]})})]}),vt&&O.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:O.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[80vh] flex flex-col",children:[O.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-gray-50 rounded-t-xl",children:[O.jsx("h3",{className:"font-bold text-gray-800",children:"Manage Drilling Rates"}),O.jsx("button",{onClick:()=>Mt(!1),className:"p-1 hover:bg-gray-200 rounded-full",children:O.jsx(Zu,{size:20})})]}),O.jsxs("div",{className:"px-4 pt-4 border-b pb-4",children:[O.jsxs("div",{className:"flex justify-between items-center mb-2",children:[O.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Rate Profiles"}),O.jsx("button",{onClick:$,className:"text-xs text-primary hover:underline font-semibold",children:"+ Save Current as Profile"})]}),O.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:[dt.length===0&&O.jsx("span",{className:"text-xs text-gray-400 italic",children:"No saved profiles"}),dt.map((M,Vt)=>O.jsxs("div",{onClick:()=>Z(M.name),className:`flex-shrink-0 px-3 py-2 rounded-lg border text-sm font-medium cursor-pointer transition-all flex items-center gap-2 ${W===M.name?"bg-green-50 border-green-500 text-green-700 shadow-sm ring-1 ring-green-500":"bg-white border-gray-200 text-gray-600 hover:border-gray-300 hover:bg-gray-50"}`,children:[O.jsx("span",{children:M.name}),W===M.name&&O.jsx("button",{onClick:ce=>{ce.stopPropagation(),at()},className:"hover:bg-green-200 p-1 rounded-full text-green-700",children:O.jsx(Zu,{size:12})})]},Vt))]})]}),O.jsxs("div",{className:"p-4 overflow-y-auto flex-1 space-y-4",children:[O.jsxs("div",{className:"space-y-2",children:[O.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs font-bold text-gray-500 uppercase",children:[O.jsx("div",{className:"text-center",children:"Min (ft)"}),O.jsx("div",{className:"text-center",children:"Max (ft)"}),O.jsx("div",{className:"text-center",children:"Rate ()"}),O.jsx("div",{className:"text-center",children:"Action"})]}),_t.map((M,Vt)=>O.jsxs("div",{className:"grid grid-cols-4 gap-2 items-center",children:[O.jsx("input",{type:"number",className:"p-2 border rounded text-center text-sm",value:M.minDepth||"",onChange:ce=>{const ie=[..._t];ie[Vt].minDepth=Number(ce.target.value),it(ie)}}),O.jsx("input",{type:"number",className:"p-2 border rounded text-center text-sm",value:M.maxDepth||"",onChange:ce=>{const ie=[..._t];ie[Vt].maxDepth=Number(ce.target.value),it(ie)}}),O.jsx("input",{type:"number",className:"p-2 border rounded text-center text-sm",value:M.rate||"",onChange:ce=>{const ie=[..._t];ie[Vt].rate=Number(ce.target.value),it(ie)}}),O.jsx("div",{className:"flex justify-center",children:O.jsx("button",{onClick:()=>{const ce=_t.filter((ie,jt)=>jt!==Vt);it(ce)},className:"text-red-500 hover:bg-red-50 p-2 rounded-full",children:O.jsx(dh,{size:16})})})]},Vt))]}),O.jsxs("button",{onClick:()=>it([..._t,{minDepth:0,maxDepth:0,rate:0}]),className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-primary hover:text-primary transition-colors flex items-center justify-center gap-2",children:[O.jsx(Jv,{size:16})," Add New Slab"]})]}),O.jsxs("div",{className:"p-4 border-t bg-gray-50 rounded-b-xl flex justify-between",children:[O.jsx("button",{onClick:()=>{confirm("Reset to default rates?")&&it(V1)},className:"text-xs text-red-500 hover:underline",children:"Reset to Default"}),O.jsx("button",{onClick:()=>{localStorage.setItem("invoice_slab_rates",JSON.stringify(_t)),Mt(!1)},className:"bg-primary text-white px-6 py-2 rounded-lg font-semibold shadow hover:bg-sky-700",children:"Save Rates"})]})]})})]})};function rI(n,t){if(n.match(/^[a-z]+:\/\//i))return n;if(n.match(/^\/\//))return window.location.protocol+n;if(n.match(/^[a-z]+:/i))return n;const e=document.implementation.createHTMLDocument(),r=e.createElement("base"),a=e.createElement("a");return e.head.appendChild(r),e.body.appendChild(a),t&&(r.href=t),a.href=n,a.href}const sI=(()=>{let n=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(n+=1,`u${t()}${n}`)})();function _u(n){const t=[];for(let e=0,r=n.length;e<r;e++)t.push(n[e]);return t}let $c=null;function Y4(n={}){return $c||(n.includeStyleProperties?($c=n.includeStyleProperties,$c):($c=_u(window.getComputedStyle(document.documentElement)),$c))}function Hp(n,t){const r=(n.ownerDocument.defaultView||window).getComputedStyle(n).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function aI(n){const t=Hp(n,"border-left-width"),e=Hp(n,"border-right-width");return n.clientWidth+t+e}function oI(n){const t=Hp(n,"border-top-width"),e=Hp(n,"border-bottom-width");return n.clientHeight+t+e}function K4(n,t={}){const e=t.width||aI(n),r=t.height||oI(n);return{width:e,height:r}}function lI(){let n,t;try{t=process}catch{}const e=t&&t.env?t.env.devicePixelRatio:null;return e&&(n=parseInt(e,10),Number.isNaN(n)&&(n=1)),n||window.devicePixelRatio||1}const fa=16384;function uI(n){(n.width>fa||n.height>fa)&&(n.width>fa&&n.height>fa?n.width>n.height?(n.height*=fa/n.width,n.width=fa):(n.width*=fa/n.height,n.height=fa):n.width>fa?(n.height*=fa/n.width,n.width=fa):(n.width*=fa/n.height,n.height=fa))}function Gp(n){return new Promise((t,e)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=e,r.crossOrigin="anonymous",r.decoding="async",r.src=n})}async function cI(n){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(n)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function hI(n,t,e){const r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"svg"),o=document.createElementNS(r,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${e}`),a.setAttribute("viewBox",`0 0 ${t} ${e}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),a.appendChild(o),o.appendChild(n),cI(a)}const Qs=(n,t)=>{if(n instanceof t)return!0;const e=Object.getPrototypeOf(n);return e===null?!1:e.constructor.name===t.name||Qs(e,t)};function fI(n){const t=n.getPropertyValue("content");return`${n.cssText} content: '${t.replace(/'|"/g,"")}';`}function dI(n,t){return Y4(t).map(e=>{const r=n.getPropertyValue(e),a=n.getPropertyPriority(e);return`${e}: ${r}${a?" !important":""};`}).join(" ")}function pI(n,t,e,r){const a=`.${n}:${t}`,o=e.cssText?fI(e):dI(e,r);return document.createTextNode(`${a}{${o}}`)}function Zv(n,t,e,r){const a=window.getComputedStyle(n,e),o=a.getPropertyValue("content");if(o===""||o==="none")return;const c=sI();try{t.className=`${t.className} ${c}`}catch{return}const h=document.createElement("style");h.appendChild(pI(c,e,a,r)),t.appendChild(h)}function mI(n,t,e){Zv(n,t,":before",e),Zv(n,t,":after",e)}const tb="application/font-woff",eb="image/jpeg",gI={woff:tb,woff2:tb,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:eb,jpeg:eb,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function yI(n){const t=/\.([^./]*?)$/g.exec(n);return t?t[1]:""}function G0(n){const t=yI(n).toLowerCase();return gI[t]||""}function vI(n){return n.split(/,/)[1]}function z1(n){return n.search(/^(data:)/)!==-1}function bI(n,t){return`data:${t};base64,${n}`}async function $4(n,t,e){const r=await fetch(n,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const a=await r.blob();return new Promise((o,c)=>{const h=new FileReader;h.onerror=c,h.onloadend=()=>{try{o(e({res:r,result:h.result}))}catch(d){c(d)}},h.readAsDataURL(a)})}const Yg={};function _I(n,t,e){let r=n.replace(/\?.*/,"");return e&&(r=n),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function Y0(n,t,e){const r=_I(n,t,e.includeQueryParams);if(Yg[r]!=null)return Yg[r];e.cacheBust&&(n+=(/\?/.test(n)?"&":"?")+new Date().getTime());let a;try{const o=await $4(n,e.fetchRequestInit,({res:c,result:h})=>(t||(t=c.headers.get("Content-Type")||""),vI(h)));a=bI(o,t)}catch(o){a=e.imagePlaceholder||"";let c=`Failed to fetch resource: ${n}`;o&&(c=typeof o=="string"?o:o.message),c&&console.warn(c)}return Yg[r]=a,a}async function wI(n){const t=n.toDataURL();return t==="data:,"?n.cloneNode(!1):Gp(t)}async function AI(n,t){if(n.currentSrc){const o=document.createElement("canvas"),c=o.getContext("2d");o.width=n.clientWidth,o.height=n.clientHeight,c?.drawImage(n,0,0,o.width,o.height);const h=o.toDataURL();return Gp(h)}const e=n.poster,r=G0(e),a=await Y0(e,r,t);return Gp(a)}async function SI(n,t){var e;try{if(!((e=n?.contentDocument)===null||e===void 0)&&e.body)return await dm(n.contentDocument.body,t,!0)}catch{}return n.cloneNode(!1)}async function xI(n,t){return Qs(n,HTMLCanvasElement)?wI(n):Qs(n,HTMLVideoElement)?AI(n,t):Qs(n,HTMLIFrameElement)?SI(n,t):n.cloneNode(X4(n))}const EI=n=>n.tagName!=null&&n.tagName.toUpperCase()==="SLOT",X4=n=>n.tagName!=null&&n.tagName.toUpperCase()==="SVG";async function TI(n,t,e){var r,a;if(X4(t))return t;let o=[];return EI(n)&&n.assignedNodes?o=_u(n.assignedNodes()):Qs(n,HTMLIFrameElement)&&(!((r=n.contentDocument)===null||r===void 0)&&r.body)?o=_u(n.contentDocument.body.childNodes):o=_u(((a=n.shadowRoot)!==null&&a!==void 0?a:n).childNodes),o.length===0||Qs(n,HTMLVideoElement)||await o.reduce((c,h)=>c.then(()=>dm(h,e)).then(d=>{d&&t.appendChild(d)}),Promise.resolve()),t}function NI(n,t,e){const r=t.style;if(!r)return;const a=window.getComputedStyle(n);a.cssText?(r.cssText=a.cssText,r.transformOrigin=a.transformOrigin):Y4(e).forEach(o=>{let c=a.getPropertyValue(o);o==="font-size"&&c.endsWith("px")&&(c=`${Math.floor(parseFloat(c.substring(0,c.length-2)))-.1}px`),Qs(n,HTMLIFrameElement)&&o==="display"&&c==="inline"&&(c="block"),o==="d"&&t.getAttribute("d")&&(c=`path(${t.getAttribute("d")})`),r.setProperty(o,c,a.getPropertyPriority(o))})}function CI(n,t){Qs(n,HTMLTextAreaElement)&&(t.innerHTML=n.value),Qs(n,HTMLInputElement)&&t.setAttribute("value",n.value)}function II(n,t){if(Qs(n,HTMLSelectElement)){const r=Array.from(t.children).find(a=>n.value===a.getAttribute("value"));r&&r.setAttribute("selected","")}}function RI(n,t,e){return Qs(t,Element)&&(NI(n,t,e),mI(n,t,e),CI(n,t),II(n,t)),t}async function LI(n,t){const e=n.querySelectorAll?n.querySelectorAll("use"):[];if(e.length===0)return n;const r={};for(let o=0;o<e.length;o++){const h=e[o].getAttribute("xlink:href");if(h){const d=n.querySelector(h),m=document.querySelector(h);!d&&m&&!r[h]&&(r[h]=await dm(m,t,!0))}}const a=Object.values(r);if(a.length){const o="http://www.w3.org/1999/xhtml",c=document.createElementNS(o,"svg");c.setAttribute("xmlns",o),c.style.position="absolute",c.style.width="0",c.style.height="0",c.style.overflow="hidden",c.style.display="none";const h=document.createElementNS(o,"defs");c.appendChild(h);for(let d=0;d<a.length;d++)h.appendChild(a[d]);n.appendChild(c)}return n}async function dm(n,t,e){return!e&&t.filter&&!t.filter(n)?null:Promise.resolve(n).then(r=>xI(r,t)).then(r=>TI(n,r,t)).then(r=>RI(n,r,t)).then(r=>LI(r,t))}const Q4=/url\((['"]?)([^'"]+?)\1\)/g,kI=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,DI=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function OI(n){const t=n.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function PI(n){const t=[];return n.replace(Q4,(e,r,a)=>(t.push(a),e)),t.filter(e=>!z1(e))}async function MI(n,t,e,r,a){try{const o=e?rI(t,e):t,c=G0(t);let h;return a||(h=await Y0(o,c,r)),n.replace(OI(t),`$1${h}$3`)}catch{}return n}function jI(n,{preferredFontFormat:t}){return t?n.replace(DI,e=>{for(;;){const[r,,a]=kI.exec(e)||[];if(!a)return"";if(a===t)return`src: ${r};`}}):n}function W4(n){return n.search(Q4)!==-1}async function J4(n,t,e){if(!W4(n))return n;const r=jI(n,e);return PI(r).reduce((o,c)=>o.then(h=>MI(h,c,t,e)),Promise.resolve(r))}async function Xc(n,t,e){var r;const a=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(n);if(a){const o=await J4(a,null,e);return t.style.setProperty(n,o,t.style.getPropertyPriority(n)),!0}return!1}async function UI(n,t){await Xc("background",n,t)||await Xc("background-image",n,t),await Xc("mask",n,t)||await Xc("-webkit-mask",n,t)||await Xc("mask-image",n,t)||await Xc("-webkit-mask-image",n,t)}async function VI(n,t){const e=Qs(n,HTMLImageElement);if(!(e&&!z1(n.src))&&!(Qs(n,SVGImageElement)&&!z1(n.href.baseVal)))return;const r=e?n.src:n.href.baseVal,a=await Y0(r,G0(r),t);await new Promise((o,c)=>{n.onload=o,n.onerror=t.onImageErrorHandler?(...d)=>{try{o(t.onImageErrorHandler(...d))}catch(m){c(m)}}:c;const h=n;h.decode&&(h.decode=o),h.loading==="lazy"&&(h.loading="eager"),e?(n.srcset="",n.src=a):n.href.baseVal=a})}async function BI(n,t){const r=_u(n.childNodes).map(a=>Z4(a,t));await Promise.all(r).then(()=>n)}async function Z4(n,t){Qs(n,Element)&&(await UI(n,t),await VI(n,t),await BI(n,t))}function FI(n,t){const{style:e}=n;t.backgroundColor&&(e.backgroundColor=t.backgroundColor),t.width&&(e.width=`${t.width}px`),t.height&&(e.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(a=>{e[a]=r[a]}),n}const nb={};async function ib(n){let t=nb[n];if(t!=null)return t;const r=await(await fetch(n)).text();return t={url:n,cssText:r},nb[n]=t,t}async function rb(n,t){let e=n.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,o=(e.match(/url\([^)]+\)/g)||[]).map(async c=>{let h=c.replace(r,"$1");return h.startsWith("https://")||(h=new URL(h,n.url).href),$4(h,t.fetchRequestInit,({result:d})=>(e=e.replace(c,`url(${d})`),[c,d]))});return Promise.all(o).then(()=>e)}function sb(n){if(n==null)return[];const t=[],e=/(\/\*[\s\S]*?\*\/)/gi;let r=n.replace(e,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const d=a.exec(r);if(d===null)break;t.push(d[0])}r=r.replace(a,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,c="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",h=new RegExp(c,"gi");for(;;){let d=o.exec(r);if(d===null){if(d=h.exec(r),d===null)break;o.lastIndex=h.lastIndex}else h.lastIndex=o.lastIndex;t.push(d[0])}return t}async function zI(n,t){const e=[],r=[];return n.forEach(a=>{if("cssRules"in a)try{_u(a.cssRules||[]).forEach((o,c)=>{if(o.type===CSSRule.IMPORT_RULE){let h=c+1;const d=o.href,m=ib(d).then(b=>rb(b,t)).then(b=>sb(b).forEach(S=>{try{a.insertRule(S,S.startsWith("@import")?h+=1:a.cssRules.length)}catch(I){console.error("Error inserting rule from remote css",{rule:S,error:I})}})).catch(b=>{console.error("Error loading remote css",b.toString())});r.push(m)}})}catch(o){const c=n.find(h=>h.href==null)||document.styleSheets[0];a.href!=null&&r.push(ib(a.href).then(h=>rb(h,t)).then(h=>sb(h).forEach(d=>{c.insertRule(d,c.cssRules.length)})).catch(h=>{console.error("Error loading remote stylesheet",h)})),console.error("Error inlining remote css file",o)}}),Promise.all(r).then(()=>(n.forEach(a=>{if("cssRules"in a)try{_u(a.cssRules||[]).forEach(o=>{e.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${a.href}`,o)}}),e))}function qI(n){return n.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>W4(t.style.getPropertyValue("src")))}async function HI(n,t){if(n.ownerDocument==null)throw new Error("Provided element is not within a Document");const e=_u(n.ownerDocument.styleSheets),r=await zI(e,t);return qI(r)}function t3(n){return n.trim().replace(/["']/g,"")}function GI(n){const t=new Set;function e(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(o=>{t.add(t3(o))}),Array.from(r.children).forEach(o=>{o instanceof HTMLElement&&e(o)})}return e(n),t}async function YI(n,t){const e=await HI(n,t),r=GI(n);return(await Promise.all(e.filter(o=>r.has(t3(o.style.fontFamily))).map(o=>{const c=o.parentStyleSheet?o.parentStyleSheet.href:null;return J4(o.cssText,c,t)}))).join(`
`)}async function KI(n,t){const e=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await YI(n,t);if(e){const r=document.createElement("style"),a=document.createTextNode(e);r.appendChild(a),n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r)}}async function $I(n,t={}){const{width:e,height:r}=K4(n,t),a=await dm(n,t,!0);return await KI(a,t),await Z4(a,t),FI(a,t),await hI(a,e,r)}async function XI(n,t={}){const{width:e,height:r}=K4(n,t),a=await $I(n,t),o=await Gp(a),c=document.createElement("canvas"),h=c.getContext("2d"),d=t.pixelRatio||lI(),m=t.canvasWidth||e,b=t.canvasHeight||r;return c.width=m*d,c.height=b*d,t.skipAutoScale||uI(c),c.style.width=`${m}`,c.style.height=`${b}`,t.backgroundColor&&(h.fillStyle=t.backgroundColor,h.fillRect(0,0,c.width,c.height)),h.drawImage(o,0,0,c.width,c.height),c}async function QI(n,t={}){return(await XI(n,t)).toDataURL()}const WI="modulepreload",JI=function(n,t){return new URL(n,t).href},ab={},Kg=function(t,e,r){let a=Promise.resolve();if(e&&e.length>0){let m=function(b){return Promise.all(b.map(S=>Promise.resolve(S).then(I=>({status:"fulfilled",value:I}),I=>({status:"rejected",reason:I}))))};const c=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");a=m(e.map(b=>{if(b=JI(b,r),b in ab)return;ab[b]=!0;const S=b.endsWith(".css"),I=S?'[rel="stylesheet"]':"";if(r)for(let Y=c.length-1;Y>=0;Y--){const H=c[Y];if(H.href===b&&(!S||H.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${b}"]${I}`))return;const w=document.createElement("link");if(w.rel=S?"stylesheet":WI,S||(w.as="script"),w.crossOrigin="",w.href=b,d&&w.setAttribute("nonce",d),document.head.appendChild(w),S)return new Promise((Y,H)=>{w.addEventListener("load",Y),w.addEventListener("error",()=>H(new Error(`Unable to preload CSS for ${b}`)))})}))}function o(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&o(h.reason);return t().catch(o)})};function Xn(n){"@babel/helpers - typeof";return Xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xn(n)}var co=Uint8Array,pa=Uint16Array,K0=Int32Array,$0=new co([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),X0=new co([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ob=new co([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),e3=function(n,t){for(var e=new pa(31),r=0;r<31;++r)e[r]=t+=1<<n[r-1];for(var a=new K0(e[30]),r=1;r<30;++r)for(var o=e[r];o<e[r+1];++o)a[o]=o-e[r]<<5|r;return{b:e,r:a}},n3=e3($0,2),ZI=n3.b,q1=n3.r;ZI[28]=258,q1[258]=28;var t7=e3(X0,0),lb=t7.r,H1=new pa(32768);for(var gi=0;gi<32768;++gi){var uu=(gi&43690)>>1|(gi&21845)<<1;uu=(uu&52428)>>2|(uu&13107)<<2,uu=(uu&61680)>>4|(uu&3855)<<4,H1[gi]=((uu&65280)>>8|(uu&255)<<8)>>1}var Rf=(function(n,t,e){for(var r=n.length,a=0,o=new pa(t);a<r;++a)n[a]&&++o[n[a]-1];var c=new pa(t);for(a=1;a<t;++a)c[a]=c[a-1]+o[a-1]<<1;var h;if(e){h=new pa(1<<t);var d=15-t;for(a=0;a<r;++a)if(n[a])for(var m=a<<4|n[a],b=t-n[a],S=c[n[a]-1]++<<b,I=S|(1<<b)-1;S<=I;++S)h[H1[S]>>d]=m}else for(h=new pa(r),a=0;a<r;++a)n[a]&&(h[a]=H1[c[n[a]-1]++]>>15-n[a]);return h}),ac=new co(288);for(var gi=0;gi<144;++gi)ac[gi]=8;for(var gi=144;gi<256;++gi)ac[gi]=9;for(var gi=256;gi<280;++gi)ac[gi]=7;for(var gi=280;gi<288;++gi)ac[gi]=8;var Yp=new co(32);for(var gi=0;gi<32;++gi)Yp[gi]=5;var e7=Rf(ac,9,0),n7=Rf(Yp,5,0),i3=function(n){return(n+7)/8|0},i7=function(n,t,e){return(e==null||e>n.length)&&(e=n.length),new co(n.subarray(t,e))},wl=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8},vf=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8,n[r+2]|=e>>16},$g=function(n,t){for(var e=[],r=0;r<n.length;++r)n[r]&&e.push({s:r,f:n[r]});var a=e.length,o=e.slice();if(!a)return{t:s3,l:0};if(a==1){var c=new co(e[0].s+1);return c[e[0].s]=1,{t:c,l:1}}e.sort(function(At,kt){return At.f-kt.f}),e.push({s:-1,f:25001});var h=e[0],d=e[1],m=0,b=1,S=2;for(e[0]={s:-1,f:h.f+d.f,l:h,r:d};b!=a-1;)h=e[e[m].f<e[S].f?m++:S++],d=e[m!=b&&e[m].f<e[S].f?m++:S++],e[b++]={s:-1,f:h.f+d.f,l:h,r:d};for(var I=o[0].s,r=1;r<a;++r)o[r].s>I&&(I=o[r].s);var w=new pa(I+1),Y=G1(e[b-1],w,0);if(Y>t){var r=0,H=0,K=Y-t,q=1<<K;for(o.sort(function(kt,z){return w[z.s]-w[kt.s]||kt.f-z.f});r<a;++r){var lt=o[r].s;if(w[lt]>t)H+=q-(1<<Y-w[lt]),w[lt]=t;else break}for(H>>=K;H>0;){var ot=o[r].s;w[ot]<t?H-=1<<t-w[ot]++-1:++r}for(;r>=0&&H;--r){var st=o[r].s;w[st]==t&&(--w[st],++H)}Y=t}return{t:new co(w),l:Y}},G1=function(n,t,e){return n.s==-1?Math.max(G1(n.l,t,e+1),G1(n.r,t,e+1)):t[n.s]=e},ub=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new pa(++t),r=0,a=n[0],o=1,c=function(d){e[r++]=d},h=1;h<=t;++h)if(n[h]==a&&h!=t)++o;else{if(!a&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(a),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(a);o=1,a=n[h]}return{c:e.subarray(0,r),n:t}},bf=function(n,t){for(var e=0,r=0;r<t.length;++r)e+=n[r]*t[r];return e},r3=function(n,t,e){var r=e.length,a=i3(t+2);n[a]=r&255,n[a+1]=r>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var o=0;o<r;++o)n[a+o+4]=e[o];return(a+4+r)*8},cb=function(n,t,e,r,a,o,c,h,d,m,b){wl(t,b++,e),++a[256];for(var S=$g(a,15),I=S.t,w=S.l,Y=$g(o,15),H=Y.t,K=Y.l,q=ub(I),lt=q.c,ot=q.n,st=ub(H),At=st.c,kt=st.n,z=new pa(19),P=0;P<lt.length;++P)++z[lt[P]&31];for(var P=0;P<At.length;++P)++z[At[P]&31];for(var N=$g(z,7),V=N.t,E=N.l,R=19;R>4&&!V[ob[R-1]];--R);var D=m+5<<3,rt=bf(a,ac)+bf(o,Yp)+c,_t=bf(a,I)+bf(o,H)+c+14+3*R+bf(z,V)+2*z[16]+3*z[17]+7*z[18];if(d>=0&&D<=rt&&D<=_t)return r3(t,b,n.subarray(d,d+m));var it,dt,ft,vt;if(wl(t,b,1+(_t<rt)),b+=2,_t<rt){it=Rf(I,w,0),dt=I,ft=Rf(H,K,0),vt=H;var Mt=Rf(V,E,0);wl(t,b,ot-257),wl(t,b+5,kt-1),wl(t,b+10,R-4),b+=14;for(var P=0;P<R;++P)wl(t,b+3*P,V[ob[P]]);b+=3*R;for(var W=[lt,At],k=0;k<2;++k)for(var $=W[k],P=0;P<$.length;++P){var Z=$[P]&31;wl(t,b,Mt[Z]),b+=V[Z],Z>15&&(wl(t,b,$[P]>>5&127),b+=$[P]>>12)}}else it=e7,dt=ac,ft=n7,vt=Yp;for(var P=0;P<h;++P){var at=r[P];if(at>255){var Z=at>>18&31;vf(t,b,it[Z+257]),b+=dt[Z+257],Z>7&&(wl(t,b,at>>23&31),b+=$0[Z]);var ut=at&31;vf(t,b,ft[ut]),b+=vt[ut],ut>3&&(vf(t,b,at>>5&8191),b+=X0[ut])}else vf(t,b,it[at]),b+=dt[at]}return vf(t,b,it[256]),b+dt[256]},r7=new K0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),s3=new co(0),s7=function(n,t,e,r,a,o){var c=o.z||n.length,h=new co(r+c+5*(1+Math.ceil(c/7e3))+a),d=h.subarray(r,h.length-a),m=o.l,b=(o.r||0)&7;if(t){b&&(d[0]=o.r>>3);for(var S=r7[t-1],I=S>>13,w=S&8191,Y=(1<<e)-1,H=o.p||new pa(32768),K=o.h||new pa(Y+1),q=Math.ceil(e/3),lt=2*q,ot=function(oe){return(n[oe]^n[oe+1]<<q^n[oe+2]<<lt)&Y},st=new K0(25e3),At=new pa(288),kt=new pa(32),z=0,P=0,N=o.i||0,V=0,E=o.w||0,R=0;N+2<c;++N){var D=ot(N),rt=N&32767,_t=K[D];if(H[rt]=_t,K[D]=rt,E<=N){var it=c-N;if((z>7e3||V>24576)&&(it>423||!m)){b=cb(n,d,0,st,At,kt,P,V,R,N-R,b),V=z=P=0,R=N;for(var dt=0;dt<286;++dt)At[dt]=0;for(var dt=0;dt<30;++dt)kt[dt]=0}var ft=2,vt=0,Mt=w,W=rt-_t&32767;if(it>2&&D==ot(N-W))for(var k=Math.min(I,it)-1,$=Math.min(32767,N),Z=Math.min(258,it);W<=$&&--Mt&&rt!=_t;){if(n[N+ft]==n[N+ft-W]){for(var at=0;at<Z&&n[N+at]==n[N+at-W];++at);if(at>ft){if(ft=at,vt=W,at>k)break;for(var ut=Math.min(W,at-2),gt=0,dt=0;dt<ut;++dt){var Rt=N-W+dt&32767,Ct=H[Rt],Bt=Rt-Ct&32767;Bt>gt&&(gt=Bt,_t=Rt)}}}rt=_t,_t=H[rt],W+=rt-_t&32767}if(vt){st[V++]=268435456|q1[ft]<<18|lb[vt];var Xt=q1[ft]&31,te=lb[vt]&31;P+=$0[Xt]+X0[te],++At[257+Xt],++kt[te],E=N+ft,++z}else st[V++]=n[N],++At[n[N]]}}for(N=Math.max(N,E);N<c;++N)st[V++]=n[N],++At[n[N]];b=cb(n,d,m,st,At,kt,P,V,R,N-R,b),m||(o.r=b&7|d[b/8|0]<<3,b-=7,o.h=K,o.p=H,o.i=N,o.w=E)}else{for(var N=o.w||0;N<c+m;N+=65535){var ee=N+65535;ee>=c&&(d[b/8|0]=m,ee=c),b=r3(d,b+1,n.subarray(N,ee))}o.i=c}return i7(h,0,r+i3(b)+a)},a3=function(){var n=1,t=0;return{p:function(e){for(var r=n,a=t,o=e.length|0,c=0;c!=o;){for(var h=Math.min(c+2655,o);c<h;++c)a+=r+=e[c];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}n=r,t=a},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},a7=function(n,t,e,r,a){if(!a&&(a={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),c=new co(o.length+n.length);c.set(o),c.set(n,o.length),n=c,a.w=o.length}return s7(n,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,r,a)},o3=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},o7=function(n,t){var e=t.level,r=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=r<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var a=a3();a.p(t.dictionary),o3(n,2,a.d())}};function Y1(n,t){t||(t={});var e=a3();e.p(n);var r=a7(n,t,t.dictionary?6:2,4);return o7(r,t),o3(r,r.length-4,e.d()),r}var l7=typeof TextDecoder<"u"&&new TextDecoder,u7=0;try{l7.decode(s3,{stream:!0}),u7=1}catch{}function c7(n){if(Array.isArray(n))return n}function h7(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,a,o,c,h=[],d=!0,m=!1;try{if(o=(e=e.call(n)).next,t!==0)for(;!(d=(r=o.call(e)).done)&&(h.push(r.value),h.length!==t);d=!0);}catch(b){m=!0,a=b}finally{try{if(!d&&e.return!=null&&(c=e.return(),Object(c)!==c))return}finally{if(m)throw a}}return h}}function hb(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function f7(n,t){if(n){if(typeof n=="string")return hb(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?hb(n,t):void 0}}function d7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fb(n,t){return c7(n)||h7(n,t)||f7(n,t)||d7()}function db(n,t="utf8"){return new TextDecoder(t).decode(n)}const p7=new TextEncoder;function m7(n){return p7.encode(n)}const g7=1024*8,y7=(()=>{const n=new Uint8Array(4),t=new Uint32Array(n.buffer);return!((t[0]=1)&n[0])})(),Xg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Q0{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=g7,e={}){let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const a=e.offset?e.offset>>>0:0,o=t.byteLength-a;let c=a;(ArrayBuffer.isView(t)||t instanceof Q0)&&(t.byteLength!==t.buffer.byteLength&&(c=t.byteOffset+a),t=t.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=t,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,a=new Uint8Array(r);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const r=Xg[e].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+r);if(this.littleEndian===y7&&e!=="uint8"&&e!=="int8"){const h=new Uint8Array(this.buffer.slice(a,a+r));h.reverse();const d=new Xg[e](h.buffer);return this.offset+=r,d.reverse(),d}const c=new Xg[e](o);return this.offset+=r,c}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let r=0;r<t;r++)e+=this.readChar();return e}readUtf8(t=1){return db(this.readBytes(t))}decodeText(t=1,e="utf8"){return db(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(m7(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Dh(n){let t=n.length;for(;--t>=0;)n[t]=0}const v7=3,b7=258,l3=29,_7=256,w7=_7+1+l3,u3=30,A7=512,S7=new Array((w7+2)*2);Dh(S7);const x7=new Array(u3*2);Dh(x7);const E7=new Array(A7);Dh(E7);const T7=new Array(b7-v7+1);Dh(T7);const N7=new Array(l3);Dh(N7);const C7=new Array(u3);Dh(C7);const I7=(n,t,e,r)=>{let a=n&65535|0,o=n>>>16&65535|0,c=0;for(;e!==0;){c=e>2e3?2e3:e,e-=c;do a=a+t[r++]|0,o=o+a|0;while(--c);a%=65521,o%=65521}return a|o<<16|0};var K1=I7;const R7=()=>{let n,t=[];for(var e=0;e<256;e++){n=e;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;t[e]=n}return t},L7=new Uint32Array(R7()),k7=(n,t,e,r)=>{const a=L7,o=r+e;n^=-1;for(let c=r;c<o;c++)n=n>>>8^a[(n^t[c])&255];return n^-1};var Mo=k7,$1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},c3={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const D7=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var O7=function(n){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const r in e)D7(e,r)&&(n[r]=e[r])}}return n},P7=n=>{let t=0;for(let r=0,a=n.length;r<a;r++)t+=n[r].length;const e=new Uint8Array(t);for(let r=0,a=0,o=n.length;r<o;r++){let c=n[r];e.set(c,a),a+=c.length}return e},h3={assign:O7,flattenChunks:P7};let f3=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{f3=!1}const Ff=new Uint8Array(256);for(let n=0;n<256;n++)Ff[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Ff[254]=Ff[254]=1;var M7=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let t,e,r,a,o,c=n.length,h=0;for(a=0;a<c;a++)e=n.charCodeAt(a),(e&64512)===55296&&a+1<c&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),a++)),h+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(h),o=0,a=0;o<h;a++)e=n.charCodeAt(a),(e&64512)===55296&&a+1<c&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),a++)),e<128?t[o++]=e:e<2048?(t[o++]=192|e>>>6,t[o++]=128|e&63):e<65536?(t[o++]=224|e>>>12,t[o++]=128|e>>>6&63,t[o++]=128|e&63):(t[o++]=240|e>>>18,t[o++]=128|e>>>12&63,t[o++]=128|e>>>6&63,t[o++]=128|e&63);return t};const j7=(n,t)=>{if(t<65534&&n.subarray&&f3)return String.fromCharCode.apply(null,n.length===t?n:n.subarray(0,t));let e="";for(let r=0;r<t;r++)e+=String.fromCharCode(n[r]);return e};var U7=(n,t)=>{const e=t||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,t));let r,a;const o=new Array(e*2);for(a=0,r=0;r<e;){let c=n[r++];if(c<128){o[a++]=c;continue}let h=Ff[c];if(h>4){o[a++]=65533,r+=h-1;continue}for(c&=h===2?31:h===3?15:7;h>1&&r<e;)c=c<<6|n[r++]&63,h--;if(h>1){o[a++]=65533;continue}c<65536?o[a++]=c:(c-=65536,o[a++]=55296|c>>10&1023,o[a++]=56320|c&1023)}return j7(o,a)},V7=(n,t)=>{t=t||n.length,t>n.length&&(t=n.length);let e=t-1;for(;e>=0&&(n[e]&192)===128;)e--;return e<0||e===0?t:e+Ff[n[e]]>t?e:t},X1={string2buf:M7,buf2string:U7,utf8border:V7};function B7(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var F7=B7;const Jd=16209,z7=16191;var q7=function(t,e){let r,a,o,c,h,d,m,b,S,I,w,Y,H,K,q,lt,ot,st,At,kt,z,P,N,V;const E=t.state;r=t.next_in,N=t.input,a=r+(t.avail_in-5),o=t.next_out,V=t.output,c=o-(e-t.avail_out),h=o+(t.avail_out-257),d=E.dmax,m=E.wsize,b=E.whave,S=E.wnext,I=E.window,w=E.hold,Y=E.bits,H=E.lencode,K=E.distcode,q=(1<<E.lenbits)-1,lt=(1<<E.distbits)-1;t:do{Y<15&&(w+=N[r++]<<Y,Y+=8,w+=N[r++]<<Y,Y+=8),ot=H[w&q];e:for(;;){if(st=ot>>>24,w>>>=st,Y-=st,st=ot>>>16&255,st===0)V[o++]=ot&65535;else if(st&16){At=ot&65535,st&=15,st&&(Y<st&&(w+=N[r++]<<Y,Y+=8),At+=w&(1<<st)-1,w>>>=st,Y-=st),Y<15&&(w+=N[r++]<<Y,Y+=8,w+=N[r++]<<Y,Y+=8),ot=K[w&lt];n:for(;;){if(st=ot>>>24,w>>>=st,Y-=st,st=ot>>>16&255,st&16){if(kt=ot&65535,st&=15,Y<st&&(w+=N[r++]<<Y,Y+=8,Y<st&&(w+=N[r++]<<Y,Y+=8)),kt+=w&(1<<st)-1,kt>d){t.msg="invalid distance too far back",E.mode=Jd;break t}if(w>>>=st,Y-=st,st=o-c,kt>st){if(st=kt-st,st>b&&E.sane){t.msg="invalid distance too far back",E.mode=Jd;break t}if(z=0,P=I,S===0){if(z+=m-st,st<At){At-=st;do V[o++]=I[z++];while(--st);z=o-kt,P=V}}else if(S<st){if(z+=m+S-st,st-=S,st<At){At-=st;do V[o++]=I[z++];while(--st);if(z=0,S<At){st=S,At-=st;do V[o++]=I[z++];while(--st);z=o-kt,P=V}}}else if(z+=S-st,st<At){At-=st;do V[o++]=I[z++];while(--st);z=o-kt,P=V}for(;At>2;)V[o++]=P[z++],V[o++]=P[z++],V[o++]=P[z++],At-=3;At&&(V[o++]=P[z++],At>1&&(V[o++]=P[z++]))}else{z=o-kt;do V[o++]=V[z++],V[o++]=V[z++],V[o++]=V[z++],At-=3;while(At>2);At&&(V[o++]=V[z++],At>1&&(V[o++]=V[z++]))}}else if((st&64)===0){ot=K[(ot&65535)+(w&(1<<st)-1)];continue n}else{t.msg="invalid distance code",E.mode=Jd;break t}break}}else if((st&64)===0){ot=H[(ot&65535)+(w&(1<<st)-1)];continue e}else if(st&32){E.mode=z7;break t}else{t.msg="invalid literal/length code",E.mode=Jd;break t}break}}while(r<a&&o<h);At=Y>>3,r-=At,Y-=At<<3,w&=(1<<Y)-1,t.next_in=r,t.next_out=o,t.avail_in=r<a?5+(a-r):5-(r-a),t.avail_out=o<h?257+(h-o):257-(o-h),E.hold=w,E.bits=Y};const Qc=15,pb=852,mb=592,gb=0,Qg=1,yb=2,H7=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),G7=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Y7=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),K7=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),$7=(n,t,e,r,a,o,c,h)=>{const d=h.bits;let m=0,b=0,S=0,I=0,w=0,Y=0,H=0,K=0,q=0,lt=0,ot,st,At,kt,z,P=null,N;const V=new Uint16Array(Qc+1),E=new Uint16Array(Qc+1);let R=null,D,rt,_t;for(m=0;m<=Qc;m++)V[m]=0;for(b=0;b<r;b++)V[t[e+b]]++;for(w=d,I=Qc;I>=1&&V[I]===0;I--);if(w>I&&(w=I),I===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,h.bits=1,0;for(S=1;S<I&&V[S]===0;S++);for(w<S&&(w=S),K=1,m=1;m<=Qc;m++)if(K<<=1,K-=V[m],K<0)return-1;if(K>0&&(n===gb||I!==1))return-1;for(E[1]=0,m=1;m<Qc;m++)E[m+1]=E[m]+V[m];for(b=0;b<r;b++)t[e+b]!==0&&(c[E[t[e+b]]++]=b);if(n===gb?(P=R=c,N=20):n===Qg?(P=H7,R=G7,N=257):(P=Y7,R=K7,N=0),lt=0,b=0,m=S,z=o,Y=w,H=0,At=-1,q=1<<w,kt=q-1,n===Qg&&q>pb||n===yb&&q>mb)return 1;for(;;){D=m-H,c[b]+1<N?(rt=0,_t=c[b]):c[b]>=N?(rt=R[c[b]-N],_t=P[c[b]-N]):(rt=96,_t=0),ot=1<<m-H,st=1<<Y,S=st;do st-=ot,a[z+(lt>>H)+st]=D<<24|rt<<16|_t|0;while(st!==0);for(ot=1<<m-1;lt&ot;)ot>>=1;if(ot!==0?(lt&=ot-1,lt+=ot):lt=0,b++,--V[m]===0){if(m===I)break;m=t[e+c[b]]}if(m>w&&(lt&kt)!==At){for(H===0&&(H=w),z+=S,Y=m-H,K=1<<Y;Y+H<I&&(K-=V[Y+H],!(K<=0));)Y++,K<<=1;if(q+=1<<Y,n===Qg&&q>pb||n===yb&&q>mb)return 1;At=lt&kt,a[At]=w<<24|Y<<16|z-o|0}}return lt!==0&&(a[z+lt]=m-H<<24|64<<16|0),h.bits=w,0};var Lf=$7;const X7=0,d3=1,p3=2,{Z_FINISH:vb,Z_BLOCK:Q7,Z_TREES:Zd,Z_OK:oc,Z_STREAM_END:W7,Z_NEED_DICT:J7,Z_STREAM_ERROR:ja,Z_DATA_ERROR:m3,Z_MEM_ERROR:g3,Z_BUF_ERROR:Z7,Z_DEFLATED:bb}=c3,pm=16180,_b=16181,wb=16182,Ab=16183,Sb=16184,xb=16185,Eb=16186,Tb=16187,Nb=16188,Cb=16189,Kp=16190,Al=16191,Wg=16192,Ib=16193,Jg=16194,Rb=16195,Lb=16196,kb=16197,Db=16198,tp=16199,ep=16200,Ob=16201,Pb=16202,Mb=16203,jb=16204,Ub=16205,Zg=16206,Vb=16207,Bb=16208,Si=16209,y3=16210,v3=16211,tR=852,eR=592,nR=15,iR=nR,Fb=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function rR(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const fc=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.mode<pm||t.mode>v3?1:0},b3=n=>{if(fc(n))return ja;const t=n.state;return n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=pm,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(tR),t.distcode=t.distdyn=new Int32Array(eR),t.sane=1,t.back=-1,oc},_3=n=>{if(fc(n))return ja;const t=n.state;return t.wsize=0,t.whave=0,t.wnext=0,b3(n)},w3=(n,t)=>{let e;if(fc(n))return ja;const r=n.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?ja:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=e,r.wbits=t,_3(n))},A3=(n,t)=>{if(!n)return ja;const e=new rR;n.state=e,e.strm=n,e.window=null,e.mode=pm;const r=w3(n,t);return r!==oc&&(n.state=null),r},sR=n=>A3(n,iR);let zb=!0,t1,e1;const aR=n=>{if(zb){t1=new Int32Array(512),e1=new Int32Array(32);let t=0;for(;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(Lf(d3,n.lens,0,288,t1,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;Lf(p3,n.lens,0,32,e1,0,n.work,{bits:5}),zb=!1}n.lencode=t1,n.lenbits=9,n.distcode=e1,n.distbits=5},S3=(n,t,e,r)=>{let a;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>r&&(a=r),o.window.set(t.subarray(e-r,e-r+a),o.wnext),r-=a,r?(o.window.set(t.subarray(e-r,e),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},oR=(n,t)=>{let e,r,a,o,c,h,d,m,b,S,I,w,Y,H,K=0,q,lt,ot,st,At,kt,z,P;const N=new Uint8Array(4);let V,E;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(fc(n)||!n.output||!n.input&&n.avail_in!==0)return ja;e=n.state,e.mode===Al&&(e.mode=Wg),c=n.next_out,a=n.output,d=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,m=e.hold,b=e.bits,S=h,I=d,P=oc;t:for(;;)switch(e.mode){case pm:if(e.wrap===0){e.mode=Wg;break}for(;b<16;){if(h===0)break t;h--,m+=r[o++]<<b,b+=8}if(e.wrap&2&&m===35615){e.wbits===0&&(e.wbits=15),e.check=0,N[0]=m&255,N[1]=m>>>8&255,e.check=Mo(e.check,N,2,0),m=0,b=0,e.mode=_b;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((m&255)<<8)+(m>>8))%31){n.msg="incorrect header check",e.mode=Si;break}if((m&15)!==bb){n.msg="unknown compression method",e.mode=Si;break}if(m>>>=4,b-=4,z=(m&15)+8,e.wbits===0&&(e.wbits=z),z>15||z>e.wbits){n.msg="invalid window size",e.mode=Si;break}e.dmax=1<<e.wbits,e.flags=0,n.adler=e.check=1,e.mode=m&512?Cb:Al,m=0,b=0;break;case _b:for(;b<16;){if(h===0)break t;h--,m+=r[o++]<<b,b+=8}if(e.flags=m,(e.flags&255)!==bb){n.msg="unknown compression method",e.mode=Si;break}if(e.flags&57344){n.msg="unknown header flags set",e.mode=Si;break}e.head&&(e.head.text=m>>8&1),e.flags&512&&e.wrap&4&&(N[0]=m&255,N[1]=m>>>8&255,e.check=Mo(e.check,N,2,0)),m=0,b=0,e.mode=wb;case wb:for(;b<32;){if(h===0)break t;h--,m+=r[o++]<<b,b+=8}e.head&&(e.head.time=m),e.flags&512&&e.wrap&4&&(N[0]=m&255,N[1]=m>>>8&255,N[2]=m>>>16&255,N[3]=m>>>24&255,e.check=Mo(e.check,N,4,0)),m=0,b=0,e.mode=Ab;case Ab:for(;b<16;){if(h===0)break t;h--,m+=r[o++]<<b,b+=8}e.head&&(e.head.xflags=m&255,e.head.os=m>>8),e.flags&512&&e.wrap&4&&(N[0]=m&255,N[1]=m>>>8&255,e.check=Mo(e.check,N,2,0)),m=0,b=0,e.mode=Sb;case Sb:if(e.flags&1024){for(;b<16;){if(h===0)break t;h--,m+=r[o++]<<b,b+=8}e.length=m,e.head&&(e.head.extra_len=m),e.flags&512&&e.wrap&4&&(N[0]=m&255,N[1]=m>>>8&255,e.check=Mo(e.check,N,2,0)),m=0,b=0}else e.head&&(e.head.extra=null);e.mode=xb;case xb:if(e.flags&1024&&(w=e.length,w>h&&(w=h),w&&(e.head&&(z=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(r.subarray(o,o+w),z)),e.flags&512&&e.wrap&4&&(e.check=Mo(e.check,r,w,o)),h-=w,o+=w,e.length-=w),e.length))break t;e.length=0,e.mode=Eb;case Eb:if(e.flags&2048){if(h===0)break t;w=0;do z=r[o+w++],e.head&&z&&e.length<65536&&(e.head.name+=String.fromCharCode(z));while(z&&w<h);if(e.flags&512&&e.wrap&4&&(e.check=Mo(e.check,r,w,o)),h-=w,o+=w,z)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=Tb;case Tb:if(e.flags&4096){if(h===0)break t;w=0;do z=r[o+w++],e.head&&z&&e.length<65536&&(e.head.comment+=String.fromCharCode(z));while(z&&w<h);if(e.flags&512&&e.wrap&4&&(e.check=Mo(e.check,r,w,o)),h-=w,o+=w,z)break t}else e.head&&(e.head.comment=null);e.mode=Nb;case Nb:if(e.flags&512){for(;b<16;){if(h===0)break t;h--,m+=r[o++]<<b,b+=8}if(e.wrap&4&&m!==(e.check&65535)){n.msg="header crc mismatch",e.mode=Si;break}m=0,b=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=Al;break;case Cb:for(;b<32;){if(h===0)break t;h--,m+=r[o++]<<b,b+=8}n.adler=e.check=Fb(m),m=0,b=0,e.mode=Kp;case Kp:if(e.havedict===0)return n.next_out=c,n.avail_out=d,n.next_in=o,n.avail_in=h,e.hold=m,e.bits=b,J7;n.adler=e.check=1,e.mode=Al;case Al:if(t===Q7||t===Zd)break t;case Wg:if(e.last){m>>>=b&7,b-=b&7,e.mode=Zg;break}for(;b<3;){if(h===0)break t;h--,m+=r[o++]<<b,b+=8}switch(e.last=m&1,m>>>=1,b-=1,m&3){case 0:e.mode=Ib;break;case 1:if(aR(e),e.mode=tp,t===Zd){m>>>=2,b-=2;break t}break;case 2:e.mode=Lb;break;case 3:n.msg="invalid block type",e.mode=Si}m>>>=2,b-=2;break;case Ib:for(m>>>=b&7,b-=b&7;b<32;){if(h===0)break t;h--,m+=r[o++]<<b,b+=8}if((m&65535)!==(m>>>16^65535)){n.msg="invalid stored block lengths",e.mode=Si;break}if(e.length=m&65535,m=0,b=0,e.mode=Jg,t===Zd)break t;case Jg:e.mode=Rb;case Rb:if(w=e.length,w){if(w>h&&(w=h),w>d&&(w=d),w===0)break t;a.set(r.subarray(o,o+w),c),h-=w,o+=w,d-=w,c+=w,e.length-=w;break}e.mode=Al;break;case Lb:for(;b<14;){if(h===0)break t;h--,m+=r[o++]<<b,b+=8}if(e.nlen=(m&31)+257,m>>>=5,b-=5,e.ndist=(m&31)+1,m>>>=5,b-=5,e.ncode=(m&15)+4,m>>>=4,b-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=Si;break}e.have=0,e.mode=kb;case kb:for(;e.have<e.ncode;){for(;b<3;){if(h===0)break t;h--,m+=r[o++]<<b,b+=8}e.lens[R[e.have++]]=m&7,m>>>=3,b-=3}for(;e.have<19;)e.lens[R[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,V={bits:e.lenbits},P=Lf(X7,e.lens,0,19,e.lencode,0,e.work,V),e.lenbits=V.bits,P){n.msg="invalid code lengths set",e.mode=Si;break}e.have=0,e.mode=Db;case Db:for(;e.have<e.nlen+e.ndist;){for(;K=e.lencode[m&(1<<e.lenbits)-1],q=K>>>24,lt=K>>>16&255,ot=K&65535,!(q<=b);){if(h===0)break t;h--,m+=r[o++]<<b,b+=8}if(ot<16)m>>>=q,b-=q,e.lens[e.have++]=ot;else{if(ot===16){for(E=q+2;b<E;){if(h===0)break t;h--,m+=r[o++]<<b,b+=8}if(m>>>=q,b-=q,e.have===0){n.msg="invalid bit length repeat",e.mode=Si;break}z=e.lens[e.have-1],w=3+(m&3),m>>>=2,b-=2}else if(ot===17){for(E=q+3;b<E;){if(h===0)break t;h--,m+=r[o++]<<b,b+=8}m>>>=q,b-=q,z=0,w=3+(m&7),m>>>=3,b-=3}else{for(E=q+7;b<E;){if(h===0)break t;h--,m+=r[o++]<<b,b+=8}m>>>=q,b-=q,z=0,w=11+(m&127),m>>>=7,b-=7}if(e.have+w>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=Si;break}for(;w--;)e.lens[e.have++]=z}}if(e.mode===Si)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=Si;break}if(e.lenbits=9,V={bits:e.lenbits},P=Lf(d3,e.lens,0,e.nlen,e.lencode,0,e.work,V),e.lenbits=V.bits,P){n.msg="invalid literal/lengths set",e.mode=Si;break}if(e.distbits=6,e.distcode=e.distdyn,V={bits:e.distbits},P=Lf(p3,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,V),e.distbits=V.bits,P){n.msg="invalid distances set",e.mode=Si;break}if(e.mode=tp,t===Zd)break t;case tp:e.mode=ep;case ep:if(h>=6&&d>=258){n.next_out=c,n.avail_out=d,n.next_in=o,n.avail_in=h,e.hold=m,e.bits=b,q7(n,I),c=n.next_out,a=n.output,d=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,m=e.hold,b=e.bits,e.mode===Al&&(e.back=-1);break}for(e.back=0;K=e.lencode[m&(1<<e.lenbits)-1],q=K>>>24,lt=K>>>16&255,ot=K&65535,!(q<=b);){if(h===0)break t;h--,m+=r[o++]<<b,b+=8}if(lt&&(lt&240)===0){for(st=q,At=lt,kt=ot;K=e.lencode[kt+((m&(1<<st+At)-1)>>st)],q=K>>>24,lt=K>>>16&255,ot=K&65535,!(st+q<=b);){if(h===0)break t;h--,m+=r[o++]<<b,b+=8}m>>>=st,b-=st,e.back+=st}if(m>>>=q,b-=q,e.back+=q,e.length=ot,lt===0){e.mode=Ub;break}if(lt&32){e.back=-1,e.mode=Al;break}if(lt&64){n.msg="invalid literal/length code",e.mode=Si;break}e.extra=lt&15,e.mode=Ob;case Ob:if(e.extra){for(E=e.extra;b<E;){if(h===0)break t;h--,m+=r[o++]<<b,b+=8}e.length+=m&(1<<e.extra)-1,m>>>=e.extra,b-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=Pb;case Pb:for(;K=e.distcode[m&(1<<e.distbits)-1],q=K>>>24,lt=K>>>16&255,ot=K&65535,!(q<=b);){if(h===0)break t;h--,m+=r[o++]<<b,b+=8}if((lt&240)===0){for(st=q,At=lt,kt=ot;K=e.distcode[kt+((m&(1<<st+At)-1)>>st)],q=K>>>24,lt=K>>>16&255,ot=K&65535,!(st+q<=b);){if(h===0)break t;h--,m+=r[o++]<<b,b+=8}m>>>=st,b-=st,e.back+=st}if(m>>>=q,b-=q,e.back+=q,lt&64){n.msg="invalid distance code",e.mode=Si;break}e.offset=ot,e.extra=lt&15,e.mode=Mb;case Mb:if(e.extra){for(E=e.extra;b<E;){if(h===0)break t;h--,m+=r[o++]<<b,b+=8}e.offset+=m&(1<<e.extra)-1,m>>>=e.extra,b-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=Si;break}e.mode=jb;case jb:if(d===0)break t;if(w=I-d,e.offset>w){if(w=e.offset-w,w>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=Si;break}w>e.wnext?(w-=e.wnext,Y=e.wsize-w):Y=e.wnext-w,w>e.length&&(w=e.length),H=e.window}else H=a,Y=c-e.offset,w=e.length;w>d&&(w=d),d-=w,e.length-=w;do a[c++]=H[Y++];while(--w);e.length===0&&(e.mode=ep);break;case Ub:if(d===0)break t;a[c++]=e.length,d--,e.mode=ep;break;case Zg:if(e.wrap){for(;b<32;){if(h===0)break t;h--,m|=r[o++]<<b,b+=8}if(I-=d,n.total_out+=I,e.total+=I,e.wrap&4&&I&&(n.adler=e.check=e.flags?Mo(e.check,a,I,c-I):K1(e.check,a,I,c-I)),I=d,e.wrap&4&&(e.flags?m:Fb(m))!==e.check){n.msg="incorrect data check",e.mode=Si;break}m=0,b=0}e.mode=Vb;case Vb:if(e.wrap&&e.flags){for(;b<32;){if(h===0)break t;h--,m+=r[o++]<<b,b+=8}if(e.wrap&4&&m!==(e.total&4294967295)){n.msg="incorrect length check",e.mode=Si;break}m=0,b=0}e.mode=Bb;case Bb:P=W7;break t;case Si:P=m3;break t;case y3:return g3;case v3:default:return ja}return n.next_out=c,n.avail_out=d,n.next_in=o,n.avail_in=h,e.hold=m,e.bits=b,(e.wsize||I!==n.avail_out&&e.mode<Si&&(e.mode<Zg||t!==vb))&&S3(n,n.output,n.next_out,I-n.avail_out),S-=n.avail_in,I-=n.avail_out,n.total_in+=S,n.total_out+=I,e.total+=I,e.wrap&4&&I&&(n.adler=e.check=e.flags?Mo(e.check,a,I,n.next_out-I):K1(e.check,a,I,n.next_out-I)),n.data_type=e.bits+(e.last?64:0)+(e.mode===Al?128:0)+(e.mode===tp||e.mode===Jg?256:0),(S===0&&I===0||t===vb)&&P===oc&&(P=Z7),P},lR=n=>{if(fc(n))return ja;let t=n.state;return t.window&&(t.window=null),n.state=null,oc},uR=(n,t)=>{if(fc(n))return ja;const e=n.state;return(e.wrap&2)===0?ja:(e.head=t,t.done=!1,oc)},cR=(n,t)=>{const e=t.length;let r,a,o;return fc(n)||(r=n.state,r.wrap!==0&&r.mode!==Kp)?ja:r.mode===Kp&&(a=1,a=K1(a,t,e,0),a!==r.check)?m3:(o=S3(n,t,e,e),o?(r.mode=y3,g3):(r.havedict=1,oc))};var hR=_3,fR=w3,dR=b3,pR=sR,mR=A3,gR=oR,yR=lR,vR=uR,bR=cR,_R="pako inflate (from Nodeca project)",Sl={inflateReset:hR,inflateReset2:fR,inflateResetKeep:dR,inflateInit:pR,inflateInit2:mR,inflate:gR,inflateEnd:yR,inflateGetHeader:vR,inflateSetDictionary:bR,inflateInfo:_R};function wR(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var AR=wR;const x3=Object.prototype.toString,{Z_NO_FLUSH:SR,Z_FINISH:xR,Z_OK:zf,Z_STREAM_END:n1,Z_NEED_DICT:i1,Z_STREAM_ERROR:ER,Z_DATA_ERROR:qb,Z_MEM_ERROR:TR}=c3;function Zf(n){this.options=h3.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(n&&n.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new F7,this.strm.avail_out=0;let e=Sl.inflateInit2(this.strm,t.windowBits);if(e!==zf)throw new Error($1[e]);if(this.header=new AR,Sl.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=X1.string2buf(t.dictionary):x3.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=Sl.inflateSetDictionary(this.strm,t.dictionary),e!==zf)))throw new Error($1[e])}Zf.prototype.push=function(n,t){const e=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let o,c,h;if(this.ended)return!1;for(t===~~t?c=t:c=t===!0?xR:SR,x3.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),o=Sl.inflate(e,c),o===i1&&a&&(o=Sl.inflateSetDictionary(e,a),o===zf?o=Sl.inflate(e,c):o===qb&&(o=i1));e.avail_in>0&&o===n1&&e.state.wrap>0&&n[e.next_in]!==0;)Sl.inflateReset(e),o=Sl.inflate(e,c);switch(o){case ER:case qb:case i1:case TR:return this.onEnd(o),this.ended=!0,!1}if(h=e.avail_out,e.next_out&&(e.avail_out===0||o===n1))if(this.options.to==="string"){let d=X1.utf8border(e.output,e.next_out),m=e.next_out-d,b=X1.buf2string(e.output,d);e.next_out=m,e.avail_out=r-m,m&&e.output.set(e.output.subarray(d,d+m),0),this.onData(b)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(o===zf&&h===0)){if(o===n1)return o=Sl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};Zf.prototype.onData=function(n){this.chunks.push(n)};Zf.prototype.onEnd=function(n){n===zf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h3.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function NR(n,t){const e=new Zf(t);if(e.push(n),e.err)throw e.msg||$1[e.err];return e.result}var CR=Zf,IR=NR,RR={Inflate:CR,inflate:IR};const{Inflate:LR,inflate:kR}=RR;var Hb=LR,DR=kR;const E3=[];for(let n=0;n<256;n++){let t=n;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t=t>>>1;E3[n]=t}const Gb=4294967295;function OR(n,t,e){let r=n;for(let a=0;a<e;a++)r=E3[(r^t[a])&255]^r>>>8;return r}function PR(n,t){return(OR(Gb,n,t)^Gb)>>>0}function Yb(n,t,e){const r=n.readUint32(),a=PR(new Uint8Array(n.buffer,n.byteOffset+n.offset-t-4,t),t);if(a!==r)throw new Error(`CRC mismatch for chunk ${e}. Expected ${r}, found ${a}`)}function T3(n,t,e){for(let r=0;r<e;r++)t[r]=n[r]}function N3(n,t,e,r){let a=0;for(;a<r;a++)t[a]=n[a];for(;a<e;a++)t[a]=n[a]+t[a-r]&255}function C3(n,t,e,r){let a=0;if(e.length===0)for(;a<r;a++)t[a]=n[a];else for(;a<r;a++)t[a]=n[a]+e[a]&255}function I3(n,t,e,r,a){let o=0;if(e.length===0){for(;o<a;o++)t[o]=n[o];for(;o<r;o++)t[o]=n[o]+(t[o-a]>>1)&255}else{for(;o<a;o++)t[o]=n[o]+(e[o]>>1)&255;for(;o<r;o++)t[o]=n[o]+(t[o-a]+e[o]>>1)&255}}function R3(n,t,e,r,a){let o=0;if(e.length===0){for(;o<a;o++)t[o]=n[o];for(;o<r;o++)t[o]=n[o]+t[o-a]&255}else{for(;o<a;o++)t[o]=n[o]+e[o]&255;for(;o<r;o++)t[o]=n[o]+MR(t[o-a],e[o],e[o-a])&255}}function MR(n,t,e){const r=n+t-e,a=Math.abs(r-n),o=Math.abs(r-t),c=Math.abs(r-e);return a<=o&&a<=c?n:o<=c?t:e}function jR(n,t,e,r,a,o){switch(n){case 0:T3(t,e,a);break;case 1:N3(t,e,a,o);break;case 2:C3(t,e,r,a);break;case 3:I3(t,e,r,a,o);break;case 4:R3(t,e,r,a,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const UR=new Uint16Array([255]),VR=new Uint8Array(UR.buffer),BR=VR[0]===255;function FR(n){const{data:t,width:e,height:r,channels:a,depth:o}=n,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(o/8)*a,d=new Uint8Array(r*e*h);let m=0;for(let b=0;b<7;b++){const S=c[b],I=Math.ceil((e-S.x)/S.xStep),w=Math.ceil((r-S.y)/S.yStep);if(I<=0||w<=0)continue;const Y=I*h,H=new Uint8Array(Y);for(let K=0;K<w;K++){const q=t[m++],lt=t.subarray(m,m+Y);m+=Y;const ot=new Uint8Array(Y);jR(q,lt,ot,H,Y,h),H.set(ot);for(let st=0;st<I;st++){const At=S.x+st*S.xStep,kt=S.y+K*S.yStep;if(!(At>=e||kt>=r))for(let z=0;z<h;z++)d[(kt*e+At)*h+z]=ot[st*h+z]}}}if(o===16){const b=new Uint16Array(d.buffer);if(BR)for(let S=0;S<b.length;S++)b[S]=zR(b[S]);return b}else return d}function zR(n){return(n&255)<<8|n>>8&255}const qR=new Uint16Array([255]),HR=new Uint8Array(qR.buffer),GR=HR[0]===255,YR=new Uint8Array(0);function Kb(n){const{data:t,width:e,height:r,channels:a,depth:o}=n,c=Math.ceil(o/8)*a,h=Math.ceil(o/8*a*e),d=new Uint8Array(r*h);let m=YR,b=0,S,I;for(let w=0;w<r;w++){switch(S=t.subarray(b+1,b+1+h),I=d.subarray(w*h,(w+1)*h),t[b]){case 0:T3(S,I,h);break;case 1:N3(S,I,h,c);break;case 2:C3(S,I,m,h);break;case 3:I3(S,I,m,h,c);break;case 4:R3(S,I,m,h,c);break;default:throw new Error(`Unsupported filter: ${t[b]}`)}m=I,b+=h+1}if(o===16){const w=new Uint16Array(d.buffer);if(GR)for(let Y=0;Y<w.length;Y++)w[Y]=KR(w[Y]);return w}else return d}function KR(n){return(n&255)<<8|n>>8&255}const yp=Uint8Array.of(137,80,78,71,13,10,26,10);function $b(n){if(!$R(n.readBytes(yp.length)))throw new Error("wrong PNG signature")}function $R(n){if(n.length<yp.length)return!1;for(let t=0;t<yp.length;t++)if(n[t]!==yp[t])return!1;return!0}const XR="tEXt",QR=0,L3=new TextDecoder("latin1");function WR(n){if(ZR(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const JR=/^[\u0000-\u00FF]*$/;function ZR(n){if(!JR.test(n))throw new Error("invalid latin1 text")}function tL(n,t,e){const r=k3(t);n[r]=eL(t,e-r.length-1)}function k3(n){for(n.mark();n.readByte()!==QR;);const t=n.offset;n.reset();const e=L3.decode(n.readBytes(t-n.offset-1));return n.skip(1),WR(e),e}function eL(n,t){return L3.decode(n.readBytes(t))}const da={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},r1={UNKNOWN:-1,DEFLATE:0},Xb={UNKNOWN:-1,ADAPTIVE:0},s1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},np={NONE:0,BACKGROUND:1,PREVIOUS:2},a1={SOURCE:0,OVER:1};class nL extends Q0{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,e={}){super(t);const{checkCrc:r=!1}=e;this._checkCrc=r,this._inflator=new Hb,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=r1.UNKNOWN,this._filterMethod=Xb.UNKNOWN,this._interlaceMethod=s1.UNKNOWN,this._colorType=da.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for($b(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeChunk(t,e)}return this.decodeImage(),this._png}decodeApng(){for($b(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeApngChunk(t,e)}return this.decodeApngImage(),this._apng}decodeChunk(t,e){const r=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case XR:tL(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?Yb(this,t+4,e):this.skip(4)}decodeApngChunk(t,e){const r=this.offset;switch(e!=="fdAT"&&e!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),e){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,e),this.offset=r+t;break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?Yb(this,t+4,e):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=iL(this.readUint8());const e=this.readUint8();this._colorType=e;let r;switch(e){case da.GREYSCALE:r=1;break;case da.TRUECOLOUR:r=3;break;case da.INDEXED_COLOUR:r=1;break;case da.GREYSCALE_ALPHA:r=2;break;case da.TRUECOLOUR_ALPHA:r=4;break;case da.UNKNOWN:default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==r1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const e=t/3;this._hasPalette=!0;const r=[];this._palette=r;for(let a=0;a<e;a++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const e=t,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let e=t,r=this.offset+this.byteOffset;if(r+=4,e-=4,this._inflator.push(new Uint8Array(this.buffer,r,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case da.GREYSCALE:case da.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let e=0;e<t/2;e++)this._transparency[e]=this.readUint16();break}case da.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let e=0;for(;e<t;e++){const r=this.readByte();this._palette[e].push(r)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}case da.UNKNOWN:case da.GREYSCALE_ALPHA:case da.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const e=k3(this),r=this.readUint8();if(r!==r1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const a=this.readBytes(t-e.length-2);this._png.iccEmbeddedProfile={name:e,profile:DR(a)}}decodepHYs(){const t=this.readUint32(),e=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:e,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const e={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(t);if(r){if(r.data=Kb({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)e.data=r.data;else{const a=this._apng.frames.at(t-1);this.disposeFrame(r,a,e),this.addFrameDataToCanvas(e,r)}this._apng.frames.push(e)}}return this._apng}disposeFrame(t,e,r){switch(t.disposeOp){case np.NONE:break;case np.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const c=(a*t.width+o)*this._png.channels;for(let h=0;h<this._png.channels;h++)r.data[c+h]=0}break;case np.PREVIOUS:r.data.set(e.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,e){const r=1<<this._png.depth,a=(o,c)=>{const h=((o+e.yOffset)*this._png.width+e.xOffset+c)*this._png.channels,d=(o*e.width+c)*this._png.channels;return{index:h,frameIndex:d}};switch(e.blendOp){case a1.SOURCE:for(let o=0;o<e.height;o++)for(let c=0;c<e.width;c++){const{index:h,frameIndex:d}=a(o,c);for(let m=0;m<this._png.channels;m++)t.data[h+m]=e.data[d+m]}break;case a1.OVER:for(let o=0;o<e.height;o++)for(let c=0;c<e.width;c++){const{index:h,frameIndex:d}=a(o,c);for(let m=0;m<this._png.channels;m++){const b=e.data[d+this._png.channels-1]/r,S=m%(this._png.channels-1)===0?1:e.data[d+m],I=Math.floor(b*S+(1-b)*t.data[h+m]);t.data[h+m]+=I}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Xb.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===s1.NO_INTERLACE)this._png.data=Kb({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===s1.ADAM7)this._png.data=FR({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,e=this._frames.at(-1);e?e.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:np.NONE,blendOp:a1.SOURCE,data:t}),this._inflator=new Hb,this._writingDataChunks=!1}}function iL(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var Qb;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(Qb||(Qb={}));function rL(n,t){return new nL(n,t).decode()}var Ge=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function o1(){Ge.console&&typeof Ge.console.log=="function"&&Ge.console.log.apply(Ge.console,arguments)}var li={log:o1,warn:function(n){Ge.console&&(typeof Ge.console.warn=="function"?Ge.console.warn.apply(Ge.console,arguments):o1.call(null,arguments))},error:function(n){Ge.console&&(typeof Ge.console.error=="function"?Ge.console.error.apply(Ge.console,arguments):o1(n))}};function l1(n,t,e){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Yu(r.response,t,e)},r.onerror=function(){li.error("could not download file")},r.send()}function Wb(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function ip(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var Yu=Ge.saveAs||((typeof window>"u"?"undefined":Xn(window))!=="object"||window!==Ge?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var r=Ge.URL||Ge.webkitURL,a=document.createElement("a");t=t||n.name||"download",a.download=t,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?Wb(a.href)?l1(n,t,e):ip(a,a.target="_blank"):ip(a)):(a.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){ip(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(Wb(n))l1(n,t,e);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){ip(r)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Xn(o)!=="object"&&(li.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(n,e),t)}:function(n,t,e,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return l1(n,t,e);var a=n.type==="application/octet-stream",o=/constructor/i.test(Ge.HTMLElement)||Ge.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&o)&&(typeof FileReader>"u"?"undefined":Xn(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var b=h.result;b=c?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=b:location=b,r=null},h.readAsDataURL(n)}else{var d=Ge.URL||Ge.webkitURL,m=d.createObjectURL(n);r?r.location=m:location.href=m,r=null,setTimeout(function(){d.revokeObjectURL(m)},4e4)}});function D3(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],r=0;r<e.length;r++){var a=e[r].re,o=e[r].process,c=a.exec(n);c&&(t=o(c),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),d=this.g.toString(16),m=this.b.toString(16);return h.length==1&&(h="0"+h),d.length==1&&(d="0"+d),m.length==1&&(m="0"+m),"#"+h+d+m}}var vp=Ge.atob.bind(Ge),Jb=Ge.btoa.bind(Ge);function u1(n,t){var e=n[0],r=n[1],a=n[2],o=n[3];e=hs(e,r,a,o,t[0],7,-680876936),o=hs(o,e,r,a,t[1],12,-389564586),a=hs(a,o,e,r,t[2],17,606105819),r=hs(r,a,o,e,t[3],22,-1044525330),e=hs(e,r,a,o,t[4],7,-176418897),o=hs(o,e,r,a,t[5],12,1200080426),a=hs(a,o,e,r,t[6],17,-1473231341),r=hs(r,a,o,e,t[7],22,-45705983),e=hs(e,r,a,o,t[8],7,1770035416),o=hs(o,e,r,a,t[9],12,-1958414417),a=hs(a,o,e,r,t[10],17,-42063),r=hs(r,a,o,e,t[11],22,-1990404162),e=hs(e,r,a,o,t[12],7,1804603682),o=hs(o,e,r,a,t[13],12,-40341101),a=hs(a,o,e,r,t[14],17,-1502002290),e=fs(e,r=hs(r,a,o,e,t[15],22,1236535329),a,o,t[1],5,-165796510),o=fs(o,e,r,a,t[6],9,-1069501632),a=fs(a,o,e,r,t[11],14,643717713),r=fs(r,a,o,e,t[0],20,-373897302),e=fs(e,r,a,o,t[5],5,-701558691),o=fs(o,e,r,a,t[10],9,38016083),a=fs(a,o,e,r,t[15],14,-660478335),r=fs(r,a,o,e,t[4],20,-405537848),e=fs(e,r,a,o,t[9],5,568446438),o=fs(o,e,r,a,t[14],9,-1019803690),a=fs(a,o,e,r,t[3],14,-187363961),r=fs(r,a,o,e,t[8],20,1163531501),e=fs(e,r,a,o,t[13],5,-1444681467),o=fs(o,e,r,a,t[2],9,-51403784),a=fs(a,o,e,r,t[7],14,1735328473),e=ds(e,r=fs(r,a,o,e,t[12],20,-1926607734),a,o,t[5],4,-378558),o=ds(o,e,r,a,t[8],11,-2022574463),a=ds(a,o,e,r,t[11],16,1839030562),r=ds(r,a,o,e,t[14],23,-35309556),e=ds(e,r,a,o,t[1],4,-1530992060),o=ds(o,e,r,a,t[4],11,1272893353),a=ds(a,o,e,r,t[7],16,-155497632),r=ds(r,a,o,e,t[10],23,-1094730640),e=ds(e,r,a,o,t[13],4,681279174),o=ds(o,e,r,a,t[0],11,-358537222),a=ds(a,o,e,r,t[3],16,-722521979),r=ds(r,a,o,e,t[6],23,76029189),e=ds(e,r,a,o,t[9],4,-640364487),o=ds(o,e,r,a,t[12],11,-421815835),a=ds(a,o,e,r,t[15],16,530742520),e=ps(e,r=ds(r,a,o,e,t[2],23,-995338651),a,o,t[0],6,-198630844),o=ps(o,e,r,a,t[7],10,1126891415),a=ps(a,o,e,r,t[14],15,-1416354905),r=ps(r,a,o,e,t[5],21,-57434055),e=ps(e,r,a,o,t[12],6,1700485571),o=ps(o,e,r,a,t[3],10,-1894986606),a=ps(a,o,e,r,t[10],15,-1051523),r=ps(r,a,o,e,t[1],21,-2054922799),e=ps(e,r,a,o,t[8],6,1873313359),o=ps(o,e,r,a,t[15],10,-30611744),a=ps(a,o,e,r,t[6],15,-1560198380),r=ps(r,a,o,e,t[13],21,1309151649),e=ps(e,r,a,o,t[4],6,-145523070),o=ps(o,e,r,a,t[11],10,-1120210379),a=ps(a,o,e,r,t[2],15,718787259),r=ps(r,a,o,e,t[9],21,-343485551),n[0]=mu(e,n[0]),n[1]=mu(r,n[1]),n[2]=mu(a,n[2]),n[3]=mu(o,n[3])}function mm(n,t,e,r,a,o){return t=mu(mu(t,n),mu(r,o)),mu(t<<a|t>>>32-a,e)}function hs(n,t,e,r,a,o,c){return mm(t&e|~t&r,n,t,a,o,c)}function fs(n,t,e,r,a,o,c){return mm(t&r|e&~r,n,t,a,o,c)}function ds(n,t,e,r,a,o,c){return mm(t^e^r,n,t,a,o,c)}function ps(n,t,e,r,a,o,c){return mm(e^(t|~r),n,t,a,o,c)}function O3(n){var t,e=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)u1(r,sL(n.substring(t-64,t)));n=n.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)a[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(u1(r,a),t=0;t<16;t++)a[t]=0;return a[14]=8*e,u1(r,a),r}function sL(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}var Zb="0123456789abcdef".split("");function aL(n){for(var t="",e=0;e<4;e++)t+=Zb[n>>8*e+4&15]+Zb[n>>8*e&15];return t}function oL(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Q1(n){return O3(n).map(oL).join("")}var lL=(function(n){for(var t=0;t<n.length;t++)n[t]=aL(n[t]);return n.join("")})(O3("hello"))!="5d41402abc4b2a76b9719d911017c592";function mu(n,t){if(lL){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}function W1(n,t){var e,r,a,o;if(n!==e){for(var c=(a=n,o=1+(256/n.length|0),new Array(o+1).join(a)),h=[],d=0;d<256;d++)h[d]=d;var m=0;for(d=0;d<256;d++){var b=h[d];m=(m+b+c.charCodeAt(d))%256,h[d]=h[m],h[m]=b}e=n,r=h}else h=r;var S=t.length,I=0,w=0,Y="";for(d=0;d<S;d++)w=(w+(b=h[I=(I+1)%256]))%256,h[I]=h[w],h[w]=b,c=h[(h[I]+h[w])%256],Y+=String.fromCharCode(t.charCodeAt(d)^c);return Y}var t_={print:4,modify:8,copy:16,"annot-forms":32};function ih(n,t,e,r){this.v=1,this.r=2;var a=192;n.forEach(function(h){if(t_.perm!==void 0)throw new Error("Invalid permission: "+h);a+=t_[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(t+this.padding).substr(0,32),c=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^a)),this.encryptionKey=Q1(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=W1(this.encryptionKey,this.padding)}function rh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,r=0;r<e;r++){var a=n.charCodeAt(r);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[r]}return t}function e_(n){if(Xn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,a){if(a=a||!1,typeof e!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var o=Math.random().toString(35);return t[e][o]=[r,!!a],o},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var o in t[e]){var c=t[e][o];try{c[0].apply(n,r)}catch(h){Ge.console&&li.error("jsPDF PubSub Error",h.message,h)}c[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function $p(n){if(!(this instanceof $p))return new $p(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function P3(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function Ku(n,t,e,r,a){if(!(this instanceof Ku))return new Ku(n,t,e,r,a);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,P3.call(this,r,a)}function ah(n,t,e,r,a){if(!(this instanceof ah))return new ah(n,t,e,r,a);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,P3.call(this,r,a)}function Te(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],o=arguments[3],c=[],h=1,d=16,m="S",b=null;Xn(n=n||{})==="object"&&(e=n.orientation,r=n.unit||r,a=n.format||a,o=n.compress||n.compressPdf||o,(b=n.encryption||null)!==null&&(b.userPassword=b.userPassword||"",b.ownerPassword=b.ownerPassword||"",b.userPermissions=b.userPermissions||[]),h=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(d=n.floatPrecision),m=n.defaultPathOperation||"S"),c=n.filters||(o===!0?["FlateEncode"]:c),r=r||"mm",e=(""+(e||"P")).toLowerCase();var S=n.putOnlyUsedFonts||!1,I={},w={internal:{},__private__:{}};w.__private__.PubSub=e_;var Y="1.3",H=w.__private__.getPdfVersion=function(){return Y};w.__private__.setPdfVersion=function(_){Y=_};var K={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return K};var q=w.__private__.getPageFormat=function(_){return K[_]};a=a||"a4";var lt="compat",ot="advanced",st=lt;function At(){this.saveGraphicsState(),M(new Se(qe,0,0,-qe,0,As()*qe).toString()+" cm"),this.setFontSize(this.getFontSize()/qe),m="n",st=ot}function kt(){this.restoreGraphicsState(),m="S",st=lt}var z=w.__private__.combineFontStyleAndFontWeight=function(_,j){if(_=="bold"&&j=="normal"||_=="bold"&&j==400||_=="normal"&&j=="italic"||_=="bold"&&j=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return j&&(_=j==400||j==="normal"?_==="italic"?"italic":"normal":j!=700&&j!=="bold"||_!=="normal"?(j==700?"bold":j)+""+_:"bold"),_};w.advancedAPI=function(_){var j=st===lt;return j&&At.call(this),typeof _!="function"||(_(this),j&&kt.call(this)),this},w.compatAPI=function(_){var j=st===ot;return j&&kt.call(this),typeof _!="function"||(_(this),j&&At.call(this)),this},w.isAdvancedAPI=function(){return st===ot};var P,N=function(_){if(st!==ot)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=w.roundToPrecision=w.__private__.roundToPrecision=function(_,j){var et=t||j;if(isNaN(_)||isNaN(et))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(et).replace(/0+$/,"")};P=w.hpf=w.__private__.hpf=typeof d=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return V(_,d)}:d==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return V(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return V(_,16)};var E=w.f2=w.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return V(_,2)},R=w.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return V(_,3)},D=w.scale=w.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return st===lt?_*qe:st===ot?_:void 0},rt=function(_){return D((function(j){return st===lt?As()-j:st===ot?j:void 0})(_))};w.__private__.setPrecision=w.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(t=parseInt(_,10))};var _t,it="00000000000000000000000000000000",dt=w.__private__.getFileId=function(){return it},ft=w.__private__.setFileId=function(_){return it=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():it.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),b!==null&&(ri=new ih(b.userPermissions,b.userPassword,b.ownerPassword,it)),it};w.setFileId=function(_){return ft(_),this},w.getFileId=function(){return dt()};var vt=w.__private__.convertDateToPDFDate=function(_){var j=_.getTimezoneOffset(),et=j<0?"+":"-",ht=Math.floor(Math.abs(j/60)),bt=Math.abs(j%60),Ft=[et,Z(ht),"'",Z(bt),"'"].join("");return["D:",_.getFullYear(),Z(_.getMonth()+1),Z(_.getDate()),Z(_.getHours()),Z(_.getMinutes()),Z(_.getSeconds()),Ft].join("")},Mt=w.__private__.convertPDFDateToDate=function(_){var j=parseInt(_.substr(2,4),10),et=parseInt(_.substr(6,2),10)-1,ht=parseInt(_.substr(8,2),10),bt=parseInt(_.substr(10,2),10),Ft=parseInt(_.substr(12,2),10),Kt=parseInt(_.substr(14,2),10);return new Date(j,et,ht,bt,Ft,Kt,0)},W=w.__private__.setCreationDate=function(_){var j;if(_===void 0&&(_=new Date),_ instanceof Date)j=vt(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");j=_}return _t=j},k=w.__private__.getCreationDate=function(_){var j=_t;return _==="jsDate"&&(j=Mt(_t)),j};w.setCreationDate=function(_){return W(_),this},w.getCreationDate=function(_){return k(_)};var $,Z=w.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},at=w.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},ut=0,gt=[],Rt=[],Ct=0,Bt=[],Xt=[],te=!1,ee=Rt;w.__private__.setCustomOutputDestination=function(_){te=!0,ee=_};var oe=function(_){te||(ee=_)};w.__private__.resetCustomOutputDestination=function(){te=!1,ee=Rt};var M=w.__private__.out=function(_){return _=_.toString(),Ct+=_.length+1,ee.push(_),ee},Vt=w.__private__.write=function(_){return M(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},ce=w.__private__.getArrayBuffer=function(_){for(var j=_.length,et=new ArrayBuffer(j),ht=new Uint8Array(et);j--;)ht[j]=_.charCodeAt(j);return et},ie=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return ie};var jt=n.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(_){return jt=st===ot?_/qe:_,this};var ne,re=w.__private__.getFontSize=w.getFontSize=function(){return st===lt?jt:jt*qe},Ne=n.R2L||!1;w.__private__.setR2L=w.setR2L=function(_){return Ne=_,this},w.__private__.getR2L=w.getR2L=function(){return Ne};var _e,Ke=w.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))ne=_;else if(isNaN(_)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');ne=_}else ne=parseInt(_,10)};w.__private__.getZoomMode=function(){return ne};var Je,Be=w.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');_e=_};w.__private__.getPageMode=function(){return _e};var sn=w.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');Je=_};w.__private__.getLayoutMode=function(){return Je},w.__private__.setDisplayMode=w.setDisplayMode=function(_,j,et){return Ke(_),sn(j),Be(et),this};var Xe={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(_){if(Object.keys(Xe).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Xe[_]},w.__private__.getDocumentProperties=function(){return Xe},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(_){for(var j in Xe)Xe.hasOwnProperty(j)&&_[j]&&(Xe[j]=_[j]);return this},w.__private__.setDocumentProperty=function(_,j){if(Object.keys(Xe).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Xe[_]=j};var ge,qe,ye,ui,Qe,Ee={},Me={},$e=[],Ae={},In={},Oe={},Pe={},kn=null,we=0,ve=[],an=new e_(w),lr=n.hotfixes||[],Wi={},Cs={},zi=[],Se=function _(j,et,ht,bt,Ft,Kt){if(!(this instanceof _))return new _(j,et,ht,bt,Ft,Kt);isNaN(j)&&(j=1),isNaN(et)&&(et=0),isNaN(ht)&&(ht=0),isNaN(bt)&&(bt=1),isNaN(Ft)&&(Ft=0),isNaN(Kt)&&(Kt=0),this._matrix=[j,et,ht,bt,Ft,Kt]};Object.defineProperty(Se.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(Se.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(Se.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(Se.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(Se.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(Se.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(Se.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(Se.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(Se.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(Se.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(Se.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(Se.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(Se.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Se.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Se.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Se.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Se.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(_)},Se.prototype.multiply=function(_){var j=_.sx*this.sx+_.shy*this.shx,et=_.sx*this.shy+_.shy*this.sy,ht=_.shx*this.sx+_.sy*this.shx,bt=_.shx*this.shy+_.sy*this.sy,Ft=_.tx*this.sx+_.ty*this.shx+this.tx,Kt=_.tx*this.shy+_.ty*this.sy+this.ty;return new Se(j,et,ht,bt,Ft,Kt)},Se.prototype.decompose=function(){var _=this.sx,j=this.shy,et=this.shx,ht=this.sy,bt=this.tx,Ft=this.ty,Kt=Math.sqrt(_*_+j*j),le=(_/=Kt)*et+(j/=Kt)*ht;et-=_*le,ht-=j*le;var de=Math.sqrt(et*et+ht*ht);return le/=de,_*(ht/=de)<j*(et/=de)&&(_=-_,j=-j,le=-le,Kt=-Kt),{scale:new Se(Kt,0,0,de,0,0),translate:new Se(1,0,0,1,bt,Ft),rotate:new Se(_,j,-j,_,0,0),skew:new Se(1,0,le,1,0,0)}},Se.prototype.toString=function(_){return this.join(" ")},Se.prototype.inversed=function(){var _=this.sx,j=this.shy,et=this.shx,ht=this.sy,bt=this.tx,Ft=this.ty,Kt=1/(_*ht-j*et),le=ht*Kt,de=-j*Kt,Le=-et*Kt,xe=_*Kt;return new Se(le,de,Le,xe,-le*bt-Le*Ft,-de*bt-xe*Ft)},Se.prototype.applyToPoint=function(_){var j=_.x*this.sx+_.y*this.shx+this.tx,et=_.x*this.shy+_.y*this.sy+this.ty;return new tr(j,et)},Se.prototype.applyToRectangle=function(_){var j=this.applyToPoint(_),et=this.applyToPoint(new tr(_.x+_.w,_.y+_.h));return new Rs(j.x,j.y,et.x-j.x,et.y-j.y)},Se.prototype.clone=function(){var _=this.sx,j=this.shy,et=this.shx,ht=this.sy,bt=this.tx,Ft=this.ty;return new Se(_,j,et,ht,bt,Ft)},w.Matrix=Se;var Js=w.matrixMult=function(_,j){return j.multiply(_)},Vr=new Se(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=Vr;var Sr=function(_,j){if(!In[_]){var et=(j instanceof Ku?"Sh":"P")+(Object.keys(Ae).length+1).toString(10);j.id=et,In[_]=et,Ae[et]=j,an.publish("addPattern",j)}};w.ShadingPattern=Ku,w.TilingPattern=ah,w.addShadingPattern=function(_,j){return N("addShadingPattern()"),Sr(_,j),this},w.beginTilingPattern=function(_){N("beginTilingPattern()"),Ls(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},w.endTilingPattern=function(_,j){N("endTilingPattern()"),j.stream=Xt[$].join(`
`),Sr(_,j),an.publish("endTilingPattern",j),zi.pop().restore()};var xr,Fn=w.__private__.newObject=function(){var _=Qn();return ki(_,!0),_},Qn=w.__private__.newObjectDeferred=function(){return ut++,gt[ut]=function(){return Ct},ut},ki=function(_,j){return j=typeof j=="boolean"&&j,gt[_]=Ct,j&&M(_+" 0 obj"),_},ur=w.__private__.newAdditionalObject=function(){var _={objId:Qn(),content:""};return Bt.push(_),_},Ji=Qn(),Dn=Qn(),Hn=w.__private__.decodeColorString=function(_){var j=_.split(" ");if(j.length!==2||j[1]!=="g"&&j[1]!=="G")j.length!==5||j[4]!=="k"&&j[4]!=="K"||(j=[(1-j[0])*(1-j[3]),(1-j[1])*(1-j[3]),(1-j[2])*(1-j[3]),"r"]);else{var et=parseFloat(j[0]);j=[et,et,et,"r"]}for(var ht="#",bt=0;bt<3;bt++)ht+=("0"+Math.floor(255*parseFloat(j[bt])).toString(16)).slice(-2);return ht},Di=w.__private__.encodeColorString=function(_){var j;typeof _=="string"&&(_={ch1:_});var et=_.ch1,ht=_.ch2,bt=_.ch3,Ft=_.ch4,Kt=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof et=="string"&&et.charAt(0)!=="#"){var le=new D3(et);if(le.ok)et=le.toHex();else if(!/^\d*\.?\d*$/.test(et))throw new Error('Invalid color "'+et+'" passed to jsPDF.encodeColorString.')}if(typeof et=="string"&&/^#[0-9A-Fa-f]{3}$/.test(et)&&(et="#"+et[1]+et[1]+et[2]+et[2]+et[3]+et[3]),typeof et=="string"&&/^#[0-9A-Fa-f]{6}$/.test(et)){var de=parseInt(et.substr(1),16);et=de>>16&255,ht=de>>8&255,bt=255&de}if(ht===void 0||Ft===void 0&&et===ht&&ht===bt)j=typeof et=="string"?et+" "+Kt[0]:_.precision===2?E(et/255)+" "+Kt[0]:R(et/255)+" "+Kt[0];else if(Ft===void 0||Xn(Ft)==="object"){if(Ft&&!isNaN(Ft.a)&&Ft.a===0)return["1.","1.","1.",Kt[1]].join(" ");j=typeof et=="string"?[et,ht,bt,Kt[1]].join(" "):_.precision===2?[E(et/255),E(ht/255),E(bt/255),Kt[1]].join(" "):[R(et/255),R(ht/255),R(bt/255),Kt[1]].join(" ")}else j=typeof et=="string"?[et,ht,bt,Ft,Kt[2]].join(" "):_.precision===2?[E(et),E(ht),E(bt),E(Ft),Kt[2]].join(" "):[R(et),R(ht),R(bt),R(Ft),Kt[2]].join(" ");return j},Er=w.__private__.getFilters=function(){return c},ns=w.__private__.putStream=function(_){var j=(_=_||{}).data||"",et=_.filters||Er(),ht=_.alreadyAppliedFilters||[],bt=_.addLength1||!1,Ft=j.length,Kt=_.objectId,le=function(x){return x};if(b!==null&&Kt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");b!==null&&(le=ri.encryptor(Kt,0));var de={};et===!0&&(et=["FlateEncode"]);var Le=_.additionalKeyValues||[],xe=(de=Te.API.processDataByFilters!==void 0?Te.API.processDataByFilters(j,et):{data:j,reverseChain:[]}).reverseChain+(Array.isArray(ht)?ht.join(" "):ht.toString());if(de.data.length!==0&&(Le.push({key:"Length",value:de.data.length}),bt===!0&&Le.push({key:"Length1",value:Ft})),xe.length!=0)if(xe.split("/").length-1==1)Le.push({key:"Filter",value:xe});else{Le.push({key:"Filter",value:"["+xe+"]"});for(var fn=0;fn<Le.length;fn+=1)if(Le[fn].key==="DecodeParms"){for(var Wn=[],zn=0;zn<de.reverseChain.split("/").length-1;zn+=1)Wn.push("null");Wn.push(Le[fn].value),Le[fn].value="["+Wn.join(" ")+"]"}}M("<<");for(var p=0;p<Le.length;p++)M("/"+Le[p].key+" "+Le[p].value);M(">>"),de.data.length!==0&&(M("stream"),M(le(de.data)),M("endstream"))},ga=w.__private__.putPage=function(_){var j=_.number,et=_.data,ht=_.objId,bt=_.contentsObjId;ki(ht,!0),M("<</Type /Page"),M("/Parent "+_.rootDictionaryObjId+" 0 R"),M("/Resources "+_.resourceDictionaryObjId+" 0 R"),M("/MediaBox ["+parseFloat(P(_.mediaBox.bottomLeftX))+" "+parseFloat(P(_.mediaBox.bottomLeftY))+" "+P(_.mediaBox.topRightX)+" "+P(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&M("/CropBox ["+P(_.cropBox.bottomLeftX)+" "+P(_.cropBox.bottomLeftY)+" "+P(_.cropBox.topRightX)+" "+P(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&M("/BleedBox ["+P(_.bleedBox.bottomLeftX)+" "+P(_.bleedBox.bottomLeftY)+" "+P(_.bleedBox.topRightX)+" "+P(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&M("/TrimBox ["+P(_.trimBox.bottomLeftX)+" "+P(_.trimBox.bottomLeftY)+" "+P(_.trimBox.topRightX)+" "+P(_.trimBox.topRightY)+"]"),_.artBox!==null&&M("/ArtBox ["+P(_.artBox.bottomLeftX)+" "+P(_.artBox.bottomLeftY)+" "+P(_.artBox.topRightX)+" "+P(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&M("/UserUnit "+_.userUnit),an.publish("putPage",{objId:ht,pageContext:ve[j],pageNumber:j,page:et}),M("/Contents "+bt+" 0 R"),M(">>"),M("endobj");var Ft=et.join(`
`);return st===ot&&(Ft+=`
Q`),ki(bt,!0),ns({data:Ft,filters:Er(),objectId:bt}),M("endobj"),ht},vs=w.__private__.putPages=function(){var _,j,et=[];for(_=1;_<=we;_++)ve[_].objId=Qn(),ve[_].contentsObjId=Qn();for(_=1;_<=we;_++)et.push(ga({number:_,data:Xt[_],objId:ve[_].objId,contentsObjId:ve[_].contentsObjId,mediaBox:ve[_].mediaBox,cropBox:ve[_].cropBox,bleedBox:ve[_].bleedBox,trimBox:ve[_].trimBox,artBox:ve[_].artBox,userUnit:ve[_].userUnit,rootDictionaryObjId:Ji,resourceDictionaryObjId:Dn}));ki(Ji,!0),M("<</Type /Pages");var ht="/Kids [";for(j=0;j<we;j++)ht+=et[j]+" 0 R ";M(ht+"]"),M("/Count "+we),M(">>"),M("endobj"),an.publish("postPutPages")},Tr=function(_){an.publish("putFont",{font:_,out:M,newObject:Fn,putStream:ns}),_.isAlreadyPutted!==!0&&(_.objectNumber=Fn(),M("<<"),M("/Type /Font"),M("/BaseFont /"+rh(_.postScriptName)),M("/Subtype /Type1"),typeof _.encoding=="string"&&M("/Encoding /"+_.encoding),M("/FirstChar 32"),M("/LastChar 255"),M(">>"),M("endobj"))},Zs=function(_){_.objectNumber=Fn();var j=[];j.push({key:"Type",value:"/XObject"}),j.push({key:"Subtype",value:"/Form"}),j.push({key:"BBox",value:"["+[P(_.x),P(_.y),P(_.x+_.width),P(_.y+_.height)].join(" ")+"]"}),j.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var et=_.pages[1].join(`
`);ns({data:et,additionalKeyValues:j,objectId:_.objectNumber}),M("endobj")},Br=function(_,j){j||(j=21);var et=Fn(),ht=(function(Kt,le){var de,Le=[],xe=1/(le-1);for(de=0;de<1;de+=xe)Le.push(de);if(Le.push(1),Kt[0].offset!=0){var fn={offset:0,color:Kt[0].color};Kt.unshift(fn)}if(Kt[Kt.length-1].offset!=1){var Wn={offset:1,color:Kt[Kt.length-1].color};Kt.push(Wn)}for(var zn="",p=0,x=0;x<Le.length;x++){for(de=Le[x];de>Kt[p+1].offset;)p++;var L=Kt[p].offset,Q=(de-L)/(Kt[p+1].offset-L),St=Kt[p].color,Lt=Kt[p+1].color;zn+=at(Math.round((1-Q)*St[0]+Q*Lt[0]).toString(16))+at(Math.round((1-Q)*St[1]+Q*Lt[1]).toString(16))+at(Math.round((1-Q)*St[2]+Q*Lt[2]).toString(16))}return zn.trim()})(_.colors,j),bt=[];bt.push({key:"FunctionType",value:"0"}),bt.push({key:"Domain",value:"[0.0 1.0]"}),bt.push({key:"Size",value:"["+j+"]"}),bt.push({key:"BitsPerSample",value:"8"}),bt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),bt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ns({data:ht,additionalKeyValues:bt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:et}),M("endobj"),_.objectNumber=Fn(),M("<< /ShadingType "+_.type),M("/ColorSpace /DeviceRGB");var Ft="/Coords ["+P(parseFloat(_.coords[0]))+" "+P(parseFloat(_.coords[1]))+" ";_.type===2?Ft+=P(parseFloat(_.coords[2]))+" "+P(parseFloat(_.coords[3])):Ft+=P(parseFloat(_.coords[2]))+" "+P(parseFloat(_.coords[3]))+" "+P(parseFloat(_.coords[4]))+" "+P(parseFloat(_.coords[5])),M(Ft+="]"),_.matrix&&M("/Matrix ["+_.matrix.toString()+"]"),M("/Function "+et+" 0 R"),M("/Extend [true true]"),M(">>"),M("endobj")},cr=function(_,j){var et=Qn(),ht=Fn();j.push({resourcesOid:et,objectOid:ht}),_.objectNumber=ht;var bt=[];bt.push({key:"Type",value:"/Pattern"}),bt.push({key:"PatternType",value:"1"}),bt.push({key:"PaintType",value:"1"}),bt.push({key:"TilingType",value:"1"}),bt.push({key:"BBox",value:"["+_.boundingBox.map(P).join(" ")+"]"}),bt.push({key:"XStep",value:P(_.xStep)}),bt.push({key:"YStep",value:P(_.yStep)}),bt.push({key:"Resources",value:et+" 0 R"}),_.matrix&&bt.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),ns({data:_.stream,additionalKeyValues:bt,objectId:_.objectNumber}),M("endobj")},Fr=function(_){for(var j in _.objectNumber=Fn(),M("<<"),_)switch(j){case"opacity":M("/ca "+E(_[j]));break;case"stroke-opacity":M("/CA "+E(_[j]))}M(">>"),M("endobj")},is=function(_){ki(_.resourcesOid,!0),M("<<"),M("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var j in M("/Font <<"),Ee)Ee.hasOwnProperty(j)&&(S===!1||S===!0&&I.hasOwnProperty(j))&&M("/"+j+" "+Ee[j].objectNumber+" 0 R");M(">>")})(),(function(){if(Object.keys(Ae).length>0){for(var j in M("/Shading <<"),Ae)Ae.hasOwnProperty(j)&&Ae[j]instanceof Ku&&Ae[j].objectNumber>=0&&M("/"+j+" "+Ae[j].objectNumber+" 0 R");an.publish("putShadingPatternDict"),M(">>")}})(),(function(j){if(Object.keys(Ae).length>0){for(var et in M("/Pattern <<"),Ae)Ae.hasOwnProperty(et)&&Ae[et]instanceof w.TilingPattern&&Ae[et].objectNumber>=0&&Ae[et].objectNumber<j&&M("/"+et+" "+Ae[et].objectNumber+" 0 R");an.publish("putTilingPatternDict"),M(">>")}})(_.objectOid),(function(){if(Object.keys(Oe).length>0){var j;for(j in M("/ExtGState <<"),Oe)Oe.hasOwnProperty(j)&&Oe[j].objectNumber>=0&&M("/"+j+" "+Oe[j].objectNumber+" 0 R");an.publish("putGStateDict"),M(">>")}})(),(function(){for(var j in M("/XObject <<"),Wi)Wi.hasOwnProperty(j)&&Wi[j].objectNumber>=0&&M("/"+j+" "+Wi[j].objectNumber+" 0 R");an.publish("putXobjectDict"),M(">>")})(),M(">>"),M("endobj")},ci=function(_){Me[_.fontName]=Me[_.fontName]||{},Me[_.fontName][_.fontStyle]=_.id},po=function(_,j,et,ht,bt){var Ft={id:"F"+(Object.keys(Ee).length+1).toString(10),postScriptName:_,fontName:j,fontStyle:et,encoding:ht,isStandardFont:bt||!1,metadata:{}};return an.publish("addFont",{font:Ft,instance:this}),Ee[Ft.id]=Ft,ci(Ft),Ft.id},Nr=w.__private__.pdfEscape=w.pdfEscape=function(_,j){return(function(et,ht){var bt,Ft,Kt,le,de,Le,xe,fn,Wn;if(Kt=(ht=ht||{}).sourceEncoding||"Unicode",de=ht.outputEncoding,(ht.autoencode||de)&&Ee[ge].metadata&&Ee[ge].metadata[Kt]&&Ee[ge].metadata[Kt].encoding&&(le=Ee[ge].metadata[Kt].encoding,!de&&Ee[ge].encoding&&(de=Ee[ge].encoding),!de&&le.codePages&&(de=le.codePages[0]),typeof de=="string"&&(de=le[de]),de)){for(xe=!1,Le=[],bt=0,Ft=et.length;bt<Ft;bt++)(fn=de[et.charCodeAt(bt)])?Le.push(String.fromCharCode(fn)):Le.push(et[bt]),Le[bt].charCodeAt(0)>>8&&(xe=!0);et=Le.join("")}for(bt=et.length;xe===void 0&&bt!==0;)et.charCodeAt(bt-1)>>8&&(xe=!0),bt--;if(!xe)return et;for(Le=ht.noBOM?[]:[254,255],bt=0,Ft=et.length;bt<Ft;bt++){if((Wn=(fn=et.charCodeAt(bt))>>8)>>8)throw new Error("Character at position "+bt+" of string '"+et+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Le.push(Wn),Le.push(fn-(Wn<<8))}return String.fromCharCode.apply(void 0,Le)})(_,j).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rs=w.__private__.beginPage=function(_){Xt[++we]=[],ve[we]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},mo(we),oe(Xt[$])},bs=function(_,j){var et,ht,bt;switch(e=j||e,typeof _=="string"&&(et=q(_.toLowerCase()),Array.isArray(et)&&(ht=et[0],bt=et[1])),Array.isArray(_)&&(ht=_[0]*qe,bt=_[1]*qe),isNaN(ht)&&(ht=a[0],bt=a[1]),(ht>14400||bt>14400)&&(li.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ht=Math.min(14400,ht),bt=Math.min(14400,bt)),a=[ht,bt],e.substr(0,1)){case"l":bt>ht&&(a=[bt,ht]);break;case"p":ht>bt&&(a=[bt,ht])}rs(a),Ce(Ir),M(qr),Gr!==0&&M(Gr+" J"),Ei!==0&&M(Ei+" j"),an.publish("addPage",{pageNumber:we})},Ua=function(_){_>0&&_<=we&&(Xt.splice(_,1),ve.splice(_,1),we--,$>we&&($=we),this.setPage($))},mo=function(_){_>0&&_<=we&&($=_)},go=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return Xt.length-1},Xo=function(_,j,et){var ht,bt=void 0;return et=et||{},_=_!==void 0?_:Ee[ge].fontName,j=j!==void 0?j:Ee[ge].fontStyle,ht=_.toLowerCase(),Me[ht]!==void 0&&Me[ht][j]!==void 0?bt=Me[ht][j]:Me[_]!==void 0&&Me[_][j]!==void 0?bt=Me[_][j]:et.disableWarning===!1&&li.warn("Unable to look up font label for font '"+_+"', '"+j+"'. Refer to getFontList() for available fonts."),bt||et.noFallback||(bt=Me.times[j])==null&&(bt=Me.times.normal),bt},zr=w.__private__.putInfo=function(){var _=Fn(),j=function(ht){return ht};for(var et in b!==null&&(j=ri.encryptor(_,0)),M("<<"),M("/Producer ("+Nr(j("jsPDF "+Te.version))+")"),Xe)Xe.hasOwnProperty(et)&&Xe[et]&&M("/"+et.substr(0,1).toUpperCase()+et.substr(1)+" ("+Nr(j(Xe[et]))+")");M("/CreationDate ("+Nr(j(_t))+")"),M(">>"),M("endobj")},Zi=w.__private__.putCatalog=function(_){var j=(_=_||{}).rootDictionaryObjId||Ji;switch(Fn(),M("<<"),M("/Type /Catalog"),M("/Pages "+j+" 0 R"),ne||(ne="fullwidth"),ne){case"fullwidth":M("/OpenAction [3 0 R /FitH null]");break;case"fullheight":M("/OpenAction [3 0 R /FitV null]");break;case"fullpage":M("/OpenAction [3 0 R /Fit]");break;case"original":M("/OpenAction [3 0 R /XYZ null null 1]");break;default:var et=""+ne;et.substr(et.length-1)==="%"&&(ne=parseInt(ne)/100),typeof ne=="number"&&M("/OpenAction [3 0 R /XYZ null null "+E(ne)+"]")}switch(Je||(Je="continuous"),Je){case"continuous":M("/PageLayout /OneColumn");break;case"single":M("/PageLayout /SinglePage");break;case"two":case"twoleft":M("/PageLayout /TwoColumnLeft");break;case"tworight":M("/PageLayout /TwoColumnRight")}_e&&M("/PageMode /"+_e),an.publish("putCatalog"),M(">>"),M("endobj")},yi=w.__private__.putTrailer=function(){M("trailer"),M("<<"),M("/Size "+(ut+1)),M("/Root "+ut+" 0 R"),M("/Info "+(ut-1)+" 0 R"),b!==null&&M("/Encrypt "+ri.oid+" 0 R"),M("/ID [ <"+it+"> <"+it+"> ]"),M(">>")},cn=w.__private__.putHeader=function(){M("%PDF-"+Y),M("%")},ta=w.__private__.putXRef=function(){var _="0000000000";M("xref"),M("0 "+(ut+1)),M("0000000000 65535 f ");for(var j=1;j<=ut;j++)typeof gt[j]=="function"?M((_+gt[j]()).slice(-10)+" 00000 n "):gt[j]!==void 0?M((_+gt[j]).slice(-10)+" 00000 n "):M("0000000000 00000 n ")},ss=w.__private__.buildDocument=function(){var _;ut=0,Ct=0,Rt=[],gt=[],Bt=[],Ji=Qn(),Dn=Qn(),oe(Rt),an.publish("buildDocument"),cn(),vs(),(function(){an.publish("putAdditionalObjects");for(var et=0;et<Bt.length;et++){var ht=Bt[et];ki(ht.objId,!0),M(ht.content),M("endobj")}an.publish("postPutAdditionalObjects")})(),_=[],(function(){for(var et in Ee)Ee.hasOwnProperty(et)&&(S===!1||S===!0&&I.hasOwnProperty(et))&&Tr(Ee[et])})(),(function(){var et;for(et in Oe)Oe.hasOwnProperty(et)&&Fr(Oe[et])})(),(function(){for(var et in Wi)Wi.hasOwnProperty(et)&&Zs(Wi[et])})(),(function(et){var ht;for(ht in Ae)Ae.hasOwnProperty(ht)&&(Ae[ht]instanceof Ku?Br(Ae[ht]):Ae[ht]instanceof ah&&cr(Ae[ht],et))})(_),an.publish("putResources"),_.forEach(is),is({resourcesOid:Dn,objectOid:Number.MAX_SAFE_INTEGER}),an.publish("postPutResources"),b!==null&&(ri.oid=Fn(),M("<<"),M("/Filter /Standard"),M("/V "+ri.v),M("/R "+ri.r),M("/U <"+ri.toHexString(ri.U)+">"),M("/O <"+ri.toHexString(ri.O)+">"),M("/P "+ri.P),M(">>"),M("endobj")),zr(),Zi();var j=Ct;return ta(),yi(),M("startxref"),M(""+j),M("%%EOF"),oe(Xt[$]),Rt.join(`
`)},yn=w.__private__.getBlob=function(_){return new Blob([ce(_)],{type:"application/pdf"})},ya=w.output=w.__private__.output=(xr=function(_,j){switch(typeof(j=j||{})=="string"?j={filename:j}:j.filename=j.filename||"generated.pdf",_){case void 0:return ss();case"save":w.save(j.filename);break;case"arraybuffer":return ce(ss());case"blob":return yn(ss());case"bloburi":case"bloburl":if(Ge.URL!==void 0&&typeof Ge.URL.createObjectURL=="function")return Ge.URL&&Ge.URL.createObjectURL(yn(ss()))||void 0;li.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var et="",ht=ss();try{et=Jb(ht)}catch{et=Jb(unescape(encodeURIComponent(ht)))}return"data:application/pdf;filename="+j.filename+";base64,"+et;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ge)==="[object Window]"){var bt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ft=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';j.pdfObjectUrl&&(bt=j.pdfObjectUrl,Ft="");var Kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+bt+'"'+Ft+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(j)+");<\/script></body></html>",le=Ge.open();return le!==null&&le.document.write(Kt),le}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ge)==="[object Window]"){var de='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(j.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+j.filename+'" width="500px" height="400px" /></body></html>',Le=Ge.open();if(Le!==null){Le.document.write(de);var xe=this;Le.document.documentElement.querySelector("#pdfViewer").onload=function(){Le.document.title=j.filename,Le.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(xe.output("bloburl"))}}return Le}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ge)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var fn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",j)+'"></iframe></body></html>',Wn=Ge.open();if(Wn!==null&&(Wn.document.write(fn),Wn.document.title=j.filename),Wn||typeof safari>"u")return Wn;break;case"datauri":case"dataurl":return Ge.document.location.href=this.output("datauristring",j);default:return null}},xr.foo=function(){try{return xr.apply(this,arguments)}catch(et){var _=et.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var j="Error in function "+_.split(`
`)[0].split("<")[0]+": "+et.message;if(!Ge.console)throw new Error(j);Ge.console.error(j,et),Ge.alert&&alert(j)}},xr.foo.bar=xr,xr.foo),xi=function(_){return Array.isArray(lr)===!0&&lr.indexOf(_)>-1};switch(r){case"pt":qe=1;break;case"mm":qe=72/25.4;break;case"cm":qe=72/2.54;break;case"in":qe=72;break;case"px":qe=xi("px_scaling")==1?.75:96/72;break;case"pc":case"em":qe=12;break;case"ex":qe=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);qe=r}var ri=null;W(),ft();var vi=w.__private__.getPageInfo=w.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ve[_].objId,pageNumber:_,pageContext:ve[_]}},Va=w.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var j in ve)if(ve[j].objId===_)break;return vi(j)},Dl=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:ve[$].objId,pageNumber:$,pageContext:ve[$]}};w.addPage=function(){return bs.apply(this,arguments),this},w.setPage=function(){return mo.apply(this,arguments),oe.call(this,Xt[$]),this},w.insertPage=function(_){return this.addPage(),this.movePage($,_),this},w.movePage=function(_,j){var et,ht;if(_>j){et=Xt[_],ht=ve[_];for(var bt=_;bt>j;bt--)Xt[bt]=Xt[bt-1],ve[bt]=ve[bt-1];Xt[j]=et,ve[j]=ht,this.setPage(j)}else if(_<j){et=Xt[_],ht=ve[_];for(var Ft=_;Ft<j;Ft++)Xt[Ft]=Xt[Ft+1],ve[Ft]=ve[Ft+1];Xt[j]=et,ve[j]=ht,this.setPage(j)}return this},w.deletePage=function(){return Ua.apply(this,arguments),this},w.__private__.text=w.text=function(_,j,et,ht,bt){var Ft,Kt,le,de,Le,xe,fn,Wn,zn,p=(ht=ht||{}).scope||this;if(typeof _=="number"&&typeof j=="number"&&(typeof et=="string"||Array.isArray(et))){var x=et;et=j,j=_,_=x}if(arguments[3]instanceof Se==0?(le=arguments[4],de=arguments[5],Xn(fn=arguments[3])==="object"&&fn!==null||(typeof le=="string"&&(de=le,le=null),typeof fn=="string"&&(de=fn,fn=null),typeof fn=="number"&&(le=fn,fn=null),ht={flags:fn,angle:le,align:de})):(N("The transform parameter of text() with a Matrix value"),zn=bt),isNaN(j)||isNaN(et)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return p;var L,Q="",St=typeof ht.lineHeightFactor=="number"?ht.lineHeightFactor:ia,Lt=p.internal.scaleFactor;function Jt(Rn){return Rn=Rn.split("	").join(Array(ht.TabLen||9).join(" ")),Nr(Rn,fn)}function ze(Rn){for(var Sn,Zn=Rn.concat(),Ni=[],Ia=Zn.length;Ia--;)typeof(Sn=Zn.shift())=="string"?Ni.push(Sn):Array.isArray(Rn)&&(Sn.length===1||Sn[1]===void 0&&Sn[2]===void 0)?Ni.push(Sn[0]):Ni.push([Sn[0],Sn[1],Sn[2]]);return Ni}function Jn(Rn,Sn){var Zn;if(typeof Rn=="string")Zn=Sn(Rn)[0];else if(Array.isArray(Rn)){for(var Ni,Ia,oa=Rn.concat(),il=[],Ru=oa.length;Ru--;)typeof(Ni=oa.shift())=="string"?il.push(Sn(Ni)[0]):Array.isArray(Ni)&&typeof Ni[0]=="string"&&(Ia=Sn(Ni[0],Ni[1],Ni[2]),il.push([Ia[0],Ia[1],Ia[2]]));Zn=il}return Zn}var ln=!1,Pn=!0;if(typeof _=="string")ln=!0;else if(Array.isArray(_)){var er=_.concat();Kt=[];for(var fr,Gn=er.length;Gn--;)(typeof(fr=er.shift())!="string"||Array.isArray(fr)&&typeof fr[0]!="string")&&(Pn=!1);ln=Pn}if(ln===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var dr=jt/p.internal.scaleFactor,Ss=dr*(St-1);switch(ht.baseline){case"bottom":et-=Ss;break;case"top":et+=dr-Ss;break;case"hanging":et+=dr-2*Ss;break;case"middle":et+=dr/2-Ss}if((xe=ht.maxWidth||0)>0&&(typeof _=="string"?_=p.splitTextToSize(_,xe):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(Rn,Sn){return Rn.concat(p.splitTextToSize(Sn,xe))},[]))),Ft={text:_,x:j,y:et,options:ht,mutex:{pdfEscape:Nr,activeFontKey:ge,fonts:Ee,activeFontSize:jt}},an.publish("preProcessText",Ft),_=Ft.text,le=(ht=Ft.options).angle,zn instanceof Se==0&&le&&typeof le=="number"){le*=Math.PI/180,ht.rotationDirection===0&&(le=-le),st===ot&&(le=-le);var Aa=Math.cos(le),Sa=Math.sin(le);zn=new Se(Aa,Sa,-Sa,Aa,0,0)}else le&&le instanceof Se&&(zn=le);st!==ot||zn||(zn=Vr),(Le=ht.charSpace||Hr)!==void 0&&(Q+=P(D(Le))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Wn=ht.horizontalScale)!==void 0&&(Q+=P(100*Wn)+` Tz
`),ht.lang;var Kr=-1,Ha=ht.renderingMode!==void 0?ht.renderingMode:ht.stroke,Ol=p.internal.getCurrentPageInfo().pageContext;switch(Ha){case 0:case!1:case"fill":Kr=0;break;case 1:case!0:case"stroke":Kr=1;break;case 2:case"fillThenStroke":Kr=2;break;case 3:case"invisible":Kr=3;break;case 4:case"fillAndAddForClipping":Kr=4;break;case 5:case"strokeAndAddPathForClipping":Kr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Kr=6;break;case 7:case"addToPathForClipping":Kr=7}var Cu=Ol.usedRenderingMode!==void 0?Ol.usedRenderingMode:-1;Kr!==-1?Q+=Kr+` Tr
`:Cu!==-1&&(Q+=`0 Tr
`),Kr!==-1&&(Ol.usedRenderingMode=Kr),de=ht.align||"left";var xs,sa=jt*St,Ga=p.internal.pageSize.getWidth(),Iu=Ee[ge];Le=ht.charSpace||Hr,xe=ht.maxWidth||0,fn=Object.assign({autoencode:!0,noBOM:!0},ht.flags);var aa=[],Ao=function(Rn){return p.getStringUnitWidth(Rn,{font:Iu,charSpace:Le,fontSize:jt,doKerning:!1})*jt/Lt};if(Object.prototype.toString.call(_)==="[object Array]"){var os;Kt=ze(_),de!=="left"&&(xs=Kt.map(Ao));var $r,xa=0;if(de==="right"){j-=xs[0],_=[],Gn=Kt.length;for(var Ea=0;Ea<Gn;Ea++)Ea===0?($r=Hi(j),os=Oi(et)):($r=D(xa-xs[Ea]),os=-sa),_.push([Kt[Ea],$r,os]),xa=xs[Ea]}else if(de==="center"){j-=xs[0]/2,_=[],Gn=Kt.length;for(var Ya=0;Ya<Gn;Ya++)Ya===0?($r=Hi(j),os=Oi(et)):($r=D((xa-xs[Ya])/2),os=-sa),_.push([Kt[Ya],$r,os]),xa=xs[Ya]}else if(de==="left"){_=[],Gn=Kt.length;for(var Pl=0;Pl<Gn;Pl++)_.push(Kt[Pl])}else if(de==="justify"&&Iu.encoding==="Identity-H"){_=[],Gn=Kt.length,xe=xe!==0?xe:Ga;for(var Ml=0,Ti=0;Ti<Gn;Ti++)if(os=Ti===0?Oi(et):-sa,$r=Ti===0?Hi(j):Ml,Ti<Gn-1){var pc=D((xe-xs[Ti])/(Kt[Ti].split(" ").length-1)),Ta=Kt[Ti].split(" ");_.push([Ta[0]+" ",$r,os]),Ml=0;for(var Na=1;Na<Ta.length;Na++){var pr=(Ao(Ta[Na-1]+" "+Ta[Na])-Ao(Ta[Na]))*Lt+pc;Na==Ta.length-1?_.push([Ta[Na],pr,0]):_.push([Ta[Na]+" ",pr,0]),Ml-=pr}}else _.push([Kt[Ti],$r,os]);_.push(["",Ml,0])}else{if(de!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],Gn=Kt.length,xe=xe!==0?xe:Ga,Ti=0;Ti<Gn;Ti++){os=Ti===0?Oi(et):-sa,$r=Ti===0?Hi(j):0;var Ka=Kt[Ti].split(" ").length-1,jl=Ka>0?(xe-xs[Ti])/Ka:0;Ti<Gn-1?aa.push(P(D(jl))):aa.push(0),_.push([Kt[Ti],$r,os])}}}(typeof ht.R2L=="boolean"?ht.R2L:Ne)===!0&&(_=Jn(_,function(Rn,Sn,Zn){return[Rn.split("").reverse().join(""),Sn,Zn]})),Ft={text:_,x:j,y:et,options:ht,mutex:{pdfEscape:Nr,activeFontKey:ge,fonts:Ee,activeFontSize:jt}},an.publish("postProcessText",Ft),_=Ft.text,L=Ft.mutex.isHex||!1;var Ul=Ee[ge].encoding;Ul!=="WinAnsiEncoding"&&Ul!=="StandardEncoding"||(_=Jn(_,function(Rn,Sn,Zn){return[Jt(Rn),Sn,Zn]})),Kt=ze(_),_=[];for(var $a,Xa,Ca,nl=Array.isArray(Kt[0])?1:0,Es="",Qa=function(Rn,Sn,Zn){var Ni="";return Zn instanceof Se?(Zn=typeof ht.angle=="number"?Js(Zn,new Se(1,0,0,1,Rn,Sn)):Js(new Se(1,0,0,1,Rn,Sn),Zn),st===ot&&(Zn=Js(new Se(1,0,0,-1,0,0),Zn)),Ni=Zn.join(" ")+` Tm
`):Ni=P(Rn)+" "+P(Sn)+` Td
`,Ni},Rr=0;Rr<Kt.length;Rr++){switch(Es="",nl){case 1:Ca=(L?"<":"(")+Kt[Rr][0]+(L?">":")"),$a=parseFloat(Kt[Rr][1]),Xa=parseFloat(Kt[Rr][2]);break;case 0:Ca=(L?"<":"(")+Kt[Rr]+(L?">":")"),$a=Hi(j),Xa=Oi(et)}aa!==void 0&&aa[Rr]!==void 0&&(Es=aa[Rr]+` Tw
`),Rr===0?_.push(Es+Qa($a,Xa,zn)+Ca):nl===0?_.push(Es+Ca):nl===1&&_.push(Es+Qa($a,Xa,zn)+Ca)}_=nl===0?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var Os=`BT
/`;return Os+=ge+" "+jt+` Tf
`,Os+=P(jt*St)+` TL
`,Os+=ws+`
`,Os+=Q,Os+=_,M(Os+="ET"),I[ge]=!0,p};var Qo=w.__private__.clip=w.clip=function(_){return M(_==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return Qo("evenodd")},w.__private__.discardPath=w.discardPath=function(){return M("n"),this};var hr=w.__private__.isValidStyle=function(_){var j=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(j=!0),j};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(_){return hr(_)&&(m=_),this};var Wo=w.__private__.getStyle=w.getStyle=function(_){var j=m;switch(_){case"D":case"S":j="S";break;case"F":j="f";break;case"FD":case"DF":j="B";break;case"f":case"f*":case"B":case"B*":j=_}return j},ea=w.close=function(){return M("h"),this};w.stroke=function(){return M("S"),this},w.fill=function(_){return qi("f",_),this},w.fillEvenOdd=function(_){return qi("f*",_),this},w.fillStroke=function(_){return qi("B",_),this},w.fillStrokeEvenOdd=function(_){return qi("B*",_),this};var qi=function(_,j){Xn(j)==="object"?Zo(j,_):M(_)},va=function(_){_===null||st===ot&&_===void 0||(_=Wo(_),M(_))};function Jo(_,j,et,ht,bt){var Ft=new ah(j||this.boundingBox,et||this.xStep,ht||this.yStep,this.gState,bt||this.matrix);Ft.stream=this.stream;var Kt=_+"$$"+this.cloneIndex+++"$$";return Sr(Kt,Ft),Ft}var Zo=function(_,j){var et=In[_.key],ht=Ae[et];if(ht instanceof Ku)M("q"),M(yo(j)),ht.gState&&w.setGState(ht.gState),M(_.matrix.toString()+" cm"),M("/"+et+" sh"),M("Q");else if(ht instanceof ah){var bt=new Se(1,0,0,-1,0,As());_.matrix&&(bt=bt.multiply(_.matrix||Vr),et=Jo.call(ht,_.key,_.boundingBox,_.xStep,_.yStep,bt).id),M("q"),M("/Pattern cs"),M("/"+et+" scn"),ht.gState&&w.setGState(ht.gState),M(j),M("Q")}},yo=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},vo=w.moveTo=function(_,j){return M(P(D(_))+" "+P(rt(j))+" m"),this},na=w.lineTo=function(_,j){return M(P(D(_))+" "+P(rt(j))+" l"),this},Cr=w.curveTo=function(_,j,et,ht,bt,Ft){return M([P(D(_)),P(rt(j)),P(D(et)),P(rt(ht)),P(D(bt)),P(rt(Ft)),"c"].join(" ")),this};w.__private__.line=w.line=function(_,j,et,ht,bt){if(isNaN(_)||isNaN(j)||isNaN(et)||isNaN(ht)||!hr(bt))throw new Error("Invalid arguments passed to jsPDF.line");return st===lt?this.lines([[et-_,ht-j]],_,j,[1,1],bt||"S"):this.lines([[et-_,ht-j]],_,j,[1,1]).stroke()},w.__private__.lines=w.lines=function(_,j,et,ht,bt,Ft){var Kt,le,de,Le,xe,fn,Wn,zn,p,x,L,Q;if(typeof _=="number"&&(Q=et,et=j,j=_,_=Q),ht=ht||[1,1],Ft=Ft||!1,isNaN(j)||isNaN(et)||!Array.isArray(_)||!Array.isArray(ht)||!hr(bt)||typeof Ft!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(vo(j,et),Kt=ht[0],le=ht[1],Le=_.length,x=j,L=et,de=0;de<Le;de++)(xe=_[de]).length===2?(x=xe[0]*Kt+x,L=xe[1]*le+L,na(x,L)):(fn=xe[0]*Kt+x,Wn=xe[1]*le+L,zn=xe[2]*Kt+x,p=xe[3]*le+L,x=xe[4]*Kt+x,L=xe[5]*le+L,Cr(fn,Wn,zn,p,x,L));return Ft&&ea(),va(bt),this},w.path=function(_){for(var j=0;j<_.length;j++){var et=_[j],ht=et.c;switch(et.op){case"m":vo(ht[0],ht[1]);break;case"l":na(ht[0],ht[1]);break;case"c":Cr.apply(this,ht);break;case"h":ea()}}return this},w.__private__.rect=w.rect=function(_,j,et,ht,bt){if(isNaN(_)||isNaN(j)||isNaN(et)||isNaN(ht)||!hr(bt))throw new Error("Invalid arguments passed to jsPDF.rect");return st===lt&&(ht=-ht),M([P(D(_)),P(rt(j)),P(D(et)),P(D(ht)),"re"].join(" ")),va(bt),this},w.__private__.triangle=w.triangle=function(_,j,et,ht,bt,Ft,Kt){if(isNaN(_)||isNaN(j)||isNaN(et)||isNaN(ht)||isNaN(bt)||isNaN(Ft)||!hr(Kt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[et-_,ht-j],[bt-et,Ft-ht],[_-bt,j-Ft]],_,j,[1,1],Kt,!0),this},w.__private__.roundedRect=w.roundedRect=function(_,j,et,ht,bt,Ft,Kt){if(isNaN(_)||isNaN(j)||isNaN(et)||isNaN(ht)||isNaN(bt)||isNaN(Ft)||!hr(Kt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var le=4/3*(Math.SQRT2-1);return bt=Math.min(bt,.5*et),Ft=Math.min(Ft,.5*ht),this.lines([[et-2*bt,0],[bt*le,0,bt,Ft-Ft*le,bt,Ft],[0,ht-2*Ft],[0,Ft*le,-bt*le,Ft,-bt,Ft],[2*bt-et,0],[-bt*le,0,-bt,-Ft*le,-bt,-Ft],[0,2*Ft-ht],[0,-Ft*le,bt*le,-Ft,bt,-Ft]],_+bt,j,[1,1],Kt,!0),this},w.__private__.ellipse=w.ellipse=function(_,j,et,ht,bt){if(isNaN(_)||isNaN(j)||isNaN(et)||isNaN(ht)||!hr(bt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ft=4/3*(Math.SQRT2-1)*et,Kt=4/3*(Math.SQRT2-1)*ht;return vo(_+et,j),Cr(_+et,j-Kt,_+Ft,j-ht,_,j-ht),Cr(_-Ft,j-ht,_-et,j-Kt,_-et,j),Cr(_-et,j+Kt,_-Ft,j+ht,_,j+ht),Cr(_+Ft,j+ht,_+et,j+Kt,_+et,j),va(bt),this},w.__private__.circle=w.circle=function(_,j,et,ht){if(isNaN(_)||isNaN(j)||isNaN(et)||!hr(ht))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,j,et,et,ht)},w.setFont=function(_,j,et){return et&&(j=z(j,et)),ge=Xo(_,j,{disableWarning:!1}),this};var _s=w.__private__.getFont=w.getFont=function(){return Ee[Xo.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var _,j,et={};for(_ in Me)if(Me.hasOwnProperty(_))for(j in et[_]=[],Me[_])Me[_].hasOwnProperty(j)&&et[_].push(j);return et},w.addFont=function(_,j,et,ht,bt){var Ft=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ft.indexOf(arguments[3])!==-1?bt=arguments[3]:arguments[3]&&Ft.indexOf(arguments[3])==-1&&(et=z(et,ht)),po.call(this,_,j,et,bt=bt||"Identity-H")};var ia,Ir=n.lineWidth||.200025,ba=w.__private__.getLineWidth=w.getLineWidth=function(){return Ir},Ce=w.__private__.setLineWidth=w.setLineWidth=function(_){return Ir=_,M(P(D(_))+" w"),this};w.__private__.setLineDash=Te.API.setLineDash=Te.API.setLineDashPattern=function(_,j){if(_=_||[],j=j||0,isNaN(j)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(et){return P(D(et))}).join(" "),j=P(D(j)),M("["+_+"] "+j+" d"),this};var Ba=w.__private__.getLineHeight=w.getLineHeight=function(){return jt*ia};w.__private__.getLineHeight=w.getLineHeight=function(){return jt*ia};var bo=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(ia=_),this},_a=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return ia};bo(n.lineHeight);var Hi=w.__private__.getHorizontalCoordinate=function(_){return D(_)},Oi=w.__private__.getVerticalCoordinate=function(_){return st===ot?_:ve[$].mediaBox.topRightY-ve[$].mediaBox.bottomLeftY-D(_)},Fa=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(_){return P(Hi(_))},On=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(_){return P(Oi(_))},qr=n.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return Hn(qr)},w.__private__.setStrokeColor=w.setDrawColor=function(_,j,et,ht){return qr=Di({ch1:_,ch2:j,ch3:et,ch4:ht,pdfColorType:"draw",precision:2}),M(qr),this};var za=n.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return Hn(za)},w.__private__.setFillColor=w.setFillColor=function(_,j,et,ht){return za=Di({ch1:_,ch2:j,ch3:et,ch4:ht,pdfColorType:"fill",precision:2}),M(za),this};var ws=n.textColor||"0 g",tl=w.__private__.getTextColor=w.getTextColor=function(){return Hn(ws)};w.__private__.setTextColor=w.setTextColor=function(_,j,et,ht){return ws=Di({ch1:_,ch2:j,ch3:et,ch4:ht,pdfColorType:"text",precision:3}),this};var Hr=n.charSpace,ra=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(Hr||0)};w.__private__.setCharSpace=w.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Hr=_,this};var Gr=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(_){var j=w.CapJoinStyles[_];if(j===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Gr=j,M(j+" J"),this};var Ei=0;w.__private__.setLineJoin=w.setLineJoin=function(_){var j=w.CapJoinStyles[_];if(j===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ei=j,M(j+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return M(P(D(_))+" M"),this},w.GState=$p,w.setGState=function(_){(_=typeof _=="string"?Oe[Pe[_]]:Is(null,_)).equals(kn)||(M("/"+_.id+" gs"),kn=_)};var Is=function(_,j){if(!_||!Pe[_]){var et=!1;for(var ht in Oe)if(Oe.hasOwnProperty(ht)&&Oe[ht].equals(j)){et=!0;break}if(et)j=Oe[ht];else{var bt="GS"+(Object.keys(Oe).length+1).toString(10);Oe[bt]=j,j.id=bt}return _&&(Pe[_]=j.id),an.publish("addGState",j),j}};w.addGState=function(_,j){return Is(_,j),this},w.saveGraphicsState=function(){return M("q"),$e.push({key:ge,size:jt,color:ws}),this},w.restoreGraphicsState=function(){M("Q");var _=$e.pop();return ge=_.key,jt=_.size,ws=_.color,kn=null,this},w.setCurrentTransformationMatrix=function(_){return M(_.toString()+" cm"),this},w.comment=function(_){return M("#"+_),this};var tr=function(_,j){var et=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return et},set:function(Ft){isNaN(Ft)||(et=parseFloat(Ft))}});var ht=j||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ht},set:function(Ft){isNaN(Ft)||(ht=parseFloat(Ft))}});var bt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return bt},set:function(Ft){bt=Ft.toString()}}),this},Rs=function(_,j,et,ht){tr.call(this,_,j),this.type="rect";var bt=et||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return bt},set:function(Kt){isNaN(Kt)||(bt=parseFloat(Kt))}});var Ft=ht||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ft},set:function(Kt){isNaN(Kt)||(Ft=parseFloat(Kt))}}),this},wa=function(){this.page=we,this.currentPage=$,this.pages=Xt.slice(0),this.pagesContext=ve.slice(0),this.x=ye,this.y=ui,this.matrix=Qe,this.width=as($),this.height=_o($),this.outputDestination=ee,this.id="",this.objectNumber=-1};wa.prototype.restore=function(){we=this.page,$=this.currentPage,ve=this.pagesContext,Xt=this.pages,ye=this.x,ui=this.y,Qe=this.matrix,qa($,this.width),Yr($,this.height),ee=this.outputDestination};var Ls=function(_,j,et,ht,bt){zi.push(new wa),we=$=0,Xt=[],ye=_,ui=j,Qe=bt,rs([et,ht])};for(var ks in w.beginFormObject=function(_,j,et,ht,bt){return Ls(_,j,et,ht,bt),this},w.endFormObject=function(_){return(function(j){if(Cs[j])zi.pop().restore();else{var et=new wa,ht="Xo"+(Object.keys(Wi).length+1).toString(10);et.id=ht,Cs[j]=ht,Wi[ht]=et,an.publish("addFormObject",et),zi.pop().restore()}})(_),this},w.doFormObject=function(_,j){var et=Wi[Cs[_]];return M("q"),M(j.toString()+" cm"),M("/"+et.id+" Do"),M("Q"),this},w.getFormObject=function(_){var j=Wi[Cs[_]];return{x:j.x,y:j.y,width:j.width,height:j.height,matrix:j.matrix}},w.save=function(_,j){return _=_||"generated.pdf",(j=j||{}).returnPromise=j.returnPromise||!1,j.returnPromise===!1?(Yu(yn(ss()),_),typeof Yu.unload=="function"&&Ge.setTimeout&&setTimeout(Yu.unload,911),this):new Promise(function(et,ht){try{var bt=Yu(yn(ss()),_);typeof Yu.unload=="function"&&Ge.setTimeout&&setTimeout(Yu.unload,911),et(bt)}catch(Ft){ht(Ft.message)}})},Te.API)Te.API.hasOwnProperty(ks)&&(ks==="events"&&Te.API.events.length?(function(_,j){var et,ht,bt;for(bt=j.length-1;bt!==-1;bt--)et=j[bt][0],ht=j[bt][1],_.subscribe.apply(_,[et].concat(typeof ht=="function"?[ht]:ht))})(an,Te.API.events):w[ks]=Te.API[ks]);function as(_){return ve[_].mediaBox.topRightX-ve[_].mediaBox.bottomLeftX}function qa(_,j){ve[_].mediaBox.topRightX=j+ve[_].mediaBox.bottomLeftX}function _o(_){return ve[_].mediaBox.topRightY-ve[_].mediaBox.bottomLeftY}function Yr(_,j){ve[_].mediaBox.topRightY=j+ve[_].mediaBox.bottomLeftY}var Ds=w.getPageWidth=function(_){return as(_=_||$)/qe},el=w.setPageWidth=function(_,j){qa(_,j*qe)},As=w.getPageHeight=function(_){return _o(_=_||$)/qe},wo=w.setPageHeight=function(_,j){Yr(_,j*qe)};return w.internal={pdfEscape:Nr,getStyle:Wo,getFont:_s,getFontSize:re,getCharSpace:ra,getTextColor:tl,getLineHeight:Ba,getLineHeightFactor:_a,getLineWidth:ba,write:Vt,getHorizontalCoordinate:Hi,getVerticalCoordinate:Oi,getCoordinateString:Fa,getVerticalCoordinateString:On,collections:{},newObject:Fn,newAdditionalObject:ur,newObjectDeferred:Qn,newObjectDeferredBegin:ki,getFilters:Er,putStream:ns,events:an,scaleFactor:qe,pageSize:{getWidth:function(){return Ds($)},setWidth:function(_){el($,_)},getHeight:function(){return As($)},setHeight:function(_){wo($,_)}},encryptionOptions:b,encryption:ri,getEncryptor:function(_){return b!==null?ri.encryptor(_,0):function(j){return j}},output:ya,getNumberOfPages:go,get pages(){return Xt},out:M,f2:E,f3:R,getPageInfo:vi,getPageInfoByObjId:Va,getCurrentPageInfo:Dl,getPDFVersion:H,Point:tr,Rectangle:Rs,Matrix:Se,hasHotfix:xi},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return Ds($)},set:function(_){el($,_)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return As($)},set:function(_){wo($,_)},enumerable:!0,configurable:!0}),(function(_){for(var j=0,et=ie.length;j<et;j++){var ht=po.call(this,_[j][0],_[j][1],_[j][2],ie[j][3],!0);S===!1&&(I[ht]=!0);var bt=_[j][0].split("-");ci({id:ht,fontName:bt[0],fontStyle:bt[1]||""})}an.publish("addFonts",{fonts:Ee,dictionary:Me})}).call(w,ie),ge="F1",bs(a,e),an.publish("initialized"),w}ih.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},ih.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ih.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},ih.prototype.processOwnerPassword=function(n,t){return W1(Q1(t).substr(0,5),n)},ih.prototype.encryptor=function(n,t){var e=Q1(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return W1(e,r)}},$p.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||Xn(n)!==Xn(this))return!1;var r=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;r++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&r--;return r===0},Te.API={events:[]},Te.version="3.0.4";var Fi=Te.API,W0=1,dc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wc=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},en=function(n){return n.toFixed(2)},cu=function(n){return n.toFixed(5)};Fi.__acroform__={};var Ws=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},n_=function(n){return n*W0},jo=function(n){var t=new j3,e=me.internal.getHeight(n)||0,r=me.internal.getWidth(n)||0;return t.BBox=[0,0,Number(en(r)),Number(en(e))],t},uL=Fi.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<t},cL=Fi.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<t)},hL=Fi.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<t?1:0},$i=Fi.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return hL(n,t-1)},Xi=Fi.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return uL(n,t-1)},Qi=Fi.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return cL(n,t-1)},fL=Fi.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,a=n[0],o=n[1],c=n[2],h=n[3],d={};return d.lowerLeft_X=e(a)||0,d.lowerLeft_Y=r(o+h)||0,d.upperRight_X=e(a+c)||0,d.upperRight_Y=r(o)||0,[Number(en(d.lowerLeft_X)),Number(en(d.lowerLeft_Y)),Number(en(d.upperRight_X)),Number(en(d.upperRight_Y))]},dL=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,r=J1(n,e),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+a+" "+en(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=jo(n);return o.scope=n.scope,o.stream=t.join(`
`),o}},J1=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=n.multiline?a.map(function(E){return E.split(`
`)}):a.map(function(E){return[E]});var o=e,c=me.internal.getHeight(n)||0;c=c<0?-c:c;var h=me.internal.getWidth(n)||0;h=h<0?-h:h;var d=function(E,R,D){if(E+1<a.length){var rt=R+" "+a[E+1][0];return rp(rt,n,D).width<=h-4}return!1};o++;t:for(;o>0;){t="",o--;var m,b,S=rp("3",n,o).height,I=n.multiline?c-o:(c-S)/2,w=I+=2,Y=0,H=0,K=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+rp(t,n,o=12).width+", FieldWidth:"+h+`
`;break}for(var q="",lt=0,ot=0;ot<a.length;ot++)if(a.hasOwnProperty(ot)){var st=!1;if(a[ot].length!==1&&K!==a[ot].length-1){if((S+2)*(lt+2)+2>c)continue t;q+=a[ot][K],st=!0,H=ot,ot--}else{q=(q+=a[ot][K]+" ").substr(q.length-1)==" "?q.substr(0,q.length-1):q;var At=parseInt(ot),kt=d(At,q,o),z=ot>=a.length-1;if(kt&&!z){q+=" ",K=0;continue}if(kt||z){if(z)H=At;else if(n.multiline&&(S+2)*(lt+2)+2>c)continue t}else{if(!n.multiline||(S+2)*(lt+2)+2>c)continue t;H=At}}for(var P="",N=Y;N<=H;N++){var V=a[N];if(n.multiline){if(N===H){P+=V[K]+" ",K=(K+1)%V.length;continue}if(N===Y){P+=V[V.length-1]+" ";continue}}P+=V[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,b=rp(P,n,o).width,n.textAlign){case"right":m=h-b-2;break;case"center":m=(h-b)/2;break;default:m=2}t+=en(m)+" "+en(w)+` Td
`,t+="("+dc(P)+`) Tj
`,t+=-en(m)+` 0 Td
`,w=-(o+2),b=0,Y=st?H:H+1,lt++,q=""}break}return r.text=t,r.fontSize=o,r},rp=function(n,t,e){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:a}},pL={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},mL=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===e.type&&r.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},gL=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(ho.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(pL)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");W0=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new U3,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];o.objId=void 0,o.hasAnnotation&&mL(o,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(r,a){var o=!r;for(var c in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(c)){var h=r[c],d=[],m=h.Rect;if(h.Rect&&(h.Rect=fL(h.Rect,a)),a.internal.newObjectDeferredBegin(h.objId,!0),h.DA=me.createDefaultAppearanceStream(h),Xn(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(d=h.getKeyValueListForStream()),h.Rect=m,h.hasAppearanceStream&&!h.appearanceStreamContent){var b=dL(h);d.push({key:"AP",value:"<</N "+b+">>"}),a.internal.acroformPlugin.xForms.push(b)}if(h.appearanceStreamContent){var S="";for(var I in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(I)){var w=h.appearanceStreamContent[I];if(S+="/"+I+" ",S+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var c in w)if(w.hasOwnProperty(c)){var Y=w[c];typeof Y=="function"&&(Y=Y.call(a,h)),S+="/"+c+" "+Y+" ",a.internal.acroformPlugin.xForms.indexOf(Y)>=0||a.internal.acroformPlugin.xForms.push(Y)}}else typeof(Y=w)=="function"&&(Y=Y.call(a,h)),S+="/"+c+" "+Y,a.internal.acroformPlugin.xForms.indexOf(Y)>=0||a.internal.acroformPlugin.xForms.push(Y);S+=">>"}d.push({key:"AP",value:`<<
`+S+">>"})}a.internal.putStream({additionalKeyValues:d,objectId:h.objId}),a.internal.out("endobj")}o&&(function(H,K){for(var q in H)if(H.hasOwnProperty(q)){var lt=q,ot=H[q];K.internal.newObjectDeferredBegin(ot.objId,!0),Xn(ot)==="object"&&typeof ot.putStream=="function"&&ot.putStream(),delete H[lt]}})(a.internal.acroformPlugin.xForms,a)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},M3=Fi.__acroform__.arrayToPdfArray=function(n,t,e){var r=function(c){return c};if(Array.isArray(n)){for(var a="[",o=0;o<n.length;o++)switch(o!==0&&(a+=" "),Xn(n[o])){case"boolean":case"number":case"object":a+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(t!==void 0&&e&&(r=e.internal.getEncryptor(t)),a+="("+dc(r(n[o].toString()))+")"):a+=n[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},c1=function(n,t,e){var r=function(a){return a};return t!==void 0&&e&&(r=e.internal.getEncryptor(t)),(n=n||"").toString(),"("+dc(r(n))+")"},Vo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Vo.prototype.toString=function(){return this.objId+" 0 R"},Vo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Vo.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var r=t[e],a=this[r];a&&(Array.isArray(a)?n.push({key:r,value:M3(a,this.objId,this.scope)}):a instanceof Vo?(a.scope=this.scope,n.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:r,value:a}))}return n};var j3=function(){Vo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};Ws(j3,Vo);var U3=function(){Vo.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(r){return r};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+dc(e(n))+")"}},set:function(e){n=e}})};Ws(U3,Vo);var ho=function n(){Vo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(q){if(isNaN(q))throw new Error('Invalid value "'+q+'" for attribute F supplied.');t=q}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!$i(t,3)},set:function(q){q?this.F=Xi(t,3):this.F=Qi(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(q){if(isNaN(q))throw new Error('Invalid value "'+q+'" for attribute Ff supplied.');e=q}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(q){r=q!==void 0?q:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(q){r[0]=q}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(q){r[1]=q}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(q){r[2]=q}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(q){r[3]=q}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(q){switch(q){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=q;break;default:throw new Error('Invalid value "'+q+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Xp)return;o="FieldObject"+n.FieldNum++}var q=function(lt){return lt};return this.scope&&(q=this.scope.internal.getEncryptor(this.objId)),"("+dc(q(o))+")"},set:function(q){o=q.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(q){o=q}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(q){c=q}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(q){h=q}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(q){d=q}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/W0:m},set:function(q){m=q}});var b="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return b},set:function(q){b=q}});var S="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!S||this instanceof Xp||this instanceof tc))return c1(S,this.objId,this.scope)},set:function(q){q=q.toString(),S=q}});var I=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(I)return this instanceof jr==0?c1(I,this.objId,this.scope):I},set:function(q){q=q.toString(),I=this instanceof jr==0?q.substr(0,1)==="("?Wc(q.substr(1,q.length-2)):Wc(q):q}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof jr==1?Wc(I.substr(1,I.length-1)):I},set:function(q){q=q.toString(),I=this instanceof jr==1?"/"+q:q}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(q){this.V=q}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof jr==0?c1(w,this.objId,this.scope):w},set:function(q){q=q.toString(),w=this instanceof jr==0?q.substr(0,1)==="("?Wc(q.substr(1,q.length-2)):Wc(q):q}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof jr==1?Wc(w.substr(1,w.length-1)):w},set:function(q){q=q.toString(),w=this instanceof jr==1?"/"+q:q}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var Y,H=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return H},set:function(q){q=!!q,H=q}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(Y)return Y},set:function(q){Y=q}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,1)},set:function(q){q?this.Ff=Xi(this.Ff,1):this.Ff=Qi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,2)},set:function(q){q?this.Ff=Xi(this.Ff,2):this.Ff=Qi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,3)},set:function(q){q?this.Ff=Xi(this.Ff,3):this.Ff=Qi(this.Ff,3)}});var K=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(K!==null)return K},set:function(q){if([0,1,2].indexOf(q)===-1)throw new Error('Invalid value "'+q+'" for attribute Q supplied.');K=q}}),Object.defineProperty(this,"textAlign",{get:function(){var q;switch(K){case 0:default:q="left";break;case 1:q="center";break;case 2:q="right"}return q},configurable:!0,enumerable:!0,set:function(q){switch(q){case"right":case 2:K=2;break;case"center":case 1:K=1;break;default:K=0}}})};Ws(ho,Vo);var ph=function(){ho.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return M3(t,this.objId,this.scope)},set:function(e){var r,a;a=[],typeof(r=e)=="string"&&(a=(function(o,c,h){h||(h=1);for(var d,m=[];d=c.exec(o);)m.push(d[h]);return m})(r,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,18)},set:function(e){e?this.Ff=Xi(this.Ff,18):this.Ff=Qi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Xi(this.Ff,19):this.Ff=Qi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,20)},set:function(e){e?(this.Ff=Xi(this.Ff,20),t.sort()):this.Ff=Qi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,22)},set:function(e){e?this.Ff=Xi(this.Ff,22):this.Ff=Qi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,23)},set:function(e){e?this.Ff=Xi(this.Ff,23):this.Ff=Qi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,27)},set:function(e){e?this.Ff=Xi(this.Ff,27):this.Ff=Qi(this.Ff,27)}}),this.hasAppearanceStream=!1};Ws(ph,ho);var mh=function(){ph.call(this),this.fontName="helvetica",this.combo=!1};Ws(mh,ph);var gh=function(){mh.call(this),this.combo=!0};Ws(gh,mh);var bp=function(){gh.call(this),this.edit=!0};Ws(bp,gh);var jr=function(){ho.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,15)},set:function(e){e?this.Ff=Xi(this.Ff,15):this.Ff=Qi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,16)},set:function(e){e?this.Ff=Xi(this.Ff,16):this.Ff=Qi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,17)},set:function(e){e?this.Ff=Xi(this.Ff,17):this.Ff=Qi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,26)},set:function(e){e?this.Ff=Xi(this.Ff,26):this.Ff=Qi(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(o){return o};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,a=[];for(r in a.push("<<"),t)a.push("/"+r+" ("+dc(e(t[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(e){Xn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};Ws(jr,ho);var _p=function(){jr.call(this),this.pushButton=!0};Ws(_p,jr);var yh=function(){jr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};Ws(yh,jr);var Xp=function(){var n,t;ho.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(h){return h};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),r)c.push("/"+o+" ("+dc(a(r[o]))+")");return c.push(">>"),c.join(`
`)},set:function(a){Xn(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(a){e="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=me.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ws(Xp,ho),yh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},yh.prototype.createOption=function(n){var t=new Xp;return t.Parent=this,t.optionName=n,this.Kids.push(t),yL.call(this.scope,t),t};var wp=function(){jr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=me.CheckBox.createAppearanceStream()};Ws(wp,jr);var tc=function(){ho.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,13)},set:function(t){t?this.Ff=Xi(this.Ff,13):this.Ff=Qi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,21)},set:function(t){t?this.Ff=Xi(this.Ff,21):this.Ff=Qi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,23)},set:function(t){t?this.Ff=Xi(this.Ff,23):this.Ff=Qi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,24)},set:function(t){t?this.Ff=Xi(this.Ff,24):this.Ff=Qi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,25)},set:function(t){t?this.Ff=Xi(this.Ff,25):this.Ff=Qi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,26)},set:function(t){t?this.Ff=Xi(this.Ff,26):this.Ff=Qi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ws(tc,ho);var Ap=function(){tc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,14)},set:function(n){n?this.Ff=Xi(this.Ff,14):this.Ff=Qi(this.Ff,14)}}),this.password=!0};Ws(Ap,tc);var me={CheckBox:{createAppearanceStream:function(){return{N:{On:me.CheckBox.YesNormal},D:{On:me.CheckBox.YesPushDown,Off:me.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=jo(n);t.scope=n.scope;var e=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),o=J1(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+en(me.internal.getWidth(n))+" "+en(me.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+r+" "+en(o.fontSize)+" Tf "+a),e.push("BT"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=jo(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),a=[],o=me.internal.getHeight(n),c=me.internal.getWidth(n),h=J1(n,n.caption);return a.push("1 g"),a.push("0 0 "+en(c)+" "+en(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+en(c-1)+" "+en(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+e+" "+en(h.fontSize)+" Tf "+r),a.push(h.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(n){var t=jo(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+en(me.internal.getWidth(n))+" "+en(me.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:me.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=me.RadioButton.Circle.YesNormal,t.D[n]=me.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=jo(n);t.scope=n.scope;var e=[],r=me.internal.getWidth(n)<=me.internal.getHeight(n)?me.internal.getWidth(n)/4:me.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=me.internal.Bezier_C,o=Number((r*a).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+cu(me.internal.getWidth(n)/2)+" "+cu(me.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=jo(n);t.scope=n.scope;var e=[],r=me.internal.getWidth(n)<=me.internal.getHeight(n)?me.internal.getWidth(n)/4:me.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*me.internal.Bezier_C).toFixed(5)),c=Number((r*me.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+cu(me.internal.getWidth(n)/2)+" "+cu(me.internal.getHeight(n)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),e.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),e.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),e.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+cu(me.internal.getWidth(n)/2)+" "+cu(me.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+c+" "+c+" "+r+" 0 "+r+" c"),e.push("-"+c+" "+r+" -"+r+" "+c+" -"+r+" 0 c"),e.push("-"+r+" -"+c+" -"+c+" -"+r+" 0 -"+r+" c"),e.push(c+" -"+r+" "+r+" -"+c+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=jo(n);t.scope=n.scope;var e=[],r=me.internal.getWidth(n)<=me.internal.getHeight(n)?me.internal.getWidth(n)/4:me.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*me.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+cu(me.internal.getWidth(n)/2)+" "+cu(me.internal.getHeight(n)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),e.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),e.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),e.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:me.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=me.RadioButton.Cross.YesNormal,t.D[n]=me.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=jo(n);t.scope=n.scope;var e=[],r=me.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+en(me.internal.getWidth(n)-2)+" "+en(me.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(en(r.x1.x)+" "+en(r.x1.y)+" m"),e.push(en(r.x2.x)+" "+en(r.x2.y)+" l"),e.push(en(r.x4.x)+" "+en(r.x4.y)+" m"),e.push(en(r.x3.x)+" "+en(r.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=jo(n);t.scope=n.scope;var e=me.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+en(me.internal.getWidth(n))+" "+en(me.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+en(me.internal.getWidth(n)-2)+" "+en(me.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(en(e.x1.x)+" "+en(e.x1.y)+" m"),r.push(en(e.x2.x)+" "+en(e.x2.y)+" l"),r.push(en(e.x4.x)+" "+en(e.x4.y)+" m"),r.push(en(e.x3.x)+" "+en(e.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(n){var t=jo(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+en(me.internal.getWidth(n))+" "+en(me.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};me.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=me.internal.getWidth(n),e=me.internal.getHeight(n),r=Math.min(t,e);return{x1:{x:(t-r)/2,y:(e-r)/2+r},x2:{x:(t-r)/2+r,y:(e-r)/2},x3:{x:(t-r)/2,y:(e-r)/2},x4:{x:(t-r)/2+r,y:(e-r)/2+r}}}},me.internal.getWidth=function(n){var t=0;return Xn(n)==="object"&&(t=n_(n.Rect[2])),t},me.internal.getHeight=function(n){var t=0;return Xn(n)==="object"&&(t=n_(n.Rect[3])),t};var yL=Fi.addField=function(n){if(gL(this,n),!(n instanceof ho))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Fi.AcroFormChoiceField=ph,Fi.AcroFormListBox=mh,Fi.AcroFormComboBox=gh,Fi.AcroFormEditBox=bp,Fi.AcroFormButton=jr,Fi.AcroFormPushButton=_p,Fi.AcroFormRadioButton=yh,Fi.AcroFormCheckBox=wp,Fi.AcroFormTextField=tc,Fi.AcroFormPasswordField=Ap,Fi.AcroFormAppearance=me,Fi.AcroForm={ChoiceField:ph,ListBox:mh,ComboBox:gh,EditBox:bp,Button:jr,PushButton:_p,RadioButton:yh,CheckBox:wp,TextField:tc,PasswordField:Ap,Appearance:me},Te.AcroForm={ChoiceField:ph,ListBox:mh,ComboBox:gh,EditBox:bp,Button:jr,PushButton:_p,RadioButton:yh,CheckBox:wp,TextField:tc,PasswordField:Ap,Appearance:me};Te.AcroForm;function V3(n){return n.reduce(function(t,e,r){return t[e]=r,t},{})}(function(n){var t="addImage_";n.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(E,R){var D,rt,_t,it,dt,ft=e;if((R=R||e)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(kt(E))for(dt in r)for(_t=r[dt],D=0;D<_t.length;D+=1){for(it=!0,rt=0;rt<_t[D].length;rt+=1)if(_t[D][rt]!==void 0&&_t[D][rt]!==E[rt]){it=!1;break}if(it===!0){ft=dt;break}}else for(dt in r)for(_t=r[dt],D=0;D<_t.length;D+=1){for(it=!0,rt=0;rt<_t[D].length;rt+=1)if(_t[D][rt]!==void 0&&_t[D][rt]!==E.charCodeAt(rt)){it=!1;break}if(it===!0){ft=dt;break}}return ft===e&&R!==e&&(ft=R),ft},o=function E(R){for(var D=this.internal.write,rt=this.internal.putStream,_t=(0,this.internal.getFilters)();_t.indexOf("FlateEncode")!==-1;)_t.splice(_t.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var it=[];if(it.push({key:"Type",value:"/XObject"}),it.push({key:"Subtype",value:"/Image"}),it.push({key:"Width",value:R.width}),it.push({key:"Height",value:R.height}),R.colorSpace===q.INDEXED?it.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(it.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===q.DEVICE_CMYK&&it.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),it.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&it.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)&&R.transparency.length>0){for(var dt="",ft=0,vt=R.transparency.length;ft<vt;ft++)dt+=R.transparency[ft]+" "+R.transparency[ft]+" ";it.push({key:"Mask",value:"["+dt+"]"})}R.sMask!==void 0&&it.push({key:"SMask",value:R.objectId+1+" 0 R"});var Mt=R.filter!==void 0?["/"+R.filter]:void 0;if(rt({data:R.data,additionalKeyValues:it,alreadyAppliedFilters:Mt,objectId:R.objectId}),D("endobj"),"sMask"in R&&R.sMask!==void 0){var W,k=(W=R.sMaskBitsPerComponent)!==null&&W!==void 0?W:R.bitsPerComponent,$={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:k,data:R.sMask};"filter"in R&&($.decodeParameters="/Predictor ".concat(R.predictor," /Colors 1 /BitsPerComponent ").concat(k," /Columns ").concat(R.width),$.filter=R.filter),E.call(this,$)}if(R.colorSpace===q.INDEXED){var Z=this.internal.newObject();rt({data:P(new Uint8Array(R.palette)),objectId:Z}),D("endobj")}},c=function(){var E=this.internal.collections[t+"images"];for(var R in E)o.call(this,E[R])},h=function(){var E,R=this.internal.collections[t+"images"],D=this.internal.write;for(var rt in R)D("/I"+(E=R[rt]).index,E.objectId,"0","R")},d=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",h))},m=function(){var E=this.internal.collections[t+"images"];return d.call(this),E},b=function(){return Object.keys(this.internal.collections[t+"images"]).length},S=function(E){return typeof n["process"+E.toUpperCase()]=="function"},I=function(E){return Xn(E)==="object"&&E.nodeType===1},w=function(E,R){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var D=""+E.getAttribute("src");if(D.indexOf("data:image/")===0)return vp(unescape(D).split("base64,").pop());var rt=n.loadFile(D,!0);if(rt!==void 0)return rt}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var _t;switch(R){case"PNG":_t="image/png";break;case"WEBP":_t="image/webp";break;default:_t="image/jpeg"}return vp(E.toDataURL(_t,1).split("base64,").pop())}},Y=function(E){var R=this.internal.collections[t+"images"];if(R){for(var D in R)if(E===R[D].alias)return R[D]}},H=function(E,R,D){return E||R||(E=-96,R=-96),E<0&&(E=-1*D.width*72/E/this.internal.scaleFactor),R<0&&(R=-1*D.height*72/R/this.internal.scaleFactor),E===0&&(E=R*D.width/D.height),R===0&&(R=E*D.height/D.width),[E,R]},K=function(E,R,D,rt,_t,it){var dt=H.call(this,D,rt,_t),ft=this.internal.getCoordinateString,vt=this.internal.getVerticalCoordinateString,Mt=m.call(this);if(D=dt[0],rt=dt[1],Mt[_t.index]=_t,it){it*=Math.PI/180;var W=Math.cos(it),k=Math.sin(it),$=function(at){return at.toFixed(4)},Z=[$(W),$(k),$(-1*k),$(W),0,0,"cm"]}this.internal.write("q"),it?(this.internal.write([1,"0","0",1,ft(E),vt(R+rt),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([ft(D),"0","0",ft(rt),"0","0","cm"].join(" "))):this.internal.write([ft(D),"0","0",ft(rt),ft(E),vt(R+rt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+_t.index+" Do"),this.internal.write("Q")},q=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var lt=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},ot=n.__addimage__.sHashCode=function(E){var R,D,rt=0;if(typeof E=="string")for(D=E.length,R=0;R<D;R++)rt=(rt<<5)-rt+E.charCodeAt(R),rt|=0;else if(kt(E))for(D=E.byteLength/2,R=0;R<D;R++)rt=(rt<<5)-rt+E[R],rt|=0;return rt},st=n.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var R=!0;return E.length===0&&(R=!1),E.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(R=!1),R},At=n.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var R=E.indexOf(",");return R<0?null:E.substring(0,R).trim().endsWith("base64")?E.substring(R+1):null};n.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var kt=n.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},z=n.__addimage__.binaryStringToUint8Array=function(E){for(var R=E.length,D=new Uint8Array(R),rt=0;rt<R;rt++)D[rt]=E.charCodeAt(rt);return D},P=n.__addimage__.arrayBufferToBinaryString=function(E){for(var R="",D=kt(E)?E:new Uint8Array(E),rt=0;rt<D.length;rt+=8192)R+=String.fromCharCode.apply(null,D.subarray(rt,rt+8192));return R};n.addImage=function(){var E,R,D,rt,_t,it,dt,ft,vt;if(typeof arguments[1]=="number"?(R=e,D=arguments[1],rt=arguments[2],_t=arguments[3],it=arguments[4],dt=arguments[5],ft=arguments[6],vt=arguments[7]):(R=arguments[1],D=arguments[2],rt=arguments[3],_t=arguments[4],it=arguments[5],dt=arguments[6],ft=arguments[7],vt=arguments[8]),Xn(E=arguments[0])==="object"&&!I(E)&&"imageData"in E){var Mt=E;E=Mt.imageData,R=Mt.format||R||e,D=Mt.x||D||0,rt=Mt.y||rt||0,_t=Mt.w||Mt.width||_t,it=Mt.h||Mt.height||it,dt=Mt.alias||dt,ft=Mt.compression||ft,vt=Mt.rotation||Mt.angle||vt}var W=this.internal.getFilters();if(ft===void 0&&W.indexOf("FlateEncode")!==-1&&(ft="SLOW"),isNaN(D)||isNaN(rt))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var k=N.call(this,E,R,dt,ft);return K.call(this,D,rt,_t,it,k,vt),this};var N=function(E,R,D,rt){var _t,it,dt;if(typeof E=="string"&&a(E)===e){E=unescape(E);var ft=V(E,!1);(ft!==""||(ft=n.loadFile(E,!0))!==void 0)&&(E=ft)}if(I(E)&&(E=w(E,R)),R=a(E,R),!S(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((dt=D)==null||dt.length===0)&&(D=(function(vt){return typeof vt=="string"||kt(vt)?ot(vt):kt(vt.data)?ot(vt.data):null})(E)),(_t=Y.call(this,D))||(E instanceof Uint8Array||R==="RGBA"||(it=E,E=z(E)),_t=this["process"+R.toUpperCase()](E,b.call(this),D,(function(vt){return vt&&typeof vt=="string"&&(vt=vt.toUpperCase()),vt in n.image_compression?vt:lt.NONE})(rt),it)),!_t)throw new Error("An unknown error occurred whilst processing the image.");return _t},V=n.__addimage__.convertBase64ToBinaryString=function(E,R){R=typeof R!="boolean"||R;var D,rt="";if(typeof E=="string"){var _t;D=(_t=At(E))!==null&&_t!==void 0?_t:E;try{rt=vp(D)}catch(it){if(R)throw st(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+it.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return rt};n.getImageProperties=function(E){var R,D,rt="";if(I(E)&&(E=w(E)),typeof E=="string"&&a(E)===e&&((rt=V(E,!1))===""&&(rt=n.loadFile(E)||""),E=rt),D=a(E),!S(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(E instanceof Uint8Array||(E=z(E)),!(R=this["process"+D.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=D,R}})(Te.API),(function(n){var t=function(e){if(e!==void 0&&e!="")return!0};Te.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var r,a,o,c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(e.objId),m=e.pageContext.annotations,b=!1,S=0;S<m.length&&!b;S++)switch((r=m[S]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(b=!0);break;case"reference":case"text":case"freetext":b=!0}if(b!=0){this.internal.write("/Annots [");for(var I=0;I<m.length;I++){r=m[I];var w=this.internal.pdfEscape,Y=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var H=this.internal.newAdditionalObject(),K=this.internal.newAdditionalObject(),q=this.internal.getEncryptor(H.objId),lt=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+c(r.bounds.x)+" "+h(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y)+"] ")+"/Contents ("+w(q(r.contents))+")",o+=" /Popup "+K.objId+" 0 R",o+=" /P "+d.objId+" 0 R",o+=" /T ("+w(q(lt))+") >>",H.content=o;var ot=H.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+c(r.bounds.x+30)+" "+h(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w+30)+" "+h(r.bounds.y)+"] ")+" /Parent "+ot,r.open&&(o+=" /Open true"),o+=" >>",K.content=o,this.internal.write(H.objId,"0 R",K.objId,"0 R");break;case"freetext":a="/Rect ["+c(r.bounds.x)+" "+h(r.bounds.y)+" "+c(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y+r.bounds.h)+"] ";var st=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+w(Y(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+st+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var At=this.annotations._nameMap[r.options.name];r.options.pageNumber=At.page,r.options.top=At.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+w(Y(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var kt=h(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+kt+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var r=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":r.pageContext.annotations.push(e)}},n.link=function(e,r,a,o,c){var h=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:d(e),y:m(r),w:d(e+a),h:m(r+o)},options:c,type:"link"})},n.textWithLink=function(e,r,a,o){var c,h,d=this.getTextWidth(e),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){h=o.maxWidth;var b=this.splitTextToSize(e,h).length;c=Math.ceil(m*b)}else h=d,c=m;return this.text(e,r,a,o),a+=.2*m,o.align==="center"&&(r-=d/2),o.align==="right"&&(r-=d),this.link(r,a-m,h,c,o),d},n.getTextWidth=function(e){var r=this.internal.getFontSize();return this.getStringUnitWidth(e)*r/this.internal.scaleFactor}})(Te.API),(function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(H){return t[H.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(H){return typeof H=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(H)},h=n.__arabicParser__.isArabicEndLetter=function(H){return c(H)&&o(H)&&t[H.charCodeAt(0)].length<=2},d=n.__arabicParser__.isArabicAlfLetter=function(H){return c(H)&&a.indexOf(H.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(H){return c(H)&&o(H)&&t[H.charCodeAt(0)].length>=1};var m=n.__arabicParser__.arabicLetterHasFinalForm=function(H){return c(H)&&o(H)&&t[H.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(H){return c(H)&&o(H)&&t[H.charCodeAt(0)].length>=3};var b=n.__arabicParser__.arabicLetterHasMedialForm=function(H){return c(H)&&o(H)&&t[H.charCodeAt(0)].length==4},S=n.__arabicParser__.resolveLigatures=function(H){var K=0,q=e,lt="",ot=0;for(K=0;K<H.length;K+=1)q[H.charCodeAt(K)]!==void 0?(ot++,typeof(q=q[H.charCodeAt(K)])=="number"&&(lt+=String.fromCharCode(q),q=e,ot=0),K===H.length-1&&(q=e,lt+=H.charAt(K-(ot-1)),K-=ot-1,ot=0)):(q=e,lt+=H.charAt(K-ot),K-=ot,ot=0);return lt};n.__arabicParser__.isArabicDiacritic=function(H){return H!==void 0&&r[H.charCodeAt(0)]!==void 0};var I=n.__arabicParser__.getCorrectForm=function(H,K,q){return c(H)?o(H)===!1?-1:!m(H)||!c(K)&&!c(q)||!c(q)&&h(K)||h(H)&&!c(K)||h(H)&&d(K)||h(H)&&h(K)?0:b(H)&&c(K)&&!h(K)&&c(q)&&m(q)?3:h(H)||!c(q)?1:2:-1},w=function(H){var K=0,q=0,lt=0,ot="",st="",At="",kt=(H=H||"").split("\\s+"),z=[];for(K=0;K<kt.length;K+=1){for(z.push(""),q=0;q<kt[K].length;q+=1)ot=kt[K][q],st=kt[K][q-1],At=kt[K][q+1],c(ot)?(lt=I(ot,st,At),z[K]+=lt!==-1?String.fromCharCode(t[ot.charCodeAt(0)][lt]):ot):z[K]+=ot;z[K]=S(z[K])}return z.join(" ")},Y=n.__arabicParser__.processArabic=n.processArabic=function(){var H,K=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,q=[];if(Array.isArray(K)){var lt=0;for(q=[],lt=0;lt<K.length;lt+=1)Array.isArray(K[lt])?q.push([w(K[lt][0]),K[lt][1],K[lt][2]]):q.push([w(K[lt])]);H=q}else H=w(K);return typeof arguments[0]=="string"?H:(arguments[0].text=H,arguments[0])};n.events.push(["preProcessText",Y])})(Te.API),Te.API.autoPrint=function(n){var t;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(h){e=h}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(h){r=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(h){a=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(h){o=h}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(h){c=h}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,r){var a;if((e=e||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Te.API),(function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(H){d=H}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(H){m=H}});var b=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return b},set:function(H){b=H}});var S=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return S},set:function(H){S=H}});var I=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return I},set:function(H){I=H}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(H){w=H}});var Y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return Y},set:function(H){Y=H}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(d){return r.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},n.getTextDimensions=function(d,m){r.call(this);var b=(m=m||{}).fontSize||this.getFontSize(),S=m.font||this.getFont(),I=m.scaleFactor||this.internal.scaleFactor,w=0,Y=0,H=0,K=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var q=m.maxWidth;q>0?typeof d=="string"?d=this.splitTextToSize(d,q):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(ot,st){return ot.concat(K.splitTextToSize(st,q))},[])):d=Array.isArray(d)?d:[d];for(var lt=0;lt<d.length;lt++)w<(H=this.getStringUnitWidth(d[lt],{font:S})*b)&&(w=H);return w!==0&&(Y=d.length),{w:w/=I,h:Math.max((Y*b*this.getLineHeightFactor()-b*(this.getLineHeightFactor()-1))/I,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var d=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var d;d=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var m=this.internal.__cell__.lastCell,b=this.internal.__cell__.padding,S=this.internal.__cell__.margins||t,I=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===d.lineNumber?(d.x=(m.x||0)+(m.width||0),d.y=m.y||0):m.y+m.height+d.height+S.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=S.top,w&&I&&(this.printHeaderRow(d.lineNumber,!0),d.y+=I[0].height)):d.y=m.y+m.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,e===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-b,d.y+b,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+b,{align:"center",baseline:"top",maxWidth:d.width-b-b}):this.text(d.text,d.x+b,d.y+b,{align:"left",baseline:"top",maxWidth:d.width-b-b})),this.internal.__cell__.lastCell=d,this};n.table=function(d,m,b,S,I){if(r.call(this),!b)throw new Error("No data for PDF table.");var w,Y,H,K,q=[],lt=[],ot=[],st={},At={},kt=[],z=[],P=(I=I||{}).autoSize||!1,N=I.printHeaders!==!1,V=I.css&&I.css["font-size"]!==void 0?16*I.css["font-size"]:I.fontSize||12,E=I.margins||Object.assign({width:this.getPageWidth()},t),R=typeof I.padding=="number"?I.padding:3,D=I.headerBackgroundColor||"#c8c8c8",rt=I.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=V,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=rt,this.setFontSize(V),S==null)lt=q=Object.keys(b[0]),ot=q.map(function(){return"left"});else if(Array.isArray(S)&&Xn(S[0])==="object")for(q=S.map(function(Mt){return Mt.name}),lt=S.map(function(Mt){return Mt.prompt||Mt.name||""}),ot=S.map(function(Mt){return Mt.align||"left"}),w=0;w<S.length;w+=1)At[S[w].name]=.7499990551181103*S[w].width;else Array.isArray(S)&&typeof S[0]=="string"&&(lt=q=S,ot=q.map(function(){return"left"}));if(P||Array.isArray(S)&&typeof S[0]=="string")for(w=0;w<q.length;w+=1){for(st[K=q[w]]=b.map(function(Mt){return Mt[K]}),this.setFont(void 0,"bold"),kt.push(this.getTextDimensions(lt[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),Y=st[K],this.setFont(void 0,"normal"),H=0;H<Y.length;H+=1)kt.push(this.getTextDimensions(Y[H],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);At[K]=Math.max.apply(null,kt)+R+R,kt=[]}if(N){var _t={};for(w=0;w<q.length;w+=1)_t[q[w]]={},_t[q[w]].text=lt[w],_t[q[w]].align=ot[w];var it=h.call(this,_t,At);z=q.map(function(Mt){return new o(d,m,At[Mt],it,_t[Mt].text,void 0,_t[Mt].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var dt=S.reduce(function(Mt,W){return Mt[W.name]=W.align,Mt},{});for(w=0;w<b.length;w+=1){"rowStart"in I&&I.rowStart instanceof Function&&I.rowStart({row:w,data:b[w]},this);var ft=h.call(this,b[w],At);for(H=0;H<q.length;H+=1){var vt=b[w][q[H]];"cellStart"in I&&I.cellStart instanceof Function&&I.cellStart({row:w,col:H,data:vt},this),c.call(this,new o(d,m,At[q[H]],ft,vt,w+2,dt[q[H]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=m,this};var h=function(d,m){var b=this.internal.__cell__.padding,S=this.internal.__cell__.table_font_size,I=this.internal.scaleFactor;return Object.keys(d).map(function(w){var Y=d[w];return this.splitTextToSize(Y.hasOwnProperty("text")?Y.text:Y,m[w]-b-b)},this).map(function(w){return this.getLineHeightFactor()*w.length*S/I+b+b},this).reduce(function(w,Y){return Math.max(w,Y)},0)};n.setTableHeaderRow=function(d){r.call(this),this.internal.__cell__.tableHeaderRow=d},n.printHeaderRow=function(d,m){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var b;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var S=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(S[0],S[1],S[2],S[3],void 0,-1)}this.setFont(void 0,"bold");for(var I=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){b=this.internal.__cell__.tableHeaderRow[w].clone(),m&&(b.y=this.internal.__cell__.margins.top||0,I.push(b)),b.lineNumber=d;var Y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,b),this.setTextColor(Y)}I.length>0&&this.setTableHeaderRow(I),this.setFont(void 0,"normal"),e=!1}})(Te.API);var B3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},F3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Z1=V3(F3),z3=[100,200,300,400,500,600,700,800,900],vL=V3(z3);function h1(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=(function(o){return B3[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),a=(function(o){return typeof Z1[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:t,style:e,weight:r,stretch:a,src:n.src||[],ref:n.ref||{name:t,style:[a,e,r].join(" ")}}}function i_(n,t,e,r){var a;for(a=e;a>=0&&a<t.length;a+=r)if(n[t[a]])return n[t[a]];for(a=e;a>=0&&a<t.length;a-=r)if(n[t[a]])return n[t[a]]}var bL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},r_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function s_(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function a_(n){return n.trimLeft()}function _L(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function wL(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var sp,o_,l_,Jc,ap,u_,c_,h_,f1=["times"];function f_(n,t,e,r,a){var o=4,c=p_;switch(a){case Te.API.image_compression.FAST:o=1,c=d_;break;case Te.API.image_compression.MEDIUM:o=6,c=m_;break;case Te.API.image_compression.SLOW:o=9,c=g_}n=(function(d,m,b,S){for(var I,w=d.length/m,Y=new Uint8Array(d.length+w),H=[AL,d_,p_,m_,g_],K=0;K<w;K+=1){var q=K*m,lt=d.subarray(q,q+m);if(S)Y.set(S(lt,b,I),q+K);else{for(var ot=H.length,st=[],At=0;At<ot;At+=1)st[At]=H[At](lt,b,I);var kt=xL(st.concat());Y.set(st[kt],q+K)}I=lt}return Y})(n,t,Math.ceil(e*r/8),c);var h=Y1(n,{level:o});return Te.API.__addimage__.arrayBufferToBinaryString(h)}function AL(n){var t=Array.apply([],n);return t.unshift(0),t}function d_(n,t){var e=n.length,r=[];r[0]=1;for(var a=0;a<e;a+=1){var o=n[a-t]||0;r[a+1]=n[a]-o+256&255}return r}function p_(n,t,e){var r=n.length,a=[];a[0]=2;for(var o=0;o<r;o+=1){var c=e&&e[o]||0;a[o+1]=n[o]-c+256&255}return a}function m_(n,t,e){var r=n.length,a=[];a[0]=3;for(var o=0;o<r;o+=1){var c=n[o-t]||0,h=e&&e[o]||0;a[o+1]=n[o]+256-(c+h>>>1)&255}return a}function g_(n,t,e){var r=n.length,a=[];a[0]=4;for(var o=0;o<r;o+=1){var c=SL(n[o-t]||0,e&&e[o]||0,e&&e[o-t]||0);a[o+1]=n[o]-c+256&255}return a}function SL(n,t,e){if(n===t&&t===e)return n;var r=Math.abs(t-e),a=Math.abs(n-e),o=Math.abs(n+t-e-e);return r<=a&&r<=o?n:a<=o?t:e}function xL(n){var t=n.map(function(e){return e.reduce(function(r,a){return r+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function d1(n,t,e){var r=t*e,a=Math.floor(r/8),o=16-(r-8*a+e),c=(1<<e)-1;return q3(n,a)>>o&c}function y_(n,t,e,r){var a=e*r,o=Math.floor(a/8),c=16-(a-8*o+r),h=(1<<r)-1,d=(t&h)<<c;(function(m,b,S){if(b+1<m.byteLength)m.setUint16(b,S,!1);else{var I=S>>8&255;m.setUint8(b,I)}})(n,o,q3(n,o)&~(h<<c)&65535|d)}function q3(n,t){return t+1<n.byteLength?n.getUint16(t,!1):n.getUint8(t)<<8}function EL(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,r=n[t++]|n[t++]<<8,a=n[t++],o=a>>7,c=1<<1+(7&a);n[t++],n[t++];var h=null,d=null;o&&(h=t,d=c,t+=3*c);var m=!0,b=[],S=0,I=null,w=0,Y=null;for(this.width=e,this.height=r;m&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,Y=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((E=n[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var H=n[t++];S=n[t++]|n[t++]<<8,I=n[t++],1&H||(I=null),w=H>>2&7,t++;break;case 254:for(;;){if(!((E=n[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var K=n[t++]|n[t++]<<8,q=n[t++]|n[t++]<<8,lt=n[t++]|n[t++]<<8,ot=n[t++]|n[t++]<<8,st=n[t++],At=st>>6&1,kt=1<<1+(7&st),z=h,P=d,N=!1;st>>7&&(N=!0,z=t,P=kt,t+=3*kt);var V=t;for(t++;;){var E;if(!((E=n[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}b.push({x:K,y:q,width:lt,height:ot,has_local_palette:N,palette_offset:z,palette_size:P,data_offset:V,data_length:t-V,transparent_index:I,interlaced:!!At,delay:S,disposal:w});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return b.length},this.loopCount=function(){return Y},this.frameInfo=function(R){if(R<0||R>=b.length)throw new Error("Frame index out of range.");return b[R]},this.decodeAndBlitFrameBGRA=function(R,D){var rt=this.frameInfo(R),_t=rt.width*rt.height,it=new Uint8Array(_t);v_(n,rt.data_offset,it,_t);var dt=rt.palette_offset,ft=rt.transparent_index;ft===null&&(ft=256);var vt=rt.width,Mt=e-vt,W=vt,k=4*(rt.y*e+rt.x),$=4*((rt.y+rt.height)*e+rt.x),Z=k,at=4*Mt;rt.interlaced===!0&&(at+=4*e*7);for(var ut=8,gt=0,Rt=it.length;gt<Rt;++gt){var Ct=it[gt];if(W===0&&(W=vt,(Z+=at)>=$&&(at=4*Mt+4*e*(ut-1),Z=k+(vt+Mt)*(ut<<1),ut>>=1)),Ct===ft)Z+=4;else{var Bt=n[dt+3*Ct],Xt=n[dt+3*Ct+1],te=n[dt+3*Ct+2];D[Z++]=te,D[Z++]=Xt,D[Z++]=Bt,D[Z++]=255}--W}},this.decodeAndBlitFrameRGBA=function(R,D){var rt=this.frameInfo(R),_t=rt.width*rt.height,it=new Uint8Array(_t);v_(n,rt.data_offset,it,_t);var dt=rt.palette_offset,ft=rt.transparent_index;ft===null&&(ft=256);var vt=rt.width,Mt=e-vt,W=vt,k=4*(rt.y*e+rt.x),$=4*((rt.y+rt.height)*e+rt.x),Z=k,at=4*Mt;rt.interlaced===!0&&(at+=4*e*7);for(var ut=8,gt=0,Rt=it.length;gt<Rt;++gt){var Ct=it[gt];if(W===0&&(W=vt,(Z+=at)>=$&&(at=4*Mt+4*e*(ut-1),Z=k+(vt+Mt)*(ut<<1),ut>>=1)),Ct===ft)Z+=4;else{var Bt=n[dt+3*Ct],Xt=n[dt+3*Ct+1],te=n[dt+3*Ct+2];D[Z++]=Bt,D[Z++]=Xt,D[Z++]=te,D[Z++]=255}--W}}}function v_(n,t,e,r){for(var a=n[t++],o=1<<a,c=o+1,h=c+1,d=a+1,m=(1<<d)-1,b=0,S=0,I=0,w=n[t++],Y=new Int32Array(4096),H=null;;){for(;b<16&&w!==0;)S|=n[t++]<<b,b+=8,w===1?w=n[t++]:--w;if(b<d)break;var K=S&m;if(S>>=d,b-=d,K!==o){if(K===c)break;for(var q=K<h?K:H,lt=0,ot=q;ot>o;)ot=Y[ot]>>8,++lt;var st=ot;if(I+lt+(q!==K?1:0)>r)return void li.log("Warning, gif stream longer than expected.");e[I++]=st;var At=I+=lt;for(q!==K&&(e[I++]=st),ot=q;lt--;)ot=Y[ot],e[--At]=255&ot,ot>>=8;H!==null&&h<4096&&(Y[h++]=H<<8|st,h>=m+1&&d<12&&(++d,m=m<<1|1)),H=K}else h=c+1,m=(1<<(d=a+1))-1,H=null}return I!==r&&li.log("Warning, gif stream shorter than expected."),e}function p1(n){var t,e,r,a,o,c=Math.floor,h=new Array(64),d=new Array(64),m=new Array(64),b=new Array(64),S=new Array(65535),I=new Array(65535),w=new Array(64),Y=new Array(64),H=[],K=0,q=7,lt=new Array(64),ot=new Array(64),st=new Array(64),At=new Array(256),kt=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],rt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],_t=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function it(k,$){for(var Z=0,at=0,ut=new Array,gt=1;gt<=16;gt++){for(var Rt=1;Rt<=k[gt];Rt++)ut[$[at]]=[],ut[$[at]][0]=Z,ut[$[at]][1]=gt,at++,Z++;Z*=2}return ut}function dt(k){for(var $=k[0],Z=k[1]-1;Z>=0;)$&1<<Z&&(K|=1<<q),Z--,--q<0&&(K==255?(ft(255),ft(0)):ft(K),q=7,K=0)}function ft(k){H.push(k)}function vt(k){ft(k>>8&255),ft(255&k)}function Mt(k,$,Z,at,ut){for(var gt,Rt=ut[0],Ct=ut[240],Bt=(function(jt,ne){var re,Ne,_e,Ke,Je,Be,sn,Xe,ge,qe,ye=0;for(ge=0;ge<8;++ge){re=jt[ye],Ne=jt[ye+1],_e=jt[ye+2],Ke=jt[ye+3],Je=jt[ye+4],Be=jt[ye+5],sn=jt[ye+6];var ui=re+(Xe=jt[ye+7]),Qe=re-Xe,Ee=Ne+sn,Me=Ne-sn,$e=_e+Be,Ae=_e-Be,In=Ke+Je,Oe=Ke-Je,Pe=ui+In,kn=ui-In,we=Ee+$e,ve=Ee-$e;jt[ye]=Pe+we,jt[ye+4]=Pe-we;var an=.707106781*(ve+kn);jt[ye+2]=kn+an,jt[ye+6]=kn-an;var lr=.382683433*((Pe=Oe+Ae)-(ve=Me+Qe)),Wi=.5411961*Pe+lr,Cs=1.306562965*ve+lr,zi=.707106781*(we=Ae+Me),Se=Qe+zi,Js=Qe-zi;jt[ye+5]=Js+Wi,jt[ye+3]=Js-Wi,jt[ye+1]=Se+Cs,jt[ye+7]=Se-Cs,ye+=8}for(ye=0,ge=0;ge<8;++ge){re=jt[ye],Ne=jt[ye+8],_e=jt[ye+16],Ke=jt[ye+24],Je=jt[ye+32],Be=jt[ye+40],sn=jt[ye+48];var Vr=re+(Xe=jt[ye+56]),Sr=re-Xe,xr=Ne+sn,Fn=Ne-sn,Qn=_e+Be,ki=_e-Be,ur=Ke+Je,Ji=Ke-Je,Dn=Vr+ur,Hn=Vr-ur,Di=xr+Qn,Er=xr-Qn;jt[ye]=Dn+Di,jt[ye+32]=Dn-Di;var ns=.707106781*(Er+Hn);jt[ye+16]=Hn+ns,jt[ye+48]=Hn-ns;var ga=.382683433*((Dn=Ji+ki)-(Er=Fn+Sr)),vs=.5411961*Dn+ga,Tr=1.306562965*Er+ga,Zs=.707106781*(Di=ki+Fn),Br=Sr+Zs,cr=Sr-Zs;jt[ye+40]=cr+vs,jt[ye+24]=cr-vs,jt[ye+8]=Br+Tr,jt[ye+56]=Br-Tr,ye++}for(ge=0;ge<64;++ge)qe=jt[ge]*ne[ge],w[ge]=qe>0?qe+.5|0:qe-.5|0;return w})(k,$),Xt=0;Xt<64;++Xt)Y[z[Xt]]=Bt[Xt];var te=Y[0]-Z;Z=Y[0],te==0?dt(at[0]):(dt(at[I[gt=32767+te]]),dt(S[gt]));for(var ee=63;ee>0&&Y[ee]==0;)ee--;if(ee==0)return dt(Rt),Z;for(var oe,M=1;M<=ee;){for(var Vt=M;Y[M]==0&&M<=ee;)++M;var ce=M-Vt;if(ce>=16){oe=ce>>4;for(var ie=1;ie<=oe;++ie)dt(Ct);ce&=15}gt=32767+Y[M],dt(ut[(ce<<4)+I[gt]]),dt(S[gt]),M++}return ee!=63&&dt(Rt),Z}function W(k){k=Math.min(Math.max(k,1),100),o!=k&&((function($){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],at=0;at<64;at++){var ut=c((Z[at]*$+50)/100);ut=Math.min(Math.max(ut,1),255),h[z[at]]=ut}for(var gt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Rt=0;Rt<64;Rt++){var Ct=c((gt[Rt]*$+50)/100);Ct=Math.min(Math.max(Ct,1),255),d[z[Rt]]=Ct}for(var Bt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Xt=0,te=0;te<8;te++)for(var ee=0;ee<8;ee++)m[Xt]=1/(h[z[Xt]]*Bt[te]*Bt[ee]*8),b[Xt]=1/(d[z[Xt]]*Bt[te]*Bt[ee]*8),Xt++})(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),o=k)}this.encode=function(k,$){$&&W($),H=new Array,K=0,q=7,vt(65496),vt(65504),vt(16),ft(74),ft(70),ft(73),ft(70),ft(0),ft(1),ft(1),ft(0),vt(1),vt(1),ft(0),ft(0),(function(){vt(65499),vt(132),ft(0);for(var Ne=0;Ne<64;Ne++)ft(h[Ne]);ft(1);for(var _e=0;_e<64;_e++)ft(d[_e])})(),(function(Ne,_e){vt(65472),vt(17),ft(8),vt(_e),vt(Ne),ft(3),ft(1),ft(17),ft(0),ft(2),ft(17),ft(1),ft(3),ft(17),ft(1)})(k.width,k.height),(function(){vt(65476),vt(418),ft(0);for(var Ne=0;Ne<16;Ne++)ft(P[Ne+1]);for(var _e=0;_e<=11;_e++)ft(N[_e]);ft(16);for(var Ke=0;Ke<16;Ke++)ft(V[Ke+1]);for(var Je=0;Je<=161;Je++)ft(E[Je]);ft(1);for(var Be=0;Be<16;Be++)ft(R[Be+1]);for(var sn=0;sn<=11;sn++)ft(D[sn]);ft(17);for(var Xe=0;Xe<16;Xe++)ft(rt[Xe+1]);for(var ge=0;ge<=161;ge++)ft(_t[ge])})(),vt(65498),vt(12),ft(3),ft(1),ft(0),ft(2),ft(17),ft(3),ft(17),ft(0),ft(63),ft(0);var Z=0,at=0,ut=0;K=0,q=7,this.encode.displayName="_encode_";for(var gt,Rt,Ct,Bt,Xt,te,ee,oe,M,Vt=k.data,ce=k.width,ie=k.height,jt=4*ce,ne=0;ne<ie;){for(gt=0;gt<jt;){for(Xt=jt*ne+gt,ee=-1,oe=0,M=0;M<64;M++)te=Xt+(oe=M>>3)*jt+(ee=4*(7&M)),ne+oe>=ie&&(te-=jt*(ne+1+oe-ie)),gt+ee>=jt&&(te-=gt+ee-jt+4),Rt=Vt[te++],Ct=Vt[te++],Bt=Vt[te++],lt[M]=(kt[Rt]+kt[Ct+256|0]+kt[Bt+512|0]>>16)-128,ot[M]=(kt[Rt+768|0]+kt[Ct+1024|0]+kt[Bt+1280|0]>>16)-128,st[M]=(kt[Rt+1280|0]+kt[Ct+1536|0]+kt[Bt+1792|0]>>16)-128;Z=Mt(lt,m,Z,t,r),at=Mt(ot,b,at,e,a),ut=Mt(st,b,ut,e,a),gt+=32}ne+=8}if(q>=0){var re=[];re[1]=q+1,re[0]=(1<<q+1)-1,dt(re)}return vt(65497),new Uint8Array(H)},n=n||50,(function(){for(var k=String.fromCharCode,$=0;$<256;$++)At[$]=k($)})(),t=it(P,N),e=it(R,D),r=it(V,E),a=it(rt,_t),(function(){for(var k=1,$=2,Z=1;Z<=15;Z++){for(var at=k;at<$;at++)I[32767+at]=Z,S[32767+at]=[],S[32767+at][1]=Z,S[32767+at][0]=at;for(var ut=-($-1);ut<=-k;ut++)I[32767+ut]=Z,S[32767+ut]=[],S[32767+ut][1]=Z,S[32767+ut][0]=$-1+ut;k<<=1,$<<=1}})(),(function(){for(var k=0;k<256;k++)kt[k]=19595*k,kt[k+256|0]=38470*k,kt[k+512|0]=7471*k+32768,kt[k+768|0]=-11059*k,kt[k+1024|0]=-21709*k,kt[k+1280|0]=32768*k+8421375,kt[k+1536|0]=-27439*k,kt[k+1792|0]=-5329*k})(),W(n)}function so(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function b_(n){function t(N){if(!N)throw Error("assert :P")}function e(N,V,E){for(var R=0;4>R;R++)if(N[V+R]!=E.charCodeAt(R))return!0;return!1}function r(N,V,E,R,D){for(var rt=0;rt<D;rt++)N[V+rt]=E[R+rt]}function a(N,V,E,R){for(var D=0;D<R;D++)N[V+D]=E}function o(N){return new Int32Array(N)}function c(N,V){for(var E=[],R=0;R<N;R++)E.push(new V);return E}function h(N,V){var E=[];return(function R(D,rt,_t){for(var it=_t[rt],dt=0;dt<it&&(D.push(_t.length>rt+1?[]:new V),!(_t.length<rt+1));dt++)R(D[dt],rt+1,_t)})(E,0,N),E}var d=function(){var N=this;function V(f,y){for(var A=1<<y-1>>>0;f&A;)A>>>=1;return A?(f&A-1)+A:f}function E(f,y,A,T,U){t(!(T%A));do f[y+(T-=A)]=U;while(0<T)}function R(f,y,A,T,U){if(t(2328>=U),512>=U)var B=o(512);else if((B=o(U))==null)return 0;return(function(F,X,J,nt,pt,Tt){var tt,yt,xt=X,Ut=1<<J,Et=o(16),Pt=o(16);for(t(pt!=0),t(nt!=null),t(F!=null),t(0<J),yt=0;yt<pt;++yt){if(15<nt[yt])return 0;++Et[nt[yt]]}if(Et[0]==pt)return 0;for(Pt[1]=0,tt=1;15>tt;++tt){if(Et[tt]>1<<tt)return 0;Pt[tt+1]=Pt[tt]+Et[tt]}for(yt=0;yt<pt;++yt)tt=nt[yt],0<nt[yt]&&(Tt[Pt[tt]++]=yt);if(Pt[15]==1)return(nt=new D).g=0,nt.value=Tt[0],E(F,xt,1,Ut,nt),Ut;var qt,Qt=-1,Yt=Ut-1,pe=0,se=1,He=1,he=1<<J;for(yt=0,tt=1,pt=2;tt<=J;++tt,pt<<=1){if(se+=He<<=1,0>(He-=Et[tt]))return 0;for(;0<Et[tt];--Et[tt])(nt=new D).g=tt,nt.value=Tt[yt++],E(F,xt+pe,pt,he,nt),pe=V(pe,tt)}for(tt=J+1,pt=2;15>=tt;++tt,pt<<=1){if(se+=He<<=1,0>(He-=Et[tt]))return 0;for(;0<Et[tt];--Et[tt]){if(nt=new D,(pe&Yt)!=Qt){for(xt+=he,qt=1<<(Qt=tt)-J;15>Qt&&!(0>=(qt-=Et[Qt]));)++Qt,qt<<=1;Ut+=he=1<<(qt=Qt-J),F[X+(Qt=pe&Yt)].g=qt+J,F[X+Qt].value=xt-X-Qt}nt.g=tt-J,nt.value=Tt[yt++],E(F,xt+(pe>>J),pt,he,nt),pe=V(pe,tt)}}return se!=2*Pt[15]-1?0:Ut})(f,y,A,T,U,B)}function D(){this.value=this.g=0}function rt(){this.value=this.g=0}function _t(){this.G=c(5,D),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Ao,rt)}function it(f,y,A,T){t(f!=null),t(y!=null),t(2147483648>T),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=y,f.pa=A,f.Jd=y,f.Yc=A+T,f.Zc=4<=T?A+T-4+1:A,Rt(f)}function dt(f,y){for(var A=0;0<y--;)A|=Bt(f,128)<<y;return A}function ft(f,y){var A=dt(f,y);return Ct(f)?-A:A}function vt(f,y,A,T){var U,B=0;for(t(f!=null),t(y!=null),t(4294967288>T),f.Sb=T,f.Ra=0,f.u=0,f.h=0,4<T&&(T=4),U=0;U<T;++U)B+=y[A+U]<<8*U;f.Ra=B,f.bb=T,f.oa=y,f.pa=A}function Mt(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<xa-8>>>0,++f.bb,f.u-=8;at(f)&&(f.h=1,f.u=0)}function W(f,y){if(t(0<=y),!f.h&&y<=$r){var A=Z(f)&os[y];return f.u+=y,Mt(f),A}return f.h=1,f.u=0}function k(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(f){return f.Ra>>>(f.u&xa-1)>>>0}function at(f){return t(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>xa}function ut(f,y){f.u=y,f.h=at(f)}function gt(f){f.u>=Ea&&(t(f.u>=Ea),Mt(f))}function Rt(f){t(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(t(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function Ct(f){return dt(f,1)}function Bt(f,y){var A=f.Ca;0>f.b&&Rt(f);var T=f.b,U=A*y>>>8,B=(f.I>>>T>U)+0;for(B?(A-=U,f.I-=U+1<<T>>>0):A=U+1,T=A,U=0;256<=T;)U+=8,T>>=8;return T=7^U+Ya[T],f.b-=T,f.Ca=(A<<T)-1,B}function Xt(f,y,A){f[y+0]=A>>24&255,f[y+1]=A>>16&255,f[y+2]=A>>8&255,f[y+3]=255&A}function te(f,y){return f[y+0]|f[y+1]<<8}function ee(f,y){return te(f,y)|f[y+2]<<16}function oe(f,y){return te(f,y)|te(f,y+2)<<16}function M(f,y){var A=1<<y;return t(f!=null),t(0<y),f.X=o(A),f.X==null?0:(f.Mb=32-y,f.Xa=y,1)}function Vt(f,y){t(f!=null),t(y!=null),t(f.Xa==y.Xa),r(y.X,0,f.X,0,1<<y.Xa)}function ce(){this.X=[],this.Xa=this.Mb=0}function ie(f,y,A,T){t(A!=null),t(T!=null);var U=A[0],B=T[0];return U==0&&(U=(f*B+y/2)/y),B==0&&(B=(y*U+f/2)/f),0>=U||0>=B?0:(A[0]=U,T[0]=B,1)}function jt(f,y){return f+(1<<y)-1>>>y}function ne(f,y){return((4278255360&f)+(4278255360&y)>>>0&4278255360)+((16711935&f)+(16711935&y)>>>0&16711935)>>>0}function re(f,y){N[y]=function(A,T,U,B,F,X,J){var nt;for(nt=0;nt<F;++nt){var pt=N[f](X[J+nt-1],U,B+nt);X[J+nt]=ne(A[T+nt],pt)}}}function Ne(){this.ud=this.hd=this.jd=0}function _e(f,y){return((4278124286&(f^y))>>>1)+(f&y)>>>0}function Ke(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function Je(f,y){return Ke(f+(f-y+.5>>1))}function Be(f,y,A){return Math.abs(y-A)-Math.abs(f-A)}function sn(f,y,A,T,U,B,F){for(T=B[F-1],A=0;A<U;++A)B[F+A]=T=ne(f[y+A],T)}function Xe(f,y,A,T,U){var B;for(B=0;B<A;++B){var F=f[y+B],X=F>>8&255,J=16711935&(J=(J=16711935&F)+((X<<16)+X));T[U+B]=(4278255360&F)+J>>>0}}function ge(f,y){y.jd=255&f,y.hd=f>>8&255,y.ud=f>>16&255}function qe(f,y,A,T,U,B){var F;for(F=0;F<T;++F){var X=y[A+F],J=X>>>8,nt=X,pt=255&(pt=(pt=X>>>16)+((f.jd<<24>>24)*(J<<24>>24)>>>5));nt=255&(nt=(nt+=(f.hd<<24>>24)*(J<<24>>24)>>>5)+((f.ud<<24>>24)*(pt<<24>>24)>>>5)),U[B+F]=(4278255360&X)+(pt<<16)+nt}}function ye(f,y,A,T,U){N[y]=function(B,F,X,J,nt,pt,Tt,tt,yt){for(J=Tt;J<tt;++J)for(Tt=0;Tt<yt;++Tt)nt[pt++]=U(X[T(B[F++])])},N[f]=function(B,F,X,J,nt,pt,Tt){var tt=8>>B.b,yt=B.Ea,xt=B.K[0],Ut=B.w;if(8>tt)for(B=(1<<B.b)-1,Ut=(1<<tt)-1;F<X;++F){var Et,Pt=0;for(Et=0;Et<yt;++Et)Et&B||(Pt=T(J[nt++])),pt[Tt++]=U(xt[Pt&Ut]),Pt>>=tt}else N["VP8LMapColor"+A](J,nt,xt,Ut,pt,Tt,F,X,yt)}}function ui(f,y,A,T,U){for(A=y+A;y<A;){var B=f[y++];T[U++]=B>>16&255,T[U++]=B>>8&255,T[U++]=255&B}}function Qe(f,y,A,T,U){for(A=y+A;y<A;){var B=f[y++];T[U++]=B>>16&255,T[U++]=B>>8&255,T[U++]=255&B,T[U++]=B>>24&255}}function Ee(f,y,A,T,U){for(A=y+A;y<A;){var B=(F=f[y++])>>16&240|F>>12&15,F=240&F|F>>28&15;T[U++]=B,T[U++]=F}}function Me(f,y,A,T,U){for(A=y+A;y<A;){var B=(F=f[y++])>>16&248|F>>13&7,F=F>>5&224|F>>3&31;T[U++]=B,T[U++]=F}}function $e(f,y,A,T,U){for(A=y+A;y<A;){var B=f[y++];T[U++]=255&B,T[U++]=B>>8&255,T[U++]=B>>16&255}}function Ae(f,y,A,T,U,B){if(B==0)for(A=y+A;y<A;)Xt(T,((B=f[y++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),U+=32;else r(T,U,f,y,A)}function In(f,y){N[y][0]=N[f+"0"],N[y][1]=N[f+"1"],N[y][2]=N[f+"2"],N[y][3]=N[f+"3"],N[y][4]=N[f+"4"],N[y][5]=N[f+"5"],N[y][6]=N[f+"6"],N[y][7]=N[f+"7"],N[y][8]=N[f+"8"],N[y][9]=N[f+"9"],N[y][10]=N[f+"10"],N[y][11]=N[f+"11"],N[y][12]=N[f+"12"],N[y][13]=N[f+"13"],N[y][14]=N[f+"0"],N[y][15]=N[f+"0"]}function Oe(f){return f==Mu||f==bc||f==Bl||f==_c}function Pe(){this.eb=[],this.size=this.A=this.fb=0}function kn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function we(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Pe,this.f.kb=new kn,this.sd=null}function ve(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function an(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function lr(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function Wi(f,y){var A=f.T,T=y.ba.f.RGBA,U=T.eb,B=T.fb+f.ka*T.A,F=yr[y.ba.S],X=f.y,J=f.O,nt=f.f,pt=f.N,Tt=f.ea,tt=f.W,yt=y.cc,xt=y.dc,Ut=y.Mc,Et=y.Nc,Pt=f.ka,qt=f.ka+f.T,Qt=f.U,Yt=Qt+1>>1;for(Pt==0?F(X,J,null,null,nt,pt,Tt,tt,nt,pt,Tt,tt,U,B,null,null,Qt):(F(y.ec,y.fc,X,J,yt,xt,Ut,Et,nt,pt,Tt,tt,U,B-T.A,U,B,Qt),++A);Pt+2<qt;Pt+=2)yt=nt,xt=pt,Ut=Tt,Et=tt,pt+=f.Rc,tt+=f.Rc,B+=2*T.A,F(X,(J+=2*f.fa)-f.fa,X,J,yt,xt,Ut,Et,nt,pt,Tt,tt,U,B-T.A,U,B,Qt);return J+=f.fa,f.j+qt<f.o?(r(y.ec,y.fc,X,J,Qt),r(y.cc,y.dc,nt,pt,Yt),r(y.Mc,y.Nc,Tt,tt,Yt),A--):1&qt||F(X,J,null,null,nt,pt,Tt,tt,nt,pt,Tt,tt,U,B+T.A,null,null,Qt),A}function Cs(f,y,A){var T=f.F,U=[f.J];if(T!=null){var B=f.U,F=y.ba.S,X=F==Pu||F==Bl;y=y.ba.f.RGBA;var J=[0],nt=f.ka;J[0]=f.T,f.Kb&&(nt==0?--J[0]:(--nt,U[0]-=f.width),f.j+f.ka+f.T==f.o&&(J[0]=f.o-f.j-nt));var pt=y.eb;nt=y.fb+nt*y.A,f=Lu(T,U[0],f.width,B,J,pt,nt+(X?0:3),y.A),t(A==J),f&&Oe(F)&&rl(pt,nt,X,B,J,y.A)}return 0}function zi(f){var y=f.ma,A=y.ba.S,T=11>A,U=A==kr||A==Ms||A==Pu||A==Vl||A==12||Oe(A);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!Ga(y.Oa,f,U?11:12))return 0;if(U&&Oe(A)&&ze(),f.da)alert("todo:use_scaling");else{if(T){if(y.Ib=lr,f.Kb){if(A=f.U+1>>1,y.memory=o(f.U+2*A),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+f.U,y.Mc=y.cc,y.Nc=y.dc+A,y.Ib=Wi,ze()}}else alert("todo:EmitYUV");U&&(y.Jb=Cs,T&&Lt())}if(T&&!Io){for(f=0;256>f;++f)vr[f]=89858*(f-128)+ql>>zs,gm[f]=-22014*(f-128)+ql,sd[f]=-45773*(f-128),Ec[f]=113618*(f-128)+ql>>zs;for(f=ll;f<Co;++f)y=76283*(f-16)+ql>>zs,ym[f-ll]=zr(y,255),vm[f-ll]=zr(y+8>>4,15);Io=1}return 1}function Se(f){var y=f.ma,A=f.U,T=f.T;return t(!(1&f.ka)),0>=A||0>=T?0:(A=y.Ib(f,y),y.Jb!=null&&y.Jb(f,y,A),y.Dc+=A,1)}function Js(f){f.ma.memory=null}function Vr(f,y,A,T){return W(f,8)!=47?0:(y[0]=W(f,14)+1,A[0]=W(f,14)+1,T[0]=W(f,1),W(f,3)!=0?0:!f.h)}function Sr(f,y){if(4>f)return f+1;var A=f-2>>1;return(2+(1&f)<<A)+W(y,A)+1}function xr(f,y){return 120<y?y-120:1<=(A=((A=Us[y-1])>>4)*f+(8-(15&A)))?A:1;var A}function Fn(f,y,A){var T=Z(A),U=f[y+=255&T].g-8;return 0<U&&(ut(A,A.u+8),T=Z(A),y+=f[y].value,y+=T&(1<<U)-1),ut(A,A.u+f[y].g),f[y].value}function Qn(f,y,A){return A.g+=f.g,A.value+=f.value<<y>>>0,t(8>=A.g),f.g}function ki(f,y,A){var T=f.xc;return t((y=T==0?0:f.vc[f.md*(A>>T)+(y>>T)])<f.Wb),f.Ya[y]}function ur(f,y,A,T){var U=f.ab,B=f.c*y,F=f.C;y=F+y;var X=A,J=T;for(T=f.Ta,A=f.Ua;0<U--;){var nt=f.gc[U],pt=F,Tt=y,tt=X,yt=J,xt=(J=T,X=A,nt.Ea);switch(t(pt<Tt),t(Tt<=nt.nc),nt.hc){case 2:Ti(tt,yt,(Tt-pt)*xt,J,X);break;case 0:var Ut=pt,Et=Tt,Pt=J,qt=X,Qt=(he=nt).Ea;Ut==0&&(Pl(tt,yt,null,null,1,Pt,qt),sn(tt,yt+1,0,0,Qt-1,Pt,qt+1),yt+=Qt,qt+=Qt,++Ut);for(var Yt=1<<he.b,pe=Yt-1,se=jt(Qt,he.b),He=he.K,he=he.w+(Ut>>he.b)*se;Ut<Et;){var dn=He,ai=he,Ze=1;for(Ml(tt,yt,Pt,qt-Qt,1,Pt,qt);Ze<Qt;){var ae=(Ze&~pe)+Yt;ae>Qt&&(ae=Qt),(0,Ka[dn[ai++]>>8&15])(tt,yt+ +Ze,Pt,qt+Ze-Qt,ae-Ze,Pt,qt+Ze),Ze=ae}yt+=Qt,qt+=Qt,++Ut&pe||(he+=se)}Tt!=nt.nc&&r(J,X-xt,J,X+(Tt-pt-1)*xt,xt);break;case 1:for(xt=tt,Et=yt,Qt=(tt=nt.Ea)-(qt=tt&~(Pt=(yt=1<<nt.b)-1)),Ut=jt(tt,nt.b),Yt=nt.K,nt=nt.w+(pt>>nt.b)*Ut;pt<Tt;){for(pe=Yt,se=nt,He=new Ne,he=Et+qt,dn=Et+tt;Et<he;)ge(pe[se++],He),jl(He,xt,Et,yt,J,X),Et+=yt,X+=yt;Et<dn&&(ge(pe[se++],He),jl(He,xt,Et,Qt,J,X),Et+=Qt,X+=Qt),++pt&Pt||(nt+=Ut)}break;case 3:if(tt==J&&yt==X&&0<nt.b){for(Et=J,tt=xt=X+(Tt-pt)*xt-(qt=(Tt-pt)*jt(nt.Ea,nt.b)),yt=J,Pt=X,Ut=[],qt=(Qt=qt)-1;0<=qt;--qt)Ut[qt]=yt[Pt+qt];for(qt=Qt-1;0<=qt;--qt)Et[tt+qt]=Ut[qt];pc(nt,pt,Tt,J,xt,J,X)}else pc(nt,pt,Tt,tt,yt,J,X)}X=T,J=A}J!=A&&r(T,A,X,J,B)}function Ji(f,y){var A=f.V,T=f.Ba+f.c*f.C,U=y-f.C;if(t(y<=f.l.o),t(16>=U),0<U){var B=f.l,F=f.Ta,X=f.Ua,J=B.width;if(ur(f,U,A,T),U=X=[X],t((A=f.C)<(T=y)),t(B.v<B.va),T>B.o&&(T=B.o),A<B.j){var nt=B.j-A;A=B.j,U[0]+=nt*J}if(A>=T?A=0:(U[0]+=4*B.v,B.ka=A-B.j,B.U=B.va-B.v,B.T=T-A,A=1),A){if(X=X[0],11>(A=f.ca).S){var pt=A.f.RGBA,Tt=(T=A.S,U=B.U,B=B.T,nt=pt.eb,pt.A),tt=B;for(pt=pt.fb+f.Ma*pt.A;0<tt--;){var yt=F,xt=X,Ut=U,Et=nt,Pt=pt;switch(T){case yc:Ul(yt,xt,Ut,Et,Pt);break;case kr:$a(yt,xt,Ut,Et,Pt);break;case Mu:$a(yt,xt,Ut,Et,Pt),rl(Et,Pt,0,Ut,1,0);break;case vc:nl(yt,xt,Ut,Et,Pt);break;case Ms:Ae(yt,xt,Ut,Et,Pt,1);break;case bc:Ae(yt,xt,Ut,Et,Pt,1),rl(Et,Pt,0,Ut,1,0);break;case Pu:Ae(yt,xt,Ut,Et,Pt,0);break;case Bl:Ae(yt,xt,Ut,Et,Pt,0),rl(Et,Pt,1,Ut,1,0);break;case Vl:Xa(yt,xt,Ut,Et,Pt);break;case _c:Xa(yt,xt,Ut,Et,Pt),Ps(Et,Pt,Ut,1,0);break;case So:Ca(yt,xt,Ut,Et,Pt);break;default:t(0)}X+=J,pt+=Tt}f.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");t(f.Ma<=A.height)}}f.C=y,t(f.C<=f.i)}function Dn(f){var y;if(0<f.ua)return 0;for(y=0;y<f.Wb;++y){var A=f.Ya[y].G,T=f.Ya[y].H;if(0<A[1][T[1]+0].g||0<A[2][T[2]+0].g||0<A[3][T[3]+0].g)return 0}return 1}function Hn(f,y,A,T,U,B){if(f.Z!=0){var F=f.qd,X=f.rd;for(t(Ja[f.Z]!=null);y<A;++y)Ja[f.Z](F,X,T,U,T,U,B),F=T,X=U,U+=B;f.qd=F,f.rd=X}}function Di(f,y){var A=f.l.ma,T=A.Z==0||A.Z==1?f.l.j:f.C;if(T=f.C<T?T:f.C,t(y<=f.l.o),y>T){var U=f.l.width,B=A.ca,F=A.tb+U*T,X=f.V,J=f.Ba+f.c*T,nt=f.gc;t(f.ab==1),t(nt[0].hc==3),Na(nt[0],T,y,X,J,B,F),Hn(A,T,y,B,F,U)}f.C=f.Ma=y}function Er(f,y,A,T,U,B,F){var X=f.$/T,J=f.$%T,nt=f.m,pt=f.s,Tt=A+f.$,tt=Tt;U=A+T*U;var yt=A+T*B,xt=280+pt.ua,Ut=f.Pb?X:16777216,Et=0<pt.ua?pt.Wa:null,Pt=pt.wc,qt=Tt<yt?ki(pt,J,X):null;t(f.C<B),t(yt<=U);var Qt=!1;t:for(;;){for(;Qt||Tt<yt;){var Yt=0;if(X>=Ut){var pe=Tt-A;t((Ut=f).Pb),Ut.wd=Ut.m,Ut.xd=pe,0<Ut.s.ua&&Vt(Ut.s.Wa,Ut.s.vb),Ut=X+xo}if(J&Pt||(qt=ki(pt,J,X)),t(qt!=null),qt.Qb&&(y[Tt]=qt.qb,Qt=!0),!Qt)if(gt(nt),qt.jc){Yt=nt,pe=y;var se=Tt,He=qt.pd[Z(Yt)&Ao-1];t(qt.jc),256>He.g?(ut(Yt,Yt.u+He.g),pe[se]=He.value,Yt=0):(ut(Yt,Yt.u+He.g-256),t(256<=He.value),Yt=He.value),Yt==0&&(Qt=!0)}else Yt=Fn(qt.G[0],qt.H[0],nt);if(nt.h)break;if(Qt||256>Yt){if(!Qt)if(qt.nd)y[Tt]=(qt.qb|Yt<<8)>>>0;else{if(gt(nt),Qt=Fn(qt.G[1],qt.H[1],nt),gt(nt),pe=Fn(qt.G[2],qt.H[2],nt),se=Fn(qt.G[3],qt.H[3],nt),nt.h)break;y[Tt]=(se<<24|Qt<<16|Yt<<8|pe)>>>0}if(Qt=!1,++Tt,++J>=T&&(J=0,++X,F!=null&&X<=B&&!(X%16)&&F(f,X),Et!=null))for(;tt<Tt;)Yt=y[tt++],Et.X[(506832829*Yt&4294967295)>>>Et.Mb]=Yt}else if(280>Yt){if(Yt=Sr(Yt-256,nt),pe=Fn(qt.G[4],qt.H[4],nt),gt(nt),pe=xr(T,pe=Sr(pe,nt)),nt.h)break;if(Tt-A<pe||U-Tt<Yt)break t;for(se=0;se<Yt;++se)y[Tt+se]=y[Tt+se-pe];for(Tt+=Yt,J+=Yt;J>=T;)J-=T,++X,F!=null&&X<=B&&!(X%16)&&F(f,X);if(t(Tt<=U),J&Pt&&(qt=ki(pt,J,X)),Et!=null)for(;tt<Tt;)Yt=y[tt++],Et.X[(506832829*Yt&4294967295)>>>Et.Mb]=Yt}else{if(!(Yt<xt))break t;for(Qt=Yt-280,t(Et!=null);tt<Tt;)Yt=y[tt++],Et.X[(506832829*Yt&4294967295)>>>Et.Mb]=Yt;Yt=Tt,t(!(Qt>>>(pe=Et).Xa)),y[Yt]=pe.X[Qt],Qt=!0}Qt||t(nt.h==at(nt))}if(f.Pb&&nt.h&&Tt<U)t(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&Vt(f.s.vb,f.s.Wa);else{if(nt.h)break t;F?.(f,X>B?B:X),f.a=0,f.$=Tt-A}return 1}return f.a=3,0}function ns(f){t(f!=null),f.vc=null,f.yc=null,f.Ya=null;var y=f.Wa;y!=null&&(y.X=null),f.vb=null,t(f!=null)}function ga(){var f=new Le;return f==null?null:(f.a=0,f.xb=Uh,In("Predictor","VP8LPredictors"),In("Predictor","VP8LPredictors_C"),In("PredictorAdd","VP8LPredictorsAdd"),In("PredictorAdd","VP8LPredictorsAdd_C"),Ti=Xe,jl=qe,Ul=ui,$a=Qe,Xa=Ee,Ca=Me,nl=$e,N.VP8LMapColor32b=Ta,N.VP8LMapColor8b=pr,f)}function vs(f,y,A,T,U){var B=1,F=[f],X=[y],J=T.m,nt=T.s,pt=null,Tt=0;t:for(;;){if(A)for(;B&&W(J,1);){var tt=F,yt=X,xt=T,Ut=1,Et=xt.m,Pt=xt.gc[xt.ab],qt=W(Et,2);if(xt.Oc&1<<qt)B=0;else{switch(xt.Oc|=1<<qt,Pt.hc=qt,Pt.Ea=tt[0],Pt.nc=yt[0],Pt.K=[null],++xt.ab,t(4>=xt.ab),qt){case 0:case 1:Pt.b=W(Et,3)+2,Ut=vs(jt(Pt.Ea,Pt.b),jt(Pt.nc,Pt.b),0,xt,Pt.K),Pt.K=Pt.K[0];break;case 3:var Qt,Yt=W(Et,8)+1,pe=16<Yt?0:4<Yt?1:2<Yt?2:3;if(tt[0]=jt(Pt.Ea,pe),Pt.b=pe,Qt=Ut=vs(Yt,1,0,xt,Pt.K)){var se,He=Yt,he=Pt,dn=1<<(8>>he.b),ai=o(dn);if(ai==null)Qt=0;else{var Ze=he.K[0],ae=he.w;for(ai[0]=he.K[0][0],se=1;se<1*He;++se)ai[se]=ne(Ze[ae+se],ai[se-1]);for(;se<4*dn;++se)ai[se]=0;he.K[0]=null,he.K[0]=ai,Qt=1}}Ut=Qt;break;case 2:break;default:t(0)}B=Ut}}if(F=F[0],X=X[0],B&&W(J,1)&&!(B=1<=(Tt=W(J,4))&&11>=Tt)){T.a=3;break t}var Zt;if(Zt=B)e:{var hi,je,rn,Un=T,Gi=F,br=X,ti=Tt,Pi=A,Dr=Un.m,Mi=Un.s,un=[null],En=1,fi=0,Ln=Vs[ti];n:for(;;){if(Pi&&W(Dr,1)){var Yi=W(Dr,3)+2,di=jt(Gi,Yi),Tn=jt(br,Yi),Ii=di*Tn;if(!vs(di,Tn,0,Un,un))break n;for(un=un[0],Mi.xc=Yi,hi=0;hi<Ii;++hi){var Vn=un[hi]>>8&65535;un[hi]=Vn,Vn>=En&&(En=Vn+1)}}if(Dr.h)break n;for(je=0;5>je;++je){var ji=al[je];!je&&0<ti&&(ji+=1<<ti),fi<ji&&(fi=ji)}var Ui=c(En*Ln,D),Yn=En,xn=c(Yn,_t);if(xn==null)var Or=null;else t(65536>=Yn),Or=xn;var _i=o(fi);if(Or==null||_i==null||Ui==null){Un.a=1;break n}var Ie=Ui;for(hi=rn=0;hi<En;++hi){var ke=Or[hi],Nn=ke.G,ls=ke.H,qs=0,Qr=1,Vi=0;for(je=0;5>je;++je){ji=al[je],Nn[je]=Ie,ls[je]=rn,!je&&0<ti&&(ji+=1<<ti);r:{var Ro,Lo=ji,Nc=Un,ei=_i,Bh=Ie,Fh=rn,Cc=0,Za=Nc.m,bm=W(Za,1);if(a(ei,0,0,Lo),bm){var zh=W(Za,1)+1,qh=W(Za,1),Ic=W(Za,qh==0?1:8);ei[Ic]=1,zh==2&&(ei[Ic=W(Za,8)]=1);var nr=1}else{var wi=o(19),Bu=W(Za,4)+4;if(19<Bu){Nc.a=3;var ko=0;break r}for(Ro=0;Ro<Bu;++Ro)wi[ju[Ro]]=W(Za,3);var Gl=void 0,ul=void 0,La=Nc,Rc=wi,Yl=Lo,Lc=ei,kc=0,to=La.m,Hh=8,Gh=c(128,D);i:for(;R(Gh,0,7,Rc,19);){if(W(to,1)){var ad=2+2*W(to,3);if((Gl=2+W(to,ad))>Yl)break i}else Gl=Yl;for(ul=0;ul<Yl&&Gl--;){gt(to);var Yh=Gh[0+(127&Z(to))];ut(to,to.u+Yh.g);var Do=Yh.value;if(16>Do)Lc[ul++]=Do,Do!=0&&(Hh=Do);else{var od=Do==16,ld=Do-16,ud=Fl[ld],Kh=W(to,js[ld])+ud;if(ul+Kh>Yl)break i;for(var cd=od?Hh:0;0<Kh--;)Lc[ul++]=cd}}kc=1;break i}kc||(La.a=3),nr=kc}(nr=nr&&!Za.h)&&(Cc=R(Bh,Fh,8,ei,Lo)),nr&&Cc!=0?ko=Cc:(Nc.a=3,ko=0)}if(ko==0)break n;if(Qr&&wc[je]==1&&(Qr=Ie[rn].g==0),qs+=Ie[rn].g,rn+=ko,3>=je){var cl,Dc=_i[0];for(cl=1;cl<ji;++cl)_i[cl]>Dc&&(Dc=_i[cl]);Vi+=Dc}}if(ke.nd=Qr,ke.Qb=0,Qr&&(ke.qb=(Nn[3][ls[3]+0].value<<24|Nn[1][ls[1]+0].value<<16|Nn[2][ls[2]+0].value)>>>0,qs==0&&256>Nn[0][ls[0]+0].value&&(ke.Qb=1,ke.qb+=Nn[0][ls[0]+0].value<<8)),ke.jc=!ke.Qb&&6>Vi,ke.jc){var Fu,ka=ke;for(Fu=0;Fu<Ao;++Fu){var eo=Fu,no=ka.pd[eo],Oc=ka.G[0][ka.H[0]+eo];256<=Oc.value?(no.g=Oc.g+256,no.value=Oc.value):(no.g=0,no.value=0,eo>>=Qn(Oc,8,no),eo>>=Qn(ka.G[1][ka.H[1]+eo],16,no),eo>>=Qn(ka.G[2][ka.H[2]+eo],0,no),Qn(ka.G[3][ka.H[3]+eo],24,no))}}}Mi.vc=un,Mi.Wb=En,Mi.Ya=Or,Mi.yc=Ui,Zt=1;break e}Zt=0}if(!(B=Zt)){T.a=3;break t}if(0<Tt){if(nt.ua=1<<Tt,!M(nt.Wa,Tt)){T.a=1,B=0;break t}}else nt.ua=0;var Pc=T,hl=F,hd=X,Kl=Pc.s,$l=Kl.xc;if(Pc.c=hl,Pc.i=hd,Kl.md=jt(hl,$l),Kl.wc=$l==0?-1:(1<<$l)-1,A){T.xb=Eo;break t}if((pt=o(F*X))==null){T.a=1,B=0;break t}B=(B=Er(T,pt,0,F,X,X,null))&&!J.h;break t}return B?(U!=null?U[0]=pt:(t(pt==null),t(A)),T.$=0,A||ns(nt)):ns(nt),B}function Tr(f,y){var A=f.c*f.i,T=A+y+16*y;return t(f.c<=y),f.V=o(T),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+A+y,1)}function Zs(f,y){var A=f.C,T=y-A,U=f.V,B=f.Ba+f.c*A;for(t(y<=f.l.o);0<T;){var F=16<T?16:T,X=f.l.ma,J=f.l.width,nt=J*F,pt=X.ca,Tt=X.tb+J*A,tt=f.Ta,yt=f.Ua;ur(f,F,U,B),Ts(tt,yt,pt,Tt,nt),Hn(X,A,A+F,pt,Tt,J),T-=F,U+=F*f.c,A+=F}t(A==y),f.C=f.Ma=y}function Br(){this.ub=this.yd=this.td=this.Rb=0}function cr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Fr(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function is(){this.Yb=(function(){var f=[];return(function y(A,T,U){for(var B=U[T],F=0;F<B&&(A.push(U.length>T+1?[]:0),!(U.length<T+1));F++)y(A[F],T+1,U)})(f,0,[3,11]),f})()}function ci(){this.jb=o(3),this.Wc=h([4,8],is),this.Xc=h([4,17],is)}function po(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Nr(){this.ld=this.La=this.dd=this.tc=0}function rs(){this.Na=this.la=0}function bs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ua(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function mo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Nr),this.Y=0,this.ya=Array(new Ua),this.aa=0,this.l=new Zi}function go(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Xo(){this.cb=this.a=0,this.sc="",this.m=new k,this.Od=new Br,this.Kc=new cr,this.ed=new po,this.Qa=new Fr,this.Ic=this.$c=this.Aa=0,this.D=new mo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,k),this.ia=0,this.pb=c(4,bs),this.Pa=new ci,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new go),this.Hd=0,this.rb=Array(new rs),this.sb=0,this.wa=Array(new Nr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ua),this.L=this.aa=0,this.gd=h([4,2],Nr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function zr(f,y){return 0>f?0:f>y?y:f}function Zi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function yi(){var f=new Xo;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,Ns||(Ns=yn)),f}function cn(f,y,A){return f.a==0&&(f.a=y,f.sc=A,f.cb=0),0}function ta(f,y,A){return 3<=A&&f[y+0]==157&&f[y+1]==1&&f[y+2]==42}function ss(f,y){if(f==null)return 0;if(f.a=0,f.sc="OK",y==null)return cn(f,2,"null VP8Io passed to VP8GetHeaders()");var A=y.data,T=y.w,U=y.ha;if(4>U)return cn(f,7,"Truncated header.");var B=A[T+0]|A[T+1]<<8|A[T+2]<<16,F=f.Od;if(F.Rb=!(1&B),F.td=B>>1&7,F.yd=B>>4&1,F.ub=B>>5,3<F.td)return cn(f,3,"Incorrect keyframe parameters.");if(!F.yd)return cn(f,4,"Frame not displayable.");T+=3,U-=3;var X=f.Kc;if(F.Rb){if(7>U)return cn(f,7,"cannot parse picture header");if(!ta(A,T,U))return cn(f,3,"Bad code word");X.c=16383&(A[T+4]<<8|A[T+3]),X.Td=A[T+4]>>6,X.i=16383&(A[T+6]<<8|A[T+5]),X.Ud=A[T+6]>>6,T+=7,U-=7,f.za=X.c+15>>4,f.Ub=X.i+15>>4,y.width=X.c,y.height=X.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,a((B=f.Pa).jb,0,255,B.jb.length),t((B=f.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,a(B.Zb,0,0,B.Zb.length),a(B.Lb,0,0,B.Lb)}if(F.ub>U)return cn(f,7,"bad partition length");it(B=f.m,A,T,F.ub),T+=F.ub,U-=F.ub,F.Rb&&(X.Ld=Ct(B),X.Kd=Ct(B)),X=f.Qa;var J,nt=f.Pa;if(t(B!=null),t(X!=null),X.Cb=Ct(B),X.Cb){if(X.Bb=Ct(B),Ct(B)){for(X.Fb=Ct(B),J=0;4>J;++J)X.Zb[J]=Ct(B)?ft(B,7):0;for(J=0;4>J;++J)X.Lb[J]=Ct(B)?ft(B,6):0}if(X.Bb)for(J=0;3>J;++J)nt.jb[J]=Ct(B)?dt(B,8):255}else X.Bb=0;if(B.Ka)return cn(f,3,"cannot parse segment header");if((X=f.ed).zd=Ct(B),X.Tb=dt(B,6),X.wb=dt(B,3),X.Pc=Ct(B),X.Pc&&Ct(B)){for(nt=0;4>nt;++nt)Ct(B)&&(X.vd[nt]=ft(B,6));for(nt=0;4>nt;++nt)Ct(B)&&(X.od[nt]=ft(B,6))}if(f.L=X.Tb==0?0:X.zd?1:2,B.Ka)return cn(f,3,"cannot parse filter header");var pt=U;if(U=J=T,T=J+pt,X=pt,f.Xb=(1<<dt(f.m,2))-1,pt<3*(nt=f.Xb))A=7;else{for(J+=3*nt,X-=3*nt,pt=0;pt<nt;++pt){var Tt=A[U+0]|A[U+1]<<8|A[U+2]<<16;Tt>X&&(Tt=X),it(f.Jc[+pt],A,J,Tt),J+=Tt,X-=Tt,U+=3}it(f.Jc[+nt],A,J,X),A=J<T?0:5}if(A!=0)return cn(f,A,"cannot parse partitions");for(A=dt(J=f.m,7),U=Ct(J)?ft(J,4):0,T=Ct(J)?ft(J,4):0,X=Ct(J)?ft(J,4):0,nt=Ct(J)?ft(J,4):0,J=Ct(J)?ft(J,4):0,pt=f.Qa,Tt=0;4>Tt;++Tt){if(pt.Cb){var tt=pt.Zb[Tt];pt.Fb||(tt+=A)}else{if(0<Tt){f.pb[Tt]=f.pb[0];continue}tt=A}var yt=f.pb[Tt];yt.Sc[0]=Bs[zr(tt+U,127)],yt.Sc[1]=Fs[zr(tt+0,127)],yt.Eb[0]=2*Bs[zr(tt+T,127)],yt.Eb[1]=101581*Fs[zr(tt+X,127)]>>16,8>yt.Eb[1]&&(yt.Eb[1]=8),yt.Qc[0]=Bs[zr(tt+nt,117)],yt.Qc[1]=Fs[zr(tt+J,127)],yt.lc=tt+J}if(!F.Rb)return cn(f,4,"Not a key frame.");for(Ct(B),F=f.Pa,A=0;4>A;++A){for(U=0;8>U;++U)for(T=0;3>T;++T)for(X=0;11>X;++X)nt=Bt(B,si[A][U][T][X])?dt(B,8):rd[A][U][T][X],F.Wc[A][U].Yb[T][X]=nt;for(U=0;17>U;++U)F.Xc[A][U]=F.Wc[A][pn[U]]}return f.kc=Ct(B),f.kc&&(f.Bd=dt(B,8)),f.cb=1}function yn(f,y,A,T,U,B,F){var X=y[U].Yb[A];for(A=0;16>U;++U){if(!Bt(f,X[A+0]))return U;for(;!Bt(f,X[A+1]);)if(X=y[++U].Yb[0],A=0,U==16)return 16;var J=y[U+1].Yb;if(Bt(f,X[A+2])){var nt=f,pt=0;if(Bt(nt,(tt=X)[(Tt=A)+3]))if(Bt(nt,tt[Tt+6])){for(X=0,Tt=2*(pt=Bt(nt,tt[Tt+8]))+(tt=Bt(nt,tt[Tt+9+pt])),pt=0,tt=id[Tt];tt[X];++X)pt+=pt+Bt(nt,tt[X]);pt+=3+(8<<Tt)}else Bt(nt,tt[Tt+7])?(pt=7+2*Bt(nt,165),pt+=Bt(nt,145)):pt=5+Bt(nt,159);else pt=Bt(nt,tt[Tt+4])?3+Bt(nt,tt[Tt+5]):2;X=J[2]}else pt=1,X=J[1];J=F+jh[U],0>(nt=f).b&&Rt(nt);var Tt,tt=nt.b,yt=(Tt=nt.Ca>>1)-(nt.I>>tt)>>31;--nt.b,nt.Ca+=yt,nt.Ca|=1,nt.I-=(Tt+1&yt)<<tt,B[J]=((pt^yt)-yt)*T[(0<U)+0]}return 16}function ya(f){var y=f.rb[f.sb-1];y.la=0,y.Na=0,a(f.zc,0,0,f.zc.length),f.ja=0}function xi(f,y,A,T,U){U=f[y+A+32*T]+(U>>3),f[y+A+32*T]=-256&U?0>U?0:255:U}function ri(f,y,A,T,U,B){xi(f,y,0,A,T+U),xi(f,y,1,A,T+B),xi(f,y,2,A,T-B),xi(f,y,3,A,T-U)}function vi(f){return(20091*f>>16)+f}function Va(f,y,A,T){var U,B=0,F=o(16);for(U=0;4>U;++U){var X=f[y+0]+f[y+8],J=f[y+0]-f[y+8],nt=(35468*f[y+4]>>16)-vi(f[y+12]),pt=vi(f[y+4])+(35468*f[y+12]>>16);F[B+0]=X+pt,F[B+1]=J+nt,F[B+2]=J-nt,F[B+3]=X-pt,B+=4,y++}for(U=B=0;4>U;++U)X=(f=F[B+0]+4)+F[B+8],J=f-F[B+8],nt=(35468*F[B+4]>>16)-vi(F[B+12]),xi(A,T,0,0,X+(pt=vi(F[B+4])+(35468*F[B+12]>>16))),xi(A,T,1,0,J+nt),xi(A,T,2,0,J-nt),xi(A,T,3,0,X-pt),B++,T+=32}function Dl(f,y,A,T){var U=f[y+0]+4,B=35468*f[y+4]>>16,F=vi(f[y+4]),X=35468*f[y+1]>>16;ri(A,T,0,U+F,f=vi(f[y+1]),X),ri(A,T,1,U+B,f,X),ri(A,T,2,U-B,f,X),ri(A,T,3,U-F,f,X)}function Qo(f,y,A,T,U){Va(f,y,A,T),U&&Va(f,y+16,A,T+4)}function hr(f,y,A,T){Qa(f,y+0,A,T,1),Qa(f,y+32,A,T+128,1)}function Wo(f,y,A,T){var U;for(f=f[y+0]+4,U=0;4>U;++U)for(y=0;4>y;++y)xi(A,T,y,U,f)}function ea(f,y,A,T){f[y+0]&&Rn(f,y+0,A,T),f[y+16]&&Rn(f,y+16,A,T+4),f[y+32]&&Rn(f,y+32,A,T+128),f[y+48]&&Rn(f,y+48,A,T+128+4)}function qi(f,y,A,T){var U,B=o(16);for(U=0;4>U;++U){var F=f[y+0+U]+f[y+12+U],X=f[y+4+U]+f[y+8+U],J=f[y+4+U]-f[y+8+U],nt=f[y+0+U]-f[y+12+U];B[0+U]=F+X,B[8+U]=F-X,B[4+U]=nt+J,B[12+U]=nt-J}for(U=0;4>U;++U)F=(f=B[0+4*U]+3)+B[3+4*U],X=B[1+4*U]+B[2+4*U],J=B[1+4*U]-B[2+4*U],nt=f-B[3+4*U],A[T+0]=F+X>>3,A[T+16]=nt+J>>3,A[T+32]=F-X>>3,A[T+48]=nt-J>>3,T+=64}function va(f,y,A){var T,U=y-32,B=Lr,F=255-f[U-1];for(T=0;T<A;++T){var X,J=B,nt=F+f[y-1];for(X=0;X<A;++X)f[y+X]=J[nt+f[U+X]];y+=32}}function Jo(f,y){va(f,y,4)}function Zo(f,y){va(f,y,8)}function yo(f,y){va(f,y,16)}function vo(f,y){var A;for(A=0;16>A;++A)r(f,y+32*A,f,y-32,16)}function na(f,y){var A;for(A=16;0<A;--A)a(f,y,f[y-1],16),y+=32}function Cr(f,y,A){var T;for(T=0;16>T;++T)a(y,A+32*T,f,16)}function _s(f,y){var A,T=16;for(A=0;16>A;++A)T+=f[y-1+32*A]+f[y+A-32];Cr(T>>5,f,y)}function ia(f,y){var A,T=8;for(A=0;16>A;++A)T+=f[y-1+32*A];Cr(T>>4,f,y)}function Ir(f,y){var A,T=8;for(A=0;16>A;++A)T+=f[y+A-32];Cr(T>>4,f,y)}function ba(f,y){Cr(128,f,y)}function Ce(f,y,A){return f+2*y+A+2>>2}function Ba(f,y){var A,T=y-32;for(T=new Uint8Array([Ce(f[T-1],f[T+0],f[T+1]),Ce(f[T+0],f[T+1],f[T+2]),Ce(f[T+1],f[T+2],f[T+3]),Ce(f[T+2],f[T+3],f[T+4])]),A=0;4>A;++A)r(f,y+32*A,T,0,T.length)}function bo(f,y){var A=f[y-1],T=f[y-1+32],U=f[y-1+64],B=f[y-1+96];Xt(f,y+0,16843009*Ce(f[y-1-32],A,T)),Xt(f,y+32,16843009*Ce(A,T,U)),Xt(f,y+64,16843009*Ce(T,U,B)),Xt(f,y+96,16843009*Ce(U,B,B))}function _a(f,y){var A,T=4;for(A=0;4>A;++A)T+=f[y+A-32]+f[y-1+32*A];for(T>>=3,A=0;4>A;++A)a(f,y+32*A,T,4)}function Hi(f,y){var A=f[y-1+0],T=f[y-1+32],U=f[y-1+64],B=f[y-1-32],F=f[y+0-32],X=f[y+1-32],J=f[y+2-32],nt=f[y+3-32];f[y+0+96]=Ce(T,U,f[y-1+96]),f[y+1+96]=f[y+0+64]=Ce(A,T,U),f[y+2+96]=f[y+1+64]=f[y+0+32]=Ce(B,A,T),f[y+3+96]=f[y+2+64]=f[y+1+32]=f[y+0+0]=Ce(F,B,A),f[y+3+64]=f[y+2+32]=f[y+1+0]=Ce(X,F,B),f[y+3+32]=f[y+2+0]=Ce(J,X,F),f[y+3+0]=Ce(nt,J,X)}function Oi(f,y){var A=f[y+1-32],T=f[y+2-32],U=f[y+3-32],B=f[y+4-32],F=f[y+5-32],X=f[y+6-32],J=f[y+7-32];f[y+0+0]=Ce(f[y+0-32],A,T),f[y+1+0]=f[y+0+32]=Ce(A,T,U),f[y+2+0]=f[y+1+32]=f[y+0+64]=Ce(T,U,B),f[y+3+0]=f[y+2+32]=f[y+1+64]=f[y+0+96]=Ce(U,B,F),f[y+3+32]=f[y+2+64]=f[y+1+96]=Ce(B,F,X),f[y+3+64]=f[y+2+96]=Ce(F,X,J),f[y+3+96]=Ce(X,J,J)}function Fa(f,y){var A=f[y-1+0],T=f[y-1+32],U=f[y-1+64],B=f[y-1-32],F=f[y+0-32],X=f[y+1-32],J=f[y+2-32],nt=f[y+3-32];f[y+0+0]=f[y+1+64]=B+F+1>>1,f[y+1+0]=f[y+2+64]=F+X+1>>1,f[y+2+0]=f[y+3+64]=X+J+1>>1,f[y+3+0]=J+nt+1>>1,f[y+0+96]=Ce(U,T,A),f[y+0+64]=Ce(T,A,B),f[y+0+32]=f[y+1+96]=Ce(A,B,F),f[y+1+32]=f[y+2+96]=Ce(B,F,X),f[y+2+32]=f[y+3+96]=Ce(F,X,J),f[y+3+32]=Ce(X,J,nt)}function On(f,y){var A=f[y+0-32],T=f[y+1-32],U=f[y+2-32],B=f[y+3-32],F=f[y+4-32],X=f[y+5-32],J=f[y+6-32],nt=f[y+7-32];f[y+0+0]=A+T+1>>1,f[y+1+0]=f[y+0+64]=T+U+1>>1,f[y+2+0]=f[y+1+64]=U+B+1>>1,f[y+3+0]=f[y+2+64]=B+F+1>>1,f[y+0+32]=Ce(A,T,U),f[y+1+32]=f[y+0+96]=Ce(T,U,B),f[y+2+32]=f[y+1+96]=Ce(U,B,F),f[y+3+32]=f[y+2+96]=Ce(B,F,X),f[y+3+64]=Ce(F,X,J),f[y+3+96]=Ce(X,J,nt)}function qr(f,y){var A=f[y-1+0],T=f[y-1+32],U=f[y-1+64],B=f[y-1+96];f[y+0+0]=A+T+1>>1,f[y+2+0]=f[y+0+32]=T+U+1>>1,f[y+2+32]=f[y+0+64]=U+B+1>>1,f[y+1+0]=Ce(A,T,U),f[y+3+0]=f[y+1+32]=Ce(T,U,B),f[y+3+32]=f[y+1+64]=Ce(U,B,B),f[y+3+64]=f[y+2+64]=f[y+0+96]=f[y+1+96]=f[y+2+96]=f[y+3+96]=B}function za(f,y){var A=f[y-1+0],T=f[y-1+32],U=f[y-1+64],B=f[y-1+96],F=f[y-1-32],X=f[y+0-32],J=f[y+1-32],nt=f[y+2-32];f[y+0+0]=f[y+2+32]=A+F+1>>1,f[y+0+32]=f[y+2+64]=T+A+1>>1,f[y+0+64]=f[y+2+96]=U+T+1>>1,f[y+0+96]=B+U+1>>1,f[y+3+0]=Ce(X,J,nt),f[y+2+0]=Ce(F,X,J),f[y+1+0]=f[y+3+32]=Ce(A,F,X),f[y+1+32]=f[y+3+64]=Ce(T,A,F),f[y+1+64]=f[y+3+96]=Ce(U,T,A),f[y+1+96]=Ce(B,U,T)}function ws(f,y){var A;for(A=0;8>A;++A)r(f,y+32*A,f,y-32,8)}function tl(f,y){var A;for(A=0;8>A;++A)a(f,y,f[y-1],8),y+=32}function Hr(f,y,A){var T;for(T=0;8>T;++T)a(y,A+32*T,f,8)}function ra(f,y){var A,T=8;for(A=0;8>A;++A)T+=f[y+A-32]+f[y-1+32*A];Hr(T>>4,f,y)}function Gr(f,y){var A,T=4;for(A=0;8>A;++A)T+=f[y+A-32];Hr(T>>3,f,y)}function Ei(f,y){var A,T=4;for(A=0;8>A;++A)T+=f[y-1+32*A];Hr(T>>3,f,y)}function Is(f,y){Hr(128,f,y)}function tr(f,y,A){var T=f[y-A],U=f[y+0],B=3*(U-T)+Wa[1020+f[y-2*A]-f[y+A]],F=Ou[112+(B+4>>3)];f[y-A]=Lr[255+T+Ou[112+(B+3>>3)]],f[y+0]=Lr[255+U-F]}function Rs(f,y,A,T){var U=f[y+0],B=f[y+A];return mr[255+f[y-2*A]-f[y-A]]>T||mr[255+B-U]>T}function wa(f,y,A,T){return 4*mr[255+f[y-A]-f[y+0]]+mr[255+f[y-2*A]-f[y+A]]<=T}function Ls(f,y,A,T,U){var B=f[y-3*A],F=f[y-2*A],X=f[y-A],J=f[y+0],nt=f[y+A],pt=f[y+2*A],Tt=f[y+3*A];return 4*mr[255+X-J]+mr[255+F-nt]>T?0:mr[255+f[y-4*A]-B]<=U&&mr[255+B-F]<=U&&mr[255+F-X]<=U&&mr[255+Tt-pt]<=U&&mr[255+pt-nt]<=U&&mr[255+nt-J]<=U}function ks(f,y,A,T){var U=2*T+1;for(T=0;16>T;++T)wa(f,y+T,A,U)&&tr(f,y+T,A)}function as(f,y,A,T){var U=2*T+1;for(T=0;16>T;++T)wa(f,y+T*A,1,U)&&tr(f,y+T*A,1)}function qa(f,y,A,T){var U;for(U=3;0<U;--U)ks(f,y+=4*A,A,T)}function _o(f,y,A,T){var U;for(U=3;0<U;--U)as(f,y+=4,A,T)}function Yr(f,y,A,T,U,B,F,X){for(B=2*B+1;0<U--;){if(Ls(f,y,A,B,F))if(Rs(f,y,A,X))tr(f,y,A);else{var J=f,nt=y,pt=A,Tt=J[nt-2*pt],tt=J[nt-pt],yt=J[nt+0],xt=J[nt+pt],Ut=J[nt+2*pt],Et=27*(qt=Wa[1020+3*(yt-tt)+Wa[1020+Tt-xt]])+63>>7,Pt=18*qt+63>>7,qt=9*qt+63>>7;J[nt-3*pt]=Lr[255+J[nt-3*pt]+qt],J[nt-2*pt]=Lr[255+Tt+Pt],J[nt-pt]=Lr[255+tt+Et],J[nt+0]=Lr[255+yt-Et],J[nt+pt]=Lr[255+xt-Pt],J[nt+2*pt]=Lr[255+Ut-qt]}y+=T}}function Ds(f,y,A,T,U,B,F,X){for(B=2*B+1;0<U--;){if(Ls(f,y,A,B,F))if(Rs(f,y,A,X))tr(f,y,A);else{var J=f,nt=y,pt=A,Tt=J[nt-pt],tt=J[nt+0],yt=J[nt+pt],xt=Ou[112+(4+(Ut=3*(tt-Tt))>>3)],Ut=Ou[112+(Ut+3>>3)],Et=xt+1>>1;J[nt-2*pt]=Lr[255+J[nt-2*pt]+Et],J[nt-pt]=Lr[255+Tt+Ut],J[nt+0]=Lr[255+tt-xt],J[nt+pt]=Lr[255+yt-Et]}y+=T}}function el(f,y,A,T,U,B){Yr(f,y,A,1,16,T,U,B)}function As(f,y,A,T,U,B){Yr(f,y,1,A,16,T,U,B)}function wo(f,y,A,T,U,B){var F;for(F=3;0<F;--F)Ds(f,y+=4*A,A,1,16,T,U,B)}function _(f,y,A,T,U,B){var F;for(F=3;0<F;--F)Ds(f,y+=4,1,A,16,T,U,B)}function j(f,y,A,T,U,B,F,X){Yr(f,y,U,1,8,B,F,X),Yr(A,T,U,1,8,B,F,X)}function et(f,y,A,T,U,B,F,X){Yr(f,y,1,U,8,B,F,X),Yr(A,T,1,U,8,B,F,X)}function ht(f,y,A,T,U,B,F,X){Ds(f,y+4*U,U,1,8,B,F,X),Ds(A,T+4*U,U,1,8,B,F,X)}function bt(f,y,A,T,U,B,F,X){Ds(f,y+4,1,U,8,B,F,X),Ds(A,T+4,1,U,8,B,F,X)}function Ft(){this.ba=new we,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new an,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Kt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function le(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function de(){this.ua=0,this.Wa=new ce,this.vb=new ce,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new _t,this.yc=new D}function Le(){this.xb=this.a=0,this.l=new Zi,this.ca=new we,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $,this.Pb=0,this.wd=new $,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new de,this.ab=0,this.gc=c(4,le),this.Oc=0}function xe(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Zi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function fn(f,y,A,T,U,B,F){for(f=f==null?0:f[y+0],y=0;y<F;++y)U[B+y]=f+A[T+y]&255,f=U[B+y]}function Wn(f,y,A,T,U,B,F){var X;if(f==null)fn(null,null,A,T,U,B,F);else for(X=0;X<F;++X)U[B+X]=f[y+X]+A[T+X]&255}function zn(f,y,A,T,U,B,F){if(f==null)fn(null,null,A,T,U,B,F);else{var X,J=f[y+0],nt=J,pt=J;for(X=0;X<F;++X)nt=pt+(J=f[y+X])-nt,pt=A[T+X]+(-256&nt?0>nt?0:255:nt)&255,nt=J,U[B+X]=pt}}function p(f,y,A,T){var U=y.width,B=y.o;if(t(f!=null&&y!=null),0>A||0>=T||A+T>B)return null;if(!f.Cc){if(f.ga==null){var F;if(f.ga=new xe,(F=f.ga==null)||(F=y.width*y.o,t(f.Gb.length==0),f.Gb=o(F),f.Uc=0,f.Gb==null?F=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,F=1),F=!F),!F){F=f.ga;var X=f.Fa,J=f.P,nt=f.qc,pt=f.mb,Tt=f.nb,tt=J+1,yt=nt-1,xt=F.l;if(t(X!=null&&pt!=null&&y!=null),Ja[0]=null,Ja[1]=fn,Ja[2]=Wn,Ja[3]=zn,F.ca=pt,F.tb=Tt,F.c=y.width,F.i=y.height,t(0<F.c&&0<F.i),1>=nt)y=0;else if(F.$a=3&X[J+0],F.Z=X[J+0]>>2&3,F.Lc=X[J+0]>>4&3,J=X[J+0]>>6&3,0>F.$a||1<F.$a||4<=F.Z||1<F.Lc||J)y=0;else if(xt.put=Se,xt.ac=zi,xt.bc=Js,xt.ma=F,xt.width=y.width,xt.height=y.height,xt.Da=y.Da,xt.v=y.v,xt.va=y.va,xt.j=y.j,xt.o=y.o,F.$a)t:{t(F.$a==1),y=ga();e:for(;;){if(y==null){y=0;break t}if(t(F!=null),F.mc=y,y.c=F.c,y.i=F.i,y.l=F.l,y.l.ma=F,y.l.width=F.c,y.l.height=F.i,y.a=0,vt(y.m,X,tt,yt),!vs(F.c,F.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&Dn(y.s)?(F.ic=1,X=y.c*y.i,y.Ta=null,y.Ua=0,y.V=o(X),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(F.ic=0,y=Tr(y,F.c)),!y))break e;y=1;break t}F.mc=null,y=0}else y=yt>=F.c*F.i;F=!y}if(F)return null;f.ga.Lc!=1?f.Ga=0:T=B-A}t(f.ga!=null),t(A+T<=B);t:{if(y=(X=f.ga).c,B=X.l.o,X.$a==0){if(tt=f.rc,yt=f.Vc,xt=f.Fa,J=f.P+1+A*y,nt=f.mb,pt=f.nb+A*y,t(J<=f.P+f.qc),X.Z!=0)for(t(Ja[X.Z]!=null),F=0;F<T;++F)Ja[X.Z](tt,yt,xt,J,nt,pt,y),tt=nt,yt=pt,pt+=y,J+=y;else for(F=0;F<T;++F)r(nt,pt,xt,J,y),tt=nt,yt=pt,pt+=y,J+=y;f.rc=tt,f.Vc=yt}else{if(t(X.mc!=null),y=A+T,t((F=X.mc)!=null),t(y<=F.i),F.C>=y)y=1;else if(X.ic||Lt(),X.ic){X=F.V,tt=F.Ba,yt=F.c;var Ut=F.i,Et=(xt=1,J=F.$/yt,nt=F.$%yt,pt=F.m,Tt=F.s,F.$),Pt=yt*Ut,qt=yt*y,Qt=Tt.wc,Yt=Et<qt?ki(Tt,nt,J):null;t(Et<=Pt),t(y<=Ut),t(Dn(Tt));e:for(;;){for(;!pt.h&&Et<qt;){if(nt&Qt||(Yt=ki(Tt,nt,J)),t(Yt!=null),gt(pt),256>(Ut=Fn(Yt.G[0],Yt.H[0],pt)))X[tt+Et]=Ut,++Et,++nt>=yt&&(nt=0,++J<=y&&!(J%16)&&Di(F,J));else{if(!(280>Ut)){xt=0;break e}Ut=Sr(Ut-256,pt);var pe,se=Fn(Yt.G[4],Yt.H[4],pt);if(gt(pt),!(Et>=(se=xr(yt,se=Sr(se,pt)))&&Pt-Et>=Ut)){xt=0;break e}for(pe=0;pe<Ut;++pe)X[tt+Et+pe]=X[tt+Et+pe-se];for(Et+=Ut,nt+=Ut;nt>=yt;)nt-=yt,++J<=y&&!(J%16)&&Di(F,J);Et<qt&&nt&Qt&&(Yt=ki(Tt,nt,J))}t(pt.h==at(pt))}Di(F,J>y?y:J);break e}!xt||pt.h&&Et<Pt?(xt=0,F.a=pt.h?5:3):F.$=Et,y=xt}else y=Er(F,F.V,F.Ba,F.c,F.i,y,Zs);if(!y){T=0;break t}}A+T>=B&&(f.Cc=1),T=1}if(!T)return null;if(f.Cc&&((T=f.ga)!=null&&(T.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+A*U}function x(f,y,A,T,U,B){for(;0<U--;){var F,X=f,J=y+(A?1:0),nt=f,pt=y+(A?0:3);for(F=0;F<T;++F){var Tt=nt[pt+4*F];Tt!=255&&(Tt*=32897,X[J+4*F+0]=X[J+4*F+0]*Tt>>23,X[J+4*F+1]=X[J+4*F+1]*Tt>>23,X[J+4*F+2]=X[J+4*F+2]*Tt>>23)}y+=B}}function L(f,y,A,T,U){for(;0<T--;){var B;for(B=0;B<A;++B){var F=f[y+2*B+0],X=15&(nt=f[y+2*B+1]),J=4369*X,nt=(240&nt|nt>>4)*J>>16;f[y+2*B+0]=(240&F|F>>4)*J>>16&240|(15&F|F<<4)*J>>16>>4&15,f[y+2*B+1]=240&nt|X}y+=U}}function Q(f,y,A,T,U,B,F,X){var J,nt,pt=255;for(nt=0;nt<U;++nt){for(J=0;J<T;++J){var Tt=f[y+J];B[F+4*J]=Tt,pt&=Tt}y+=A,F+=X}return pt!=255}function St(f,y,A,T,U){var B;for(B=0;B<U;++B)A[T+B]=f[y+B]>>8}function Lt(){rl=x,Ps=L,Lu=Q,Ts=St}function Jt(f,y,A){N[f]=function(T,U,B,F,X,J,nt,pt,Tt,tt,yt,xt,Ut,Et,Pt,qt,Qt){var Yt,pe=Qt-1>>1,se=X[J+0]|nt[pt+0]<<16,He=Tt[tt+0]|yt[xt+0]<<16;t(T!=null);var he=3*se+He+131074>>2;for(y(T[U+0],255&he,he>>16,Ut,Et),B!=null&&(he=3*He+se+131074>>2,y(B[F+0],255&he,he>>16,Pt,qt)),Yt=1;Yt<=pe;++Yt){var dn=X[J+Yt]|nt[pt+Yt]<<16,ai=Tt[tt+Yt]|yt[xt+Yt]<<16,Ze=se+dn+He+ai+524296,ae=Ze+2*(dn+He)>>3;he=ae+se>>1,se=(Ze=Ze+2*(se+ai)>>3)+dn>>1,y(T[U+2*Yt-1],255&he,he>>16,Ut,Et+(2*Yt-1)*A),y(T[U+2*Yt-0],255&se,se>>16,Ut,Et+(2*Yt-0)*A),B!=null&&(he=Ze+He>>1,se=ae+ai>>1,y(B[F+2*Yt-1],255&he,he>>16,Pt,qt+(2*Yt-1)*A),y(B[F+2*Yt+0],255&se,se>>16,Pt,qt+(2*Yt+0)*A)),se=dn,He=ai}1&Qt||(he=3*se+He+131074>>2,y(T[U+Qt-1],255&he,he>>16,Ut,Et+(Qt-1)*A),B!=null&&(he=3*He+se+131074>>2,y(B[F+Qt-1],255&he,he>>16,Pt,qt+(Qt-1)*A)))}}function ze(){yr[yc]=ol,yr[kr]=zl,yr[vc]=Vh,yr[Ms]=Sc,yr[Pu]=To,yr[Vl]=Ra,yr[So]=No,yr[Mu]=zl,yr[bc]=Sc,yr[Bl]=To,yr[_c]=Ra}function Jn(f){return f&-16384?0>f?0:255:f>>xc}function ln(f,y){return Jn((19077*f>>8)+(26149*y>>8)-14234)}function Pn(f,y,A){return Jn((19077*f>>8)-(6419*y>>8)-(13320*A>>8)+8708)}function er(f,y){return Jn((19077*f>>8)+(33050*y>>8)-17685)}function fr(f,y,A,T,U){T[U+0]=ln(f,A),T[U+1]=Pn(f,y,A),T[U+2]=er(f,y)}function Gn(f,y,A,T,U){T[U+0]=er(f,y),T[U+1]=Pn(f,y,A),T[U+2]=ln(f,A)}function dr(f,y,A,T,U){var B=Pn(f,y,A);y=B<<3&224|er(f,y)>>3,T[U+0]=248&ln(f,A)|B>>5,T[U+1]=y}function Ss(f,y,A,T,U){var B=240&er(f,y)|15;T[U+0]=240&ln(f,A)|Pn(f,y,A)>>4,T[U+1]=B}function Aa(f,y,A,T,U){T[U+0]=255,fr(f,y,A,T,U+1)}function Sa(f,y,A,T,U){Gn(f,y,A,T,U),T[U+3]=255}function Kr(f,y,A,T,U){fr(f,y,A,T,U),T[U+3]=255}function Ha(f,y,A){N[f]=function(T,U,B,F,X,J,nt,pt,Tt){for(var tt=pt+(-2&Tt)*A;pt!=tt;)y(T[U+0],B[F+0],X[J+0],nt,pt),y(T[U+1],B[F+0],X[J+0],nt,pt+A),U+=2,++F,++J,pt+=2*A;1&Tt&&y(T[U+0],B[F+0],X[J+0],nt,pt)}}function Ol(f,y,A){return A==0?f==0?y==0?6:5:y==0?4:0:A}function Cu(f,y,A,T,U){switch(f>>>30){case 3:Qa(y,A,T,U,0);break;case 2:Rr(y,A,T,U);break;case 1:Rn(y,A,T,U)}}function xs(f,y){var A,T,U=y.M,B=y.Nb,F=f.oc,X=f.pc+40,J=f.oc,nt=f.pc+584,pt=f.oc,Tt=f.pc+600;for(A=0;16>A;++A)F[X+32*A-1]=129;for(A=0;8>A;++A)J[nt+32*A-1]=129,pt[Tt+32*A-1]=129;for(0<U?F[X-1-32]=J[nt-1-32]=pt[Tt-1-32]=129:(a(F,X-32-1,127,21),a(J,nt-32-1,127,9),a(pt,Tt-32-1,127,9)),T=0;T<f.za;++T){var tt=y.ya[y.aa+T];if(0<T){for(A=-1;16>A;++A)r(F,X+32*A-4,F,X+32*A+12,4);for(A=-1;8>A;++A)r(J,nt+32*A-4,J,nt+32*A+4,4),r(pt,Tt+32*A-4,pt,Tt+32*A+4,4)}var yt=f.Gd,xt=f.Hd+T,Ut=tt.ad,Et=tt.Hc;if(0<U&&(r(F,X-32,yt[xt].y,0,16),r(J,nt-32,yt[xt].f,0,8),r(pt,Tt-32,yt[xt].ea,0,8)),tt.Za){var Pt=F,qt=X-32+16;for(0<U&&(T>=f.za-1?a(Pt,qt,yt[xt].y[15],4):r(Pt,qt,yt[xt+1].y,0,4)),A=0;4>A;A++)Pt[qt+128+A]=Pt[qt+256+A]=Pt[qt+384+A]=Pt[qt+0+A];for(A=0;16>A;++A,Et<<=2)Pt=F,qt=X+Ci[A],bi[tt.Ob[A]](Pt,qt),Cu(Et,Ut,16*+A,Pt,qt)}else if(Pt=Ol(T,U,tt.Ob[0]),Xr[Pt](F,X),Et!=0)for(A=0;16>A;++A,Et<<=2)Cu(Et,Ut,16*+A,F,X+Ci[A]);for(A=tt.Gc,Pt=Ol(T,U,tt.Dd),la[Pt](J,nt),la[Pt](pt,Tt),Et=Ut,Pt=J,qt=nt,255&(tt=0|A)&&(170&tt?Os(Et,256,Pt,qt):Sn(Et,256,Pt,qt)),tt=pt,Et=Tt,255&(A>>=8)&&(170&A?Os(Ut,320,tt,Et):Sn(Ut,320,tt,Et)),U<f.Ub-1&&(r(yt[xt].y,0,F,X+480,16),r(yt[xt].f,0,J,nt+224,8),r(yt[xt].ea,0,pt,Tt+224,8)),A=8*B*f.B,yt=f.sa,xt=f.ta+16*T+16*B*f.R,Ut=f.qa,tt=f.ra+8*T+A,Et=f.Ha,Pt=f.Ia+8*T+A,A=0;16>A;++A)r(yt,xt+A*f.R,F,X+32*A,16);for(A=0;8>A;++A)r(Ut,tt+A*f.B,J,nt+32*A,8),r(Et,Pt+A*f.B,pt,Tt+32*A,8)}}function sa(f,y,A,T,U,B,F,X,J){var nt=[0],pt=[0],Tt=0,tt=J!=null?J.kd:0,yt=J??new Kt;if(f==null||12>A)return 7;yt.data=f,yt.w=y,yt.ha=A,y=[y],A=[A],yt.gb=[yt.gb];t:{var xt=y,Ut=A,Et=yt.gb;if(t(f!=null),t(Ut!=null),t(Et!=null),Et[0]=0,12<=Ut[0]&&!e(f,xt[0],"RIFF")){if(e(f,xt[0]+8,"WEBP")){Et=3;break t}var Pt=oe(f,xt[0]+4);if(12>Pt||4294967286<Pt){Et=3;break t}if(tt&&Pt>Ut[0]-8){Et=7;break t}Et[0]=Pt,xt[0]+=12,Ut[0]-=12}Et=0}if(Et!=0)return Et;for(Pt=0<yt.gb[0],A=A[0];;){t:{var qt=f;Ut=y,Et=A;var Qt=nt,Yt=pt,pe=xt=[0];if((he=Tt=[Tt])[0]=0,8>Et[0])Et=7;else{if(!e(qt,Ut[0],"VP8X")){if(oe(qt,Ut[0]+4)!=10){Et=3;break t}if(18>Et[0]){Et=7;break t}var se=oe(qt,Ut[0]+8),He=1+ee(qt,Ut[0]+12);if(2147483648<=He*(qt=1+ee(qt,Ut[0]+15))){Et=3;break t}pe!=null&&(pe[0]=se),Qt!=null&&(Qt[0]=He),Yt!=null&&(Yt[0]=qt),Ut[0]+=18,Et[0]-=18,he[0]=1}Et=0}}if(Tt=Tt[0],xt=xt[0],Et!=0)return Et;if(Ut=!!(2&xt),!Pt&&Tt)return 3;if(B!=null&&(B[0]=!!(16&xt)),F!=null&&(F[0]=Ut),X!=null&&(X[0]=0),F=nt[0],xt=pt[0],Tt&&Ut&&J==null){Et=0;break}if(4>A){Et=7;break}if(Pt&&Tt||!Pt&&!Tt&&!e(f,y[0],"ALPH")){A=[A],yt.na=[yt.na],yt.P=[yt.P],yt.Sa=[yt.Sa];t:{se=f,Et=y,Pt=A;var he=yt.gb;Qt=yt.na,Yt=yt.P,pe=yt.Sa,He=22,t(se!=null),t(Pt!=null),qt=Et[0];var dn=Pt[0];for(t(Qt!=null),t(pe!=null),Qt[0]=null,Yt[0]=null,pe[0]=0;;){if(Et[0]=qt,Pt[0]=dn,8>dn){Et=7;break t}var ai=oe(se,qt+4);if(4294967286<ai){Et=3;break t}var Ze=8+ai+1&-2;if(He+=Ze,0<he&&He>he){Et=3;break t}if(!e(se,qt,"VP8 ")||!e(se,qt,"VP8L")){Et=0;break t}if(dn[0]<Ze){Et=7;break t}e(se,qt,"ALPH")||(Qt[0]=se,Yt[0]=qt+8,pe[0]=ai),qt+=Ze,dn-=Ze}}if(A=A[0],yt.na=yt.na[0],yt.P=yt.P[0],yt.Sa=yt.Sa[0],Et!=0)break}A=[A],yt.Ja=[yt.Ja],yt.xa=[yt.xa];t:if(he=f,Et=y,Pt=A,Qt=yt.gb[0],Yt=yt.Ja,pe=yt.xa,se=Et[0],qt=!e(he,se,"VP8 "),He=!e(he,se,"VP8L"),t(he!=null),t(Pt!=null),t(Yt!=null),t(pe!=null),8>Pt[0])Et=7;else{if(qt||He){if(he=oe(he,se+4),12<=Qt&&he>Qt-12){Et=3;break t}if(tt&&he>Pt[0]-8){Et=7;break t}Yt[0]=he,Et[0]+=8,Pt[0]-=8,pe[0]=He}else pe[0]=5<=Pt[0]&&he[se+0]==47&&!(he[se+4]>>5),Yt[0]=Pt[0];Et=0}if(A=A[0],yt.Ja=yt.Ja[0],yt.xa=yt.xa[0],y=y[0],Et!=0)break;if(4294967286<yt.Ja)return 3;if(X==null||Ut||(X[0]=yt.xa?2:1),F=[F],xt=[xt],yt.xa){if(5>A){Et=7;break}X=F,tt=xt,Ut=B,f==null||5>A?f=0:5<=A&&f[y+0]==47&&!(f[y+4]>>5)?(Pt=[0],he=[0],Qt=[0],vt(Yt=new $,f,y,A),Vr(Yt,Pt,he,Qt)?(X!=null&&(X[0]=Pt[0]),tt!=null&&(tt[0]=he[0]),Ut!=null&&(Ut[0]=Qt[0]),f=1):f=0):f=0}else{if(10>A){Et=7;break}X=xt,f==null||10>A||!ta(f,y+3,A-3)?f=0:(tt=f[y+0]|f[y+1]<<8|f[y+2]<<16,Ut=16383&(f[y+7]<<8|f[y+6]),f=16383&(f[y+9]<<8|f[y+8]),1&tt||3<(tt>>1&7)||!(tt>>4&1)||tt>>5>=yt.Ja||!Ut||!f?f=0:(F&&(F[0]=Ut),X&&(X[0]=f),f=1))}if(!f||(F=F[0],xt=xt[0],Tt&&(nt[0]!=F||pt[0]!=xt)))return 3;J!=null&&(J[0]=yt,J.offset=y-J.w,t(4294967286>y-J.w),t(J.offset==J.ha-A));break}return Et==0||Et==7&&Tt&&J==null?(B!=null&&(B[0]|=yt.na!=null&&0<yt.na.length),T!=null&&(T[0]=F),U!=null&&(U[0]=xt),0):Et}function Ga(f,y,A){var T=y.width,U=y.height,B=0,F=0,X=T,J=U;if(y.Da=f!=null&&0<f.Da,y.Da&&(X=f.cd,J=f.bd,B=f.v,F=f.j,11>A||(B&=-2,F&=-2),0>B||0>F||0>=X||0>=J||B+X>T||F+J>U))return 0;if(y.v=B,y.j=F,y.va=B+X,y.o=F+J,y.U=X,y.T=J,y.da=f!=null&&0<f.da,y.da){if(!ie(X,J,A=[f.ib],B=[f.hb]))return 0;y.ib=A[0],y.hb=B[0]}return y.ob=f!=null&&f.ob,y.Kb=f==null||!f.Sd,y.da&&(y.ob=y.ib<3*T/4&&y.hb<3*U/4,y.Kb=0),1}function Iu(f){if(f==null)return 2;if(11>f.S){var y=f.f.RGBA;y.fb+=(f.height-1)*y.A,y.A=-y.A}else y=f.f.kb,f=f.height,y.O+=(f-1)*y.fa,y.fa=-y.fa,y.N+=(f-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(f-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(f-1)*y.lb,y.lb=-y.lb);return 0}function aa(f,y,A,T){if(T==null||0>=f||0>=y)return 2;if(A!=null){if(A.Da){var U=A.cd,B=A.bd,F=-2&A.v,X=-2&A.j;if(0>F||0>X||0>=U||0>=B||F+U>f||X+B>y)return 2;f=U,y=B}if(A.da){if(!ie(f,y,U=[A.ib],B=[A.hb]))return 2;f=U[0],y=B[0]}}T.width=f,T.height=y;t:{var J=T.width,nt=T.height;if(f=T.S,0>=J||0>=nt||!(f>=yc&&13>f))f=2;else{if(0>=T.Rd&&T.sd==null){F=B=U=y=0;var pt=(X=J*Tc[f])*nt;if(11>f||(B=(nt+1)/2*(y=(J+1)/2),f==12&&(F=(U=J)*nt)),(nt=o(pt+2*B+F))==null){f=1;break t}T.sd=nt,11>f?((J=T.f.RGBA).eb=nt,J.fb=0,J.A=X,J.size=pt):((J=T.f.kb).y=nt,J.O=0,J.fa=X,J.Fd=pt,J.f=nt,J.N=0+pt,J.Ab=y,J.Cd=B,J.ea=nt,J.W=0+pt+B,J.Db=y,J.Ed=B,f==12&&(J.F=nt,J.J=0+pt+2*B),J.Tc=F,J.lb=U)}if(y=1,U=T.S,B=T.width,F=T.height,U>=yc&&13>U)if(11>U)f=T.f.RGBA,y&=(X=Math.abs(f.A))*(F-1)+B<=f.size,y&=X>=B*Tc[U],y&=f.eb!=null;else{f=T.f.kb,X=(B+1)/2,pt=(F+1)/2,J=Math.abs(f.fa),nt=Math.abs(f.Ab);var Tt=Math.abs(f.Db),tt=Math.abs(f.lb),yt=tt*(F-1)+B;y&=J*(F-1)+B<=f.Fd,y&=nt*(pt-1)+X<=f.Cd,y=(y&=Tt*(pt-1)+X<=f.Ed)&J>=B&nt>=X&Tt>=X,y&=f.y!=null,y&=f.f!=null,y&=f.ea!=null,U==12&&(y&=tt>=B,y&=yt<=f.Tc,y&=f.F!=null)}else y=0;f=y?0:2}}return f!=0||A!=null&&A.fd&&(f=Iu(T)),f}var Ao=64,os=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],$r=24,xa=32,Ea=8,Ya=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];re("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(f){return f},N.Predictor2=function(f,y,A){return y[A+0]},N.Predictor3=function(f,y,A){return y[A+1]},N.Predictor4=function(f,y,A){return y[A-1]},N.Predictor5=function(f,y,A){return _e(_e(f,y[A+1]),y[A+0])},N.Predictor6=function(f,y,A){return _e(f,y[A-1])},N.Predictor7=function(f,y,A){return _e(f,y[A+0])},N.Predictor8=function(f,y,A){return _e(y[A-1],y[A+0])},N.Predictor9=function(f,y,A){return _e(y[A+0],y[A+1])},N.Predictor10=function(f,y,A){return _e(_e(f,y[A-1]),_e(y[A+0],y[A+1]))},N.Predictor11=function(f,y,A){var T=y[A+0];return 0>=Be(T>>24&255,f>>24&255,(y=y[A-1])>>24&255)+Be(T>>16&255,f>>16&255,y>>16&255)+Be(T>>8&255,f>>8&255,y>>8&255)+Be(255&T,255&f,255&y)?T:f},N.Predictor12=function(f,y,A){var T=y[A+0];return(Ke((f>>24&255)+(T>>24&255)-((y=y[A-1])>>24&255))<<24|Ke((f>>16&255)+(T>>16&255)-(y>>16&255))<<16|Ke((f>>8&255)+(T>>8&255)-(y>>8&255))<<8|Ke((255&f)+(255&T)-(255&y)))>>>0},N.Predictor13=function(f,y,A){var T=y[A-1];return(Je((f=_e(f,y[A+0]))>>24&255,T>>24&255)<<24|Je(f>>16&255,T>>16&255)<<16|Je(f>>8&255,T>>8&255)<<8|Je(255&f,255&T))>>>0};var Pl=N.PredictorAdd0;N.PredictorAdd1=sn,re("Predictor2","PredictorAdd2"),re("Predictor3","PredictorAdd3"),re("Predictor4","PredictorAdd4"),re("Predictor5","PredictorAdd5"),re("Predictor6","PredictorAdd6"),re("Predictor7","PredictorAdd7"),re("Predictor8","PredictorAdd8"),re("Predictor9","PredictorAdd9"),re("Predictor10","PredictorAdd10"),re("Predictor11","PredictorAdd11"),re("Predictor12","PredictorAdd12"),re("Predictor13","PredictorAdd13");var Ml=N.PredictorAdd2;ye("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),ye("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var Ti,pc=N.ColorIndexInverseTransform,Ta=N.MapARGB,Na=N.VP8LColorIndexInverseTransformAlpha,pr=N.MapAlpha,Ka=N.VP8LPredictorsAdd=[];Ka.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var jl,Ul,$a,Xa,Ca,nl,Es,Qa,Rr,Os,Rn,Sn,Zn,Ni,Ia,oa,il,Ru,Oh,td,ed,nd,Ph,Mh,rl,Ps,Lu,Ts,sl=o(511),mc=o(2041),ku=o(225),Du=o(767),gc=0,Wa=mc,Ou=ku,Lr=Du,mr=sl,yc=0,kr=1,vc=2,Ms=3,Pu=4,Vl=5,So=6,Mu=7,bc=8,Bl=9,_c=10,js=[2,3,7],Fl=[3,3,11],al=[280,256,256,256,40],wc=[0,1,1,1,0],ju=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Us=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Vs=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],xo=8,Bs=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Fs=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ns=null,id=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],jh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ac=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],rd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],gr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],si=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],pn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Xr=[],bi=[],la=[],Eo=1,Uh=2,Ja=[],yr=[];Jt("UpsampleRgbLinePair",fr,3),Jt("UpsampleBgrLinePair",Gn,3),Jt("UpsampleRgbaLinePair",Kr,4),Jt("UpsampleBgraLinePair",Sa,4),Jt("UpsampleArgbLinePair",Aa,4),Jt("UpsampleRgba4444LinePair",Ss,2),Jt("UpsampleRgb565LinePair",dr,2);var ol=N.UpsampleRgbLinePair,Vh=N.UpsampleBgrLinePair,zl=N.UpsampleRgbaLinePair,Sc=N.UpsampleBgraLinePair,To=N.UpsampleArgbLinePair,Ra=N.UpsampleRgba4444LinePair,No=N.UpsampleRgb565LinePair,zs=16,ql=1<<zs-1,ll=-227,Co=482,xc=6,Io=0,vr=o(256),Ec=o(256),sd=o(256),gm=o(256),ym=o(Co-ll),vm=o(Co-ll);Ha("YuvToRgbRow",fr,3),Ha("YuvToBgrRow",Gn,3),Ha("YuvToRgbaRow",Kr,4),Ha("YuvToBgraRow",Sa,4),Ha("YuvToArgbRow",Aa,4),Ha("YuvToRgba4444Row",Ss,2),Ha("YuvToRgb565Row",dr,2);var Ci=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Hl=[0,2,8],Uu=[8,7,6,4,4,2,2,2,1,1,1,1],Vu=1;this.WebPDecodeRGBA=function(f,y,A,T,U){var B=kr,F=new Ft,X=new we;F.ba=X,X.S=B,X.width=[X.width],X.height=[X.height];var J=X.width,nt=X.height,pt=new ve;if(pt==null||f==null)var Tt=2;else t(pt!=null),Tt=sa(f,y,A,pt.width,pt.height,pt.Pd,pt.Qd,pt.format,null);if(Tt!=0?J=0:(J!=null&&(J[0]=pt.width[0]),nt!=null&&(nt[0]=pt.height[0]),J=1),J){X.width=X.width[0],X.height=X.height[0],T!=null&&(T[0]=X.width),U!=null&&(U[0]=X.height);t:{if(T=new Zi,(U=new Kt).data=f,U.w=y,U.ha=A,U.kd=1,y=[0],t(U!=null),((f=sa(U.data,U.w,U.ha,null,null,null,y,null,U))==0||f==7)&&y[0]&&(f=4),(y=f)==0){if(t(F!=null),T.data=U.data,T.w=U.w+U.offset,T.ha=U.ha-U.offset,T.put=Se,T.ac=zi,T.bc=Js,T.ma=F,U.xa){if((f=ga())==null){F=1;break t}if((function(tt,yt){var xt=[0],Ut=[0],Et=[0];e:for(;;){if(tt==null)return 0;if(yt==null)return tt.a=2,0;if(tt.l=yt,tt.a=0,vt(tt.m,yt.data,yt.w,yt.ha),!Vr(tt.m,xt,Ut,Et)){tt.a=3;break e}if(tt.xb=Uh,yt.width=xt[0],yt.height=Ut[0],!vs(xt[0],Ut[0],1,tt,null))break e;return 1}return t(tt.a!=0),0})(f,T)){if(T=(y=aa(T.width,T.height,F.Oa,F.ba))==0){e:{T=f;n:for(;;){if(T==null){T=0;break e}if(t(T.s.yc!=null),t(T.s.Ya!=null),t(0<T.s.Wb),t((A=T.l)!=null),t((U=A.ma)!=null),T.xb!=0){if(T.ca=U.ba,T.tb=U.tb,t(T.ca!=null),!Ga(U.Oa,A,Ms)){T.a=2;break n}if(!Tr(T,A.width)||A.da)break n;if((A.da||Oe(T.ca.S))&&Lt(),11>T.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),T.ca.f.kb.F!=null&&Lt()),T.Pb&&0<T.s.ua&&T.s.vb.X==null&&!M(T.s.vb,T.s.Wa.Xa)){T.a=1;break n}T.xb=0}if(!Er(T,T.V,T.Ba,T.c,T.i,A.o,Ji))break n;U.Dc=T.Ma,T=1;break e}t(T.a!=0),T=0}T=!T}T&&(y=f.a)}else y=f.a}else{if((f=new yi)==null){F=1;break t}if(f.Fa=U.na,f.P=U.P,f.qc=U.Sa,ss(f,T)){if((y=aa(T.width,T.height,F.Oa,F.ba))==0){if(f.Aa=0,A=F.Oa,t((U=f)!=null),A!=null){if(0<(J=0>(J=A.Md)?0:100<J?255:255*J/100)){for(nt=pt=0;4>nt;++nt)12>(Tt=U.pb[nt]).lc&&(Tt.ia=J*Uu[0>Tt.lc?0:Tt.lc]>>3),pt|=Tt.ia;pt&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=A.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}(function(tt,yt){if(tt==null)return 0;if(yt==null)return cn(tt,2,"NULL VP8Io parameter in VP8Decode().");if(!tt.cb&&!ss(tt,yt))return 0;if(t(tt.cb),yt.ac==null||yt.ac(yt)){yt.ob&&(tt.L=0);var xt=Hl[tt.L];if(tt.L==2?(tt.yb=0,tt.zb=0):(tt.yb=yt.v-xt>>4,tt.zb=yt.j-xt>>4,0>tt.yb&&(tt.yb=0),0>tt.zb&&(tt.zb=0)),tt.Va=yt.o+15+xt>>4,tt.Hb=yt.va+15+xt>>4,tt.Hb>tt.za&&(tt.Hb=tt.za),tt.Va>tt.Ub&&(tt.Va=tt.Ub),0<tt.L){var Ut=tt.ed;for(xt=0;4>xt;++xt){var Et;if(tt.Qa.Cb){var Pt=tt.Qa.Lb[xt];tt.Qa.Fb||(Pt+=Ut.Tb)}else Pt=Ut.Tb;for(Et=0;1>=Et;++Et){var qt=tt.gd[xt][Et],Qt=Pt;if(Ut.Pc&&(Qt+=Ut.vd[0],Et&&(Qt+=Ut.od[0])),0<(Qt=0>Qt?0:63<Qt?63:Qt)){var Yt=Qt;0<Ut.wb&&(Yt=4<Ut.wb?Yt>>2:Yt>>1)>9-Ut.wb&&(Yt=9-Ut.wb),1>Yt&&(Yt=1),qt.dd=Yt,qt.tc=2*Qt+Yt,qt.ld=40<=Qt?2:15<=Qt?1:0}else qt.tc=0;qt.La=Et}}}xt=0}else cn(tt,6,"Frame setup failed"),xt=tt.a;if(xt=xt==0){if(xt){tt.$c=0,0<tt.Aa||(tt.Ic=Vu);e:{xt=tt.Ic,Ut=4*(Yt=tt.za);var pe=32*Yt,se=Yt+1,He=0<tt.L?Yt*(0<tt.Aa?2:1):0,he=(tt.Aa==2?2:1)*Yt;if((qt=Ut+832+(Et=3*(16*xt+Hl[tt.L])/2*pe)+(Pt=tt.Fa!=null&&0<tt.Fa.length?tt.Kc.c*tt.Kc.i:0))!=qt)xt=0;else{if(qt>tt.Vb){if(tt.Vb=0,tt.Ec=o(qt),tt.Fc=0,tt.Ec==null){xt=cn(tt,1,"no memory during frame initialization.");break e}tt.Vb=qt}qt=tt.Ec,Qt=tt.Fc,tt.Ac=qt,tt.Bc=Qt,Qt+=Ut,tt.Gd=c(pe,go),tt.Hd=0,tt.rb=c(se+1,rs),tt.sb=1,tt.wa=He?c(He,Nr):null,tt.Y=0,tt.D.Nb=0,tt.D.wa=tt.wa,tt.D.Y=tt.Y,0<tt.Aa&&(tt.D.Y+=Yt),t(!0),tt.oc=qt,tt.pc=Qt,Qt+=832,tt.ya=c(he,Ua),tt.aa=0,tt.D.ya=tt.ya,tt.D.aa=tt.aa,tt.Aa==2&&(tt.D.aa+=Yt),tt.R=16*Yt,tt.B=8*Yt,Yt=(pe=Hl[tt.L])*tt.R,pe=pe/2*tt.B,tt.sa=qt,tt.ta=Qt+Yt,tt.qa=tt.sa,tt.ra=tt.ta+16*xt*tt.R+pe,tt.Ha=tt.qa,tt.Ia=tt.ra+8*xt*tt.B+pe,tt.$c=0,Qt+=Et,tt.mb=Pt?qt:null,tt.nb=Pt?Qt:null,t(Qt+Pt<=tt.Fc+tt.Vb),ya(tt),a(tt.Ac,tt.Bc,0,Ut),xt=1}}if(xt){if(yt.ka=0,yt.y=tt.sa,yt.O=tt.ta,yt.f=tt.qa,yt.N=tt.ra,yt.ea=tt.Ha,yt.Vd=tt.Ia,yt.fa=tt.R,yt.Rc=tt.B,yt.F=null,yt.J=0,!gc){for(xt=-255;255>=xt;++xt)sl[255+xt]=0>xt?-xt:xt;for(xt=-1020;1020>=xt;++xt)mc[1020+xt]=-128>xt?-128:127<xt?127:xt;for(xt=-112;112>=xt;++xt)ku[112+xt]=-16>xt?-16:15<xt?15:xt;for(xt=-255;510>=xt;++xt)Du[255+xt]=0>xt?0:255<xt?255:xt;gc=1}Es=qi,Qa=Qo,Os=hr,Rn=Wo,Sn=ea,Rr=Dl,Zn=el,Ni=As,Ia=j,oa=et,il=wo,Ru=_,Oh=ht,td=bt,ed=ks,nd=as,Ph=qa,Mh=_o,bi[0]=_a,bi[1]=Jo,bi[2]=Ba,bi[3]=bo,bi[4]=Hi,bi[5]=Fa,bi[6]=Oi,bi[7]=On,bi[8]=za,bi[9]=qr,Xr[0]=_s,Xr[1]=yo,Xr[2]=vo,Xr[3]=na,Xr[4]=ia,Xr[5]=Ir,Xr[6]=ba,la[0]=ra,la[1]=Zo,la[2]=ws,la[3]=tl,la[4]=Ei,la[5]=Gr,la[6]=Is,xt=1}else xt=0}xt&&(xt=(function(dn,ai){for(dn.M=0;dn.M<dn.Va;++dn.M){var Ze,ae=dn.Jc[dn.M&dn.Xb],Zt=dn.m,hi=dn;for(Ze=0;Ze<hi.za;++Ze){var je=Zt,rn=hi,Un=rn.Ac,Gi=rn.Bc+4*Ze,br=rn.zc,ti=rn.ya[rn.aa+Ze];if(rn.Qa.Bb?ti.$b=Bt(je,rn.Pa.jb[0])?2+Bt(je,rn.Pa.jb[2]):Bt(je,rn.Pa.jb[1]):ti.$b=0,rn.kc&&(ti.Ad=Bt(je,rn.Bd)),ti.Za=!Bt(je,145)+0,ti.Za){var Pi=ti.Ob,Dr=0;for(rn=0;4>rn;++rn){var Mi,un=br[0+rn];for(Mi=0;4>Mi;++Mi){un=gr[Un[Gi+Mi]][un];for(var En=Ac[Bt(je,un[0])];0<En;)En=Ac[2*En+Bt(je,un[En])];un=-En,Un[Gi+Mi]=un}r(Pi,Dr,Un,Gi,4),Dr+=4,br[0+rn]=un}}else un=Bt(je,156)?Bt(je,128)?1:3:Bt(je,163)?2:0,ti.Ob[0]=un,a(Un,Gi,un,4),a(br,0,un,4);ti.Dd=Bt(je,142)?Bt(je,114)?Bt(je,183)?1:3:2:0}if(hi.m.Ka)return cn(dn,7,"Premature end-of-partition0 encountered.");for(;dn.ja<dn.za;++dn.ja){if(hi=ae,je=(Zt=dn).rb[Zt.sb-1],Un=Zt.rb[Zt.sb+Zt.ja],Ze=Zt.ya[Zt.aa+Zt.ja],Gi=Zt.kc?Ze.Ad:0)je.la=Un.la=0,Ze.Za||(je.Na=Un.Na=0),Ze.Hc=0,Ze.Gc=0,Ze.ia=0;else{var fi,Ln;if(je=Un,Un=hi,Gi=Zt.Pa.Xc,br=Zt.ya[Zt.aa+Zt.ja],ti=Zt.pb[br.$b],rn=br.ad,Pi=0,Dr=Zt.rb[Zt.sb-1],un=Mi=0,a(rn,Pi,0,384),br.Za)var Yi=0,di=Gi[3];else{En=o(16);var Tn=je.Na+Dr.Na;if(Tn=Ns(Un,Gi[1],Tn,ti.Eb,0,En,0),je.Na=Dr.Na=(0<Tn)+0,1<Tn)Es(En,0,rn,Pi);else{var Ii=En[0]+3>>3;for(En=0;256>En;En+=16)rn[Pi+En]=Ii}Yi=1,di=Gi[0]}var Vn=15&je.la,ji=15&Dr.la;for(En=0;4>En;++En){var Ui=1&ji;for(Ii=Ln=0;4>Ii;++Ii)Vn=Vn>>1|(Ui=(Tn=Ns(Un,di,Tn=Ui+(1&Vn),ti.Sc,Yi,rn,Pi))>Yi)<<7,Ln=Ln<<2|(3<Tn?3:1<Tn?2:rn[Pi+0]!=0),Pi+=16;Vn>>=4,ji=ji>>1|Ui<<7,Mi=(Mi<<8|Ln)>>>0}for(di=Vn,Yi=ji>>4,fi=0;4>fi;fi+=2){for(Ln=0,Vn=je.la>>4+fi,ji=Dr.la>>4+fi,En=0;2>En;++En){for(Ui=1&ji,Ii=0;2>Ii;++Ii)Tn=Ui+(1&Vn),Vn=Vn>>1|(Ui=0<(Tn=Ns(Un,Gi[2],Tn,ti.Qc,0,rn,Pi)))<<3,Ln=Ln<<2|(3<Tn?3:1<Tn?2:rn[Pi+0]!=0),Pi+=16;Vn>>=2,ji=ji>>1|Ui<<5}un|=Ln<<4*fi,di|=Vn<<4<<fi,Yi|=(240&ji)<<fi}je.la=di,Dr.la=Yi,br.Hc=Mi,br.Gc=un,br.ia=43690&un?0:ti.ia,Gi=!(Mi|un)}if(0<Zt.L&&(Zt.wa[Zt.Y+Zt.ja]=Zt.gd[Ze.$b][Ze.Za],Zt.wa[Zt.Y+Zt.ja].La|=!Gi),hi.Ka)return cn(dn,7,"Premature end-of-file encountered.")}if(ya(dn),Zt=ai,hi=1,Ze=(ae=dn).D,je=0<ae.L&&ae.M>=ae.zb&&ae.M<=ae.Va,ae.Aa==0)e:{if(Ze.M=ae.M,Ze.uc=je,xs(ae,Ze),hi=1,Ze=(Ln=ae.D).Nb,je=(un=Hl[ae.L])*ae.R,Un=un/2*ae.B,En=16*Ze*ae.R,Ii=8*Ze*ae.B,Gi=ae.sa,br=ae.ta-je+En,ti=ae.qa,rn=ae.ra-Un+Ii,Pi=ae.Ha,Dr=ae.Ia-Un+Ii,ji=(Vn=Ln.M)==0,Mi=Vn>=ae.Va-1,ae.Aa==2&&xs(ae,Ln),Ln.uc)for(Ui=(Tn=ae).D.M,t(Tn.D.uc),Ln=Tn.yb;Ln<Tn.Hb;++Ln){Yi=Ln,di=Ui;var Yn=(xn=(Vi=Tn).D).Nb;fi=Vi.R;var xn=xn.wa[xn.Y+Yi],Or=Vi.sa,_i=Vi.ta+16*Yn*fi+16*Yi,Ie=xn.dd,ke=xn.tc;if(ke!=0)if(t(3<=ke),Vi.L==1)0<Yi&&nd(Or,_i,fi,ke+4),xn.La&&Mh(Or,_i,fi,ke),0<di&&ed(Or,_i,fi,ke+4),xn.La&&Ph(Or,_i,fi,ke);else{var Nn=Vi.B,ls=Vi.qa,qs=Vi.ra+8*Yn*Nn+8*Yi,Qr=Vi.Ha,Vi=Vi.Ia+8*Yn*Nn+8*Yi;Yn=xn.ld,0<Yi&&(Ni(Or,_i,fi,ke+4,Ie,Yn),oa(ls,qs,Qr,Vi,Nn,ke+4,Ie,Yn)),xn.La&&(Ru(Or,_i,fi,ke,Ie,Yn),td(ls,qs,Qr,Vi,Nn,ke,Ie,Yn)),0<di&&(Zn(Or,_i,fi,ke+4,Ie,Yn),Ia(ls,qs,Qr,Vi,Nn,ke+4,Ie,Yn)),xn.La&&(il(Or,_i,fi,ke,Ie,Yn),Oh(ls,qs,Qr,Vi,Nn,ke,Ie,Yn))}}if(ae.ia&&alert("todo:DitherRow"),Zt.put!=null){if(Ln=16*Vn,Vn=16*(Vn+1),ji?(Zt.y=ae.sa,Zt.O=ae.ta+En,Zt.f=ae.qa,Zt.N=ae.ra+Ii,Zt.ea=ae.Ha,Zt.W=ae.Ia+Ii):(Ln-=un,Zt.y=Gi,Zt.O=br,Zt.f=ti,Zt.N=rn,Zt.ea=Pi,Zt.W=Dr),Mi||(Vn-=un),Vn>Zt.o&&(Vn=Zt.o),Zt.F=null,Zt.J=null,ae.Fa!=null&&0<ae.Fa.length&&Ln<Vn&&(Zt.J=p(ae,Zt,Ln,Vn-Ln),Zt.F=ae.mb,Zt.F==null&&Zt.F.length==0)){hi=cn(ae,3,"Could not decode alpha data.");break e}Ln<Zt.j&&(un=Zt.j-Ln,Ln=Zt.j,t(!(1&un)),Zt.O+=ae.R*un,Zt.N+=ae.B*(un>>1),Zt.W+=ae.B*(un>>1),Zt.F!=null&&(Zt.J+=Zt.width*un)),Ln<Vn&&(Zt.O+=Zt.v,Zt.N+=Zt.v>>1,Zt.W+=Zt.v>>1,Zt.F!=null&&(Zt.J+=Zt.v),Zt.ka=Ln-Zt.j,Zt.U=Zt.va-Zt.v,Zt.T=Vn-Ln,hi=Zt.put(Zt))}Ze+1!=ae.Ic||Mi||(r(ae.sa,ae.ta-je,Gi,br+16*ae.R,je),r(ae.qa,ae.ra-Un,ti,rn+8*ae.B,Un),r(ae.Ha,ae.Ia-Un,Pi,Dr+8*ae.B,Un))}if(!hi)return cn(dn,6,"Output aborted.")}return 1})(tt,yt)),yt.bc!=null&&yt.bc(yt),xt&=1}return xt?(tt.cb=0,xt):0})(f,T)||(y=f.a)}}else y=f.a}y==0&&F.Oa!=null&&F.Oa.fd&&(y=Iu(F.ba))}F=y}B=F!=0?null:11>B?X.f.RGBA.eb:X.f.kb.y}else B=null;return B};var Tc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(N,V){for(var E="",R=0;R<4;R++)E+=String.fromCharCode(N[V++]);return E}function b(N,V){return N[V+0]|N[V+1]<<8}function S(N,V){return(N[V+0]|N[V+1]<<8|N[V+2]<<16)>>>0}function I(N,V){return(N[V+0]|N[V+1]<<8|N[V+2]<<16|N[V+3]<<24)>>>0}new d;var w=[0],Y=[0],H=[],K=new d,q=n,lt=(function(N,V){var E={},R=0,D=!1,rt=0,_t=0;if(E.frames=[],!(function(k,$){for(var Z=0;Z<4;Z++)if(k[$+Z]!="RIFF".charCodeAt(Z))return!0;return!1})(N,V)){for(I(N,V+=4),V+=8;V<N.length;){var it=m(N,V),dt=I(N,V+=4);V+=4;var ft=dt+(1&dt);switch(it){case"VP8 ":case"VP8L":E.frames[R]===void 0&&(E.frames[R]={}),(W=E.frames[R]).src_off=D?_t:V-8,W.src_size=rt+dt+8,R++,D&&(D=!1,rt=0,_t=0);break;case"VP8X":(W=E.header={}).feature_flags=N[V];var vt=V+4;W.canvas_width=1+S(N,vt),vt+=3,W.canvas_height=1+S(N,vt),vt+=3;break;case"ALPH":D=!0,rt=ft+8,_t=V-8;break;case"ANIM":(W=E.header).bgcolor=I(N,V),vt=V+4,W.loop_count=b(N,vt),vt+=2;break;case"ANMF":var Mt,W;(W=E.frames[R]={}).offset_x=2*S(N,V),V+=3,W.offset_y=2*S(N,V),V+=3,W.width=1+S(N,V),V+=3,W.height=1+S(N,V),V+=3,W.duration=S(N,V),V+=3,Mt=N[V++],W.dispose=1&Mt,W.blend=Mt>>1&1}it!="ANMF"&&(V+=ft)}return E}})(q,0);lt.response=q,lt.rgbaoutput=!0,lt.dataurl=!1;var ot=lt.header?lt.header:null,st=lt.frames?lt.frames:null;if(ot){ot.loop_counter=ot.loop_count,w=[ot.canvas_height],Y=[ot.canvas_width];for(var At=0;At<st.length&&st[At].blend!=0;At++);}var kt=st[0],z=K.WebPDecodeRGBA(q,kt.src_off,kt.src_size,Y,w);kt.rgba=z,kt.imgwidth=Y[0],kt.imgheight=w[0];for(var P=0;P<Y[0]*w[0]*4;P++)H[P]=z[P];return this.width=Y,this.height=w,this.data=H,this}(function(n){var t,e,r,a,o,c,h,d,m,b=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new d,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new c,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new c,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new S(this),t=this.internal.f2,e=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,h=this.internal.Rectangle,d=this.internal.Matrix,m=new b}]);var S=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=k;Object.defineProperty(this,"pdf",{get:function(){return $}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(M){Z=!!M}});var at=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return at},set:function(M){at=!!M}});var ut=0;Object.defineProperty(this,"posX",{get:function(){return ut},set:function(M){isNaN(M)||(ut=M)}});var gt=0;Object.defineProperty(this,"posY",{get:function(){return gt},set:function(M){isNaN(M)||(gt=M)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(M){var Vt;typeof M=="number"?Vt=[M,M,M,M]:((Vt=new Array(4))[0]=M[0],Vt[1]=M.length>=2?M[1]:Vt[0],Vt[2]=M.length>=3?M[2]:Vt[0],Vt[3]=M.length>=4?M[3]:Vt[1]),m.margin=Vt}});var Rt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Rt},set:function(M){Rt=M}});var Ct=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ct},set:function(M){Ct=M}});var Bt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Bt},set:function(M){Bt=M}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(M){M instanceof b&&(m=M)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(M){m.path=M}});var Xt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Xt},set:function(M){Xt=M}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(M){var Vt;Vt=I(M),this.ctx.fillStyle=Vt.style,this.ctx.isFillTransparent=Vt.a===0,this.ctx.fillOpacity=Vt.a,this.pdf.setFillColor(Vt.r,Vt.g,Vt.b,{a:Vt.a}),this.pdf.setTextColor(Vt.r,Vt.g,Vt.b,{a:Vt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(M){var Vt=I(M);this.ctx.strokeStyle=Vt.style,this.ctx.isStrokeTransparent=Vt.a===0,this.ctx.strokeOpacity=Vt.a,Vt.a===0?this.pdf.setDrawColor(255,255,255):(Vt.a,this.pdf.setDrawColor(Vt.r,Vt.g,Vt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(M){["butt","round","square"].indexOf(M)!==-1&&(this.ctx.lineCap=M,this.pdf.setLineCap(M))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(M){isNaN(M)||(this.ctx.lineWidth=M,this.pdf.setLineWidth(M))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(M){["bevel","round","miter"].indexOf(M)!==-1&&(this.ctx.lineJoin=M,this.pdf.setLineJoin(M))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(M){isNaN(M)||(this.ctx.miterLimit=M,this.pdf.setMiterLimit(M))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(M){this.ctx.textBaseline=M}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(M){["right","end","center","left","start"].indexOf(M)!==-1&&(this.ctx.textAlign=M)}});var te=null,ee=null,oe=null;Object.defineProperty(this,"fontFaces",{get:function(){return oe},set:function(M){te=null,ee=null,oe=M}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(M){var Vt;if(this.ctx.font=M,(Vt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(M))!==null){var ce=Vt[1];Vt[2];var ie=Vt[3],jt=Vt[4];Vt[5];var ne=Vt[6],re=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(jt)[2];jt=Math.floor(re==="px"?parseFloat(jt)*this.pdf.internal.scaleFactor:re==="em"?parseFloat(jt)*this.pdf.getFontSize():parseFloat(jt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(jt);var Ne=(function(ye){var ui,Qe,Ee=[],Me=ye.trim();if(Me==="")return f1;if(Me in r_)return[r_[Me]];for(;Me!=="";){switch(Qe=null,ui=(Me=a_(Me)).charAt(0)){case'"':case"'":Qe=_L(Me.substring(1),ui);break;default:Qe=wL(Me)}if(Qe===null||(Ee.push(Qe[0]),(Me=a_(Qe[1]))!==""&&Me.charAt(0)!==","))return f1;Me=Me.replace(/^,/,"")}return Ee})(ne);if(this.fontFaces){var _e=(function(ye,ui){var Qe=ye.getFontList(),Ee=JSON.stringify(Qe);if(te===null||ee!==Ee){var Me=(function($e){var Ae=[];return Object.keys($e).forEach(function(In){$e[In].forEach(function(Oe){var Pe=null;switch(Oe){case"bold":Pe={family:In,weight:"bold"};break;case"italic":Pe={family:In,style:"italic"};break;case"bolditalic":Pe={family:In,weight:"bold",style:"italic"};break;case"":case"normal":Pe={family:In}}Pe!==null&&(Pe.ref={name:In,style:Oe},Ae.push(Pe))})}),Ae})(Qe);te=(function($e){for(var Ae={},In=0;In<$e.length;++In){var Oe=h1($e[In]),Pe=Oe.family,kn=Oe.stretch,we=Oe.style,ve=Oe.weight;Ae[Pe]=Ae[Pe]||{},Ae[Pe][kn]=Ae[Pe][kn]||{},Ae[Pe][kn][we]=Ae[Pe][kn][we]||{},Ae[Pe][kn][we][ve]=Oe}return Ae})(Me.concat(ui)),ee=Ee}return te})(this.pdf,this.fontFaces),Ke=Ne.map(function(ye){return{family:ye,stretch:"normal",weight:ie,style:ce}}),Je=(function(ye,ui,Qe){for(var Ee=(Qe=Qe||{}).defaultFontFamily||"times",Me=Object.assign({},bL,Qe.genericFontFamilies||{}),$e=null,Ae=null,In=0;In<ui.length;++In)if(Me[($e=h1(ui[In])).family]&&($e.family=Me[$e.family]),ye.hasOwnProperty($e.family)){Ae=ye[$e.family];break}if(!(Ae=Ae||ye[Ee]))throw new Error("Could not find a font-family for the rule '"+s_($e)+"' and default family '"+Ee+"'.");if(Ae=(function(Oe,Pe){if(Pe[Oe])return Pe[Oe];var kn=Z1[Oe],we=kn<=Z1.normal?-1:1,ve=i_(Pe,F3,kn,we);if(!ve)throw new Error("Could not find a matching font-stretch value for "+Oe);return ve})($e.stretch,Ae),Ae=(function(Oe,Pe){if(Pe[Oe])return Pe[Oe];for(var kn=B3[Oe],we=0;we<kn.length;++we)if(Pe[kn[we]])return Pe[kn[we]];throw new Error("Could not find a matching font-style for "+Oe)})($e.style,Ae),!(Ae=(function(Oe,Pe){if(Pe[Oe])return Pe[Oe];if(Oe===400&&Pe[500])return Pe[500];if(Oe===500&&Pe[400])return Pe[400];var kn=vL[Oe],we=i_(Pe,z3,kn,Oe<400?-1:1);if(!we)throw new Error("Could not find a matching font-weight for value "+Oe);return we})($e.weight,Ae)))throw new Error("Failed to resolve a font for the rule '"+s_($e)+"'.");return Ae})(_e,Ke);this.pdf.setFont(Je.ref.name,Je.ref.style)}else{var Be="";(ie==="bold"||parseInt(ie,10)>=700||ce==="bold")&&(Be="bold"),ce==="italic"&&(Be+="italic"),Be.length===0&&(Be="normal");for(var sn="",Xe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ge=0;ge<Ne.length;ge++){if(this.pdf.internal.getFont(Ne[ge],Be,{noFallback:!0,disableWarning:!0})!==void 0){sn=Ne[ge];break}if(Be==="bolditalic"&&this.pdf.internal.getFont(Ne[ge],"bold",{noFallback:!0,disableWarning:!0})!==void 0)sn=Ne[ge],Be="bold";else if(this.pdf.internal.getFont(Ne[ge],"normal",{noFallback:!0,disableWarning:!0})!==void 0){sn=Ne[ge],Be="normal";break}}if(sn===""){for(var qe=0;qe<Ne.length;qe++)if(Xe[Ne[qe]]){sn=Xe[Ne[qe]];break}}sn=sn===""?"Times":sn,this.pdf.setFont(sn,Be)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(M){this.ctx.globalCompositeOperation=M}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(M){this.ctx.globalAlpha=M}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(M){this.ctx.lineDashOffset=M,W.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(M){this.ctx.lineDash=M,W.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(M){this.ctx.ignoreClearRect=!!M}})};S.prototype.setLineDash=function(k){this.lineDash=k},S.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},S.prototype.fill=function(){st.call(this,"fill",!1)},S.prototype.stroke=function(){st.call(this,"stroke",!1)},S.prototype.beginPath=function(){this.path=[{type:"begin"}]},S.prototype.moveTo=function(k,$){if(isNaN(k)||isNaN($))throw li.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new c(k,$));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new c(k,$)},S.prototype.closePath=function(){var k=new c(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&Xn(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){k=new c(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(k.x,k.y)},S.prototype.lineTo=function(k,$){if(isNaN(k)||isNaN($))throw li.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new c(k,$));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new c(Z.x,Z.y)},S.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),st.call(this,null,!0)},S.prototype.quadraticCurveTo=function(k,$,Z,at){if(isNaN(Z)||isNaN(at)||isNaN(k)||isNaN($))throw li.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ut=this.ctx.transform.applyToPoint(new c(Z,at)),gt=this.ctx.transform.applyToPoint(new c(k,$));this.path.push({type:"qct",x1:gt.x,y1:gt.y,x:ut.x,y:ut.y}),this.ctx.lastPoint=new c(ut.x,ut.y)},S.prototype.bezierCurveTo=function(k,$,Z,at,ut,gt){if(isNaN(ut)||isNaN(gt)||isNaN(k)||isNaN($)||isNaN(Z)||isNaN(at))throw li.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Rt=this.ctx.transform.applyToPoint(new c(ut,gt)),Ct=this.ctx.transform.applyToPoint(new c(k,$)),Bt=this.ctx.transform.applyToPoint(new c(Z,at));this.path.push({type:"bct",x1:Ct.x,y1:Ct.y,x2:Bt.x,y2:Bt.y,x:Rt.x,y:Rt.y}),this.ctx.lastPoint=new c(Rt.x,Rt.y)},S.prototype.arc=function(k,$,Z,at,ut,gt){if(isNaN(k)||isNaN($)||isNaN(Z)||isNaN(at)||isNaN(ut))throw li.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(gt=!!gt,!this.ctx.transform.isIdentity){var Rt=this.ctx.transform.applyToPoint(new c(k,$));k=Rt.x,$=Rt.y;var Ct=this.ctx.transform.applyToPoint(new c(0,Z)),Bt=this.ctx.transform.applyToPoint(new c(0,0));Z=Math.sqrt(Math.pow(Ct.x-Bt.x,2)+Math.pow(Ct.y-Bt.y,2))}Math.abs(ut-at)>=2*Math.PI&&(at=0,ut=2*Math.PI),this.path.push({type:"arc",x:k,y:$,radius:Z,startAngle:at,endAngle:ut,counterclockwise:gt})},S.prototype.arcTo=function(k,$,Z,at,ut){throw new Error("arcTo not implemented.")},S.prototype.rect=function(k,$,Z,at){if(isNaN(k)||isNaN($)||isNaN(Z)||isNaN(at))throw li.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,$),this.lineTo(k+Z,$),this.lineTo(k+Z,$+at),this.lineTo(k,$+at),this.lineTo(k,$),this.lineTo(k+Z,$),this.lineTo(k,$)},S.prototype.fillRect=function(k,$,Z,at){if(isNaN(k)||isNaN($)||isNaN(Z)||isNaN(at))throw li.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var ut={};this.lineCap!=="butt"&&(ut.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ut.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,$,Z,at),this.fill(),ut.hasOwnProperty("lineCap")&&(this.lineCap=ut.lineCap),ut.hasOwnProperty("lineJoin")&&(this.lineJoin=ut.lineJoin)}},S.prototype.strokeRect=function(k,$,Z,at){if(isNaN(k)||isNaN($)||isNaN(Z)||isNaN(at))throw li.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");Y.call(this)||(this.beginPath(),this.rect(k,$,Z,at),this.stroke())},S.prototype.clearRect=function(k,$,Z,at){if(isNaN(k)||isNaN($)||isNaN(Z)||isNaN(at))throw li.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,$,Z,at))},S.prototype.save=function(k){k=typeof k!="boolean"||k;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage($),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var at=new b(this.ctx);this.ctxStack.push(this.ctx),this.ctx=at}},S.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage($),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},S.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var I=function(k){var $,Z,at,ut;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))$=0,Z=0,at=0,ut=0;else{var gt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(gt!==null)$=parseInt(gt[1]),Z=parseInt(gt[2]),at=parseInt(gt[3]),ut=1;else if((gt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)$=parseInt(gt[1]),Z=parseInt(gt[2]),at=parseInt(gt[3]),ut=parseFloat(gt[4]);else{if(ut=1,typeof k=="string"&&k.charAt(0)!=="#"){var Rt=new D3(k);k=Rt.ok?Rt.toHex():"#000000"}k.length===4?($=k.substring(1,2),$+=$,Z=k.substring(2,3),Z+=Z,at=k.substring(3,4),at+=at):($=k.substring(1,3),Z=k.substring(3,5),at=k.substring(5,7)),$=parseInt($,16),Z=parseInt(Z,16),at=parseInt(at,16)}}return{r:$,g:Z,b:at,a:ut,style:k}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},Y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};S.prototype.fillText=function(k,$,Z,at){if(isNaN($)||isNaN(Z)||typeof k!="string")throw li.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(at=isNaN(at)?void 0:at,!w.call(this)){var ut=ft(this.ctx.transform.rotation),gt=this.ctx.transform.scaleX;R.call(this,{text:k,x:$,y:Z,scale:gt,angle:ut,align:this.textAlign,maxWidth:at})}},S.prototype.strokeText=function(k,$,Z,at){if(isNaN($)||isNaN(Z)||typeof k!="string")throw li.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!Y.call(this)){at=isNaN(at)?void 0:at;var ut=ft(this.ctx.transform.rotation),gt=this.ctx.transform.scaleX;R.call(this,{text:k,x:$,y:Z,scale:gt,renderingMode:"stroke",angle:ut,align:this.textAlign,maxWidth:at})}},S.prototype.measureText=function(k){if(typeof k!="string")throw li.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,Z=this.pdf.internal.scaleFactor,at=$.internal.getFontSize(),ut=$.getStringUnitWidth(k)*at/$.internal.scaleFactor;return new function(gt){var Rt=(gt=gt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Rt}}),this}({width:ut*=Math.round(96*Z/72*1e4)/1e4})},S.prototype.scale=function(k,$){if(isNaN(k)||isNaN($))throw li.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new d(k,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},S.prototype.rotate=function(k){if(isNaN(k))throw li.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new d(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply($)},S.prototype.translate=function(k,$){if(isNaN(k)||isNaN($))throw li.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new d(1,0,0,1,k,$);this.ctx.transform=this.ctx.transform.multiply(Z)},S.prototype.transform=function(k,$,Z,at,ut,gt){if(isNaN(k)||isNaN($)||isNaN(Z)||isNaN(at)||isNaN(ut)||isNaN(gt))throw li.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Rt=new d(k,$,Z,at,ut,gt);this.ctx.transform=this.ctx.transform.multiply(Rt)},S.prototype.setTransform=function(k,$,Z,at,ut,gt){k=isNaN(k)?1:k,$=isNaN($)?0:$,Z=isNaN(Z)?0:Z,at=isNaN(at)?1:at,ut=isNaN(ut)?0:ut,gt=isNaN(gt)?0:gt,this.ctx.transform=new d(k,$,Z,at,ut,gt)};var H=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};S.prototype.drawImage=function(k,$,Z,at,ut,gt,Rt,Ct,Bt){var Xt=this.pdf.getImageProperties(k),te=1,ee=1,oe=1,M=1;at!==void 0&&Ct!==void 0&&(oe=Ct/at,M=Bt/ut,te=Xt.width/at*Ct/at,ee=Xt.height/ut*Bt/ut),gt===void 0&&(gt=$,Rt=Z,$=0,Z=0),at!==void 0&&Ct===void 0&&(Ct=at,Bt=ut),at===void 0&&Ct===void 0&&(Ct=Xt.width,Bt=Xt.height);var Vt=this.ctx.transform.decompose(),ce=ft(Vt.rotate.shx),ie=new d,jt=(ie=(ie=(ie=ie.multiply(Vt.translate)).multiply(Vt.skew)).multiply(Vt.scale)).applyToRectangle(new h(gt-$*oe,Rt-Z*M,at*te,ut*ee));if(this.autoPaging){for(var ne,re=K.call(this,jt),Ne=[],_e=0;_e<re.length;_e+=1)Ne.indexOf(re[_e])===-1&&Ne.push(re[_e]);ot(Ne);for(var Ke=Ne[0],Je=Ne[Ne.length-1],Be=Ke;Be<Je+1;Be++){this.pdf.setPage(Be);var sn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xe=Be===1?this.posY+this.margin[0]:this.margin[0],ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ye=Be===1?0:ge+(Be-2)*qe;if(this.ctx.clip_path.length!==0){var ui=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=lt(ne,this.posX+this.margin[3],-ye+Xe+this.ctx.prevPageLastElemOffset),At.call(this,"fill",!0),this.path=ui}var Qe=JSON.parse(JSON.stringify(jt));Qe=lt([Qe],this.posX+this.margin[3],-ye+Xe+this.ctx.prevPageLastElemOffset)[0];var Ee=(Be>Ke||Be<Je)&&H.call(this);Ee&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],sn,qe,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",Qe.x,Qe.y,Qe.w,Qe.h,null,null,ce),Ee&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(k,"JPEG",jt.x,jt.y,jt.w,jt.h,null,null,ce)};var K=function(k,$,Z){var at=[];$=$||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ut=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":at.push(Math.floor((k.y+ut)/Z)+1);break;case"arc":at.push(Math.floor((k.y+ut-k.radius)/Z)+1),at.push(Math.floor((k.y+ut+k.radius)/Z)+1);break;case"qct":var gt=vt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);at.push(Math.floor((gt.y+ut)/Z)+1),at.push(Math.floor((gt.y+gt.h+ut)/Z)+1);break;case"bct":var Rt=Mt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);at.push(Math.floor((Rt.y+ut)/Z)+1),at.push(Math.floor((Rt.y+Rt.h+ut)/Z)+1);break;case"rect":at.push(Math.floor((k.y+ut)/Z)+1),at.push(Math.floor((k.y+k.h+ut)/Z)+1)}for(var Ct=0;Ct<at.length;Ct+=1)for(;this.pdf.internal.getNumberOfPages()<at[Ct];)q.call(this);return at},q=function(){var k=this.fillStyle,$=this.strokeStyle,Z=this.font,at=this.lineCap,ut=this.lineWidth,gt=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=$,this.font=Z,this.lineCap=at,this.lineWidth=ut,this.lineJoin=gt},lt=function(k,$,Z){for(var at=0;at<k.length;at++)switch(k[at].type){case"bct":k[at].x2+=$,k[at].y2+=Z;case"qct":k[at].x1+=$,k[at].y1+=Z;default:k[at].x+=$,k[at].y+=Z}return k},ot=function(k){return k.sort(function($,Z){return $-Z})},st=function(k,$){var Z=this.fillStyle,at=this.strokeStyle,ut=this.lineCap,gt=this.lineWidth,Rt=Math.abs(gt*this.ctx.transform.scaleX),Ct=this.lineJoin;if(this.autoPaging){for(var Bt,Xt,te=JSON.parse(JSON.stringify(this.path)),ee=JSON.parse(JSON.stringify(this.path)),oe=[],M=0;M<ee.length;M++)if(ee[M].x!==void 0)for(var Vt=K.call(this,ee[M]),ce=0;ce<Vt.length;ce+=1)oe.indexOf(Vt[ce])===-1&&oe.push(Vt[ce]);for(var ie=0;ie<oe.length;ie++)for(;this.pdf.internal.getNumberOfPages()<oe[ie];)q.call(this);ot(oe);for(var jt=oe[0],ne=oe[oe.length-1],re=jt;re<ne+1;re++){this.pdf.setPage(re),this.fillStyle=Z,this.strokeStyle=at,this.lineCap=ut,this.lineWidth=Rt,this.lineJoin=Ct;var Ne=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_e=re===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Be=re===1?0:Ke+(re-2)*Je;if(this.ctx.clip_path.length!==0){var sn=this.path;Bt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=lt(Bt,this.posX+this.margin[3],-Be+_e+this.ctx.prevPageLastElemOffset),At.call(this,k,!0),this.path=sn}if(Xt=JSON.parse(JSON.stringify(te)),this.path=lt(Xt,this.posX+this.margin[3],-Be+_e+this.ctx.prevPageLastElemOffset),$===!1||re===0){var Xe=(re>jt||re<ne)&&H.call(this);Xe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ne,Je,null).clip().discardPath()),At.call(this,k,$),Xe&&this.pdf.restoreGraphicsState()}this.lineWidth=gt}this.path=te}else this.lineWidth=Rt,At.call(this,k,$),this.lineWidth=gt},At=function(k,$){if((k!=="stroke"||$||!Y.call(this))&&(k==="stroke"||$||!w.call(this))){for(var Z,at,ut=[],gt=this.path,Rt=0;Rt<gt.length;Rt++){var Ct=gt[Rt];switch(Ct.type){case"begin":ut.push({begin:!0});break;case"close":ut.push({close:!0});break;case"mt":ut.push({start:Ct,deltas:[],abs:[]});break;case"lt":var Bt=ut.length;if(gt[Rt-1]&&!isNaN(gt[Rt-1].x)&&(Z=[Ct.x-gt[Rt-1].x,Ct.y-gt[Rt-1].y],Bt>0)){for(;Bt>=0;Bt--)if(ut[Bt-1].close!==!0&&ut[Bt-1].begin!==!0){ut[Bt-1].deltas.push(Z),ut[Bt-1].abs.push(Ct);break}}break;case"bct":Z=[Ct.x1-gt[Rt-1].x,Ct.y1-gt[Rt-1].y,Ct.x2-gt[Rt-1].x,Ct.y2-gt[Rt-1].y,Ct.x-gt[Rt-1].x,Ct.y-gt[Rt-1].y],ut[ut.length-1].deltas.push(Z);break;case"qct":var Xt=gt[Rt-1].x+2/3*(Ct.x1-gt[Rt-1].x),te=gt[Rt-1].y+2/3*(Ct.y1-gt[Rt-1].y),ee=Ct.x+2/3*(Ct.x1-Ct.x),oe=Ct.y+2/3*(Ct.y1-Ct.y),M=Ct.x,Vt=Ct.y;Z=[Xt-gt[Rt-1].x,te-gt[Rt-1].y,ee-gt[Rt-1].x,oe-gt[Rt-1].y,M-gt[Rt-1].x,Vt-gt[Rt-1].y],ut[ut.length-1].deltas.push(Z);break;case"arc":ut.push({deltas:[],abs:[],arc:!0}),Array.isArray(ut[ut.length-1].abs)&&ut[ut.length-1].abs.push(Ct)}}at=$?null:k==="stroke"?"stroke":"fill";for(var ce=!1,ie=0;ie<ut.length;ie++)if(ut[ie].arc)for(var jt=ut[ie].abs,ne=0;ne<jt.length;ne++){var re=jt[ne];re.type==="arc"?P.call(this,re.x,re.y,re.radius,re.startAngle,re.endAngle,re.counterclockwise,void 0,$,!ce):D.call(this,re.x,re.y),ce=!0}else if(ut[ie].close===!0)this.pdf.internal.out("h"),ce=!1;else if(ut[ie].begin!==!0){var Ne=ut[ie].start.x,_e=ut[ie].start.y;rt.call(this,ut[ie].deltas,Ne,_e),ce=!0}at&&N.call(this,at),$&&V.call(this)}},kt=function(k){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-Z;case"top":return k+$-Z;case"hanging":return k+$-2*Z;case"middle":return k+$/2-Z;default:return k}},z=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};S.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function($,Z){this.colorStops.push([$,Z])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},S.prototype.createPattern=function(){return this.createLinearGradient()},S.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(k,$,Z,at,ut,gt,Rt,Ct,Bt){for(var Xt=it.call(this,Z,at,ut,gt),te=0;te<Xt.length;te++){var ee=Xt[te];te===0&&(Bt?E.call(this,ee.x1+k,ee.y1+$):D.call(this,ee.x1+k,ee.y1+$)),_t.call(this,k,$,ee.x2,ee.y2,ee.x3,ee.y3,ee.x4,ee.y4)}Ct?V.call(this):N.call(this,Rt)},N=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},V=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(k,$){this.pdf.internal.out(e(k)+" "+r($)+" m")},R=function(k){var $;switch(k.align){case"right":case"end":$="right";break;case"center":$="center";break;default:$="left"}var Z,at,ut,gt=this.pdf.getTextDimensions(k.text),Rt=kt.call(this,k.y),Ct=z.call(this,Rt)-gt.h,Bt=this.ctx.transform.applyToPoint(new c(k.x,Rt));if(this.autoPaging){var Xt=this.ctx.transform.decompose(),te=new d;te=(te=(te=te.multiply(Xt.translate)).multiply(Xt.skew)).multiply(Xt.scale);for(var ee=this.ctx.transform.applyToRectangle(new h(k.x,Rt,gt.w,gt.h)),oe=te.applyToRectangle(new h(k.x,Ct,gt.w,gt.h)),M=K.call(this,oe),Vt=[],ce=0;ce<M.length;ce+=1)Vt.indexOf(M[ce])===-1&&Vt.push(M[ce]);ot(Vt);for(var ie=Vt[0],jt=Vt[Vt.length-1],ne=ie;ne<jt+1;ne++){this.pdf.setPage(ne);var re=ne===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_e=this.pdf.internal.pageSize.height-this.margin[2],Ke=_e-this.margin[0],Je=this.pdf.internal.pageSize.width-this.margin[1],Be=Je-this.margin[3],sn=ne===1?0:Ne+(ne-2)*Ke;if(this.ctx.clip_path.length!==0){var Xe=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=lt(Z,this.posX+this.margin[3],-1*sn+re),At.call(this,"fill",!0),this.path=Xe}var ge=lt([JSON.parse(JSON.stringify(oe))],this.posX+this.margin[3],-sn+re+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(at=this.pdf.internal.getFontSize(),this.pdf.setFontSize(at*k.scale),ut=this.lineWidth,this.lineWidth=ut*k.scale);var qe=this.autoPaging!=="text";if(qe||ge.y+ge.h<=_e){if(qe||ge.y>=re&&ge.x<=Je){var ye=qe?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||Je-ge.x)[0],ui=lt([JSON.parse(JSON.stringify(ee))],this.posX+this.margin[3],-sn+re+this.ctx.prevPageLastElemOffset)[0],Qe=qe&&(ne>ie||ne<jt)&&H.call(this);Qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Be,Ke,null).clip().discardPath()),this.pdf.text(ye,ui.x,ui.y,{angle:k.angle,align:$,renderingMode:k.renderingMode}),Qe&&this.pdf.restoreGraphicsState()}}else ge.y<_e&&(this.ctx.prevPageLastElemOffset+=_e-ge.y);k.scale>=.01&&(this.pdf.setFontSize(at),this.lineWidth=ut)}}else k.scale>=.01&&(at=this.pdf.internal.getFontSize(),this.pdf.setFontSize(at*k.scale),ut=this.lineWidth,this.lineWidth=ut*k.scale),this.pdf.text(k.text,Bt.x+this.posX,Bt.y+this.posY,{angle:k.angle,align:$,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(at),this.lineWidth=ut)},D=function(k,$,Z,at){Z=Z||0,at=at||0,this.pdf.internal.out(e(k+Z)+" "+r($+at)+" l")},rt=function(k,$,Z){return this.pdf.lines(k,$,Z,null,null)},_t=function(k,$,Z,at,ut,gt,Rt,Ct){this.pdf.internal.out([t(a(Z+k)),t(o(at+$)),t(a(ut+k)),t(o(gt+$)),t(a(Rt+k)),t(o(Ct+$)),"c"].join(" "))},it=function(k,$,Z,at){for(var ut=2*Math.PI,gt=Math.PI/2;$>Z;)$-=ut;var Rt=Math.abs(Z-$);Rt<ut&&at&&(Rt=ut-Rt);for(var Ct=[],Bt=at?-1:1,Xt=$;Rt>1e-5;){var te=Xt+Bt*Math.min(Rt,gt);Ct.push(dt.call(this,k,Xt,te)),Rt-=Math.abs(te-Xt),Xt=te}return Ct},dt=function(k,$,Z){var at=(Z-$)/2,ut=k*Math.cos(at),gt=k*Math.sin(at),Rt=ut,Ct=-gt,Bt=Rt*Rt+Ct*Ct,Xt=Bt+Rt*ut+Ct*gt,te=4/3*(Math.sqrt(2*Bt*Xt)-Xt)/(Rt*gt-Ct*ut),ee=Rt-te*Ct,oe=Ct+te*Rt,M=ee,Vt=-oe,ce=at+$,ie=Math.cos(ce),jt=Math.sin(ce);return{x1:k*Math.cos($),y1:k*Math.sin($),x2:ee*ie-oe*jt,y2:ee*jt+oe*ie,x3:M*ie-Vt*jt,y3:M*jt+Vt*ie,x4:k*Math.cos(Z),y4:k*Math.sin(Z)}},ft=function(k){return 180*k/Math.PI},vt=function(k,$,Z,at,ut,gt){var Rt=k+.5*(Z-k),Ct=$+.5*(at-$),Bt=ut+.5*(Z-ut),Xt=gt+.5*(at-gt),te=Math.min(k,ut,Rt,Bt),ee=Math.max(k,ut,Rt,Bt),oe=Math.min($,gt,Ct,Xt),M=Math.max($,gt,Ct,Xt);return new h(te,oe,ee-te,M-oe)},Mt=function(k,$,Z,at,ut,gt,Rt,Ct){var Bt,Xt,te,ee,oe,M,Vt,ce,ie,jt,ne,re,Ne,_e,Ke=Z-k,Je=at-$,Be=ut-Z,sn=gt-at,Xe=Rt-ut,ge=Ct-gt;for(Xt=0;Xt<41;Xt++)ie=(Vt=(te=k+(Bt=Xt/40)*Ke)+Bt*((oe=Z+Bt*Be)-te))+Bt*(oe+Bt*(ut+Bt*Xe-oe)-Vt),jt=(ce=(ee=$+Bt*Je)+Bt*((M=at+Bt*sn)-ee))+Bt*(M+Bt*(gt+Bt*ge-M)-ce),Xt==0?(ne=ie,re=jt,Ne=ie,_e=jt):(ne=Math.min(ne,ie),re=Math.min(re,jt),Ne=Math.max(Ne,ie),_e=Math.max(_e,jt));return new h(Math.round(ne),Math.round(re),Math.round(Ne-ne),Math.round(_e-re))},W=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,$,Z=(k=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:$}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(Te.API),(function(n){var t=function(c){var h,d,m,b,S,I,w,Y,H,K;for(d=[],m=0,b=(c+=h="\0\0\0\0".slice(c.length%4||4)).length;b>m;m+=4)(S=(c.charCodeAt(m)<<24)+(c.charCodeAt(m+1)<<16)+(c.charCodeAt(m+2)<<8)+c.charCodeAt(m+3))!==0?(I=(S=((S=((S=((S=(S-(K=S%85))/85)-(H=S%85))/85)-(Y=S%85))/85)-(w=S%85))/85)%85,d.push(I+33,w+33,Y+33,H+33,K+33)):d.push(122);return(function(q,lt){for(var ot=lt;ot>0;ot--)q.pop()})(d,h.length),String.fromCharCode.apply(String,d)+"~>"},e=function(c){var h,d,m,b,S,I=String,w="length",Y=255,H="charCodeAt",K="slice",q="replace";for(c[K](-2),c=c[K](0,-2)[q](/\s/g,"")[q]("z","!!!!!"),m=[],b=0,S=(c+=h="uuuuu"[K](c[w]%5||5))[w];S>b;b+=5)d=52200625*(c[H](b)-33)+614125*(c[H](b+1)-33)+7225*(c[H](b+2)-33)+85*(c[H](b+3)-33)+(c[H](b+4)-33),m.push(Y&d>>24,Y&d>>16,Y&d>>8,Y&d);return(function(lt,ot){for(var st=ot;st>0;st--)lt.pop()})(m,h[w]),I.fromCharCode.apply(I,m)},r=function(c){return c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(c){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),h.test(c)===!1)return"";for(var d="",m=0;m<c.length;m+=2)d+=String.fromCharCode("0x"+(c[m]+c[m+1]));return d},o=function(c){for(var h=new Uint8Array(c.length),d=c.length;d--;)h[d]=c.charCodeAt(d);return(h=Y1(h)).reduce(function(m,b){return m+String.fromCharCode(b)},"")};n.processDataByFilters=function(c,h){var d=0,m=c||"",b=[];for(typeof(h=h||[])=="string"&&(h=[h]),d=0;d<h.length;d+=1)switch(h[d]){case"ASCII85Decode":case"/ASCII85Decode":m=e(m),b.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":m=t(m),b.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":m=a(m),b.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":m=r(m),b.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":m=o(m),b.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[d]+'" is not implemented')}return{data:m,reverseChain:b.reverse().join(" ")}}})(Te.API),(function(n){n.loadFile=function(t,e,r){return(function(a,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var h=void 0;try{h=(function(d,m,b){var S=new XMLHttpRequest,I=0,w=function(Y){var H=Y.length,K=[],q=String.fromCharCode;for(I=0;I<H;I+=1)K.push(q(255&Y.charCodeAt(I)));return K.join("")};if(S.open("GET",d,!m),S.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(S.onload=function(){S.status===200?b(w(this.responseText)):b(void 0)}),S.send(null),m&&S.status===200)return w(S.responseText)})(a,o,c)}catch{}return h})(t,e,r)},n.loadImageFile=n.loadFile})(Te.API),(function(n){function t(){return(Ge.html2canvas?Promise.resolve(Ge.html2canvas):Kg(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[],import.meta.url)).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function e(){return(Ge.DOMPurify?Promise.resolve(Ge.DOMPurify):Kg(()=>import("./purify.es-Bzr520pe.js"),[],import.meta.url)).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var r=function(h){var d=Xn(h);return d==="undefined"?"undefined":d==="string"||h instanceof String?"string":d==="number"||h instanceof Number?"number":d==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":d==="object"?"object":"unknown"},a=function(h,d){var m=document.createElement(h);for(var b in d.className&&(m.className=d.className),d.innerHTML&&d.dompurify&&(m.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)m.style[b]=d.style[b];return m},o=function h(d,m){for(var b=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),S=d.firstChild;S;S=S.nextSibling)m!==!0&&S.nodeType===1&&S.nodeName==="SCRIPT"||b.appendChild(h(S,m));return d.nodeType===1&&(d.nodeName==="CANVAS"?(b.width=d.width,b.height=d.height,b.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(b.value=d.value),b.addEventListener("load",function(){b.scrollTop=d.scrollTop,b.scrollLeft=d.scrollLeft},!0)),b},c=function h(d){var m=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),b=h.convert(Promise.resolve(),m);return(b=b.setProgress(1,h,1,[h])).set(d)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(h,d){return h.__proto__=d||c.prototype,h},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(h,d){return this.then(function(){switch(d=d||(function(m){switch(r(m)){case"string":return"string";case"element":return m.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),d){case"string":return this.then(e).then(function(m){return this.set({src:a("div",{innerHTML:h,dompurify:m})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},c.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(t).then(function(d){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,d(this.prop.container,m)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(t).then(function(d){var m=this.opt.jsPDF,b=this.opt.fontFaces,S=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,I=Object.assign({async:!0,allowTaint:!0,scale:S,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete I.onrendered,m.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,m.context2d.posX=this.opt.x,m.context2d.posY=this.opt.y,m.context2d.margin=this.opt.margin,m.context2d.fontFaces=b,b)for(var w=0;w<b.length;++w){var Y=b[w],H=Y.src.find(function(K){return K.format==="truetype"});H&&m.addFont(H.url,Y.ref.name,Y.ref.style)}return I.windowHeight=I.windowHeight||0,I.windowHeight=I.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):I.windowHeight,m.context2d.save(!0),d(this.prop.container,I)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(h,d,m){return(m=m||"pdf").toLowerCase()==="img"||m.toLowerCase()==="image"?this.outputImg(h,d):this.outputPdf(h,d)},c.prototype.outputPdf=function(h,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,d)})},c.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},c.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(h){if(r(h)!=="object")return this;var d=Object.keys(h||{}).map(function(m){if(m in c.template.prop)return function(){this.prop[m]=h[m]};switch(m){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[m]=h[m]}}},this);return this.then(function(){return this.thenList(d)})},c.prototype.get=function(h,d){return this.then(function(){var m=h in c.template.prop?this.prop[h]:this.opt[h];return d?d(m):m})},c.prototype.setMargin=function(h){return this.then(function(){switch(r(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},c.prototype.setPageSize=function(h){function d(m,b){return Math.floor(m*b/72*96)}return this.then(function(){(h=h||Te.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:d(h.inner.width,h.k),height:d(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},c.prototype.setProgress=function(h,d,m,b){return h!=null&&(this.progress.val=h),d!=null&&(this.progress.state=d),m!=null&&(this.progress.n=m),b!=null&&(this.progress.stack=b),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(h,d,m,b){return this.setProgress(h?this.progress.val+h:null,d||null,m?this.progress.n+m:null,b?this.progress.stack.concat(b):null)},c.prototype.then=function(h,d){var m=this;return this.thenCore(h,d,function(b,S){return m.updateProgress(null,null,1,[b]),Promise.prototype.then.call(this,function(I){return m.updateProgress(null,b),I}).then(b,S).then(function(I){return m.updateProgress(1),I})})},c.prototype.thenCore=function(h,d,m){m=m||Promise.prototype.then;var b=this;h&&(h=h.bind(b)),d&&(d=d.bind(b));var S=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?b:c.convert(Object.assign({},b),Promise.prototype),I=m.call(S,h,d);return c.convert(I,b.__proto__)},c.prototype.thenExternal=function(h,d){return Promise.prototype.then.call(this,h,d)},c.prototype.thenList=function(h){var d=this;return h.forEach(function(m){d=d.thenCore(m)}),d},c.prototype.catch=function(h){h&&(h=h.bind(this));var d=Promise.prototype.catch.call(this,h);return c.convert(d,this)},c.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},c.prototype.error=function(h){return this.then(function(){throw new Error(h)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Te.getPageSize=function(h,d,m){if(Xn(h)==="object"){var b=h;h=b.orientation,d=b.unit||d,m=b.format||m}d=d||"mm",m=m||"a4",h=(""+(h||"P")).toLowerCase();var S,I=(""+m).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":S=1;break;case"mm":S=72/25.4;break;case"cm":S=72/2.54;break;case"in":S=72;break;case"px":S=.75;break;case"pc":case"em":S=12;break;case"ex":S=6;break;default:throw"Invalid unit: "+d}var Y,H=0,K=0;if(w.hasOwnProperty(I))H=w[I][1]/S,K=w[I][0]/S;else try{H=m[1],K=m[0]}catch{throw new Error("Invalid format: "+m)}if(h==="p"||h==="portrait")h="p",K>H&&(Y=K,K=H,H=Y);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",H>K&&(Y=K,K=H,H=Y)}return{width:K,height:H,unit:d,k:S,orientation:h}},n.html=function(h,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(h1):null;var m=new c(d);return d.worker?m:m.from(h).doCallback()}})(Te.API),Te.API.addJS=function(n){return l_=n,this.internal.events.subscribe("postPutResources",function(){sp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(sp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),o_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+l_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){sp!==void 0&&o_!==void 0&&this.internal.out("/Names <</JavaScript "+sp+" 0 R>>")}),this},(function(n){var t;n.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=e.outline.render().split(/\r\n/),o=0;o<a.length;o++){var c=a[o],h=r.exec(c);if(h!=null){var d=h[1];e.internal.newObjectDeferredBegin(d,!1)}e.internal.write(c)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,b=[];for(o=0;o<m;o++){var S=e.internal.newObject();b.push(S);var I=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+I.objId+" 0 R /XYZ null null null]>> endobj")}var w=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<b.length;o++)e.internal.write("(page_"+(o+1)+")"+b[o]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+w+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(r,a,o){var c={title:a,options:o,children:[]};return r==null&&(r=this.root),r.children.push(c),c},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(r){r.id=e.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},e.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},e.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var c=r.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var h=this.count=this.count_r({count:0},c);if(h>0&&this.line("/Count "+h),c.options&&c.options.pageNumber){var d=e.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var m=0;m<r.children.length;m++)this.renderItems(r.children[m])},e.outline.line=function(r){this.ctx.val+=r+`\r
`},e.outline.makeRef=function(r){return r.id+" 0 R"},e.outline.makeString=function(r){return"("+e.internal.pdfEscape(r)+")"},e.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(r,a){for(var o=0;o<a.children.length;o++)r.count++,this.count_r(r,a.children[o]);return r.count}}])})(Te.API),(function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,r,a,o,c,h){var d,m=this.decode.DCT_DECODE,b=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=c||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,d=(function(S){for(var I,w=256*S.charCodeAt(4)+S.charCodeAt(5),Y=S.length,H={width:0,height:0,numcomponents:1},K=4;K<Y;K+=2){if(K+=w,t.indexOf(S.charCodeAt(K+1))!==-1){I=256*S.charCodeAt(K+5)+S.charCodeAt(K+6),H={width:256*S.charCodeAt(K+7)+S.charCodeAt(K+8),height:I,numcomponents:S.charCodeAt(K+9)};break}w=256*S.charCodeAt(K+2)+S.charCodeAt(K+3)}return H})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),d.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}b={data:e,width:d.width,height:d.height,colorSpace:h,bitsPerComponent:8,filter:m,index:r,alias:a}}return b}})(Te.API),Te.API.processPNG=function(n,t,e,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,o=rL(n,{checkCrc:!0}),c=o.width,h=o.height,d=o.channels,m=o.palette,b=o.depth;a=m&&d===1?(function(P){for(var N=P.width,V=P.height,E=P.data,R=P.palette,D=P.depth,rt=!1,_t=[],it=[],dt=void 0,ft=!1,vt=0,Mt=0;Mt<R.length;Mt++){var W=fb(R[Mt],4),k=W[0],$=W[1],Z=W[2],at=W[3];_t.push(k,$,Z),at!=null&&(at===0?(vt++,it.length<1&&it.push(Mt)):at<255&&(ft=!0))}if(ft||vt>1){rt=!0,it=void 0;var ut=N*V;dt=new Uint8Array(ut);for(var gt=new DataView(E.buffer),Rt=0;Rt<ut;Rt++){var Ct=d1(gt,Rt,D),Bt=fb(R[Ct],4)[3];dt[Rt]=Bt}}else vt===0&&(it=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:rt?8:void 0,colorBytes:E,alphaBytes:dt,needSMask:rt,palette:_t,mask:it}})(o):d===2||d===4?(function(P){for(var N=P.data,V=P.width,E=P.height,R=P.channels,D=P.depth,rt=R===2?"DeviceGray":"DeviceRGB",_t=R-1,it=V*E,dt=_t,ft=it*dt,vt=1*it,Mt=Math.ceil(ft*D/8),W=Math.ceil(vt*D/8),k=new Uint8Array(Mt),$=new Uint8Array(W),Z=new DataView(N.buffer),at=new DataView(k.buffer),ut=new DataView($.buffer),gt=!1,Rt=0;Rt<it;Rt++){for(var Ct=Rt*R,Bt=0;Bt<dt;Bt++)y_(at,d1(Z,Ct+Bt,D),Rt*dt+Bt,D);var Xt=d1(Z,Ct+dt,D);Xt<(1<<D)-1&&(gt=!0),y_(ut,Xt,1*Rt,D)}return{colorSpace:rt,colorsPerPixel:_t,sMaskBitsPerComponent:gt?D:void 0,colorBytes:k,alphaBytes:$,needSMask:gt}})(o):(function(P){var N=P.data,V=P.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:V,colorsPerPixel:V==="DeviceGray"?1:3,colorBytes:N instanceof Uint16Array?(function(E){for(var R=E.length,D=new Uint8Array(2*R),rt=new DataView(D.buffer,D.byteOffset,D.byteLength),_t=0;_t<R;_t++)rt.setUint16(2*_t,E[_t],!1);return D})(N):N,needSMask:!1}})(o);var S,I,w,Y=a,H=Y.colorSpace,K=Y.colorsPerPixel,q=Y.sMaskBitsPerComponent,lt=Y.colorBytes,ot=Y.alphaBytes,st=Y.needSMask,At=Y.palette,kt=Y.mask,z=null;return r!==Te.API.image_compression.NONE&&typeof Y1=="function"?(z=(function(P){var N;switch(P){case Te.API.image_compression.FAST:N=11;break;case Te.API.image_compression.MEDIUM:N=13;break;case Te.API.image_compression.SLOW:N=14;break;default:N=12}return N})(r),S=this.decode.FLATE_DECODE,I="/Predictor ".concat(z," /Colors ").concat(K," /BitsPerComponent ").concat(b," /Columns ").concat(c),n=f_(lt,Math.ceil(c*K*b/8),K,b,r),st&&(w=f_(ot,Math.ceil(c*q/8),1,q,r))):(S=void 0,I=void 0,n=lt,st&&(w=ot)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(w&&this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),{alias:e,data:n,index:t,filter:S,decodeParameters:I,transparency:kt,palette:At,sMask:w,predictor:z,width:c,height:h,bitsPerComponent:b,sMaskBitsPerComponent:q,colorSpace:H}}},(function(n){n.processGIF89A=function(t,e,r,a){var o=new EL(t),c=o.width,h=o.height,d=[];o.decodeAndBlitFrameRGBA(0,d);var m={data:d,width:c,height:h},b=new p1(100).encode(m,100);return n.processJPEG.call(this,b,e,r,a)},n.processGIF87A=n.processGIF89A})(Te.API),so.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:r,blue:e,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},so.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){li.log("bit decode error:"+e)}},so.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<t;a++)for(var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+8*a*4,h=0;h<8&&8*a+h<this.width;h++){var d=this.palette[o>>7-h&1];this.data[c+4*h]=d.blue,this.data[c+4*h+1]=d.green,this.data[c+4*h+2]=d.red,this.data[c+4*h+3]=255}e!==0&&(this.pos+=4-e)}},so.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<n;a++){var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+2*a*4,h=o>>4,d=15&o,m=this.palette[h];if(this.data[c]=m.blue,this.data[c+1]=m.green,this.data[c+2]=m.red,this.data[c+3]=255,2*a+1>=this.width)break;m=this.palette[d],this.data[c+4]=m.blue,this.data[c+4+1]=m.green,this.data[c+4+2]=m.red,this.data[c+4+3]=255}t!==0&&(this.pos+=4-t)}},so.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;if(a<this.palette.length){var c=this.palette[a];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},so.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&t)/t*255|0,h=(o>>5&t)/t*255|0,d=(o>>10&t)/t*255|0,m=o>>15?255:0,b=r*this.width*4+4*a;this.data[b]=d,this.data[b+1]=h,this.data[b+2]=c,this.data[b+3]=m}this.pos+=n}},so.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(c&t)/t*255|0,d=(c>>5&e)/e*255|0,m=(c>>11)/t*255|0,b=a*this.width*4+4*o;this.data[b]=m,this.data[b+1]=d,this.data[b+2]=h,this.data[b+3]=255}this.pos+=n}},so.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*e;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=r,this.data[c+3]=255}this.pos+=this.width%4}},so.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),h=t*this.width*4+4*e;this.data[h]=o,this.data[h+1]=a,this.data[h+2]=r,this.data[h+3]=c}},so.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(t,e,r,a){var o=new so(t,!1),c=o.width,h=o.height,d={data:o.getData(),width:c,height:h},m=new p1(100).encode(d,100);return n.processJPEG.call(this,m,e,r,a)}})(Te.API),b_.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(t,e,r,a){var o=new b_(t),c=o.width,h=o.height,d={data:o.getData(),width:c,height:h},m=new p1(100).encode(d,100);return n.processJPEG.call(this,m,e,r,a)}})(Te.API),Te.API.processRGBA=function(n,t,e){for(var r=n.data,a=r.length,o=new Uint8Array(a/4*3),c=new Uint8Array(a/4),h=0,d=0,m=0;m<a;m+=4){var b=r[m],S=r[m+1],I=r[m+2],w=r[m+3];o[h++]=b,o[h++]=S,o[h++]=I,c[d++]=w}var Y=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:Y,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Te.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Jc=Te.API,ap=Jc.getCharWidthsArray=function(n,t){var e,r,a=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),c=t.charSpace||this.internal.getCharSpace(),h=t.widths?t.widths:a.metadata.Unicode.widths,d=h.fof?h.fof:1,m=t.kerning?t.kerning:a.metadata.Unicode.kerning,b=m.fof?m.fof:1,S=t.doKerning!==!1,I=0,w=n.length,Y=0,H=h[0]||d,K=[];for(e=0;e<w;e++)r=n.charCodeAt(e),typeof a.metadata.widthOfString=="function"?K.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+c*(1e3/o)||0)/1e3):(I=S&&Xn(m[r])==="object"&&!isNaN(parseInt(m[r][Y],10))?m[r][Y]/b:0,K.push((h[r]||H)/d+I)),Y=r;return K},u_=Jc.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Jc.processArabic&&(n=Jc.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,e,a)/e:ap.apply(this,arguments).reduce(function(o,c){return o+c},0)},c_=function(n,t,e,r){for(var a=[],o=0,c=n.length,h=0;o!==c&&h+t[o]<e;)h+=t[o],o++;a.push(n.slice(0,o));var d=o;for(h=0;o!==c;)h+t[o]>r&&(a.push(n.slice(d,o)),h=0,d=o),h+=t[o],o++;return d!==o&&a.push(n.slice(d,o)),a},h_=function(n,t,e){e||(e={});var r,a,o,c,h,d,m,b=[],S=[b],I=e.textIndent||0,w=0,Y=0,H=n.split(" "),K=ap.apply(this,[" ",e])[0];if(d=e.lineIndent===-1?H[0].length+2:e.lineIndent||0){var q=Array(d).join(" "),lt=[];H.map(function(st){(st=st.split(/\s*\n/)).length>1?lt=lt.concat(st.map(function(At,kt){return(kt&&At.length?`
`:"")+At})):lt.push(st[0])}),H=lt,d=u_.apply(this,[q,e])}for(o=0,c=H.length;o<c;o++){var ot=0;if(r=H[o],d&&r[0]==`
`&&(r=r.substr(1),ot=1),I+w+(Y=(a=ap.apply(this,[r,e])).reduce(function(st,At){return st+At},0))>t||ot){if(Y>t){for(h=c_.apply(this,[r,a,t-(I+w),t]),b.push(h.shift()),b=[h.pop()];h.length;)S.push([h.shift()]);Y=a.slice(r.length-(b[0]?b[0].length:0)).reduce(function(st,At){return st+At},0)}else b=[r];S.push(b),I=Y+d,w=K}else b.push(r),I+=w+Y,w=K}return m=d?function(st,At){return(At?q:"")+st.join(" ")}:function(st){return st.join(" ")},S.map(m)},Jc.splitTextToSize=function(n,t,e){var r,a=(e=e||{}).fontSize||this.internal.getFontSize(),o=(function(b){if(b.widths&&b.kerning)return{widths:b.widths,kerning:b.kerning};var S=this.internal.getFont(b.fontName,b.fontStyle),I="Unicode";return S.metadata[I]?{widths:S.metadata[I].widths||{0:1},kerning:S.metadata[I].kerning||{}}:{font:S.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*t/a;o.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=e.lineIndent;var h,d,m=[];for(h=0,d=r.length;h<d;h++)m=m.concat(h_.apply(this,[r[h],c,o]));return m},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="0123456789abcdef",e="klmnopqrstuvwxyz",r={},a={},o=0;o<16;o++)r[e[o]]=t[o],a[t[o]]=e[o];var c=function(I){return"0x"+parseInt(I,10).toString(16)},h=n.__fontmetrics__.compress=function(I){var w,Y,H,K,q=["{"];for(var lt in I){if(w=I[lt],isNaN(parseInt(lt,10))?Y="'"+lt+"'":(lt=parseInt(lt,10),Y=(Y=c(lt).slice(2)).slice(0,-1)+a[Y.slice(-1)]),typeof w=="number")w<0?(H=c(w).slice(3),K="-"):(H=c(w).slice(2),K=""),H=K+H.slice(0,-1)+a[H.slice(-1)];else{if(Xn(w)!=="object")throw new Error("Don't know what to do with value type "+Xn(w)+".");H=h(w)}q.push(Y+H)}return q.push("}"),q.join("")},d=n.__fontmetrics__.uncompress=function(I){if(typeof I!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,Y,H,K,q={},lt=1,ot=q,st=[],At="",kt="",z=I.length-1,P=1;P<z;P+=1)(K=I[P])=="'"?w?(H=w.join(""),w=void 0):w=[]:w?w.push(K):K=="{"?(st.push([ot,H]),ot={},H=void 0):K=="}"?((Y=st.pop())[0][Y[1]]=ot,H=void 0,ot=Y[0]):K=="-"?lt=-1:H===void 0?r.hasOwnProperty(K)?(At+=r[K],H=parseInt(At,16)*lt,lt=1,At=""):At+=K:r.hasOwnProperty(K)?(kt+=r[K],ot[H]=parseInt(kt,16)*lt,lt=1,H=void 0,kt=""):kt+=K;return q},m={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},b={Unicode:{Courier:m,"Courier-Bold":m,"Courier-BoldOblique":m,"Courier-Oblique":m,Helvetica:m,"Helvetica-Bold":m,"Helvetica-BoldOblique":m,"Helvetica-Oblique":m,"Times-Roman":m,"Times-Bold":m,"Times-BoldItalic":m,"Times-Italic":m}},S={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(I){var w=I.font,Y=S.Unicode[w.postScriptName];Y&&(w.metadata.Unicode={},w.metadata.Unicode.widths=Y.widths,w.metadata.Unicode.kerning=Y.kerning);var H=b.Unicode[w.postScriptName];H&&(w.metadata.Unicode.encoding=H,w.encoding=H.codePages[0])}])})(Te.API),(function(n){var t=function(e){for(var r=e.length,a=new Uint8Array(r),o=0;o<r;o++)a[o]=e.charCodeAt(o);return a};n.API.events.push(["addFont",function(e){var r=void 0,a=e.font,o=e.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(c,h){h=/^\x00\x01\x00\x00/.test(h)?t(h):t(vp(h)),c.metadata=n.API.TTFFont.open(h),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(a,r)}}])})(Te),Te.API.addSvgAsImage=function(n,t,e,r,a,o,c,h){if(isNaN(t)||isNaN(e))throw li.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw li.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=r,d.height=a;var m=d.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,d.width,d.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},S=this;return(Ge.canvg?Promise.resolve(Ge.canvg):Kg(()=>import("./index.es-B8D0EP7u.js"),[],import.meta.url)).catch(function(I){return Promise.reject(new Error("Could not load canvg: "+I))}).then(function(I){return I.default?I.default:I}).then(function(I){return I.fromString(m,n,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(I){return I.render(b)}).then(function(){S.addImage(d.toDataURL("image/jpeg",1),t,e,r,a,c,h)})},Te.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(t,e);return this},Te.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var r,a,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(c),d=[],m=0,b=0,S=0;function I(Y,H){var K,q=!1;for(K=0;K<Y.length;K+=1)Y[K]===H&&(q=!0);return q}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var w=h.length;for(S=0;S<w;S+=1)e[h[S]].value=e[h[S]].defaultValue,e[h[S]].explicitSet=!1}if(Xn(n)==="object"){for(a in n)if(o=n[a],I(h,a)&&o!==void 0){if(e[a].type==="boolean"&&typeof o=="boolean")e[a].value=o;else if(e[a].type==="name"&&I(e[a].valueSet,o))e[a].value=o;else if(e[a].type==="integer"&&Number.isInteger(o))e[a].value=o;else if(e[a].type==="array"){for(m=0;m<o.length;m+=1)if(r=!0,o[m].length===1&&typeof o[m][0]=="number")d.push(String(o[m]-1));else if(o[m].length>1){for(b=0;b<o[m].length;b+=1)typeof o[m][b]!="number"&&(r=!1);r===!0&&d.push([o[m][0]-1,o[m][1]-1].join(" "))}e[a].value="["+d.join(" ")+"]"}else e[a].value=e[a].defaultValue;e[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var Y,H=[];for(Y in e)e[Y].explicitSet===!0&&(e[Y].type==="name"?H.push("/"+Y+" /"+e[Y].value):H.push("/"+Y+" "+e[Y].value));H.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+H.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},(function(n){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),m=o.length+c.length+h.length+a.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+m+" >>"),this.internal.write("stream"),this.internal.write(a+o+c+h+d),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}})(Te.API),(function(n){var t=n.API,e=t.pdfEscape16=function(o,c){for(var h,d=c.metadata.Unicode.widths,m=["","0","00","000","0000"],b=[""],S=0,I=o.length;S<I;++S){if(h=c.metadata.characterToGlyph(o.charCodeAt(S)),c.metadata.glyIdsUsed.push(h),c.metadata.toUnicode[h]=o.charCodeAt(S),d.indexOf(h)==-1&&(d.push(h),d.push([parseInt(c.metadata.widthOfGlyph(h),10)])),h=="0")return b.join("");h=h.toString(16),b.push(m[4-h.length],h)}return b.join("")},r=function(o){var c,h,d,m,b,S,I;for(b=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],S=0,I=(h=Object.keys(o).sort(function(w,Y){return w-Y})).length;S<I;S++)c=h[S],d.length>=100&&(b+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(m=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),d.push("<"+c+"><"+m+">"));return d.length&&(b+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),b+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(c){var h=c.font,d=c.out,m=c.newObject,b=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="Identity-H"){for(var S=h.metadata.Unicode.widths,I=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),w="",Y=0;Y<I.length;Y++)w+=String.fromCharCode(I[Y]);var H=m();b({data:w,addLength1:!0,objectId:H}),d("endobj");var K=m();b({data:r(h.metadata.toUnicode),addLength1:!0,objectId:K}),d("endobj");var q=m();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+rh(h.fontName)),d("/FontFile2 "+H+" 0 R"),d("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),d("/Flags "+h.metadata.flags),d("/StemV "+h.metadata.stemV),d("/ItalicAngle "+h.metadata.italicAngle),d("/Ascent "+h.metadata.ascender),d("/Descent "+h.metadata.decender),d("/CapHeight "+h.metadata.capHeight),d(">>"),d("endobj");var lt=m();d("<<"),d("/Type /Font"),d("/BaseFont /"+rh(h.fontName)),d("/FontDescriptor "+q+" 0 R"),d("/W "+n.API.PDFObject.convert(S)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+h.encoding+")"),d(">>"),d(">>"),d("endobj"),h.objectNumber=m(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+K+" 0 R"),d("/BaseFont /"+rh(h.fontName)),d("/Encoding /"+h.encoding),d("/DescendantFonts ["+lt+" 0 R]"),d(">>"),d("endobj"),h.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(c){var h=c.font,d=c.out,m=c.newObject,b=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var S=h.metadata.rawData,I="",w=0;w<S.length;w++)I+=String.fromCharCode(S[w]);var Y=m();b({data:I,addLength1:!0,objectId:Y}),d("endobj");var H=m();b({data:r(h.metadata.toUnicode),addLength1:!0,objectId:H}),d("endobj");var K=m();d("<<"),d("/Descent "+h.metadata.decender),d("/CapHeight "+h.metadata.capHeight),d("/StemV "+h.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+Y+" 0 R"),d("/Flags 96"),d("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),d("/FontName /"+rh(h.fontName)),d("/ItalicAngle "+h.metadata.italicAngle),d("/Ascent "+h.metadata.ascender),d(">>"),d("endobj"),h.objectNumber=m();for(var q=0;q<h.metadata.hmtx.widths.length;q++)h.metadata.hmtx.widths[q]=parseInt(h.metadata.hmtx.widths[q]*(1e3/h.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+H+" 0 R/BaseFont/"+rh(h.fontName)+"/FontDescriptor "+K+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),d("endobj"),h.isAlreadyPutted=!0}})(o)}]);var a=function(o){var c,h=o.text||"",d=o.x,m=o.y,b=o.options||{},S=o.mutex||{},I=S.pdfEscape,w=S.activeFontKey,Y=S.fonts,H=w,K="",q=0,lt="",ot=Y[H].encoding;if(Y[H].encoding!=="Identity-H")return{text:h,x:d,y:m,options:b,mutex:S};for(lt=h,H=w,Array.isArray(h)&&(lt=h[0]),q=0;q<lt.length;q+=1)Y[H].metadata.hasOwnProperty("cmap")&&(c=Y[H].metadata.cmap.unicode.codeMap[lt[q].charCodeAt(0)]),c||lt[q].charCodeAt(0)<256&&Y[H].metadata.hasOwnProperty("Unicode")?K+=lt[q]:K+="";var st="";return parseInt(H.slice(1))<14||ot==="WinAnsiEncoding"?st=I(K,H).split("").map(function(At){return At.charCodeAt(0).toString(16)}).join(""):ot==="Identity-H"&&(st=e(K,Y[H])),S.isHex=!0,{text:st,x:d,y:m,options:b,mutex:S}};t.events.push(["postProcessText",function(o){var c=o.text||"",h=[],d={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var m=0;for(m=0;m<c.length;m+=1)Array.isArray(c[m])&&c[m].length===3?h.push([a(Object.assign({},d,{text:c[m][0]})).text,c[m][1],c[m][2]]):h.push(a(Object.assign({},d,{text:c[m]})).text);o.text=h}else o.text=a(Object.assign({},d,{text:c})).text}])})(Te),(function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(Te.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var a,o,c,h,d,m,b,S=t,I=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],Y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},H={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},K=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],q=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),lt=!1,ot=0;this.__bidiEngine__={};var st=function(E){var R=E.charCodeAt(),D=R>>8,rt=H[D];return rt!==void 0?S[256*rt+(255&R)]:D===252||D===253?"AL":q.test(D)?"L":D===8?"R":"N"},At=function(E){for(var R,D=0;D<E.length;D++){if((R=st(E.charAt(D)))==="L")return!1;if(R==="R")return!0}return!1},kt=function(E,R,D,rt){var _t,it,dt,ft,vt=R[rt];switch(vt){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":lt=!1;break;case"N":case"AN":break;case"EN":lt&&(vt="AN");break;case"AL":lt=!0,vt="R";break;case"WS":case"BN":vt="N";break;case"CS":rt<1||rt+1>=R.length||(_t=D[rt-1])!=="EN"&&_t!=="AN"||(it=R[rt+1])!=="EN"&&it!=="AN"?vt="N":lt&&(it="AN"),vt=it===_t?it:"N";break;case"ES":vt=(_t=rt>0?D[rt-1]:"B")==="EN"&&rt+1<R.length&&R[rt+1]==="EN"?"EN":"N";break;case"ET":if(rt>0&&D[rt-1]==="EN"){vt="EN";break}if(lt){vt="N";break}for(dt=rt+1,ft=R.length;dt<ft&&R[dt]==="ET";)dt++;vt=dt<ft&&R[dt]==="EN"?"EN":"N";break;case"NSM":if(c&&!h){for(ft=R.length,dt=rt+1;dt<ft&&R[dt]==="NSM";)dt++;if(dt<ft){var Mt=E[rt],W=Mt>=1425&&Mt<=2303||Mt===64286;if(_t=R[dt],W&&(_t==="R"||_t==="AL")){vt="R";break}}}vt=rt<1||(_t=R[rt-1])==="B"?"N":D[rt-1];break;case"B":lt=!1,a=!0,vt=ot;break;case"S":o=!0,vt="N"}return vt},z=function(E,R,D){var rt=E.split("");return D&&P(rt,D,{hiLevel:ot}),rt.reverse(),R&&R.reverse(),rt.join("")},P=function(E,R,D){var rt,_t,it,dt,ft,vt=-1,Mt=E.length,W=0,k=[],$=ot?w:I,Z=[];for(lt=!1,a=!1,o=!1,_t=0;_t<Mt;_t++)Z[_t]=st(E[_t]);for(it=0;it<Mt;it++){if(ft=W,k[it]=kt(E,Z,k,it),rt=240&(W=$[ft][Y[k[it]]]),W&=15,R[it]=dt=$[W][5],rt>0)if(rt===16){for(_t=vt;_t<it;_t++)R[_t]=1;vt=-1}else vt=-1;if($[W][6])vt===-1&&(vt=it);else if(vt>-1){for(_t=vt;_t<it;_t++)R[_t]=dt;vt=-1}Z[it]==="B"&&(R[it]=0),D.hiLevel|=dt}o&&(function(at,ut,gt){for(var Rt=0;Rt<gt;Rt++)if(at[Rt]==="S"){ut[Rt]=ot;for(var Ct=Rt-1;Ct>=0&&at[Ct]==="WS";Ct--)ut[Ct]=ot}})(Z,R,Mt)},N=function(E,R,D,rt,_t){if(!(_t.hiLevel<E)){if(E===1&&ot===1&&!a)return R.reverse(),void(D&&D.reverse());for(var it,dt,ft,vt,Mt=R.length,W=0;W<Mt;){if(rt[W]>=E){for(ft=W+1;ft<Mt&&rt[ft]>=E;)ft++;for(vt=W,dt=ft-1;vt<dt;vt++,dt--)it=R[vt],R[vt]=R[dt],R[dt]=it,D&&(it=D[vt],D[vt]=D[dt],D[dt]=it);W=ft}W++}}},V=function(E,R,D){var rt=E.split(""),_t={hiLevel:ot};return D||(D=[]),P(rt,D,_t),(function(it,dt,ft){if(ft.hiLevel!==0&&b)for(var vt,Mt=0;Mt<it.length;Mt++)dt[Mt]===1&&(vt=K.indexOf(it[Mt]))>=0&&(it[Mt]=K[vt+1])})(rt,D,_t),N(2,rt,R,D,_t),N(1,rt,R,D,_t),rt.join("")};return this.__bidiEngine__.doBidiReorder=function(E,R,D){if((function(_t,it){if(it)for(var dt=0;dt<_t.length;dt++)it[dt]=dt;h===void 0&&(h=At(_t)),m===void 0&&(m=At(_t))})(E,R),c||!d||m)if(c&&d&&h^m)ot=h?1:0,E=z(E,R,D);else if(!c&&d&&m)ot=h?1:0,E=V(E,R,D),E=z(E,R);else if(!c||h||d||m){if(c&&!d&&h^m)E=z(E,R),h?(ot=0,E=V(E,R,D)):(ot=1,E=V(E,R,D),E=z(E,R));else if(c&&h&&!d&&m)ot=1,E=V(E,R,D),E=z(E,R);else if(!c&&!d&&h^m){var rt=b;h?(ot=1,E=V(E,R,D),ot=0,b=!1,E=V(E,R,D),b=rt):(ot=0,E=V(E,R,D),E=z(E,R),ot=1,b=!1,E=V(E,R,D),b=rt,E=z(E,R))}}else ot=0,E=V(E,R,D);else ot=h?1:0,E=V(E,R,D);return E},this.__bidiEngine__.setOptions=function(E){E&&(c=E.isInputVisual,d=E.isOutputVisual,h=E.isInputRtl,m=E.isOutputRtl,b=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,e.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var h=0;for(c=[],h=0;h<a.length;h+=1)Object.prototype.toString.call(a[h])==="[object Array]"?c.push([e.doBidiReorder(a[h][0]),a[h][1],a[h][2]]):c.push([e.doBidiReorder(a[h])]);r.text=c}else r.text=e.doBidiReorder(a);e.setOptions({isInputVisual:!0})}])})(Te),Te.API.TTFFont=(function(){function n(t){var e;if(this.rawData=t,e=this.contents=new Nu(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new BL(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new TL(this.contents),this.head=new CL(this),this.name=new DL(this),this.cmap=new H3(this),this.toUnicode={},this.hhea=new IL(this),this.maxp=new OL(this),this.hmtx=new PL(this),this.post=new LL(this),this.os2=new RL(this),this.loca=new VL(this),this.glyf=new ML(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,r,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,h,d,m;for(m=[],c=0,h=(d=this.bbox).length;c<h;c++)t=d[c],m.push(Math.round(t*this.scaleFactor));return m}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(e=a>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,r){var a,o,c,h;for(c=0,o=0,h=(t=""+t).length;0<=h?o<h:o>h;o=0<=h?++o:--o)a=t.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/e)||0;return c*(e/1e3)},n.prototype.lineHeight=function(t,e){var r;return e==null&&(e=!1),r=e?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},n})();var fo,Nu=(function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,r;for(r=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)r[e]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(t){var e,r,a;for(a=[],e=0,r=t.length;0<=r?e<r:e>r;e=0<=r?++e:--e)a.push(this.writeByte(t.charCodeAt(e)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,r,a,o,c,h,d;return t=this.readByte(),e=this.readByte(),r=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),h=this.readByte(),d=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^o)+65536*(255^c)+256*(255^h)+(255^d)+1):72057594037927940*t+281474976710656*e+1099511627776*r+4294967296*a+16777216*o+65536*c+256*h+d},n.prototype.writeLongLong=function(t){var e,r;return e=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,r;for(e=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)e.push(this.readByte());return e},n.prototype.write=function(t){var e,r,a,o;for(o=[],r=0,a=t.length;r<a;r++)e=t[r],o.push(this.writeByte(e));return o},n})(),TL=(function(){var n;function t(e){var r,a,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)r={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(e){var r,a,o,c,h,d,m,b,S,I,w,Y,H;for(H in w=Object.keys(e).length,d=Math.log(2),S=16*Math.floor(Math.log(w)/d),c=Math.floor(S/d),b=16*w-S,(a=new Nu).writeInt(this.scalarType),a.writeShort(w),a.writeShort(S),a.writeShort(c),a.writeShort(b),o=16*w,m=a.pos+o,h=null,Y=[],e)for(I=e[H],a.writeString(H),a.writeInt(n(I)),a.writeInt(m),a.writeInt(I.length),Y=Y.concat(I),H==="head"&&(h=m),m+=I.length;m%4;)Y.push(0),m++;return a.write(Y),r=2981146554-n(a.data),a.pos=h+8,a.writeUInt32(r),a.data},n=function(e){var r,a,o,c;for(e=G3.call(e);e.length%4;)e.push(0);for(o=new Nu(e),a=0,r=0,c=e.length;r<c;r=r+=4)a+=o.readUInt32();return 4294967295&a},t})(),NL={}.hasOwnProperty,$o=function(n,t){for(var e in t)NL.call(t,e)&&(n[e]=t[e]);function r(){this.constructor=n}return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};fo=(function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var CL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,fo),n.prototype.tag="head",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},n.prototype.encode=function(t){var e;return(e=new Nu).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},n})(),__=(function(){function n(t,e){var r,a,o,c,h,d,m,b,S,I,w,Y,H,K,q,lt,ot;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),S=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=t.readByte();break;case 4:for(w=t.readUInt16(),I=w/2,t.pos+=6,o=(function(){var st,At;for(At=[],d=st=0;0<=I?st<I:st>I;d=0<=I?++st:--st)At.push(t.readUInt16());return At})(),t.pos+=2,H=(function(){var st,At;for(At=[],d=st=0;0<=I?st<I:st>I;d=0<=I?++st:--st)At.push(t.readUInt16());return At})(),m=(function(){var st,At;for(At=[],d=st=0;0<=I?st<I:st>I;d=0<=I?++st:--st)At.push(t.readUInt16());return At})(),b=(function(){var st,At;for(At=[],d=st=0;0<=I?st<I:st>I;d=0<=I?++st:--st)At.push(t.readUInt16());return At})(),a=(this.length-t.pos+this.offset)/2,h=(function(){var st,At;for(At=[],d=st=0;0<=a?st<a:st>a;d=0<=a?++st:--st)At.push(t.readUInt16());return At})(),d=q=0,ot=o.length;q<ot;d=++q)for(K=o[d],r=lt=Y=H[d];Y<=K?lt<=K:lt>=K;r=Y<=K?++lt:--lt)b[d]===0?c=r+m[d]:(c=h[b[d]/2+(r-Y)-(I-d)]||0)!==0&&(c+=m[d]),this.codeMap[r]=65535&c}t.pos=S}return n.encode=function(t,e){var r,a,o,c,h,d,m,b,S,I,w,Y,H,K,q,lt,ot,st,At,kt,z,P,N,V,E,R,D,rt,_t,it,dt,ft,vt,Mt,W,k,$,Z,at,ut,gt,Rt,Ct,Bt,Xt,te;switch(rt=new Nu,c=Object.keys(t).sort(function(ee,oe){return ee-oe}),e){case"macroman":for(H=0,K=(function(){var ee=[];for(Y=0;Y<256;++Y)ee.push(0);return ee})(),lt={0:0},o={},_t=0,vt=c.length;_t<vt;_t++)lt[Ct=t[a=c[_t]]]==null&&(lt[Ct]=++H),o[a]={old:t[a],new:lt[t[a]]},K[a]=lt[t[a]];return rt.writeUInt16(1),rt.writeUInt16(0),rt.writeUInt32(12),rt.writeUInt16(0),rt.writeUInt16(262),rt.writeUInt16(0),rt.write(K),{charMap:o,subtable:rt.data,maxGlyphID:H+1};case"unicode":for(R=[],S=[],ot=0,lt={},r={},q=m=null,it=0,Mt=c.length;it<Mt;it++)lt[At=t[a=c[it]]]==null&&(lt[At]=++ot),r[a]={old:At,new:lt[At]},h=lt[At]-a,q!=null&&h===m||(q&&S.push(q),R.push(a),m=h),q=a;for(q&&S.push(q),S.push(65535),R.push(65535),V=2*(N=R.length),P=2*Math.pow(Math.log(N)/Math.LN2,2),I=Math.log(P/2)/Math.LN2,z=2*N-P,d=[],kt=[],w=[],Y=dt=0,W=R.length;dt<W;Y=++dt){if(E=R[Y],b=S[Y],E===65535){d.push(0),kt.push(0);break}if(E-(D=r[E].new)>=32768)for(d.push(0),kt.push(2*(w.length+N-Y)),a=ft=E;E<=b?ft<=b:ft>=b;a=E<=b?++ft:--ft)w.push(r[a].new);else d.push(D-E),kt.push(0)}for(rt.writeUInt16(3),rt.writeUInt16(1),rt.writeUInt32(12),rt.writeUInt16(4),rt.writeUInt16(16+8*N+2*w.length),rt.writeUInt16(0),rt.writeUInt16(V),rt.writeUInt16(P),rt.writeUInt16(I),rt.writeUInt16(z),gt=0,k=S.length;gt<k;gt++)a=S[gt],rt.writeUInt16(a);for(rt.writeUInt16(0),Rt=0,$=R.length;Rt<$;Rt++)a=R[Rt],rt.writeUInt16(a);for(Bt=0,Z=d.length;Bt<Z;Bt++)h=d[Bt],rt.writeUInt16(h);for(Xt=0,at=kt.length;Xt<at;Xt++)st=kt[Xt],rt.writeUInt16(st);for(te=0,ut=w.length;te<ut;te++)H=w[te],rt.writeUInt16(H);return{charMap:r,subtable:rt.data,maxGlyphID:ot+1}}},n})(),H3=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,fo),n.prototype.tag="cmap",n.prototype.parse=function(t){var e,r,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)e=new __(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},n.encode=function(t,e){var r,a;return e==null&&(e="macroman"),r=__.encode(t,e),(a=new Nu).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},n})(),IL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,fo),n.prototype.tag="hhea",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},n})(),RL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,fo),n.prototype.tag="OS/2",n.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var e,r;for(r=[],e=0;e<10;++e)r.push(t.readByte());return r})(),this.charRange=(function(){var e,r;for(r=[],e=0;e<4;++e)r.push(t.readInt());return r})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var e,r;for(r=[],e=0;e<2;e=++e)r.push(t.readInt());return r})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},n})(),LL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,fo),n.prototype.tag="post",n.prototype.parse=function(t){var e,r,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)e=t.readByte(),a.push(this.names.push(t.readString(e)));return a;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var c,h,d;for(d=[],o=c=0,h=this.file.maxp.numGlyphs;0<=h?c<h:c>h;o=0<=h?++c:--c)d.push(t.readUInt32());return d}).call(this)}},n})(),kL=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},DL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,fo),n.prototype.tag="name",n.prototype.parse=function(t){var e,r,a,o,c,h,d,m,b,S,I;for(t.pos=this.offset,t.readShort(),e=t.readShort(),h=t.readShort(),r=[],o=0;0<=e?o<e:o>e;o=0<=e?++o:--o)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+h+t.readShort()});for(d={},o=b=0,S=r.length;b<S;o=++b)a=r[o],t.pos=a.offset,m=t.readString(a.length),c=new kL(m,a),d[I=a.nameID]==null&&(d[I]=[]),d[a.nameID].push(c);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},n})(),OL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,fo),n.prototype.tag="maxp",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},n})(),PL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,fo),n.prototype.tag="hmtx",n.prototype.parse=function(t){var e,r,a,o,c,h,d;for(t.pos=this.offset,this.metrics=[],e=0,h=this.file.hhea.numberOfMetrics;0<=h?e<h:e>h;e=0<=h?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var m,b;for(b=[],e=m=0;0<=a?m<a:m>a;e=0<=a?++m:--m)b.push(t.readInt16());return b})(),this.widths=(function(){var m,b,S,I;for(I=[],m=0,b=(S=this.metrics).length;m<b;m++)o=S[m],I.push(o.advance);return I}).call(this),r=this.widths[this.widths.length-1],d=[],e=c=0;0<=a?c<a:c>a;e=0<=a?++c:--c)d.push(this.widths.push(r));return d},n.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},n})(),G3=[].slice,ML=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,fo),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(t){var e,r,a,o,c,h,d,m,b,S;return t in this.cache?this.cache[t]:(o=this.file.loca,e=this.file.contents,r=o.indexOf(t),(a=o.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+r,c=(h=new Nu(e.read(a))).readShort(),m=h.readShort(),S=h.readShort(),d=h.readShort(),b=h.readShort(),this.cache[t]=c===-1?new UL(h,m,S,d,b):new jL(h,c,m,S,d,b),this.cache[t]))},n.prototype.encode=function(t,e,r){var a,o,c,h,d;for(c=[],o=[],h=0,d=e.length;h<d;h++)a=t[e[h]],o.push(c.length),a&&(c=c.concat(a.encode(r)));return o.push(c.length),{table:c,offsets:o}},n})(),jL=(function(){function n(t,e,r,a,o,c){this.raw=t,this.numberOfContours=e,this.xMin=r,this.yMin=a,this.xMax=o,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),UL=(function(){function n(t,e,r,a,o){var c,h;for(this.raw=t,this.xMin=e,this.yMin=r,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;h=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&h;)c.pos+=1&h?4:2,128&h?c.pos+=8:64&h?c.pos+=4:8&h&&(c.pos+=2)}return n.prototype.encode=function(){var t,e,r;for(e=new Nu(G3.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)e.pos=this.glyphOffsets[t];return e.data},n})(),VL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,fo),n.prototype.tag="loca",n.prototype.parse=function(t){var e,r;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=4)o.push(t.readUInt32());return o}).call(this)},n.prototype.indexOf=function(t){return this.offsets[t]},n.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},n.prototype.encode=function(t,e){for(var r=new Uint32Array(this.offsets.length),a=0,o=0,c=0;c<r.length;++c)if(r[c]=a,o<e.length&&e[o]==c){++o,r[c]=a;var h=this.offsets[c],d=this.offsets[c+1]-h;d>0&&(a+=d)}for(var m=new Array(4*r.length),b=0;b<r.length;++b)m[4*b+3]=255&r[b],m[4*b+2]=(65280&r[b])>>8,m[4*b+1]=(16711680&r[b])>>16,m[4*b]=(4278190080&r[b])>>24;return m},n})(),BL=(function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,r,a,o;for(e in a=this.font.cmap.tables[0].codeMap,t={},o=this.subset)r=o[e],t[e]=a[r];return t},n.prototype.glyphsFor=function(t){var e,r,a,o,c,h,d;for(a={},c=0,h=t.length;c<h;c++)a[o=t[c]]=this.font.glyf.glyphFor(o);for(o in e=[],a)(r=a[o])!=null&&r.compound&&e.push.apply(e,r.glyphIDs);if(e.length>0)for(o in d=this.glyphsFor(e))r=d[o],a[o]=r;return a},n.prototype.encode=function(t,e){var r,a,o,c,h,d,m,b,S,I,w,Y,H,K,q;for(a in r=H3.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(t),w={0:0},q=r.charMap)w[(d=q[a]).old]=d.new;for(Y in I=r.maxGlyphID,c)Y in w||(w[Y]=I++);return b=(function(lt){var ot,st;for(ot in st={},lt)st[lt[ot]]=ot;return st})(w),S=Object.keys(b).sort(function(lt,ot){return lt-ot}),H=(function(){var lt,ot,st;for(st=[],lt=0,ot=S.length;lt<ot;lt++)h=S[lt],st.push(b[h]);return st})(),o=this.font.glyf.encode(c,H,w),m=this.font.loca.encode(o.offsets,H),K={cmap:this.font.cmap.raw(),glyf:o.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(K["OS/2"]=this.font.os2.raw()),this.font.directory.encode(K)},n})();Te.API.PDFObject=(function(){var n;function t(){}return n=function(e,r){return(Array(r+1).join("0")+e).slice(-r)},t.convert=function(e){var r,a,o,c;if(Array.isArray(e))return"["+(function(){var h,d,m;for(m=[],h=0,d=e.length;h<d;h++)r=e[h],m.push(t.convert(r));return m})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(a in o=["<<"],e)c=e[a],o.push("/"+a+" "+t.convert(c));return o.push(">>"),o.join(`
`)}return""+e},t})();const FL=async(n,t)=>{const e=document.getElementById(n);if(e)try{const r=await QI(e,{backgroundColor:"#ffffff",pixelRatio:2,style:{width:"800px",maxWidth:"none",height:"auto",overflow:"visible"}}),o=await(await fetch(r)).blob(),h={files:[new File([o],t.replace(".pdf",".png"),{type:"image/png"})],title:"Borewell Invoice",text:"Please find the attached invoice details."};if(navigator.canShare&&navigator.canShare(h))try{await navigator.share(h)}catch(d){d.name!=="AbortError"&&(console.warn("Sharing failed, falling back to download:",d),w_(r,t.replace(".pdf",".png")))}else w_(r,t.replace(".pdf",".png"))}catch(r){console.error("Error generating Image:",r),alert("Failed to generate image.")}},zL=n=>{const{customer:t,borewell:e,items:r,totalAmount:a,boreType:o}=n,{totalCost:c}=H0(e.depth,e.oldBoreDepth,e.flushingRate,e.appliedRates,e.drillingBuffer);let h=` *INVOICE DETAILS* 
`;return h+=`--------------------------------
`,h+=` *${t.name}*
`,h+=` ${t.phone||"N/A"}
`,h+=` ${t.address?t.address.split(",")[0]:""}
`,h+=` ${t.date}  |  # ${t.invoiceNumber.replace("INV-","")}
`,h+=`--------------------------------

`,h+=` *${o||"Drilling"} Work*
`,h+=` Depth: *${e.depth} ft*
`,h+=` Drill Cost: ${c.toLocaleString()}
`,e.casingDepth7>0&&(h+=`
 *7" Casing Pipe*
`,h+=`   ${e.casingDepth7} ft x ${e.casingRate7} = ${(e.casingDepth7*e.casingRate7).toLocaleString()}
`),e.casingDepth10>0&&(h+=`
 *10" Casing Pipe*
`,h+=`   ${e.casingDepth10} ft x ${e.casingRate10} = ${(e.casingDepth10*e.casingRate10).toLocaleString()}
`),e.bata>0&&(h+=`
 Bata: ${e.bata.toLocaleString()}
`),e.transportCharges>0&&(h+=` Transport: ${e.transportCharges.toLocaleString()}
`),e.extraTime>0&&(h+=` Extra Time: ${e.extraTime.toLocaleString()}
`),r&&r.length>0&&(h+=`
 *Extra Items:*
`,r.forEach(d=>{h+=`    ${d.description}: ${d.quantity} x ${d.rate} = ${d.amount.toLocaleString()}
`})),e.discountAmount>0&&(h+=`
 *Discount:* -${e.discountAmount.toLocaleString()}
`),h+=`
--------------------------------
`,h+=` *GRAND TOTAL: ${a.toLocaleString()}* 
`,h+=`--------------------------------
`,h+=`
*Anjaneya Borewells* 
`,h+="Short of Water? Go Deeper! ",`https://wa.me/?text=${encodeURIComponent(h)}`},w_=(n,t)=>{const e=document.createElement("a");e.download=t,e.href=n,e.click()},qL=({onClose:n})=>O.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4 backdrop-blur-sm",onClick:n,children:O.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[85vh] overflow-hidden flex flex-col shadow-2xl",onClick:t=>t.stopPropagation(),children:[O.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-gray-50",children:[O.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"User Guide "}),O.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:O.jsx(Zu,{size:20,className:"text-gray-600"})})]}),O.jsxs("div",{className:"p-5 overflow-y-auto space-y-8 text-gray-700",children:[O.jsxs("section",{children:[O.jsxs("h3",{className:"font-bold text-lg text-primary flex items-center gap-2 mb-3",children:[O.jsx(F1,{size:20})," Creating Invoices"]}),O.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm text-gray-600",children:[O.jsxs("li",{children:["Tap the big ",O.jsx("strong",{children:"+ Button"})," to create a new Invoice or Quotation."]}),O.jsxs("li",{children:[O.jsx("strong",{children:"Rates are Automatic"}),": Just enter the Total Depth, and the Casing/Drilling charges are calculated automatically based on saved rates."]}),O.jsxs("li",{children:[O.jsx("strong",{children:"Duplicate Check"}),": The app checks for duplicate 'Invoice Numbers' automatically. If you try to save a number that exists, it will warn you! "]})]})]}),O.jsxs("section",{children:[O.jsxs("h3",{className:"font-bold text-lg text-green-600 flex items-center gap-2 mb-3",children:[O.jsx(H4,{size:20})," Cloud Sync (Firebase)"]}),O.jsxs("div",{className:"bg-green-50 p-3 rounded-xl border border-green-100 text-sm",children:[O.jsxs("p",{className:"mb-2",children:[O.jsx("strong",{children:"Why connect?"})," so your data is backed up and available on all your devices (Phone, Laptop, Tablet)."]}),O.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[O.jsxs("li",{children:["Tap the ",O.jsx("strong",{children:"Drive Icon"})," in Settings to Login."]}),O.jsx("li",{children:"Once connected, any change you make is saved within seconds."}),O.jsx("li",{children:"If you are offline, it saves locally and syncs when you reconnect! "})]})]})]}),O.jsxs("section",{children:[O.jsxs("h3",{className:"font-bold text-lg text-red-500 flex items-center gap-2 mb-3",children:[O.jsx(dh,{size:20})," Safety & Recycle Bin"]}),O.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm text-gray-600",children:[O.jsxs("li",{children:[O.jsx("strong",{children:"Deleting"}),': Tapping trash asks for confirmation first. "Are you sure?" ']}),O.jsxs("li",{children:[O.jsx("strong",{children:"Recycle Bin"}),": Deleted files aren't gone! They go to ",O.jsxs("strong",{children:["Settings ",">"," Recycle Bin"]}),"."]}),O.jsxs("li",{children:[O.jsx("strong",{children:"Restore"}),': Made a mistake? Go to Recycle Bin and tap "Restore" to bring it back.']}),O.jsxs("li",{children:[O.jsx("strong",{children:"Delete Forever"}),": To clear space, you can permanently delete items in the Recycle Bin."]})]})]}),O.jsxs("section",{children:[O.jsxs("h3",{className:"font-bold text-lg text-blue-600 flex items-center gap-2 mb-3",children:[O.jsx(G4,{size:20})," Pro Tips"]}),O.jsxs("div",{className:"space-y-3 text-sm",children:[O.jsxs("div",{className:"flex gap-3 items-start",children:[O.jsx(KC,{className:"text-gray-400 shrink-0 mt-1",size:16}),O.jsxs("p",{children:[O.jsx("strong",{children:"Search:"})," Use the search bar for Name, Phone Number, or Invoice #."]})]}),O.jsxs("div",{className:"flex gap-3 items-start",children:[O.jsx(JC,{className:"text-gray-400 shrink-0 mt-1",size:16}),O.jsxs("p",{children:[O.jsx("strong",{children:"Edit:"})," Tap the Pencil icon to update an invoice. Changes sync everywhere."]})]})]})]})]}),O.jsx("div",{className:"p-4 border-t bg-gray-50 text-center",children:O.jsx("p",{className:"text-xs text-gray-500",children:"Borewell Invoice Generator v1.3.0"})})]})}),HL=({onEdit:n,onCreate:t})=>{const{invoices:e,deleteInvoice:r,restoreInvoice:a,permanentDeleteInvoice:o,exportBackup:c,importBackup:h,loginToGoogle:d,logout:m,logo:b,setLogo:S,user:I,syncStatus:w,nextInvoiceNumber:Y,setNextInvoiceNumber:H}=q0(),K=!!I,q=sh.useRef(null),lt=sh.useRef(null),[ot,st]=sh.useState(""),[At,kt]=hn.useState(!1),[z,P]=hn.useState(null),N=sh.useRef(null),[V,E]=hn.useState(!1),[R,D]=hn.useState(!1),[rt,_t]=hn.useState("active"),it=e.filter(vt=>rt==="active"&&vt.isDeleted||rt==="deleted"&&!vt.isDeleted?!1:vt.customer.name.toLowerCase().includes(ot.toLowerCase())||vt.customer.phone.includes(ot)||vt.customer.invoiceNumber.toLowerCase().includes(ot.toLowerCase())||vt.customer.address.toLowerCase().includes(ot.toLowerCase())||vt.id.includes(ot)),dt=vt=>{vt.target.files?.[0]&&h(vt.target.files[0])},ft=vt=>{const Mt=vt.target.files?.[0];if(Mt){const W=new FileReader;W.onloadend=()=>{S(W.result),alert("Logo updated!")},W.readAsDataURL(Mt)}};return O.jsxs("div",{className:"bg-slate-50 min-h-screen p-4 pb-20",children:[O.jsxs("div",{className:"flex justify-between items-start mb-6",children:[O.jsxs("div",{className:"flex items-center gap-3 text-left",children:[b?O.jsx("img",{src:b,className:"w-14 h-14 rounded-xl object-contain bg-white shadow-md shadow-gray-200"}):null,O.jsxs("div",{children:[O.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-[#009900] tracking-wider whitespace-nowrap",style:{fontFamily:'"Permanent Marker", cursive'},children:["ANJANEYA BO",O.jsx("span",{className:"text-red-600",children:"R"}),"EWELLS"]}),O.jsx("p",{className:"text-[10px] md:text-xs text-gray-600 font-bold mt-0.5 ml-1",children:rt==="deleted"?" Recycle Bin":" !.."})]})]}),O.jsxs("div",{className:"flex gap-2",children:[rt==="deleted"&&O.jsx("button",{onClick:()=>_t("active"),className:"p-2 bg-white rounded-full shadow text-primary font-bold text-xs px-3 self-center",children:"Back"}),O.jsx("button",{onClick:()=>kt(!0),className:"p-2 bg-white rounded-full shadow text-gray-600 hover:bg-gray-100 transition-colors",children:O.jsx(XC,{size:24})})]})]}),O.jsx("div",{className:"mb-4",children:O.jsx("input",{type:"text",placeholder:rt==="deleted"?"Search deleted invoices...":"Search by name, phone, or invoice #...",className:"w-full p-3 rounded-lg border border-gray-200 shadow-sm focus:ring-2 focus:ring-primary focus:outline-none",value:ot,onChange:vt=>st(vt.target.value)})}),it.length===0?O.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400",children:[rt==="deleted"?O.jsx(dh,{size:48,className:"mb-2 opacity-50"}):O.jsx(PC,{size:48,className:"mb-2 opacity-50"}),O.jsx("p",{children:rt==="deleted"?"Recycle Bin Empty":"No invoices found"}),rt==="active"&&O.jsx("button",{onClick:t,className:"mt-4 text-primary font-semibold",children:"Create New"})]}):O.jsx("div",{className:"space-y-3",children:it.map(vt=>O.jsxs("div",{className:`p-4 rounded-xl shadow-sm flex justify-between items-center cursor-pointer transition-colors ${rt==="deleted"?"bg-red-50 border border-red-100":"bg-white hover:bg-gray-50"}`,onClick:()=>rt==="active"&&P(vt),children:[O.jsxs("div",{children:[O.jsx("h3",{className:"font-bold text-gray-800",children:vt.customer.name}),O.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[vt.customer.date,"  #",vt.customer.invoiceNumber,K&&O.jsx(H4,{size:12,className:"text-green-500 ml-1"})]})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsxs("span",{className:`font-bold mr-2 ${rt==="deleted"?"text-gray-400":"text-primary"}`,children:["",vt.totalAmount.toLocaleString()]}),rt==="active"?O.jsxs(O.Fragment,{children:[O.jsx("button",{onClick:Mt=>{Mt.stopPropagation(),n(vt)},className:"p-2 text-blue-500 hover:bg-blue-50 rounded-full",children:O.jsx(qC,{size:18})}),O.jsx("button",{onClick:Mt=>{Mt.stopPropagation(),confirm("Move to Recycle Bin?")&&r(vt.id)},className:"p-2 text-red-500 hover:bg-red-50 rounded-full",children:O.jsx(dh,{size:18})})]}):O.jsxs(O.Fragment,{children:[O.jsx("button",{onClick:Mt=>{Mt.stopPropagation(),confirm("Restore this invoice?")&&a(vt.id)},className:"text-xs bg-green-100 text-green-700 px-3 py-1 rounded-full font-semibold",children:"Restore"}),O.jsx("button",{onClick:Mt=>{Mt.stopPropagation(),confirm("PERMANENTLY DELETE? This cannot be undone.")&&o(vt.id)},className:"p-2 text-red-600 hover:bg-red-100 rounded-full",children:O.jsx(Zu,{size:18})})]})]})]},vt.id))}),rt==="active"&&O.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 w-full max-w-md z-10 pointer-events-none px-4",children:O.jsx("button",{onClick:t,className:"absolute bottom-0 right-4 bg-primary text-white w-14 h-14 rounded-full shadow-lg flex items-center justify-center text-3xl hover:bg-sky-700 pointer-events-auto",children:"+"})}),At&&O.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",onClick:()=>kt(!1),children:!V&&!R?O.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm p-6 shadow-2xl space-y-6",onClick:vt=>vt.stopPropagation(),children:[O.jsxs("div",{className:"flex justify-between items-center border-b pb-4",children:[O.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Settings"}),O.jsx("button",{onClick:()=>kt(!1),className:"bg-gray-100 p-2 rounded-full hover:bg-gray-200",children:O.jsx(Zu,{size:20,className:"text-gray-600"})})]}),O.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[O.jsxs("button",{onClick:()=>{K?confirm("Sign out of sync?")&&m():d()},className:`flex flex-col items-center gap-2 p-4 rounded-xl transition-colors border ${K?"bg-green-50 hover:bg-green-100 text-green-700 border-green-200":"bg-orange-50 hover:bg-orange-100 text-orange-600 border-orange-100"}`,children:[O.jsxs("div",{className:"bg-white p-2 rounded-full shadow-sm relative",children:[O.jsx(jC,{size:24,className:K?"text-green-600":"text-orange-500"}),K&&O.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),O.jsxs("div",{className:"flex flex-col items-center",children:[O.jsx("span",{className:"text-xs font-semibold",children:K?"Synced":"Connect"}),K?O.jsx("span",{className:"text-[10px] text-green-600 font-bold mt-1",children:w==="syncing"?"Syncing...":"Tap to Logout"}):O.jsx("span",{className:"text-[10px] text-orange-500 mt-1",children:"Tap to Login"})]})]}),O.jsxs("button",{onClick:()=>D(!0),className:"flex flex-col items-center gap-2 p-4 bg-indigo-50 hover:bg-indigo-100 rounded-xl transition-colors text-indigo-600 border border-indigo-100",children:[O.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm",children:O.jsx(TC,{size:24})}),O.jsx("span",{className:"text-xs font-semibold",children:"Help Guide"})]}),O.jsxs("button",{onClick:()=>E(!0),className:"flex flex-col items-center gap-2 p-4 bg-teal-50 hover:bg-teal-100 rounded-xl transition-colors text-teal-600 border border-teal-100",children:[O.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm",children:O.jsx(G4,{size:24})}),O.jsx("span",{className:"text-xs font-semibold",children:"Install App"})]}),O.jsxs("button",{onClick:()=>lt.current?.click(),className:"flex flex-col items-center gap-2 p-4 bg-blue-50 hover:bg-blue-100 rounded-xl transition-colors text-primary border border-blue-100",children:[O.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm",children:O.jsx(VC,{size:24})}),O.jsx("span",{className:"text-xs font-semibold",children:"Logo"})]}),O.jsx("input",{type:"file",ref:lt,onChange:ft,className:"hidden",accept:"image/*"}),O.jsxs("button",{onClick:c,className:"flex flex-col items-center gap-2 p-4 bg-purple-50 hover:bg-purple-100 rounded-xl transition-colors text-purple-600 border border-purple-100",children:[O.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm",children:O.jsx(IC,{size:24})}),O.jsx("span",{className:"text-xs font-semibold",children:"Backup"})]}),O.jsxs("button",{onClick:()=>q.current?.click(),className:"flex flex-col items-center gap-2 p-4 bg-green-50 hover:bg-green-100 rounded-xl transition-colors text-green-600 border border-green-100",children:[O.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm",children:O.jsx(eI,{size:24})}),O.jsx("span",{className:"text-xs font-semibold",children:"Restore"})]}),O.jsx("input",{type:"file",ref:q,onChange:dt,className:"hidden",accept:".json"}),O.jsxs("div",{className:"col-span-2 md:col-span-3 bg-gray-50 p-3 rounded-xl border border-gray-100 flex items-center justify-between",children:[O.jsxs("div",{className:"flex flex-col",children:[O.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Next Invoice #"}),O.jsx("span",{className:"text-xs text-gray-400",children:"Auto-increments"})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("span",{className:"font-mono text-gray-500",children:"INV-"}),O.jsx("input",{type:"number",className:"w-20 p-1 border rounded text-center font-bold text-gray-700",value:Y,onChange:vt=>H(Number(vt.target.value))})]})]}),O.jsxs("button",{onClick:()=>{_t("deleted"),kt(!1)},className:"flex flex-col items-center gap-2 p-4 bg-red-50 hover:bg-red-100 rounded-xl transition-colors text-red-600 border border-red-100",children:[O.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm",children:O.jsx(dh,{size:24})}),O.jsx("span",{className:"text-xs font-semibold",children:"Recycle Bin"})]})]}),O.jsx("div",{className:"text-center pt-2",children:O.jsx("p",{className:"text-[10px] text-gray-400",children:"Version 1.0.3  Anjaneya Borewells"})})]}):R?O.jsx(qL,{onClose:()=>D(!1)}):O.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm p-6 shadow-2xl space-y-4",onClick:vt=>vt.stopPropagation(),children:[O.jsxs("div",{className:"flex justify-between items-center border-b pb-4",children:[O.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Install App"}),O.jsx("button",{onClick:()=>E(!1),className:"bg-gray-100 p-2 rounded-full hover:bg-gray-200",children:O.jsx(B1,{size:20,className:"text-gray-600"})})]}),O.jsxs("div",{className:"space-y-4 text-sm text-gray-600",children:[O.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:[O.jsx("h3",{className:"font-semibold text-gray-800 mb-2 flex items-center gap-2",children:" For Android (Chrome)"}),O.jsxs("ol",{className:"list-decimal ml-4 space-y-1 text-xs",children:[O.jsxs("li",{children:["Tap the ",O.jsx("strong",{children:"three dots ()"})," in the top right."]}),O.jsxs("li",{children:["Tap ",O.jsx("strong",{children:'"Add to Home screen"'})," or ",O.jsx("strong",{children:'"Install App"'}),"."]}),O.jsxs("li",{children:["Confirm by tapping ",O.jsx("strong",{children:"Add/Install"}),"."]})]})]}),O.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:[O.jsx("h3",{className:"font-semibold text-gray-800 mb-2 flex items-center gap-2",children:" For iOS (Safari)"}),O.jsxs("ol",{className:"list-decimal ml-4 space-y-1 text-xs",children:[O.jsxs("li",{children:["Tap the ",O.jsx("strong",{children:"Share"})," button (box with arrow) at the bottom."]}),O.jsxs("li",{children:["Scroll down and tap ",O.jsx("strong",{children:'"Add to Home Screen"'}),"."]}),O.jsxs("li",{children:["Tap ",O.jsx("strong",{children:"Add"})," in the top right corner."]})]})]})]}),O.jsx("div",{className:"text-center pt-2",children:O.jsx("p",{className:"text-[10px] text-primary bg-blue-50 p-2 rounded",children:"Note: This makes the app work offline and look like a native app!"})})]})}),z&&O.jsxs("div",{className:"fixed inset-0 bg-black/80 z-50 flex flex-col pt-10 overflow-y-auto",children:[O.jsx("div",{className:"flex justify-end p-4 gap-4 px-4 sticky top-0",children:O.jsx("button",{onClick:()=>P(null),className:"bg-white p-2 rounded-full",children:O.jsx(Zu,{})})}),O.jsx("div",{className:"flex-1 overflow-y-auto px-2 md:px-0",children:O.jsx(z4,{ref:N,data:z})}),O.jsxs("div",{className:"bg-white p-4 flex justify-around items-center sticky bottom-0 pb-8 rounded-t-xl gap-4",children:[O.jsxs("button",{onClick:()=>{const vt=zL(z);window.open(vt,"_blank")},className:"flex flex-col items-center gap-1 text-green-600",children:[O.jsx("div",{className:"bg-green-50 p-3 rounded-full border border-green-200",children:O.jsx(FC,{size:24})}),O.jsx("span",{className:"text-[10px] font-semibold",children:"WhatsApp Text"})]}),O.jsxs("button",{onClick:()=>FL("invoice-preview",`${z.type}-${z.customer.name}.png`),className:"flex flex-col items-center gap-1 text-blue-600",children:[O.jsx("div",{className:"bg-blue-50 p-3 rounded-full border border-blue-200",children:O.jsx(DC,{size:24})}),O.jsx("span",{className:"text-[10px] font-semibold",children:"Share Image"})]})]})]})]})};function GL(){const[n,t]=hn.useState("list"),[e,r]=hn.useState(void 0),a=()=>{r(void 0),t("create")},o=h=>{r(h),t("create")},c=()=>{t("list")};return O.jsx(yC,{children:O.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-slate-50 shadow-2xl relative",children:[n==="list"&&O.jsx(HL,{onEdit:o,onCreate:a}),n==="create"&&O.jsx(iI,{onBack:c,initialData:e})]})})}uS.createRoot(document.getElementById("root")).render(O.jsx(hn.StrictMode,{children:O.jsx(GL,{})}));export{Xn as _,YL as c,ZA as g};
