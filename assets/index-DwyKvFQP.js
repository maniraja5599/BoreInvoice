(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var JL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ZA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ng={exports:{}},gf={};var py;function eS(){if(py)return gf;py=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:o}}return gf.Fragment=e,gf.jsx=t,gf.jsxs=t,gf}var my;function tS(){return my||(my=1,Ng.exports=eS()),Ng.exports}var O=tS(),Cg={exports:{}},en={};var gy;function nS(){if(gy)return en;gy=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),N=Symbol.iterator;function w(Q){return Q===null||typeof Q!="object"?null:(Q=N&&Q[N]||Q["@@iterator"],typeof Q=="function"?Q:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,$={};function V(Q,k,Y){this.props=Q,this.context=k,this.refs=$,this.updater=Y||F}V.prototype.isReactComponent={},V.prototype.setState=function(Q,k){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,k,"setState")},V.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function le(){}le.prototype=V.prototype;function oe(Q,k,Y){this.props=Q,this.context=k,this.refs=$,this.updater=Y||F}var se=oe.prototype=new le;se.constructor=oe,z(se,V.prototype),se.isPureReactComponent=!0;var xe=Array.isArray;function Oe(){}var H={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function D(Q,k,Y){var J=Y.ref;return{$$typeof:n,type:Q,key:k,ref:J!==void 0?J:null,props:Y}}function q(Q,k){return D(Q.type,k,Q.props)}function E(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===n}function I(Q){var k={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(Y){return k[Y]})}var R=/\/+/g;function ee(Q,k){return typeof Q=="object"&&Q!==null&&Q.key!=null?I(""+Q.key):k.toString(36)}function be(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(Oe,Oe):(Q.status="pending",Q.then(function(k){Q.status==="pending"&&(Q.status="fulfilled",Q.value=k)},function(k){Q.status==="pending"&&(Q.status="rejected",Q.reason=k)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function ne(Q,k,Y,J,ae){var ue=typeof Q;(ue==="undefined"||ue==="boolean")&&(Q=null);var ye=!1;if(Q===null)ye=!0;else switch(ue){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(Q.$$typeof){case n:case e:ye=!0;break;case b:return ye=Q._init,ne(ye(Q._payload),k,Y,J,ae)}}if(ye)return ae=ae(Q),ye=J===""?"."+ee(Q,0):J,xe(ae)?(Y="",ye!=null&&(Y=ye.replace(R,"$&/")+"/"),ne(ae,k,Y,"",function(Be){return Be})):ae!=null&&(E(ae)&&(ae=q(ae,Y+(ae.key==null||Q&&Q.key===ae.key?"":(""+ae.key).replace(R,"$&/")+"/")+ye)),k.push(ae)),1;ye=0;var Le=J===""?".":J+":";if(xe(Q))for(var Ce=0;Ce<Q.length;Ce++)J=Q[Ce],ue=Le+ee(J,Ce),ye+=ne(J,k,Y,ue,ae);else if(Ce=w(Q),typeof Ce=="function")for(Q=Ce.call(Q),Ce=0;!(J=Q.next()).done;)J=J.value,ue=Le+ee(J,Ce++),ye+=ne(J,k,Y,ue,ae);else if(ue==="object"){if(typeof Q.then=="function")return ne(be(Q),k,Y,J,ae);throw k=String(Q),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return ye}function he(Q,k,Y){if(Q==null)return Q;var J=[],ae=0;return ne(Q,J,"","",function(ue){return k.call(Y,ue,ae++)}),J}function fe(Q){if(Q._status===-1){var k=Q._result;k=k(),k.then(function(Y){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=Y)},function(Y){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=Y)}),Q._status===-1&&(Q._status=0,Q._result=k)}if(Q._status===1)return Q._result.default;throw Q._result}var Te=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)},ke={map:he,forEach:function(Q,k,Y){he(Q,function(){k.apply(this,arguments)},Y)},count:function(Q){var k=0;return he(Q,function(){k++}),k},toArray:function(Q){return he(Q,function(k){return k})||[]},only:function(Q){if(!E(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}};return en.Activity=x,en.Children=ke,en.Component=V,en.Fragment=t,en.Profiler=a,en.PureComponent=oe,en.StrictMode=r,en.Suspense=d,en.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,en.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return H.H.useMemoCache(Q)}},en.cache=function(Q){return function(){return Q.apply(null,arguments)}},en.cacheSignal=function(){return null},en.cloneElement=function(Q,k,Y){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var J=z({},Q.props),ae=Q.key;if(k!=null)for(ue in k.key!==void 0&&(ae=""+k.key),k)!P.call(k,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&k.ref===void 0||(J[ue]=k[ue]);var ue=arguments.length-2;if(ue===1)J.children=Y;else if(1<ue){for(var ye=Array(ue),Le=0;Le<ue;Le++)ye[Le]=arguments[Le+2];J.children=ye}return D(Q.type,ae,J)},en.createContext=function(Q){return Q={$$typeof:c,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:o,_context:Q},Q},en.createElement=function(Q,k,Y){var J,ae={},ue=null;if(k!=null)for(J in k.key!==void 0&&(ue=""+k.key),k)P.call(k,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ae[J]=k[J]);var ye=arguments.length-2;if(ye===1)ae.children=Y;else if(1<ye){for(var Le=Array(ye),Ce=0;Ce<ye;Ce++)Le[Ce]=arguments[Ce+2];ae.children=Le}if(Q&&Q.defaultProps)for(J in ye=Q.defaultProps,ye)ae[J]===void 0&&(ae[J]=ye[J]);return D(Q,ue,ae)},en.createRef=function(){return{current:null}},en.forwardRef=function(Q){return{$$typeof:h,render:Q}},en.isValidElement=E,en.lazy=function(Q){return{$$typeof:b,_payload:{_status:-1,_result:Q},_init:fe}},en.memo=function(Q,k){return{$$typeof:m,type:Q,compare:k===void 0?null:k}},en.startTransition=function(Q){var k=H.T,Y={};H.T=Y;try{var J=Q(),ae=H.S;ae!==null&&ae(Y,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Oe,Te)}catch(ue){Te(ue)}finally{k!==null&&Y.types!==null&&(k.types=Y.types),H.T=k}},en.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},en.use=function(Q){return H.H.use(Q)},en.useActionState=function(Q,k,Y){return H.H.useActionState(Q,k,Y)},en.useCallback=function(Q,k){return H.H.useCallback(Q,k)},en.useContext=function(Q){return H.H.useContext(Q)},en.useDebugValue=function(){},en.useDeferredValue=function(Q,k){return H.H.useDeferredValue(Q,k)},en.useEffect=function(Q,k){return H.H.useEffect(Q,k)},en.useEffectEvent=function(Q){return H.H.useEffectEvent(Q)},en.useId=function(){return H.H.useId()},en.useImperativeHandle=function(Q,k,Y){return H.H.useImperativeHandle(Q,k,Y)},en.useInsertionEffect=function(Q,k){return H.H.useInsertionEffect(Q,k)},en.useLayoutEffect=function(Q,k){return H.H.useLayoutEffect(Q,k)},en.useMemo=function(Q,k){return H.H.useMemo(Q,k)},en.useOptimistic=function(Q,k){return H.H.useOptimistic(Q,k)},en.useReducer=function(Q,k,Y){return H.H.useReducer(Q,k,Y)},en.useRef=function(Q){return H.H.useRef(Q)},en.useState=function(Q){return H.H.useState(Q)},en.useSyncExternalStore=function(Q,k,Y){return H.H.useSyncExternalStore(Q,k,Y)},en.useTransition=function(){return H.H.useTransition()},en.version="19.2.1",en}var yy;function t0(){return yy||(yy=1,Cg.exports=nS()),Cg.exports}var hn=t0();const $u=ZA(hn);var Ig={exports:{}},yf={},Rg={exports:{}},Lg={};var vy;function iS(){return vy||(vy=1,(function(n){function e(ne,he){var fe=ne.length;ne.push(he);e:for(;0<fe;){var Te=fe-1>>>1,ke=ne[Te];if(0<a(ke,he))ne[Te]=he,ne[fe]=ke,fe=Te;else break e}}function t(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var he=ne[0],fe=ne.pop();if(fe!==he){ne[0]=fe;e:for(var Te=0,ke=ne.length,Q=ke>>>1;Te<Q;){var k=2*(Te+1)-1,Y=ne[k],J=k+1,ae=ne[J];if(0>a(Y,fe))J<ke&&0>a(ae,Y)?(ne[Te]=ae,ne[J]=fe,Te=J):(ne[Te]=Y,ne[k]=fe,Te=k);else if(J<ke&&0>a(ae,fe))ne[Te]=ae,ne[J]=fe,Te=J;else break e}}return he}function a(ne,he){var fe=ne.sortIndex-he.sortIndex;return fe!==0?fe:ne.id-he.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var d=[],m=[],b=1,x=null,N=3,w=!1,F=!1,z=!1,$=!1,V=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function se(ne){for(var he=t(m);he!==null;){if(he.callback===null)r(m);else if(he.startTime<=ne)r(m),he.sortIndex=he.expirationTime,e(d,he);else break;he=t(m)}}function xe(ne){if(z=!1,se(ne),!F)if(t(d)!==null)F=!0,Oe||(Oe=!0,I());else{var he=t(m);he!==null&&be(xe,he.startTime-ne)}}var Oe=!1,H=-1,P=5,D=-1;function q(){return $?!0:!(n.unstable_now()-D<P)}function E(){if($=!1,Oe){var ne=n.unstable_now();D=ne;var he=!0;try{e:{F=!1,z&&(z=!1,le(H),H=-1),w=!0;var fe=N;try{t:{for(se(ne),x=t(d);x!==null&&!(x.expirationTime>ne&&q());){var Te=x.callback;if(typeof Te=="function"){x.callback=null,N=x.priorityLevel;var ke=Te(x.expirationTime<=ne);if(ne=n.unstable_now(),typeof ke=="function"){x.callback=ke,se(ne),he=!0;break t}x===t(d)&&r(d),se(ne)}else r(d);x=t(d)}if(x!==null)he=!0;else{var Q=t(m);Q!==null&&be(xe,Q.startTime-ne),he=!1}}break e}finally{x=null,N=fe,w=!1}he=void 0}}finally{he?I():Oe=!1}}}var I;if(typeof oe=="function")I=function(){oe(E)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ee=R.port2;R.port1.onmessage=E,I=function(){ee.postMessage(null)}}else I=function(){V(E,0)};function be(ne,he){H=V(function(){ne(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_next=function(ne){switch(N){case 1:case 2:case 3:var he=3;break;default:he=N}var fe=N;N=he;try{return ne()}finally{N=fe}},n.unstable_requestPaint=function(){$=!0},n.unstable_runWithPriority=function(ne,he){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var fe=N;N=ne;try{return he()}finally{N=fe}},n.unstable_scheduleCallback=function(ne,he,fe){var Te=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Te+fe:Te):fe=Te,ne){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=fe+ke,ne={id:b++,callback:he,priorityLevel:ne,startTime:fe,expirationTime:ke,sortIndex:-1},fe>Te?(ne.sortIndex=fe,e(m,ne),t(d)===null&&ne===t(m)&&(z?(le(H),H=-1):z=!0,be(xe,fe-Te))):(ne.sortIndex=ke,e(d,ne),F||w||(F=!0,Oe||(Oe=!0,I()))),ne},n.unstable_shouldYield=q,n.unstable_wrapCallback=function(ne){var he=N;return function(){var fe=N;N=he;try{return ne.apply(this,arguments)}finally{N=fe}}}})(Lg)),Lg}var by;function rS(){return by||(by=1,Rg.exports=iS()),Rg.exports}var kg={exports:{}},us={};var _y;function sS(){if(_y)return us;_y=1;var n=t0();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,m,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:d,containerInfo:m,implementation:b}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return us.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,us.createPortal=function(d,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(d,m,null,b)},us.flushSync=function(d){var m=c.T,b=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=m,r.p=b,r.d.f()}},us.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(d,m))},us.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},us.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var b=m.as,x=h(b,m.crossOrigin),N=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;b==="style"?r.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:N,fetchPriority:w}):b==="script"&&r.d.X(d,{crossOrigin:x,integrity:N,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},us.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var b=h(m.as,m.crossOrigin);r.d.M(d,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(d)},us.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var b=m.as,x=h(b,m.crossOrigin);r.d.L(d,b,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},us.preloadModule=function(d,m){if(typeof d=="string")if(m){var b=h(m.as,m.crossOrigin);r.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(d)},us.requestFormReset=function(d){r.d.r(d)},us.unstable_batchedUpdates=function(d,m){return d(m)},us.useFormState=function(d,m,b){return c.H.useFormState(d,m,b)},us.useFormStatus=function(){return c.H.useHostTransitionStatus()},us.version="19.2.1",us}var wy;function aS(){if(wy)return kg.exports;wy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),kg.exports=sS(),kg.exports}var Ay;function oS(){if(Ay)return yf;Ay=1;var n=rS(),e=t0(),t=aS();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,u=s;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return d(g),i;if(v===u)return d(g),s;v=v.sibling}throw Error(r(188))}if(l.return!==u.return)l=g,u=v;else{for(var C=!1,G=g.child;G;){if(G===l){C=!0,l=g,u=v;break}if(G===u){C=!0,u=g,l=v;break}G=G.sibling}if(!C){for(G=v.child;G;){if(G===l){C=!0,l=v,u=g;break}if(G===u){C=!0,u=v,l=g;break}G=G.sibling}if(!C)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function b(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=b(i),s!==null)return s;i=i.sibling}return null}var x=Object.assign,N=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),le=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),Oe=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),E=Symbol.iterator;function I(i){return i===null||typeof i!="object"?null:(i=E&&i[E]||i["@@iterator"],typeof i=="function"?i:null)}var R=Symbol.for("react.client.reference");function ee(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===R?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case z:return"Fragment";case V:return"Profiler";case $:return"StrictMode";case xe:return"Suspense";case Oe:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case F:return"Portal";case oe:return i.displayName||"Context";case le:return(i._context.displayName||"Context")+".Consumer";case se:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case H:return s=i.displayName||null,s!==null?s:ee(i.type)||"Memo";case P:s=i._payload,i=i._init;try{return ee(i(s))}catch{}}return null}var be=Array.isArray,ne=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Te=[],ke=-1;function Q(i){return{current:i}}function k(i){0>ke||(i.current=Te[ke],Te[ke]=null,ke--)}function Y(i,s){ke++,Te[ke]=i.current,i.current=s}var J=Q(null),ae=Q(null),ue=Q(null),ye=Q(null);function Le(i,s){switch(Y(ue,s),Y(ae,i),Y(J,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?j5(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=j5(s),i=U5(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}k(J),Y(J,i)}function Ce(){k(J),k(ae),k(ue)}function Be(i){i.memoizedState!==null&&Y(ye,i);var s=J.current,l=U5(s,i.type);s!==l&&(Y(ae,i),Y(J,l))}function Xe(i){ae.current===i&&(k(J),k(ae)),ye.current===i&&(k(ye),ff._currentValue=fe)}var nt,et;function lt(i){if(nt===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);nt=s&&s[1]||"",et=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nt+i+et}var Z=!1;function pe(i,s){if(!i||Z)return"";Z=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var Ge=function(){throw Error()};if(Object.defineProperty(Ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ge,[])}catch(je){var Pe=je}Reflect.construct(i,[],Ge)}else{try{Ge.call()}catch(je){Pe=je}i.call(Ge.prototype)}}else{try{throw Error()}catch(je){Pe=je}(Ge=i())&&typeof Ge.catch=="function"&&Ge.catch(function(){})}}catch(je){if(je&&Pe&&typeof je.stack=="string")return[je.stack,Pe.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),C=v[0],G=v[1];if(C&&G){var ce=C.split(`
`),Re=G.split(`
`);for(g=u=0;u<ce.length&&!ce[u].includes("DetermineComponentFrameRoot");)u++;for(;g<Re.length&&!Re[g].includes("DetermineComponentFrameRoot");)g++;if(u===ce.length||g===Re.length)for(u=ce.length-1,g=Re.length-1;1<=u&&0<=g&&ce[u]!==Re[g];)g--;for(;1<=u&&0<=g;u--,g--)if(ce[u]!==Re[g]){if(u!==1||g!==1)do if(u--,g--,0>g||ce[u]!==Re[g]){var ze=`
`+ce[u].replace(" at new "," at ");return i.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",i.displayName)),ze}while(1<=u&&0<=g);break}}}finally{Z=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?lt(l):""}function Je(i,s){switch(i.tag){case 26:case 27:case 5:return lt(i.type);case 16:return lt("Lazy");case 13:return i.child!==s&&s!==null?lt("Suspense Fallback"):lt("Suspense");case 19:return lt("SuspenseList");case 0:case 15:return pe(i.type,!1);case 11:return pe(i.type.render,!1);case 1:return pe(i.type,!0);case 31:return lt("Activity");default:return""}}function st(i){try{var s="",l=null;do s+=Je(i,l),l=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Me=Object.prototype.hasOwnProperty,it=n.unstable_scheduleCallback,rt=n.unstable_cancelCallback,Nt=n.unstable_shouldYield,_t=n.unstable_requestPaint,Kt=n.unstable_now,Jt=n.unstable_getCurrentPriorityLevel,Bt=n.unstable_ImmediatePriority,sn=n.unstable_UserBlockingPriority,Xt=n.unstable_NormalPriority,gt=n.unstable_LowPriority,qt=n.unstable_IdlePriority,yt=n.log,ui=n.unstable_setDisableYieldValue,Qt=null,Et=null;function Mt(i){if(typeof yt=="function"&&ui(i),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(Qt,i)}catch{}}var $t=Math.clz32?Math.clz32:Ot,At=Math.log,In=Math.LN2;function Ot(i){return i>>>=0,i===0?32:31-(At(i)/In|0)|0}var Pt=256,kn=262144,wt=4194304;function vt(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function an(i,s,l){var u=i.pendingLanes;if(u===0)return 0;var g=0,v=i.suspendedLanes,C=i.pingedLanes;i=i.warmLanes;var G=u&134217727;return G!==0?(u=G&~v,u!==0?g=vt(u):(C&=G,C!==0?g=vt(C):l||(l=G&~i,l!==0&&(g=vt(l))))):(G=u&~v,G!==0?g=vt(G):C!==0?g=vt(C):l||(l=u&~i,l!==0&&(g=vt(l)))),g===0?0:s!==0&&s!==g&&(s&v)===0&&(v=g&-g,l=s&-s,v>=l||v===32&&(l&4194048)!==0)?s:g}function lr(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Ji(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cs(){var i=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),i}function qi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function St(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Js(i,s,l,u,g,v){var C=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var G=i.entanglements,ce=i.expirationTimes,Re=i.hiddenUpdates;for(l=C&~l;0<l;){var ze=31-$t(l),Ge=1<<ze;G[ze]=0,ce[ze]=-1;var Pe=Re[ze];if(Pe!==null)for(Re[ze]=null,ze=0;ze<Pe.length;ze++){var je=Pe[ze];je!==null&&(je.lane&=-536870913)}l&=~Ge}u!==0&&Vr(i,u,0),v!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=v&~(C&~s))}function Vr(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-$t(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|l&261930}function Sr(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var u=31-$t(l),g=1<<u;g&s|i[u]&s&&(i[u]|=s),l&=~g}}function xr(i,s){var l=s&-s;return l=(l&42)!==0?1:Fn(l),(l&(i.suspendedLanes|s))!==0?0:l}function Fn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Qn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Di(){var i=he.p;return i!==0?i:(i=window.event,i===void 0?32:oy(i.type))}function ur(i,s){var l=he.p;try{return he.p=i,s()}finally{he.p=l}}var Zi=Math.random().toString(36).slice(2),Dn="__reactFiber$"+Zi,Hn="__reactProps$"+Zi,Oi="__reactContainer$"+Zi,Er="__reactEvents$"+Zi,ns="__reactListeners$"+Zi,ga="__reactHandles$"+Zi,vs="__reactResources$"+Zi,Tr="__reactMarker$"+Zi;function Zs(i){delete i[Dn],delete i[Hn],delete i[Er],delete i[ns],delete i[ga]}function Br(i){var s=i[Dn];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Oi]||l[Dn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=G5(i);i!==null;){if(l=i[Dn])return l;i=G5(i)}return s}i=l,l=i.parentNode}return null}function cr(i){if(i=i[Dn]||i[Oi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Fr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function is(i){var s=i[vs];return s||(s=i[vs]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ci(i){i[Tr]=!0}var po=new Set,Nr={};function rs(i,s){bs(i,s),bs(i+"Capture",s)}function bs(i,s){for(Nr[i]=s,i=0;i<s.length;i++)po.add(s[i])}var Ua=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mo={},go={};function Xo(i){return Me.call(go,i)?!0:Me.call(mo,i)?!1:Ua.test(i)?go[i]=!0:(mo[i]=!0,!1)}function zr(i,s,l){if(Xo(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function er(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function yi(i,s,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+u)}}function cn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ea(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ss(i,s,l){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(C){l=""+C,v.call(this,C)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(C){l=""+C},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function yn(i){if(!i._valueTracker){var s=ea(i)?"checked":"value";i._valueTracker=ss(i,s,""+i[s])}}function ya(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return i&&(u=ea(i)?i.checked?"true":"false":i.value),i=u,i!==l?(s.setValue(i),!0):!1}function xi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ri=/[\n"\\]/g;function vi(i){return i.replace(ri,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Va(i,s,l,u,g,v,C,G){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),s!=null?C==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+cn(s)):i.value!==""+cn(s)&&(i.value=""+cn(s)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),s!=null?Qo(i,C,cn(s)):l!=null?Qo(i,C,cn(l)):u!=null&&i.removeAttribute("value"),g==null&&v!=null&&(i.defaultChecked=!!v),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?i.name=""+cn(G):i.removeAttribute("name")}function Dl(i,s,l,u,g,v,C,G){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),s!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||s!=null)){yn(i);return}l=l!=null?""+cn(l):"",s=s!=null?""+cn(s):l,G||s===i.value||(i.value=s),i.defaultValue=s}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=G?i.checked:!!u,i.defaultChecked=!!u,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C),yn(i)}function Qo(i,s,l){s==="number"&&xi(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function hr(i,s,l,u){if(i=i.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=s.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&u&&(i[l].defaultSelected=!0)}else{for(l=""+cn(l),s=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,u&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function Wo(i,s,l){if(s!=null&&(s=""+cn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+cn(l):""}function ta(i,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(r(92));if(be(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=cn(s),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u),yn(i)}function Hi(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var va=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jo(i,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,l):typeof l!="number"||l===0||va.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function Zo(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var g in s)u=s[g],s.hasOwnProperty(g)&&l[g]!==u&&Jo(i,g,u)}else for(var v in s)s.hasOwnProperty(v)&&Jo(i,v,s[v])}function yo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),na=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cr(i){return na.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function _s(){}var ia=null;function Ir(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ba=null,Ct=null;function Ba(i){var s=cr(i);if(s&&(i=s.stateNode)){var l=i[Hn]||null;e:switch(i=s.stateNode,s.type){case"input":if(Va(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+vi(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==i&&u.form===i.form){var g=u[Hn]||null;if(!g)throw Error(r(90));Va(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===i.form&&ya(u)}break e;case"textarea":Wo(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&hr(i,!!l.multiple,s,!1)}}}var bo=!1;function _a(i,s,l){if(bo)return i(s,l);bo=!0;try{var u=i(s);return u}finally{if(bo=!1,(ba!==null||Ct!==null)&&(xd(),ba&&(s=ba,i=Ct,Ct=ba=null,Ba(s),i)))for(s=0;s<i.length;s++)Ba(i[s])}}function Gi(i,s){var l=i.stateNode;if(l===null)return null;var u=l[Hn]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fa=!1;if(Pi)try{var On={};Object.defineProperty(On,"passive",{get:function(){Fa=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{Fa=!1}var qr=null,za=null,ws=null;function el(){if(ws)return ws;var i,s=za,l=s.length,u,g="value"in qr?qr.value:qr.textContent,v=g.length;for(i=0;i<l&&s[i]===g[i];i++);var C=l-i;for(u=1;u<=C&&s[l-u]===g[v-u];u++);return ws=g.slice(i,1<u?1-u:void 0)}function Hr(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function ra(){return!0}function Gr(){return!1}function Ei(i){function s(l,u,g,v,C){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var G in i)i.hasOwnProperty(G)&&(l=i[G],this[G]=l?l(v):v[G]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ra:Gr,this.isPropagationStopped=Gr,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ra)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ra)},persist:function(){},isPersistent:ra}),s}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tr=Ei(Is),Rs=x({},Is,{view:0,detail:0}),wa=Ei(Rs),Ls,ks,as,qa=x({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lt,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==as&&(as&&i.type==="mousemove"?(Ls=i.screenX-as.screenX,ks=i.screenY-as.screenY):ks=Ls=0,as=i),Ls)},movementY:function(i){return"movementY"in i?i.movementY:ks}}),_o=Ei(qa),Yr=x({},qa,{dataTransfer:0}),Ds=Ei(Yr),tl=x({},Rs,{relatedTarget:0}),As=Ei(tl),wo=x({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),_=Ei(wo),M=x({},Is,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ie=Ei(M),de=x({},Is,{data:0}),_e=Ei(de),Fe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ke={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ut={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dt(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=ut[i])?!!s[i]:!1}function Lt(){return dt}var xt=x({},Rs,{key:function(i){if(i.key){var s=Fe[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Hr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ke[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lt,charCode:function(i){return i.type==="keypress"?Hr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Hr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),fn=Ei(xt),Wn=x({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zn=Ei(Wn),p=x({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lt}),S=Ei(p),L=x({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),X=Ei(L),Ae=x({},qa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),De=Ei(Ae),Ze=x({},Is,{newState:0,oldState:0}),zt=Ei(Ze),Jn=[9,13,27,32],ln=Pi&&"CompositionEvent"in window,Pn=null;Pi&&"documentMode"in document&&(Pn=document.documentMode);var nr=Pi&&"TextEvent"in window&&!Pn,fr=Pi&&(!ln||Pn&&8<Pn&&11>=Pn),Gn=" ",dr=!1;function Ss(i,s){switch(i){case"keyup":return Jn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aa(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Sa=!1;function Kr(i,s){switch(i){case"compositionend":return Aa(s);case"keypress":return s.which!==32?null:(dr=!0,Gn);case"textInput":return i=s.data,i===Gn&&dr?null:i;default:return null}}function Ha(i,s){if(Sa)return i==="compositionend"||!ln&&Ss(i,s)?(i=el(),ws=za=qr=null,Sa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return fr&&s.locale!=="ko"?null:s.data;default:return null}}var Ol={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cu(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Ol[i.type]:s==="textarea"}function xs(i,s,l,u){ba?Ct?Ct.push(u):Ct=[u]:ba=u,s=Ld(s,"onChange"),0<s.length&&(l=new tr("onChange","change",null,l,u),i.push({event:l,listeners:s}))}var sa=null,Ga=null;function Iu(i){L5(i,0)}function aa(i){var s=Fr(i);if(ya(s))return i}function Ao(i,s){if(i==="change")return s}var os=!1;if(Pi){var $r;if(Pi){var xa="oninput"in document;if(!xa){var Ea=document.createElement("div");Ea.setAttribute("oninput","return;"),xa=typeof Ea.oninput=="function"}$r=xa}else $r=!1;os=$r&&(!document.documentMode||9<document.documentMode)}function Ya(){sa&&(sa.detachEvent("onpropertychange",Pl),Ga=sa=null)}function Pl(i){if(i.propertyName==="value"&&aa(Ga)){var s=[];xs(s,Ga,i,Ir(i)),_a(Iu,s)}}function Ml(i,s,l){i==="focusin"?(Ya(),sa=s,Ga=l,sa.attachEvent("onpropertychange",Pl)):i==="focusout"&&Ya()}function Ti(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return aa(Ga)}function gc(i,s){if(i==="click")return aa(s)}function Ta(i,s){if(i==="input"||i==="change")return aa(s)}function Na(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var pr=typeof Object.is=="function"?Object.is:Na;function Ka(i,s){if(pr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Me.call(s,g)||!pr(i[g],s[g]))return!1}return!0}function jl(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ul(i,s){var l=jl(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=s&&u>=s)return{node:l,offset:s-i};i=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=jl(l)}}function $a(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?$a(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Xa(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=xi(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=xi(i.document)}return s}function Ca(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var nl=Pi&&"documentMode"in document&&11>=document.documentMode,Es=null,Qa=null,Rr=null,Os=!1;function Rn(i,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Os||Es==null||Es!==xi(u)||(u=Es,"selectionStart"in u&&Ca(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Rr&&Ka(Rr,u)||(Rr=u,u=Ld(Qa,"onSelect"),0<u.length&&(s=new tr("onSelect","select",null,s,l),i.push({event:s,listeners:u}),s.target=Es)))}function Sn(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Zn={animationend:Sn("Animation","AnimationEnd"),animationiteration:Sn("Animation","AnimationIteration"),animationstart:Sn("Animation","AnimationStart"),transitionrun:Sn("Transition","TransitionRun"),transitionstart:Sn("Transition","TransitionStart"),transitioncancel:Sn("Transition","TransitionCancel"),transitionend:Sn("Transition","TransitionEnd")},Ni={},Ia={};Pi&&(Ia=document.createElement("div").style,"AnimationEvent"in window||(delete Zn.animationend.animation,delete Zn.animationiteration.animation,delete Zn.animationstart.animation),"TransitionEvent"in window||delete Zn.transitionend.transition);function oa(i){if(Ni[i])return Ni[i];if(!Zn[i])return i;var s=Zn[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Ia)return Ni[i]=s[l];return i}var il=oa("animationend"),Ru=oa("animationiteration"),Oh=oa("animationstart"),ed=oa("transitionrun"),td=oa("transitionstart"),nd=oa("transitioncancel"),Ph=oa("transitionend"),Mh=new Map,rl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rl.push("scrollEnd");function Ps(i,s){Mh.set(i,s),rs(s,[i])}var Lu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ts=[],sl=0,yc=0;function ku(){for(var i=sl,s=yc=sl=0;s<i;){var l=Ts[s];Ts[s++]=null;var u=Ts[s];Ts[s++]=null;var g=Ts[s];Ts[s++]=null;var v=Ts[s];if(Ts[s++]=null,u!==null&&g!==null){var C=u.pending;C===null?g.next=g:(g.next=C.next,C.next=g),u.pending=g}v!==0&&Ou(l,g,v)}}function Du(i,s,l,u){Ts[sl++]=i,Ts[sl++]=s,Ts[sl++]=l,Ts[sl++]=u,yc|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function vc(i,s,l,u){return Du(i,s,l,u),Lr(i)}function Wa(i,s){return Du(i,null,null,s),Lr(i)}function Ou(i,s,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var g=!1,v=i.return;v!==null;)v.childLanes|=l,u=v.alternate,u!==null&&(u.childLanes|=l),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(g=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,g&&s!==null&&(g=31-$t(l),i=v.hiddenUpdates,u=i[g],u===null?i[g]=[s]:u.push(s),s.lane=l|536870912),v):null}function Lr(i){if(50<sf)throw sf=0,Wm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var mr={};function bc(i,s,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kr(i,s,l,u){return new bc(i,s,l,u)}function _c(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ms(i,s){var l=i.alternate;return l===null?(l=kr(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Pu(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Vl(i,s,l,u,g,v){var C=0;if(u=i,typeof i=="function")_c(i)&&(C=1);else if(typeof i=="string")C=FA(i,l,J.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=kr(31,l,s,g),i.elementType=D,i.lanes=v,i;case z:return So(l.children,g,v,s);case $:C=8,g|=24;break;case V:return i=kr(12,l,s,g|2),i.elementType=V,i.lanes=v,i;case xe:return i=kr(13,l,s,g),i.elementType=xe,i.lanes=v,i;case Oe:return i=kr(19,l,s,g),i.elementType=Oe,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case oe:C=10;break e;case le:C=9;break e;case se:C=11;break e;case H:C=14;break e;case P:C=16,u=null;break e}C=29,l=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=kr(C,l,s,g),s.elementType=i,s.type=u,s.lanes=v,s}function So(i,s,l,u){return i=kr(7,i,u,s),i.lanes=l,i}function Mu(i,s,l){return i=kr(6,i,null,s),i.lanes=l,i}function wc(i){var s=kr(18,null,null,0);return s.stateNode=i,s}function Bl(i,s,l){return s=kr(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Ac=new WeakMap;function js(i,s){if(typeof i=="object"&&i!==null){var l=Ac.get(i);return l!==void 0?l:(s={value:i,source:s,stack:st(s)},Ac.set(i,s),s)}return{value:i,source:s,stack:st(s)}}var Fl=[],al=0,Sc=null,ju=0,Us=[],Vs=0,xo=null,Bs=1,Fs="";function Ns(i,s){Fl[al++]=ju,Fl[al++]=Sc,Sc=i,ju=s}function id(i,s,l){Us[Vs++]=Bs,Us[Vs++]=Fs,Us[Vs++]=xo,xo=i;var u=Bs;i=Fs;var g=32-$t(u)-1;u&=~(1<<g),l+=1;var v=32-$t(s)+g;if(30<v){var C=g-g%5;v=(u&(1<<C)-1).toString(32),u>>=C,g-=C,Bs=1<<32-$t(s)+g|l<<g|u,Fs=v+i}else Bs=1<<v|l<<g|u,Fs=i}function jh(i){i.return!==null&&(Ns(i,1),id(i,1,0))}function xc(i){for(;i===Sc;)Sc=Fl[--al],Fl[al]=null,ju=Fl[--al],Fl[al]=null;for(;i===xo;)xo=Us[--Vs],Us[Vs]=null,Fs=Us[--Vs],Us[Vs]=null,Bs=Us[--Vs],Us[Vs]=null}function rd(i,s){Us[Vs++]=Bs,Us[Vs++]=Fs,Us[Vs++]=xo,Bs=s.id,Fs=s.overflow,xo=i}var gr=null,si=null,pn=!1,Xr=null,bi=!1,la=Error(r(519));function Eo(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(js(s,i)),la}function Uh(i){var s=i.stateNode,l=i.type,u=i.memoizedProps;switch(s[Dn]=i,s[Hn]=u,l){case"dialog":gn("cancel",s),gn("close",s);break;case"iframe":case"object":case"embed":gn("load",s);break;case"video":case"audio":for(l=0;l<of.length;l++)gn(of[l],s);break;case"source":gn("error",s);break;case"img":case"image":case"link":gn("error",s),gn("load",s);break;case"details":gn("toggle",s);break;case"input":gn("invalid",s),Dl(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":gn("invalid",s);break;case"textarea":gn("invalid",s),ta(s,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||P5(s.textContent,l)?(u.popover!=null&&(gn("beforetoggle",s),gn("toggle",s)),u.onScroll!=null&&gn("scroll",s),u.onScrollEnd!=null&&gn("scrollend",s),u.onClick!=null&&(s.onclick=_s),s=!0):s=!1,s||Eo(i,!0)}function Ja(i){for(gr=i.return;gr;)switch(gr.tag){case 5:case 31:case 13:bi=!1;return;case 27:case 3:bi=!0;return;default:gr=gr.return}}function yr(i){if(i!==gr)return!1;if(!pn)return Ja(i),pn=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||fg(i.type,i.memoizedProps)),l=!l),l&&si&&Eo(i),Ja(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));si=H5(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));si=H5(i)}else s===27?(s=si,nu(i.type)?(i=yg,yg=null,si=i):si=s):si=gr?Da(i.stateNode.nextSibling):null;return!0}function ol(){si=gr=null,pn=!1}function Vh(){var i=Xr;return i!==null&&(Ks===null?Ks=i:Ks.push.apply(Ks,i),Xr=null),i}function zl(i){Xr===null?Xr=[i]:Xr.push(i)}var Ec=Q(null),To=null,Ra=null;function No(i,s,l){Y(Ec,s._currentValue),s._currentValue=l}function zs(i){i._currentValue=Ec.current,k(Ec)}function ql(i,s,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===l)break;i=i.return}}function ll(i,s,l,u){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var v=g.dependencies;if(v!==null){var C=g.child;v=v.firstContext;e:for(;v!==null;){var G=v;v=g;for(var ce=0;ce<s.length;ce++)if(G.context===s[ce]){v.lanes|=l,G=v.alternate,G!==null&&(G.lanes|=l),ql(v.return,l,i),u||(C=null);break e}v=G.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(r(341));C.lanes|=l,v=C.alternate,v!==null&&(v.lanes|=l),ql(C,l,i),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===i){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function Co(i,s,l,u){i=null;for(var g=s,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var G=g.type;pr(g.pendingProps.value,C.value)||(i!==null?i.push(G):i=[G])}}else if(g===ye.current){if(C=g.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(ff):i=[ff])}g=g.return}i!==null&&ll(s,i,l,u),s.flags|=262144}function Tc(i){for(i=i.firstContext;i!==null;){if(!pr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Io(i){To=i,Ra=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function vr(i){return sd(To,i)}function Nc(i,s){return To===null&&Io(i),sd(i,s)}function sd(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Ra===null){if(i===null)throw Error(r(308));Ra=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Ra=Ra.next=s;return l}var gm=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},ym=n.unstable_scheduleCallback,vm=n.unstable_NormalPriority,Ci={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hl(){return{controller:new gm,data:new Map,refCount:0}}function Uu(i){i.refCount--,i.refCount===0&&ym(vm,function(){i.controller.abort()})}var Vu=null,Cc=0,f=0,y=null;function A(i,s){if(Vu===null){var l=Vu=[];Cc=0,f=ig(),y={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Cc++,s.then(T,T),s}function T(){if(--Cc===0&&Vu!==null){y!==null&&(y.status="fulfilled");var i=Vu;Vu=null,f=0,y=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function j(i,s){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var U=ne.S;ne.S=function(i,s){s5=Kt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&A(i,s),U!==null&&U(i,s)};var B=Q(null);function K(){var i=B.current;return i!==null?i:oi.pooledCache}function W(i,s){s===null?Y(B,B.current):Y(B,s.pool)}function re(){var i=K();return i===null?null:{parent:Ci._currentValue,pool:i}}var me=Error(r(460)),Ne=Error(r(474)),te=Error(r(542)),ve={then:function(){}};function Se(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ve(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(_s,_s),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Qe(i),i;default:if(typeof s.status=="string")s.then(_s,_s);else{if(i=oi,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=u}},function(u){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Qe(i),i}throw Ue=s,me}}function Ee(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ue=l,me):l}}var Ue=null;function qe(){if(Ue===null)throw Error(r(459));var i=Ue;return Ue=null,i}function Qe(i){if(i===me||i===te)throw Error(r(483))}var Ye=null,pt=0;function at(i){var s=pt;return pt+=1,Ye===null&&(Ye=[]),Ve(Ye,i,s)}function Ht(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function ht(i,s){throw s.$$typeof===N?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function dn(i){function s(we,ge){if(i){var Ie=we.deletions;Ie===null?(we.deletions=[ge],we.flags|=16):Ie.push(ge)}}function l(we,ge){if(!i)return null;for(;ge!==null;)s(we,ge),ge=ge.sibling;return null}function u(we){for(var ge=new Map;we!==null;)we.key!==null?ge.set(we.key,we):ge.set(we.index,we),we=we.sibling;return ge}function g(we,ge){return we=Ms(we,ge),we.index=0,we.sibling=null,we}function v(we,ge,Ie){return we.index=Ie,i?(Ie=we.alternate,Ie!==null?(Ie=Ie.index,Ie<ge?(we.flags|=67108866,ge):Ie):(we.flags|=67108866,ge)):(we.flags|=1048576,ge)}function C(we){return i&&we.alternate===null&&(we.flags|=67108866),we}function G(we,ge,Ie,He){return ge===null||ge.tag!==6?(ge=Mu(Ie,we.mode,He),ge.return=we,ge):(ge=g(ge,Ie),ge.return=we,ge)}function ce(we,ge,Ie,He){var Dt=Ie.type;return Dt===z?ze(we,ge,Ie.props.children,He,Ie.key):ge!==null&&(ge.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===P&&Ee(Dt)===ge.type)?(ge=g(ge,Ie.props),Ht(ge,Ie),ge.return=we,ge):(ge=Vl(Ie.type,Ie.key,Ie.props,null,we.mode,He),Ht(ge,Ie),ge.return=we,ge)}function Re(we,ge,Ie,He){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Ie.containerInfo||ge.stateNode.implementation!==Ie.implementation?(ge=Bl(Ie,we.mode,He),ge.return=we,ge):(ge=g(ge,Ie.children||[]),ge.return=we,ge)}function ze(we,ge,Ie,He,Dt){return ge===null||ge.tag!==7?(ge=So(Ie,we.mode,He,Dt),ge.return=we,ge):(ge=g(ge,Ie),ge.return=we,ge)}function Ge(we,ge,Ie){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ge=Mu(""+ge,we.mode,Ie),ge.return=we,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case w:return Ie=Vl(ge.type,ge.key,ge.props,null,we.mode,Ie),Ht(Ie,ge),Ie.return=we,Ie;case F:return ge=Bl(ge,we.mode,Ie),ge.return=we,ge;case P:return ge=Ee(ge),Ge(we,ge,Ie)}if(be(ge)||I(ge))return ge=So(ge,we.mode,Ie,null),ge.return=we,ge;if(typeof ge.then=="function")return Ge(we,at(ge),Ie);if(ge.$$typeof===oe)return Ge(we,Nc(we,ge),Ie);ht(we,ge)}return null}function Pe(we,ge,Ie,He){var Dt=ge!==null?ge.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return Dt!==null?null:G(we,ge,""+Ie,He);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case w:return Ie.key===Dt?ce(we,ge,Ie,He):null;case F:return Ie.key===Dt?Re(we,ge,Ie,He):null;case P:return Ie=Ee(Ie),Pe(we,ge,Ie,He)}if(be(Ie)||I(Ie))return Dt!==null?null:ze(we,ge,Ie,He,null);if(typeof Ie.then=="function")return Pe(we,ge,at(Ie),He);if(Ie.$$typeof===oe)return Pe(we,ge,Nc(we,Ie),He);ht(we,Ie)}return null}function je(we,ge,Ie,He,Dt){if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return we=we.get(Ie)||null,G(ge,we,""+He,Dt);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case w:return we=we.get(He.key===null?Ie:He.key)||null,ce(ge,we,He,Dt);case F:return we=we.get(He.key===null?Ie:He.key)||null,Re(ge,we,He,Dt);case P:return He=Ee(He),je(we,ge,Ie,He,Dt)}if(be(He)||I(He))return we=we.get(Ie)||null,ze(ge,we,He,Dt,null);if(typeof He.then=="function")return je(we,ge,Ie,at(He),Dt);if(He.$$typeof===oe)return je(we,ge,Ie,Nc(ge,He),Dt);ht(ge,He)}return null}function ft(we,ge,Ie,He){for(var Dt=null,Mn=null,bt=ge,on=ge=0,bn=null;bt!==null&&on<Ie.length;on++){bt.index>on?(bn=bt,bt=null):bn=bt.sibling;var jn=Pe(we,bt,Ie[on],He);if(jn===null){bt===null&&(bt=bn);break}i&&bt&&jn.alternate===null&&s(we,bt),ge=v(jn,ge,on),Mn===null?Dt=jn:Mn.sibling=jn,Mn=jn,bt=bn}if(on===Ie.length)return l(we,bt),pn&&Ns(we,on),Dt;if(bt===null){for(;on<Ie.length;on++)bt=Ge(we,Ie[on],He),bt!==null&&(ge=v(bt,ge,on),Mn===null?Dt=bt:Mn.sibling=bt,Mn=bt);return pn&&Ns(we,on),Dt}for(bt=u(bt);on<Ie.length;on++)bn=je(bt,we,on,Ie[on],He),bn!==null&&(i&&bn.alternate!==null&&bt.delete(bn.key===null?on:bn.key),ge=v(bn,ge,on),Mn===null?Dt=bn:Mn.sibling=bn,Mn=bn);return i&&bt.forEach(function(ou){return s(we,ou)}),pn&&Ns(we,on),Dt}function Vt(we,ge,Ie,He){if(Ie==null)throw Error(r(151));for(var Dt=null,Mn=null,bt=ge,on=ge=0,bn=null,jn=Ie.next();bt!==null&&!jn.done;on++,jn=Ie.next()){bt.index>on?(bn=bt,bt=null):bn=bt.sibling;var ou=Pe(we,bt,jn.value,He);if(ou===null){bt===null&&(bt=bn);break}i&&bt&&ou.alternate===null&&s(we,bt),ge=v(ou,ge,on),Mn===null?Dt=ou:Mn.sibling=ou,Mn=ou,bt=bn}if(jn.done)return l(we,bt),pn&&Ns(we,on),Dt;if(bt===null){for(;!jn.done;on++,jn=Ie.next())jn=Ge(we,jn.value,He),jn!==null&&(ge=v(jn,ge,on),Mn===null?Dt=jn:Mn.sibling=jn,Mn=jn);return pn&&Ns(we,on),Dt}for(bt=u(bt);!jn.done;on++,jn=Ie.next())jn=je(bt,we,on,jn.value,He),jn!==null&&(i&&jn.alternate!==null&&bt.delete(jn.key===null?on:jn.key),ge=v(jn,ge,on),Mn===null?Dt=jn:Mn.sibling=jn,Mn=jn);return i&&bt.forEach(function(JA){return s(we,JA)}),pn&&Ns(we,on),Dt}function ii(we,ge,Ie,He){if(typeof Ie=="object"&&Ie!==null&&Ie.type===z&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case w:e:{for(var Dt=Ie.key;ge!==null;){if(ge.key===Dt){if(Dt=Ie.type,Dt===z){if(ge.tag===7){l(we,ge.sibling),He=g(ge,Ie.props.children),He.return=we,we=He;break e}}else if(ge.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===P&&Ee(Dt)===ge.type){l(we,ge.sibling),He=g(ge,Ie.props),Ht(He,Ie),He.return=we,we=He;break e}l(we,ge);break}else s(we,ge);ge=ge.sibling}Ie.type===z?(He=So(Ie.props.children,we.mode,He,Ie.key),He.return=we,we=He):(He=Vl(Ie.type,Ie.key,Ie.props,null,we.mode,He),Ht(He,Ie),He.return=we,we=He)}return C(we);case F:e:{for(Dt=Ie.key;ge!==null;){if(ge.key===Dt)if(ge.tag===4&&ge.stateNode.containerInfo===Ie.containerInfo&&ge.stateNode.implementation===Ie.implementation){l(we,ge.sibling),He=g(ge,Ie.children||[]),He.return=we,we=He;break e}else{l(we,ge);break}else s(we,ge);ge=ge.sibling}He=Bl(Ie,we.mode,He),He.return=we,we=He}return C(we);case P:return Ie=Ee(Ie),ii(we,ge,Ie,He)}if(be(Ie))return ft(we,ge,Ie,He);if(I(Ie)){if(Dt=I(Ie),typeof Dt!="function")throw Error(r(150));return Ie=Dt.call(Ie),Vt(we,ge,Ie,He)}if(typeof Ie.then=="function")return ii(we,ge,at(Ie),He);if(Ie.$$typeof===oe)return ii(we,ge,Nc(we,Ie),He);ht(we,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint"?(Ie=""+Ie,ge!==null&&ge.tag===6?(l(we,ge.sibling),He=g(ge,Ie),He.return=we,we=He):(l(we,ge),He=Mu(Ie,we.mode,He),He.return=we,we=He),C(we)):l(we,ge)}return function(we,ge,Ie,He){try{pt=0;var Dt=ii(we,ge,Ie,He);return Ye=null,Dt}catch(bt){if(bt===me||bt===te)throw bt;var Mn=kr(29,bt,null,we.mode);return Mn.lanes=He,Mn.return=we,Mn}finally{}}}var ai=dn(!0),Zt=dn(!1),ot=!1;function tt(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hi(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function jt(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function rn(i,s,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Bn&2)!==0){var g=u.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),u.pending=s,s=Lr(i),Ou(i,null,l),s}return Du(i,u,s,l),Lr(i)}function Un(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,Sr(i,l)}}function Yi(i,s){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?g=v=C:v=v.next=C,l=l.next}while(l!==null);v===null?g=v=s:v=v.next=s}else g=v=s;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var br=!1;function ei(){if(br){var i=y;if(i!==null)throw i}}function Mi(i,s,l,u){br=!1;var g=i.updateQueue;ot=!1;var v=g.firstBaseUpdate,C=g.lastBaseUpdate,G=g.shared.pending;if(G!==null){g.shared.pending=null;var ce=G,Re=ce.next;ce.next=null,C===null?v=Re:C.next=Re,C=ce;var ze=i.alternate;ze!==null&&(ze=ze.updateQueue,G=ze.lastBaseUpdate,G!==C&&(G===null?ze.firstBaseUpdate=Re:G.next=Re,ze.lastBaseUpdate=ce))}if(v!==null){var Ge=g.baseState;C=0,ze=Re=ce=null,G=v;do{var Pe=G.lane&-536870913,je=Pe!==G.lane;if(je?(vn&Pe)===Pe:(u&Pe)===Pe){Pe!==0&&Pe===f&&(br=!0),ze!==null&&(ze=ze.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var ft=i,Vt=G;Pe=s;var ii=l;switch(Vt.tag){case 1:if(ft=Vt.payload,typeof ft=="function"){Ge=ft.call(ii,Ge,Pe);break e}Ge=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=Vt.payload,Pe=typeof ft=="function"?ft.call(ii,Ge,Pe):ft,Pe==null)break e;Ge=x({},Ge,Pe);break e;case 2:ot=!0}}Pe=G.callback,Pe!==null&&(i.flags|=64,je&&(i.flags|=8192),je=g.callbacks,je===null?g.callbacks=[Pe]:je.push(Pe))}else je={lane:Pe,tag:G.tag,payload:G.payload,callback:G.callback,next:null},ze===null?(Re=ze=je,ce=Ge):ze=ze.next=je,C|=Pe;if(G=G.next,G===null){if(G=g.shared.pending,G===null)break;je=G,G=je.next,je.next=null,g.lastBaseUpdate=je,g.shared.pending=null}}while(!0);ze===null&&(ce=Ge),g.baseState=ce,g.firstBaseUpdate=Re,g.lastBaseUpdate=ze,v===null&&(g.shared.lanes=0),Wl|=C,i.lanes=C,i.memoizedState=Ge}}function Dr(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function ji(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Dr(l[i],s)}var un=Q(null),En=Q(0);function fi(i,s){i=vl,Y(En,i),Y(un,s),vl=i|s.baseLanes}function Ln(){Y(En,vl),Y(un,un.current)}function Ki(){vl=En.current,k(un),k(En)}var di=Q(null),Tn=null;function Ii(i){var s=i.alternate;Y(xn,xn.current&1),Y(di,i),Tn===null&&(s===null||un.current!==null||s.memoizedState!==null)&&(Tn=i)}function Vn(i){Y(xn,xn.current),Y(di,i),Tn===null&&(Tn=i)}function Ui(i){i.tag===22?(Y(xn,xn.current),Y(di,i),Tn===null&&(Tn=i)):Vi()}function Vi(){Y(xn,xn.current),Y(di,di.current)}function Yn(i){k(di),Tn===i&&(Tn=null),k(xn)}var xn=Q(0);function Or(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||mg(l)||gg(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var _i=0,It=null,kt=null,Nn=null,ls=!1,qs=!1,Qr=!1,Bi=0,Ro=0,Lo=null,Ic=0;function ti(){throw Error(r(321))}function Bh(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!pr(i[l],s[l]))return!1;return!0}function Fh(i,s,l,u,g,v){return _i=v,It=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ne.H=i===null||i.memoizedState===null?g2:Tm,Qr=!1,v=l(u,g),Qr=!1,qs&&(v=Za(s,l,u,g)),Rc(i),v}function Rc(i){ne.H=Xh;var s=kt!==null&&kt.next!==null;if(_i=0,Nn=kt=It=null,ls=!1,Ro=0,Lo=null,s)throw Error(r(300));i===null||rr||(i=i.dependencies,i!==null&&Tc(i)&&(rr=!0))}function Za(i,s,l,u){It=i;var g=0;do{if(qs&&(Lo=null),Ro=0,qs=!1,25<=g)throw Error(r(301));if(g+=1,Nn=kt=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}ne.H=y2,v=s(l,u)}while(qs);return v}function bm(){var i=ne.H,s=i.useState()[0];return s=typeof s.then=="function"?ko(s):s,i=i.useState()[0],(kt!==null?kt.memoizedState:null)!==i&&(It.flags|=1024),s}function zh(){var i=Bi!==0;return Bi=0,i}function qh(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function Lc(i){if(ls){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ls=!1}_i=0,Nn=kt=It=null,qs=!1,Ro=Bi=0,Lo=null}function ir(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?It.memoizedState=Nn=i:Nn=Nn.next=i,Nn}function wi(){if(kt===null){var i=It.alternate;i=i!==null?i.memoizedState:null}else i=kt.next;var s=Nn===null?It.memoizedState:Nn.next;if(s!==null)Nn=s,kt=i;else{if(i===null)throw It.alternate===null?Error(r(467)):Error(r(310));kt=i,i={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Nn===null?It.memoizedState=Nn=i:Nn=Nn.next=i}return Nn}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(i){var s=Ro;return Ro+=1,Lo===null&&(Lo=[]),i=Ve(Lo,i,s),s=It,(Nn===null?s.memoizedState:Nn.next)===null&&(s=s.alternate,ne.H=s===null||s.memoizedState===null?g2:Tm),i}function Gl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ko(i);if(i.$$typeof===oe)return vr(i)}throw Error(r(438,String(i)))}function ul(i){var s=null,l=It.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=It.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Bu(),It.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),u=0;u<i;u++)l[u]=q;return s.index++,l}function La(i,s){return typeof s=="function"?s(i):s}function kc(i){var s=wi();return Yl(s,kt,i)}function Yl(i,s,l){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var g=i.baseQueue,v=u.pending;if(v!==null){if(g!==null){var C=g.next;g.next=v.next,v.next=C}s.baseQueue=g=v,u.pending=null}if(v=i.baseState,g===null)i.memoizedState=v;else{s=g.next;var G=C=null,ce=null,Re=s,ze=!1;do{var Ge=Re.lane&-536870913;if(Ge!==Re.lane?(vn&Ge)===Ge:(_i&Ge)===Ge){var Pe=Re.revertLane;if(Pe===0)ce!==null&&(ce=ce.next={lane:0,revertLane:0,gesture:null,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),Ge===f&&(ze=!0);else if((_i&Pe)===Pe){Re=Re.next,Pe===f&&(ze=!0);continue}else Ge={lane:0,revertLane:Re.revertLane,gesture:null,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},ce===null?(G=ce=Ge,C=v):ce=ce.next=Ge,It.lanes|=Pe,Wl|=Pe;Ge=Re.action,Qr&&l(v,Ge),v=Re.hasEagerState?Re.eagerState:l(v,Ge)}else Pe={lane:Ge,revertLane:Re.revertLane,gesture:Re.gesture,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},ce===null?(G=ce=Pe,C=v):ce=ce.next=Pe,It.lanes|=Ge,Wl|=Ge;Re=Re.next}while(Re!==null&&Re!==s);if(ce===null?C=v:ce.next=G,!pr(v,i.memoizedState)&&(rr=!0,ze&&(l=y,l!==null)))throw l;i.memoizedState=v,i.baseState=C,i.baseQueue=ce,u.lastRenderedState=v}return g===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Dc(i){var s=wi(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var u=l.dispatch,g=l.pending,v=s.memoizedState;if(g!==null){l.pending=null;var C=g=g.next;do v=i(v,C.action),C=C.next;while(C!==g);pr(v,s.memoizedState)||(rr=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,u]}function Oc(i,s,l){var u=It,g=wi(),v=pn;if(v){if(l===void 0)throw Error(r(407));l=l()}else l=s();var C=!pr((kt||g).memoizedState,l);if(C&&(g.memoizedState=l,rr=!0),g=g.queue,_m(Gh.bind(null,u,g,i),[i]),g.getSnapshot!==s||C||Nn!==null&&Nn.memoizedState.tag&1){if(u.flags|=2048,hl(9,{destroy:void 0},Hh.bind(null,u,g,l,s),null),oi===null)throw Error(r(349));v||(_i&127)!==0||eo(u,s,l)}return l}function eo(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=It.updateQueue,s===null?(s=Bu(),It.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Hh(i,s,l,u){s.value=l,s.getSnapshot=u,ad(s)&&Yh(i)}function Gh(i,s,l){return l(function(){ad(s)&&Yh(i)})}function ad(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!pr(i,l)}catch{return!0}}function Yh(i){var s=Wa(i,2);s!==null&&$s(s,i,2)}function Do(i){var s=ir();if(typeof i=="function"){var l=i;if(i=l(),Qr){Mt(!0);try{l()}finally{Mt(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:i},s}function od(i,s,l,u){return i.baseState=l,Yl(i,kt,typeof u=="function"?u:La)}function ld(i,s,l,u,g){if(fd(i))throw Error(r(485));if(i=s.action,i!==null){var v={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){v.listeners.push(C)}};ne.T!==null?l(!0):v.isTransition=!1,u(v),l=s.pending,l===null?(v.next=s.pending=v,ud(s,v)):(v.next=l.next,s.pending=l.next=v)}}function ud(i,s){var l=s.action,u=s.payload,g=i.state;if(s.isTransition){var v=ne.T,C={};ne.T=C;try{var G=l(g,u),ce=ne.S;ce!==null&&ce(C,G),Kh(i,s,G)}catch(Re){cl(i,s,Re)}finally{v!==null&&C.types!==null&&(v.types=C.types),ne.T=v}}else try{v=l(g,u),Kh(i,s,v)}catch(Re){cl(i,s,Re)}}function Kh(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){cd(i,s,u)},function(u){return cl(i,s,u)}):cd(i,s,l)}function cd(i,s,l){s.status="fulfilled",s.value=l,Pc(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,ud(i,l)))}function cl(i,s,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,Pc(s),s=s.next;while(s!==u)}i.action=null}function Pc(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Fu(i,s){return s}function ka(i,s){if(pn){var l=oi.formState;if(l!==null){e:{var u=It;if(pn){if(si){t:{for(var g=si,v=bi;g.nodeType!==8;){if(!v){g=null;break t}if(g=Da(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){si=Da(g.nextSibling),u=g.data==="F!";break e}}Eo(u)}u=!1}u&&(s=l[0])}}return l=ir(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fu,lastRenderedState:s},l.queue=u,l=d2.bind(null,It,u),u.dispatch=l,u=Do(!1),v=Em.bind(null,It,!1,u.queue),u=ir(),g={state:s,dispatch:null,action:i,pending:null},u.queue=g,l=ld.bind(null,It,g,v,l),g.dispatch=l,u.memoizedState=i,[s,l,!1]}function to(i){var s=wi();return no(s,kt,i)}function no(i,s,l){if(s=Yl(i,s,Fu)[0],i=kc(La)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=ko(s)}catch(C){throw C===me?te:C}else u=s;s=wi();var g=s.queue,v=g.dispatch;return l!==s.memoizedState&&(It.flags|=2048,hl(9,{destroy:void 0},Mc.bind(null,g,l),null)),[u,v,i]}function Mc(i,s){i.action=s}function jc(i){var s=wi(),l=kt;if(l!==null)return no(s,l,i);wi(),s=s.memoizedState,l=wi();var u=l.queue.dispatch;return l.memoizedState=i,[s,u,!1]}function hl(i,s,l,u){return i={tag:i,create:l,deps:u,inst:s,next:null},s=It.updateQueue,s===null&&(s=Bu(),It.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,s.lastEffect=i),i}function hd(){return wi().memoizedState}function Kl(i,s,l,u){var g=ir();It.flags|=i,g.memoizedState=hl(1|s,{destroy:void 0},l,u===void 0?null:u)}function $l(i,s,l,u){var g=wi();u=u===void 0?null:u;var v=g.memoizedState.inst;kt!==null&&u!==null&&Bh(u,kt.memoizedState.deps)?g.memoizedState=hl(s,v,l,u):(It.flags|=i,g.memoizedState=hl(1|s,v,l,u))}function Z0(i,s){Kl(8390656,8,i,s)}function _m(i,s){$l(2048,8,i,s)}function Y3(i){It.flags|=4;var s=It.updateQueue;if(s===null)s=Bu(),It.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function e2(i){var s=wi().memoizedState;return Y3({ref:s,nextImpl:i}),function(){if((Bn&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function t2(i,s){return $l(4,2,i,s)}function n2(i,s){return $l(4,4,i,s)}function i2(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function r2(i,s,l){l=l!=null?l.concat([i]):null,$l(4,4,i2.bind(null,s,i),l)}function wm(){}function s2(i,s){var l=wi();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&Bh(s,u[1])?u[0]:(l.memoizedState=[i,s],i)}function a2(i,s){var l=wi();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&Bh(s,u[1]))return u[0];if(u=i(),Qr){Mt(!0);try{i()}finally{Mt(!1)}}return l.memoizedState=[u,s],u}function Am(i,s,l){return l===void 0||(_i&1073741824)!==0&&(vn&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=o5(),It.lanes|=i,Wl|=i,l)}function o2(i,s,l,u){return pr(l,s)?l:un.current!==null?(i=Am(i,l,u),pr(i,s)||(rr=!0),i):(_i&42)===0||(_i&1073741824)!==0&&(vn&261930)===0?(rr=!0,i.memoizedState=l):(i=o5(),It.lanes|=i,Wl|=i,s)}function l2(i,s,l,u,g){var v=he.p;he.p=v!==0&&8>v?v:8;var C=ne.T,G={};ne.T=G,Em(i,!1,s,l);try{var ce=g(),Re=ne.S;if(Re!==null&&Re(G,ce),ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var ze=j(ce,u);$h(i,s,ze,ha(i))}else $h(i,s,u,ha(i))}catch(Ge){$h(i,s,{then:function(){},status:"rejected",reason:Ge},ha())}finally{he.p=v,C!==null&&G.types!==null&&(C.types=G.types),ne.T=C}}function K3(){}function Sm(i,s,l,u){if(i.tag!==5)throw Error(r(476));var g=u2(i).queue;l2(i,g,s,fe,l===null?K3:function(){return c2(i),l(u)})}function u2(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:fe},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function c2(i){var s=u2(i);s.next===null&&(s=i.alternate.memoizedState),$h(i,s.next.queue,{},ha())}function xm(){return vr(ff)}function h2(){return wi().memoizedState}function f2(){return wi().memoizedState}function $3(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=ha();i=jt(l);var u=rn(s,i,l);u!==null&&($s(u,s,l),Un(u,s,l)),s={cache:Hl()},i.payload=s;return}s=s.return}}function X3(i,s,l){var u=ha();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},fd(i)?p2(s,l):(l=vc(i,s,l,u),l!==null&&($s(l,i,u),m2(l,s,u)))}function d2(i,s,l){var u=ha();$h(i,s,l,u)}function $h(i,s,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(fd(i))p2(s,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var C=s.lastRenderedState,G=v(C,l);if(g.hasEagerState=!0,g.eagerState=G,pr(G,C))return Du(i,s,g,0),oi===null&&ku(),!1}catch{}finally{}if(l=vc(i,s,g,u),l!==null)return $s(l,i,u),m2(l,s,u),!0}return!1}function Em(i,s,l,u){if(u={lane:2,revertLane:ig(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},fd(i)){if(s)throw Error(r(479))}else s=vc(i,l,u,2),s!==null&&$s(s,i,2)}function fd(i){var s=i.alternate;return i===It||s!==null&&s===It}function p2(i,s){qs=ls=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function m2(i,s,l){if((l&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,Sr(i,l)}}var Xh={readContext:vr,use:Gl,useCallback:ti,useContext:ti,useEffect:ti,useImperativeHandle:ti,useLayoutEffect:ti,useInsertionEffect:ti,useMemo:ti,useReducer:ti,useRef:ti,useState:ti,useDebugValue:ti,useDeferredValue:ti,useTransition:ti,useSyncExternalStore:ti,useId:ti,useHostTransitionStatus:ti,useFormState:ti,useActionState:ti,useOptimistic:ti,useMemoCache:ti,useCacheRefresh:ti};Xh.useEffectEvent=ti;var g2={readContext:vr,use:Gl,useCallback:function(i,s){return ir().memoizedState=[i,s===void 0?null:s],i},useContext:vr,useEffect:Z0,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Kl(4194308,4,i2.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Kl(4194308,4,i,s)},useInsertionEffect:function(i,s){Kl(4,2,i,s)},useMemo:function(i,s){var l=ir();s=s===void 0?null:s;var u=i();if(Qr){Mt(!0);try{i()}finally{Mt(!1)}}return l.memoizedState=[u,s],u},useReducer:function(i,s,l){var u=ir();if(l!==void 0){var g=l(s);if(Qr){Mt(!0);try{l(s)}finally{Mt(!1)}}}else g=s;return u.memoizedState=u.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},u.queue=i,i=i.dispatch=X3.bind(null,It,i),[u.memoizedState,i]},useRef:function(i){var s=ir();return i={current:i},s.memoizedState=i},useState:function(i){i=Do(i);var s=i.queue,l=d2.bind(null,It,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:wm,useDeferredValue:function(i,s){var l=ir();return Am(l,i,s)},useTransition:function(){var i=Do(!1);return i=l2.bind(null,It,i.queue,!0,!1),ir().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var u=It,g=ir();if(pn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),oi===null)throw Error(r(349));(vn&127)!==0||eo(u,s,l)}g.memoizedState=l;var v={value:l,getSnapshot:s};return g.queue=v,Z0(Gh.bind(null,u,v,i),[i]),u.flags|=2048,hl(9,{destroy:void 0},Hh.bind(null,u,v,l,s),null),l},useId:function(){var i=ir(),s=oi.identifierPrefix;if(pn){var l=Fs,u=Bs;l=(u&~(1<<32-$t(u)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Bi++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=Ic++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:xm,useFormState:ka,useActionState:ka,useOptimistic:function(i){var s=ir();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Em.bind(null,It,!0,l),l.dispatch=s,[i,s]},useMemoCache:ul,useCacheRefresh:function(){return ir().memoizedState=$3.bind(null,It)},useEffectEvent:function(i){var s=ir(),l={impl:i};return s.memoizedState=l,function(){if((Bn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Tm={readContext:vr,use:Gl,useCallback:s2,useContext:vr,useEffect:_m,useImperativeHandle:r2,useInsertionEffect:t2,useLayoutEffect:n2,useMemo:a2,useReducer:kc,useRef:hd,useState:function(){return kc(La)},useDebugValue:wm,useDeferredValue:function(i,s){var l=wi();return o2(l,kt.memoizedState,i,s)},useTransition:function(){var i=kc(La)[0],s=wi().memoizedState;return[typeof i=="boolean"?i:ko(i),s]},useSyncExternalStore:Oc,useId:h2,useHostTransitionStatus:xm,useFormState:to,useActionState:to,useOptimistic:function(i,s){var l=wi();return od(l,kt,i,s)},useMemoCache:ul,useCacheRefresh:f2};Tm.useEffectEvent=e2;var y2={readContext:vr,use:Gl,useCallback:s2,useContext:vr,useEffect:_m,useImperativeHandle:r2,useInsertionEffect:t2,useLayoutEffect:n2,useMemo:a2,useReducer:Dc,useRef:hd,useState:function(){return Dc(La)},useDebugValue:wm,useDeferredValue:function(i,s){var l=wi();return kt===null?Am(l,i,s):o2(l,kt.memoizedState,i,s)},useTransition:function(){var i=Dc(La)[0],s=wi().memoizedState;return[typeof i=="boolean"?i:ko(i),s]},useSyncExternalStore:Oc,useId:h2,useHostTransitionStatus:xm,useFormState:jc,useActionState:jc,useOptimistic:function(i,s){var l=wi();return kt!==null?od(l,kt,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:ul,useCacheRefresh:f2};y2.useEffectEvent=e2;function Nm(i,s,l,u){s=i.memoizedState,l=l(u,s),l=l==null?s:x({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Cm={enqueueSetState:function(i,s,l){i=i._reactInternals;var u=ha(),g=jt(u);g.payload=s,l!=null&&(g.callback=l),s=rn(i,g,u),s!==null&&($s(s,i,u),Un(s,i,u))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var u=ha(),g=jt(u);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=rn(i,g,u),s!==null&&($s(s,i,u),Un(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=ha(),u=jt(l);u.tag=2,s!=null&&(u.callback=s),s=rn(i,u,l),s!==null&&($s(s,i,l),Un(s,i,l))}};function v2(i,s,l,u,g,v,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,v,C):s.prototype&&s.prototype.isPureReactComponent?!Ka(l,u)||!Ka(g,v):!0}function b2(i,s,l,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==i&&Cm.enqueueReplaceState(s,s.state,null)}function zu(i,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(i=i.defaultProps){l===s&&(l=x({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}function _2(i){Lu(i)}function w2(i){console.error(i)}function A2(i){Lu(i)}function dd(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function S2(i,s,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Im(i,s,l){return l=jt(l),l.tag=3,l.payload={element:null},l.callback=function(){dd(i,s)},l}function x2(i){return i=jt(i),i.tag=3,i}function E2(i,s,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var v=u.value;i.payload=function(){return g(v)},i.callback=function(){S2(s,l,u)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){S2(s,l,u),typeof g!="function"&&(Jl===null?Jl=new Set([this]):Jl.add(this));var G=u.stack;this.componentDidCatch(u.value,{componentStack:G!==null?G:""})})}function Q3(i,s,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&Co(s,l,g,!0),l=di.current,l!==null){switch(l.tag){case 31:case 13:return Tn===null?Ed():l.alternate===null&&Fi===0&&(Fi=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===ve?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),eg(i,u,g)),!1;case 22:return l.flags|=65536,u===ve?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),eg(i,u,g)),!1}throw Error(r(435,l.tag))}return eg(i,u,g),Ed(),!1}if(pn)return s=di.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,u!==la&&(i=Error(r(422),{cause:u}),zl(js(i,l)))):(u!==la&&(s=Error(r(423),{cause:u}),zl(js(s,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,u=js(u,l),g=Im(i.stateNode,u,g),Yi(i,g),Fi!==4&&(Fi=2)),!1;var v=Error(r(520),{cause:u});if(v=js(v,l),rf===null?rf=[v]:rf.push(v),Fi!==4&&(Fi=2),s===null)return!0;u=js(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=Im(l.stateNode,u,i),Yi(l,i),!1;case 1:if(s=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Jl===null||!Jl.has(v))))return l.flags|=65536,g&=-g,l.lanes|=g,g=x2(g),E2(g,i,l,u),Yi(l,g),!1}l=l.return}while(l!==null);return!1}var Rm=Error(r(461)),rr=!1;function Wr(i,s,l,u){s.child=i===null?Zt(s,null,l,u):ai(s,i.child,l,u)}function T2(i,s,l,u,g){l=l.render;var v=s.ref;if("ref"in u){var C={};for(var G in u)G!=="ref"&&(C[G]=u[G])}else C=u;return Io(s),u=Fh(i,s,l,C,v,g),G=zh(),i!==null&&!rr?(qh(i,s,g),fl(i,s,g)):(pn&&G&&jh(s),s.flags|=1,Wr(i,s,u,g),s.child)}function N2(i,s,l,u,g){if(i===null){var v=l.type;return typeof v=="function"&&!_c(v)&&v.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=v,C2(i,s,v,u,g)):(i=Vl(l.type,null,u,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(v=i.child,!Um(i,g)){var C=v.memoizedProps;if(l=l.compare,l=l!==null?l:Ka,l(C,u)&&i.ref===s.ref)return fl(i,s,g)}return s.flags|=1,i=Ms(v,u),i.ref=s.ref,i.return=s,s.child=i}function C2(i,s,l,u,g){if(i!==null){var v=i.memoizedProps;if(Ka(v,u)&&i.ref===s.ref)if(rr=!1,s.pendingProps=u=v,Um(i,g))(i.flags&131072)!==0&&(rr=!0);else return s.lanes=i.lanes,fl(i,s,g)}return Lm(i,s,l,u,g)}function I2(i,s,l,u){var g=u.children,v=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(v=v!==null?v.baseLanes|l:l,i!==null){for(u=s.child=i.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~v}else u=0,s.child=null;return R2(i,s,v,l,u)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&W(s,v!==null?v.cachePool:null),v!==null?fi(s,v):Ln(),Ui(s);else return u=s.lanes=536870912,R2(i,s,v!==null?v.baseLanes|l:l,l,u)}else v!==null?(W(s,v.cachePool),fi(s,v),Vi(),s.memoizedState=null):(i!==null&&W(s,null),Ln(),Vi());return Wr(i,s,g,l),s.child}function Qh(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function R2(i,s,l,u,g){var v=K();return v=v===null?null:{parent:Ci._currentValue,pool:v},s.memoizedState={baseLanes:l,cachePool:v},i!==null&&W(s,null),Ln(),Ui(s),i!==null&&Co(i,s,u,!0),s.childLanes=g,null}function pd(i,s){return s=gd({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function L2(i,s,l){return ai(s,i.child,null,l),i=pd(s,s.pendingProps),i.flags|=2,Yn(s),s.memoizedState=null,i}function W3(i,s,l){var u=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(pn){if(u.mode==="hidden")return i=pd(s,u),s.lanes=536870912,Qh(null,i);if(Vn(s),(i=si)?(i=q5(i,bi),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:xo!==null?{id:Bs,overflow:Fs}:null,retryLane:536870912,hydrationErrors:null},l=wc(i),l.return=s,s.child=l,gr=s,si=null)):i=null,i===null)throw Eo(s);return s.lanes=536870912,null}return pd(s,u)}var v=i.memoizedState;if(v!==null){var C=v.dehydrated;if(Vn(s),g)if(s.flags&256)s.flags&=-257,s=L2(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(rr||Co(i,s,l,!1),g=(l&i.childLanes)!==0,rr||g){if(u=oi,u!==null&&(C=xr(u,l),C!==0&&C!==v.retryLane))throw v.retryLane=C,Wa(i,C),$s(u,i,C),Rm;Ed(),s=L2(i,s,l)}else i=v.treeContext,si=Da(C.nextSibling),gr=s,pn=!0,Xr=null,bi=!1,i!==null&&rd(s,i),s=pd(s,u),s.flags|=4096;return s}return i=Ms(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function md(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function Lm(i,s,l,u,g){return Io(s),l=Fh(i,s,l,u,void 0,g),u=zh(),i!==null&&!rr?(qh(i,s,g),fl(i,s,g)):(pn&&u&&jh(s),s.flags|=1,Wr(i,s,l,g),s.child)}function k2(i,s,l,u,g,v){return Io(s),s.updateQueue=null,l=Za(s,u,l,g),Rc(i),u=zh(),i!==null&&!rr?(qh(i,s,v),fl(i,s,v)):(pn&&u&&jh(s),s.flags|=1,Wr(i,s,l,v),s.child)}function D2(i,s,l,u,g){if(Io(s),s.stateNode===null){var v=mr,C=l.contextType;typeof C=="object"&&C!==null&&(v=vr(C)),v=new l(u,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Cm,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=u,v.state=s.memoizedState,v.refs={},tt(s),C=l.contextType,v.context=typeof C=="object"&&C!==null?vr(C):mr,v.state=s.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(Nm(s,l,C,u),v.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(C=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),C!==v.state&&Cm.enqueueReplaceState(v,v.state,null),Mi(s,u,v,g),ei(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){v=s.stateNode;var G=s.memoizedProps,ce=zu(l,G);v.props=ce;var Re=v.context,ze=l.contextType;C=mr,typeof ze=="object"&&ze!==null&&(C=vr(ze));var Ge=l.getDerivedStateFromProps;ze=typeof Ge=="function"||typeof v.getSnapshotBeforeUpdate=="function",G=s.pendingProps!==G,ze||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(G||Re!==C)&&b2(s,v,u,C),ot=!1;var Pe=s.memoizedState;v.state=Pe,Mi(s,u,v,g),ei(),Re=s.memoizedState,G||Pe!==Re||ot?(typeof Ge=="function"&&(Nm(s,l,Ge,u),Re=s.memoizedState),(ce=ot||v2(s,l,ce,u,Pe,Re,C))?(ze||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Re),v.props=u,v.state=Re,v.context=C,u=ce):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{v=s.stateNode,hi(i,s),C=s.memoizedProps,ze=zu(l,C),v.props=ze,Ge=s.pendingProps,Pe=v.context,Re=l.contextType,ce=mr,typeof Re=="object"&&Re!==null&&(ce=vr(Re)),G=l.getDerivedStateFromProps,(Re=typeof G=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==Ge||Pe!==ce)&&b2(s,v,u,ce),ot=!1,Pe=s.memoizedState,v.state=Pe,Mi(s,u,v,g),ei();var je=s.memoizedState;C!==Ge||Pe!==je||ot||i!==null&&i.dependencies!==null&&Tc(i.dependencies)?(typeof G=="function"&&(Nm(s,l,G,u),je=s.memoizedState),(ze=ot||v2(s,l,ze,u,Pe,je,ce)||i!==null&&i.dependencies!==null&&Tc(i.dependencies))?(Re||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,je,ce),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,je,ce)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===i.memoizedProps&&Pe===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&Pe===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=je),v.props=u,v.state=je,v.context=ce,u=ze):(typeof v.componentDidUpdate!="function"||C===i.memoizedProps&&Pe===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&Pe===i.memoizedState||(s.flags|=1024),u=!1)}return v=u,md(i,s),u=(s.flags&128)!==0,v||u?(v=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,i!==null&&u?(s.child=ai(s,i.child,null,g),s.child=ai(s,null,l,g)):Wr(i,s,l,g),s.memoizedState=v.state,i=s.child):i=fl(i,s,g),i}function O2(i,s,l,u){return ol(),s.flags|=256,Wr(i,s,l,u),s.child}var km={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dm(i){return{baseLanes:i,cachePool:re()}}function Om(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=ca),i}function P2(i,s,l){var u=s.pendingProps,g=!1,v=(s.flags&128)!==0,C;if((C=v)||(C=i!==null&&i.memoizedState===null?!1:(xn.current&2)!==0),C&&(g=!0,s.flags&=-129),C=(s.flags&32)!==0,s.flags&=-33,i===null){if(pn){if(g?Ii(s):Vi(),(i=si)?(i=q5(i,bi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:xo!==null?{id:Bs,overflow:Fs}:null,retryLane:536870912,hydrationErrors:null},l=wc(i),l.return=s,s.child=l,gr=s,si=null)):i=null,i===null)throw Eo(s);return gg(i)?s.lanes=32:s.lanes=536870912,null}var G=u.children;return u=u.fallback,g?(Vi(),g=s.mode,G=gd({mode:"hidden",children:G},g),u=So(u,g,l,null),G.return=s,u.return=s,G.sibling=u,s.child=G,u=s.child,u.memoizedState=Dm(l),u.childLanes=Om(i,C,l),s.memoizedState=km,Qh(null,u)):(Ii(s),Pm(s,G))}var ce=i.memoizedState;if(ce!==null&&(G=ce.dehydrated,G!==null)){if(v)s.flags&256?(Ii(s),s.flags&=-257,s=Mm(i,s,l)):s.memoizedState!==null?(Vi(),s.child=i.child,s.flags|=128,s=null):(Vi(),G=u.fallback,g=s.mode,u=gd({mode:"visible",children:u.children},g),G=So(G,g,l,null),G.flags|=2,u.return=s,G.return=s,u.sibling=G,s.child=u,ai(s,i.child,null,l),u=s.child,u.memoizedState=Dm(l),u.childLanes=Om(i,C,l),s.memoizedState=km,s=Qh(null,u));else if(Ii(s),gg(G)){if(C=G.nextSibling&&G.nextSibling.dataset,C)var Re=C.dgst;C=Re,u=Error(r(419)),u.stack="",u.digest=C,zl({value:u,source:null,stack:null}),s=Mm(i,s,l)}else if(rr||Co(i,s,l,!1),C=(l&i.childLanes)!==0,rr||C){if(C=oi,C!==null&&(u=xr(C,l),u!==0&&u!==ce.retryLane))throw ce.retryLane=u,Wa(i,u),$s(C,i,u),Rm;mg(G)||Ed(),s=Mm(i,s,l)}else mg(G)?(s.flags|=192,s.child=i.child,s=null):(i=ce.treeContext,si=Da(G.nextSibling),gr=s,pn=!0,Xr=null,bi=!1,i!==null&&rd(s,i),s=Pm(s,u.children),s.flags|=4096);return s}return g?(Vi(),G=u.fallback,g=s.mode,ce=i.child,Re=ce.sibling,u=Ms(ce,{mode:"hidden",children:u.children}),u.subtreeFlags=ce.subtreeFlags&65011712,Re!==null?G=Ms(Re,G):(G=So(G,g,l,null),G.flags|=2),G.return=s,u.return=s,u.sibling=G,s.child=u,Qh(null,u),u=s.child,G=i.child.memoizedState,G===null?G=Dm(l):(g=G.cachePool,g!==null?(ce=Ci._currentValue,g=g.parent!==ce?{parent:ce,pool:ce}:g):g=re(),G={baseLanes:G.baseLanes|l,cachePool:g}),u.memoizedState=G,u.childLanes=Om(i,C,l),s.memoizedState=km,Qh(i.child,u)):(Ii(s),l=i.child,i=l.sibling,l=Ms(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,i!==null&&(C=s.deletions,C===null?(s.deletions=[i],s.flags|=16):C.push(i)),s.child=l,s.memoizedState=null,l)}function Pm(i,s){return s=gd({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function gd(i,s){return i=kr(22,i,null,s),i.lanes=0,i}function Mm(i,s,l){return ai(s,i.child,null,l),i=Pm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function M2(i,s,l){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),ql(i.return,s,l)}function jm(i,s,l,u,g,v){var C=i.memoizedState;C===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:v}:(C.isBackwards=s,C.rendering=null,C.renderingStartTime=0,C.last=u,C.tail=l,C.tailMode=g,C.treeForkCount=v)}function j2(i,s,l){var u=s.pendingProps,g=u.revealOrder,v=u.tail;u=u.children;var C=xn.current,G=(C&2)!==0;if(G?(C=C&1|2,s.flags|=128):C&=1,Y(xn,C),Wr(i,s,u,l),u=pn?ju:0,!G&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&M2(i,l,s);else if(i.tag===19)M2(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(l=s.child,g=null;l!==null;)i=l.alternate,i!==null&&Or(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),jm(s,!1,g,l,v,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&Or(i)===null){s.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}jm(s,!0,l,null,v,u);break;case"together":jm(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function fl(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Wl|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Co(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=Ms(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Ms(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Um(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Tc(i)))}function J3(i,s,l){switch(s.tag){case 3:Le(s,s.stateNode.containerInfo),No(s,Ci,i.memoizedState.cache),ol();break;case 27:case 5:Be(s);break;case 4:Le(s,s.stateNode.containerInfo);break;case 10:No(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Vn(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Ii(s),s.flags|=128,null):(l&s.child.childLanes)!==0?P2(i,s,l):(Ii(s),i=fl(i,s,l),i!==null?i.sibling:null);Ii(s);break;case 19:var g=(i.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(Co(i,s,l,!1),u=(l&s.childLanes)!==0),g){if(u)return j2(i,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Y(xn,xn.current),u)break;return null;case 22:return s.lanes=0,I2(i,s,l,s.pendingProps);case 24:No(s,Ci,i.memoizedState.cache)}return fl(i,s,l)}function U2(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)rr=!0;else{if(!Um(i,l)&&(s.flags&128)===0)return rr=!1,J3(i,s,l);rr=(i.flags&131072)!==0}else rr=!1,pn&&(s.flags&1048576)!==0&&id(s,ju,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(i=Ee(s.elementType),s.type=i,typeof i=="function")_c(i)?(u=zu(i,u),s.tag=1,s=D2(null,s,i,u,l)):(s.tag=0,s=Lm(null,s,i,u,l));else{if(i!=null){var g=i.$$typeof;if(g===se){s.tag=11,s=T2(null,s,i,u,l);break e}else if(g===H){s.tag=14,s=N2(null,s,i,u,l);break e}}throw s=ee(i)||i,Error(r(306,s,""))}}return s;case 0:return Lm(i,s,s.type,s.pendingProps,l);case 1:return u=s.type,g=zu(u,s.pendingProps),D2(i,s,u,g,l);case 3:e:{if(Le(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var v=s.memoizedState;g=v.element,hi(i,s),Mi(s,u,null,l);var C=s.memoizedState;if(u=C.cache,No(s,Ci,u),u!==v.cache&&ll(s,[Ci],l,!0),ei(),u=C.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:C.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=O2(i,s,u,l);break e}else if(u!==g){g=js(Error(r(424)),s),zl(g),s=O2(i,s,u,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(si=Da(i.firstChild),gr=s,pn=!0,Xr=null,bi=!0,l=Zt(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ol(),u===g){s=fl(i,s,l);break e}Wr(i,s,u,l)}s=s.child}return s;case 26:return md(i,s),i===null?(l=X5(s.type,null,s.pendingProps,null))?s.memoizedState=l:pn||(l=s.type,i=s.pendingProps,u=kd(ue.current).createElement(l),u[Dn]=s,u[Hn]=i,Jr(u,l,i),ci(u),s.stateNode=u):s.memoizedState=X5(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Be(s),i===null&&pn&&(u=s.stateNode=Y5(s.type,s.pendingProps,ue.current),gr=s,bi=!0,g=si,nu(s.type)?(yg=g,si=Da(u.firstChild)):si=g),Wr(i,s,s.pendingProps.children,l),md(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&pn&&((g=u=si)&&(u=CA(u,s.type,s.pendingProps,bi),u!==null?(s.stateNode=u,gr=s,si=Da(u.firstChild),bi=!1,g=!0):g=!1),g||Eo(s)),Be(s),g=s.type,v=s.pendingProps,C=i!==null?i.memoizedProps:null,u=v.children,fg(g,v)?u=null:C!==null&&fg(g,C)&&(s.flags|=32),s.memoizedState!==null&&(g=Fh(i,s,bm,null,null,l),ff._currentValue=g),md(i,s),Wr(i,s,u,l),s.child;case 6:return i===null&&pn&&((i=l=si)&&(l=IA(l,s.pendingProps,bi),l!==null?(s.stateNode=l,gr=s,si=null,i=!0):i=!1),i||Eo(s)),null;case 13:return P2(i,s,l);case 4:return Le(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=ai(s,null,u,l):Wr(i,s,u,l),s.child;case 11:return T2(i,s,s.type,s.pendingProps,l);case 7:return Wr(i,s,s.pendingProps,l),s.child;case 8:return Wr(i,s,s.pendingProps.children,l),s.child;case 12:return Wr(i,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,No(s,s.type,u.value),Wr(i,s,u.children,l),s.child;case 9:return g=s.type._context,u=s.pendingProps.children,Io(s),g=vr(g),u=u(g),s.flags|=1,Wr(i,s,u,l),s.child;case 14:return N2(i,s,s.type,s.pendingProps,l);case 15:return C2(i,s,s.type,s.pendingProps,l);case 19:return j2(i,s,l);case 31:return W3(i,s,l);case 22:return I2(i,s,l,s.pendingProps);case 24:return Io(s),u=vr(Ci),i===null?(g=K(),g===null&&(g=oi,v=Hl(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=l),g=v),s.memoizedState={parent:u,cache:g},tt(s),No(s,Ci,g)):((i.lanes&l)!==0&&(hi(i,s),Mi(s,null,null,l),ei()),g=i.memoizedState,v=s.memoizedState,g.parent!==u?(g={parent:u,cache:u},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),No(s,Ci,u)):(u=v.cache,No(s,Ci,u),u!==g.cache&&ll(s,[Ci],l,!0))),Wr(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function dl(i){i.flags|=4}function Vm(i,s,l,u,g){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(h5())i.flags|=8192;else throw Ue=ve,Ne}else i.flags&=-16777217}function V2(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!ey(s))if(h5())i.flags|=8192;else throw Ue=ve,Ne}function yd(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Cs():536870912,i.lanes|=s,Fc|=s)}function Wh(i,s){if(!pn)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function pi(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(s)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=u,i.childLanes=l,s}function Z3(i,s,l){var u=s.pendingProps;switch(xc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pi(s),null;case 1:return pi(s),null;case 3:return l=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),zs(Ci),Ce(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(yr(s)?dl(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Vh())),pi(s),null;case 26:var g=s.type,v=s.memoizedState;return i===null?(dl(s),v!==null?(pi(s),V2(s,v)):(pi(s),Vm(s,g,null,u,l))):v?v!==i.memoizedState?(dl(s),pi(s),V2(s,v)):(pi(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&dl(s),pi(s),Vm(s,g,i,u,l)),null;case 27:if(Xe(s),l=ue.current,g=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&dl(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return pi(s),null}i=J.current,yr(s)?Uh(s):(i=Y5(g,u,l),s.stateNode=i,dl(s))}return pi(s),null;case 5:if(Xe(s),g=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&dl(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return pi(s),null}if(v=J.current,yr(s))Uh(s);else{var C=kd(ue.current);switch(v){case 1:v=C.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:v=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":v=C.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":v=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":v=C.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof u.is=="string"?C.createElement("select",{is:u.is}):C.createElement("select"),u.multiple?v.multiple=!0:u.size&&(v.size=u.size);break;default:v=typeof u.is=="string"?C.createElement(g,{is:u.is}):C.createElement(g)}}v[Dn]=s,v[Hn]=u;e:for(C=s.child;C!==null;){if(C.tag===5||C.tag===6)v.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===s)break e;for(;C.sibling===null;){if(C.return===null||C.return===s)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}s.stateNode=v;e:switch(Jr(v,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&dl(s)}}return pi(s),Vm(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&dl(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=ue.current,yr(s)){if(i=s.stateNode,l=s.memoizedProps,u=null,g=gr,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}i[Dn]=s,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||P5(i.nodeValue,l)),i||Eo(s,!0)}else i=kd(i).createTextNode(u),i[Dn]=s,s.stateNode=i}return pi(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(u=yr(s),l!==null){if(i===null){if(!u)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Dn]=s}else ol(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pi(s),i=!1}else l=Vh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(Yn(s),s):(Yn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return pi(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=yr(s),u!==null&&u.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Dn]=s}else ol(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pi(s),g=!1}else g=Vh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Yn(s),s):(Yn(s),null)}return Yn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=u!==null,i=i!==null&&i.memoizedState!==null,l&&(u=s.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==g&&(u.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),yd(s,s.updateQueue),pi(s),null);case 4:return Ce(),i===null&&og(s.stateNode.containerInfo),pi(s),null;case 10:return zs(s.type),pi(s),null;case 19:if(k(xn),u=s.memoizedState,u===null)return pi(s),null;if(g=(s.flags&128)!==0,v=u.rendering,v===null)if(g)Wh(u,!1);else{if(Fi!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(v=Or(i),v!==null){for(s.flags|=128,Wh(u,!1),i=v.updateQueue,s.updateQueue=i,yd(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)Pu(l,i),l=l.sibling;return Y(xn,xn.current&1|2),pn&&Ns(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&Kt()>Ad&&(s.flags|=128,g=!0,Wh(u,!1),s.lanes=4194304)}else{if(!g)if(i=Or(v),i!==null){if(s.flags|=128,g=!0,i=i.updateQueue,s.updateQueue=i,yd(s,i),Wh(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!pn)return pi(s),null}else 2*Kt()-u.renderingStartTime>Ad&&l!==536870912&&(s.flags|=128,g=!0,Wh(u,!1),s.lanes=4194304);u.isBackwards?(v.sibling=s.child,s.child=v):(i=u.last,i!==null?i.sibling=v:s.child=v,u.last=v)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Kt(),i.sibling=null,l=xn.current,Y(xn,g?l&1|2:l&1),pn&&Ns(s,u.treeForkCount),i):(pi(s),null);case 22:case 23:return Yn(s),Ki(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(pi(s),s.subtreeFlags&6&&(s.flags|=8192)):pi(s),l=s.updateQueue,l!==null&&yd(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),i!==null&&k(B),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),zs(Ci),pi(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function eA(i,s){switch(xc(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return zs(Ci),Ce(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Xe(s),null;case 31:if(s.memoizedState!==null){if(Yn(s),s.alternate===null)throw Error(r(340));ol()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Yn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ol()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return k(xn),null;case 4:return Ce(),null;case 10:return zs(s.type),null;case 22:case 23:return Yn(s),Ki(),i!==null&&k(B),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return zs(Ci),null;case 25:return null;default:return null}}function B2(i,s){switch(xc(s),s.tag){case 3:zs(Ci),Ce();break;case 26:case 27:case 5:Xe(s);break;case 4:Ce();break;case 31:s.memoizedState!==null&&Yn(s);break;case 13:Yn(s);break;case 19:k(xn);break;case 10:zs(s.type);break;case 22:case 23:Yn(s),Ki(),i!==null&&k(B);break;case 24:zs(Ci)}}function Jh(i,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&i)===i){u=void 0;var v=l.create,C=l.inst;u=v(),C.destroy=u}l=l.next}while(l!==g)}}catch(G){$n(s,s.return,G)}}function Xl(i,s,l){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var v=g.next;u=v;do{if((u.tag&i)===i){var C=u.inst,G=C.destroy;if(G!==void 0){C.destroy=void 0,g=s;var ce=l,Re=G;try{Re()}catch(ze){$n(g,ce,ze)}}}u=u.next}while(u!==v)}}catch(ze){$n(s,s.return,ze)}}function F2(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{ji(s,l)}catch(u){$n(i,i.return,u)}}}function z2(i,s,l){l.props=zu(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){$n(i,s,u)}}function Zh(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof l=="function"?i.refCleanup=l(u):l.current=u}}catch(g){$n(i,s,g)}}function Oo(i,s){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){$n(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){$n(i,s,g)}else l.current=null}function q2(i){var s=i.type,l=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){$n(i,i.return,g)}}function Bm(i,s,l){try{var u=i.stateNode;AA(u,i.type,l,s),u[Hn]=s}catch(g){$n(i,i.return,g)}}function H2(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&nu(i.type)||i.tag===4}function Fm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||H2(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&nu(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function zm(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=_s));else if(u!==4&&(u===27&&nu(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(zm(i,s,l),i=i.sibling;i!==null;)zm(i,s,l),i=i.sibling}function vd(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(u!==4&&(u===27&&nu(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(vd(i,s,l),i=i.sibling;i!==null;)vd(i,s,l),i=i.sibling}function G2(i){var s=i.stateNode,l=i.memoizedProps;try{for(var u=i.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Jr(s,u,l),s[Dn]=i,s[Hn]=l}catch(v){$n(i,i.return,v)}}var pl=!1,sr=!1,qm=!1,Y2=typeof WeakSet=="function"?WeakSet:Set,Pr=null;function tA(i,s){if(i=i.containerInfo,cg=Vd,i=Xa(i),Ca(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var C=0,G=-1,ce=-1,Re=0,ze=0,Ge=i,Pe=null;t:for(;;){for(var je;Ge!==l||g!==0&&Ge.nodeType!==3||(G=C+g),Ge!==v||u!==0&&Ge.nodeType!==3||(ce=C+u),Ge.nodeType===3&&(C+=Ge.nodeValue.length),(je=Ge.firstChild)!==null;)Pe=Ge,Ge=je;for(;;){if(Ge===i)break t;if(Pe===l&&++Re===g&&(G=C),Pe===v&&++ze===u&&(ce=C),(je=Ge.nextSibling)!==null)break;Ge=Pe,Pe=Ge.parentNode}Ge=je}l=G===-1||ce===-1?null:{start:G,end:ce}}else l=null}l=l||{start:0,end:0}}else l=null;for(hg={focusedElem:i,selectionRange:l},Vd=!1,Pr=s;Pr!==null;)if(s=Pr,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Pr=i;else for(;Pr!==null;){switch(s=Pr,v=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)g=i[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,l=s,g=v.memoizedProps,v=v.memoizedState,u=l.stateNode;try{var ft=zu(l.type,g);i=u.getSnapshotBeforeUpdate(ft,v),u.__reactInternalSnapshotBeforeUpdate=i}catch(Vt){$n(l,l.return,Vt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)pg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":pg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Pr=i;break}Pr=s.return}}function K2(i,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:gl(i,l),u&4&&Jh(5,l);break;case 1:if(gl(i,l),u&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(C){$n(l,l.return,C)}else{var g=zu(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(C){$n(l,l.return,C)}}u&64&&F2(l),u&512&&Zh(l,l.return);break;case 3:if(gl(i,l),u&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{ji(i,s)}catch(C){$n(l,l.return,C)}}break;case 27:s===null&&u&4&&G2(l);case 26:case 5:gl(i,l),s===null&&u&4&&q2(l),u&512&&Zh(l,l.return);break;case 12:gl(i,l);break;case 31:gl(i,l),u&4&&Q2(i,l);break;case 13:gl(i,l),u&4&&W2(i,l),u&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=cA.bind(null,l),RA(i,l))));break;case 22:if(u=l.memoizedState!==null||pl,!u){s=s!==null&&s.memoizedState!==null||sr,g=pl;var v=sr;pl=u,(sr=s)&&!v?yl(i,l,(l.subtreeFlags&8772)!==0):gl(i,l),pl=g,sr=v}break;case 30:break;default:gl(i,l)}}function $2(i){var s=i.alternate;s!==null&&(i.alternate=null,$2(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Zs(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ai=null,Hs=!1;function ml(i,s,l){for(l=l.child;l!==null;)X2(i,s,l),l=l.sibling}function X2(i,s,l){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Qt,l)}catch{}switch(l.tag){case 26:sr||Oo(l,s),ml(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:sr||Oo(l,s);var u=Ai,g=Hs;nu(l.type)&&(Ai=l.stateNode,Hs=!1),ml(i,s,l),uf(l.stateNode),Ai=u,Hs=g;break;case 5:sr||Oo(l,s);case 6:if(u=Ai,g=Hs,Ai=null,ml(i,s,l),Ai=u,Hs=g,Ai!==null)if(Hs)try{(Ai.nodeType===9?Ai.body:Ai.nodeName==="HTML"?Ai.ownerDocument.body:Ai).removeChild(l.stateNode)}catch(v){$n(l,s,v)}else try{Ai.removeChild(l.stateNode)}catch(v){$n(l,s,v)}break;case 18:Ai!==null&&(Hs?(i=Ai,F5(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Xc(i)):F5(Ai,l.stateNode));break;case 4:u=Ai,g=Hs,Ai=l.stateNode.containerInfo,Hs=!0,ml(i,s,l),Ai=u,Hs=g;break;case 0:case 11:case 14:case 15:Xl(2,l,s),sr||Xl(4,l,s),ml(i,s,l);break;case 1:sr||(Oo(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&z2(l,s,u)),ml(i,s,l);break;case 21:ml(i,s,l);break;case 22:sr=(u=sr)||l.memoizedState!==null,ml(i,s,l),sr=u;break;default:ml(i,s,l)}}function Q2(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Xc(i)}catch(l){$n(s,s.return,l)}}}function W2(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Xc(i)}catch(l){$n(s,s.return,l)}}function nA(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Y2),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Y2),s;default:throw Error(r(435,i.tag))}}function bd(i,s){var l=nA(i);s.forEach(function(u){if(!l.has(u)){l.add(u);var g=hA.bind(null,i,u);u.then(g,g)}})}function Gs(i,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],v=i,C=s,G=C;e:for(;G!==null;){switch(G.tag){case 27:if(nu(G.type)){Ai=G.stateNode,Hs=!1;break e}break;case 5:Ai=G.stateNode,Hs=!1;break e;case 3:case 4:Ai=G.stateNode.containerInfo,Hs=!0;break e}G=G.return}if(Ai===null)throw Error(r(160));X2(v,C,g),Ai=null,Hs=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)J2(s,i),s=s.sibling}var io=null;function J2(i,s){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Gs(s,i),Ys(i),u&4&&(Xl(3,i,i.return),Jh(3,i),Xl(5,i,i.return));break;case 1:Gs(s,i),Ys(i),u&512&&(sr||l===null||Oo(l,l.return)),u&64&&pl&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=io;if(Gs(s,i),Ys(i),u&512&&(sr||l===null||Oo(l,l.return)),u&4){var v=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){e:{u=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":v=g.getElementsByTagName("title")[0],(!v||v[Tr]||v[Dn]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(u),g.head.insertBefore(v,g.querySelector("head > title"))),Jr(v,u,l),v[Dn]=i,ci(v),u=v;break e;case"link":var C=J5("link","href",g).get(u+(l.href||""));if(C){for(var G=0;G<C.length;G++)if(v=C[G],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(G,1);break t}}v=g.createElement(u),Jr(v,u,l),g.head.appendChild(v);break;case"meta":if(C=J5("meta","content",g).get(u+(l.content||""))){for(G=0;G<C.length;G++)if(v=C[G],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(G,1);break t}}v=g.createElement(u),Jr(v,u,l),g.head.appendChild(v);break;default:throw Error(r(468,u))}v[Dn]=i,ci(v),u=v}i.stateNode=u}else Z5(g,i.type,i.stateNode);else i.stateNode=W5(g,u,i.memoizedProps);else v!==u?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,u===null?Z5(g,i.type,i.stateNode):W5(g,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Bm(i,i.memoizedProps,l.memoizedProps)}break;case 27:Gs(s,i),Ys(i),u&512&&(sr||l===null||Oo(l,l.return)),l!==null&&u&4&&Bm(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Gs(s,i),Ys(i),u&512&&(sr||l===null||Oo(l,l.return)),i.flags&32){g=i.stateNode;try{Hi(g,"")}catch(ft){$n(i,i.return,ft)}}u&4&&i.stateNode!=null&&(g=i.memoizedProps,Bm(i,g,l!==null?l.memoizedProps:g)),u&1024&&(qm=!0);break;case 6:if(Gs(s,i),Ys(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(ft){$n(i,i.return,ft)}}break;case 3:if(Pd=null,g=io,io=Dd(s.containerInfo),Gs(s,i),io=g,Ys(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Xc(s.containerInfo)}catch(ft){$n(i,i.return,ft)}qm&&(qm=!1,Z2(i));break;case 4:u=io,io=Dd(i.stateNode.containerInfo),Gs(s,i),Ys(i),io=u;break;case 12:Gs(s,i),Ys(i);break;case 31:Gs(s,i),Ys(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,bd(i,u)));break;case 13:Gs(s,i),Ys(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(wd=Kt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,bd(i,u)));break;case 22:g=i.memoizedState!==null;var ce=l!==null&&l.memoizedState!==null,Re=pl,ze=sr;if(pl=Re||g,sr=ze||ce,Gs(s,i),sr=ze,pl=Re,Ys(i),u&8192)e:for(s=i.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||ce||pl||sr||qu(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){ce=l=s;try{if(v=ce.stateNode,g)C=v.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{G=ce.stateNode;var Ge=ce.memoizedProps.style,Pe=Ge!=null&&Ge.hasOwnProperty("display")?Ge.display:null;G.style.display=Pe==null||typeof Pe=="boolean"?"":(""+Pe).trim()}}catch(ft){$n(ce,ce.return,ft)}}}else if(s.tag===6){if(l===null){ce=s;try{ce.stateNode.nodeValue=g?"":ce.memoizedProps}catch(ft){$n(ce,ce.return,ft)}}}else if(s.tag===18){if(l===null){ce=s;try{var je=ce.stateNode;g?z5(je,!0):z5(ce.stateNode,!1)}catch(ft){$n(ce,ce.return,ft)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,bd(i,l))));break;case 19:Gs(s,i),Ys(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,bd(i,u)));break;case 30:break;case 21:break;default:Gs(s,i),Ys(i)}}function Ys(i){var s=i.flags;if(s&2){try{for(var l,u=i.return;u!==null;){if(H2(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,v=Fm(i);vd(i,v,g);break;case 5:var C=l.stateNode;l.flags&32&&(Hi(C,""),l.flags&=-33);var G=Fm(i);vd(i,G,C);break;case 3:case 4:var ce=l.stateNode.containerInfo,Re=Fm(i);zm(i,Re,ce);break;default:throw Error(r(161))}}catch(ze){$n(i,i.return,ze)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Z2(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Z2(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function gl(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)K2(i,s.alternate,s),s=s.sibling}function qu(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Xl(4,s,s.return),qu(s);break;case 1:Oo(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&z2(s,s.return,l),qu(s);break;case 27:uf(s.stateNode);case 26:case 5:Oo(s,s.return),qu(s);break;case 22:s.memoizedState===null&&qu(s);break;case 30:qu(s);break;default:qu(s)}i=i.sibling}}function yl(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,g=i,v=s,C=v.flags;switch(v.tag){case 0:case 11:case 15:yl(g,v,l),Jh(4,v);break;case 1:if(yl(g,v,l),u=v,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Re){$n(u,u.return,Re)}if(u=v,g=u.updateQueue,g!==null){var G=u.stateNode;try{var ce=g.shared.hiddenCallbacks;if(ce!==null)for(g.shared.hiddenCallbacks=null,g=0;g<ce.length;g++)Dr(ce[g],G)}catch(Re){$n(u,u.return,Re)}}l&&C&64&&F2(v),Zh(v,v.return);break;case 27:G2(v);case 26:case 5:yl(g,v,l),l&&u===null&&C&4&&q2(v),Zh(v,v.return);break;case 12:yl(g,v,l);break;case 31:yl(g,v,l),l&&C&4&&Q2(g,v);break;case 13:yl(g,v,l),l&&C&4&&W2(g,v);break;case 22:v.memoizedState===null&&yl(g,v,l),Zh(v,v.return);break;case 30:break;default:yl(g,v,l)}s=s.sibling}}function Hm(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Uu(l))}function Gm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Uu(i))}function ro(i,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)e5(i,s,l,u),s=s.sibling}function e5(i,s,l,u){var g=s.flags;switch(s.tag){case 0:case 11:case 15:ro(i,s,l,u),g&2048&&Jh(9,s);break;case 1:ro(i,s,l,u);break;case 3:ro(i,s,l,u),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Uu(i)));break;case 12:if(g&2048){ro(i,s,l,u),i=s.stateNode;try{var v=s.memoizedProps,C=v.id,G=v.onPostCommit;typeof G=="function"&&G(C,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ce){$n(s,s.return,ce)}}else ro(i,s,l,u);break;case 31:ro(i,s,l,u);break;case 13:ro(i,s,l,u);break;case 23:break;case 22:v=s.stateNode,C=s.alternate,s.memoizedState!==null?v._visibility&2?ro(i,s,l,u):ef(i,s):v._visibility&2?ro(i,s,l,u):(v._visibility|=2,Uc(i,s,l,u,(s.subtreeFlags&10256)!==0||!1)),g&2048&&Hm(C,s);break;case 24:ro(i,s,l,u),g&2048&&Gm(s.alternate,s);break;default:ro(i,s,l,u)}}function Uc(i,s,l,u,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var v=i,C=s,G=l,ce=u,Re=C.flags;switch(C.tag){case 0:case 11:case 15:Uc(v,C,G,ce,g),Jh(8,C);break;case 23:break;case 22:var ze=C.stateNode;C.memoizedState!==null?ze._visibility&2?Uc(v,C,G,ce,g):ef(v,C):(ze._visibility|=2,Uc(v,C,G,ce,g)),g&&Re&2048&&Hm(C.alternate,C);break;case 24:Uc(v,C,G,ce,g),g&&Re&2048&&Gm(C.alternate,C);break;default:Uc(v,C,G,ce,g)}s=s.sibling}}function ef(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,u=s,g=u.flags;switch(u.tag){case 22:ef(l,u),g&2048&&Hm(u.alternate,u);break;case 24:ef(l,u),g&2048&&Gm(u.alternate,u);break;default:ef(l,u)}s=s.sibling}}var tf=8192;function Vc(i,s,l){if(i.subtreeFlags&tf)for(i=i.child;i!==null;)t5(i,s,l),i=i.sibling}function t5(i,s,l){switch(i.tag){case 26:Vc(i,s,l),i.flags&tf&&i.memoizedState!==null&&zA(l,io,i.memoizedState,i.memoizedProps);break;case 5:Vc(i,s,l);break;case 3:case 4:var u=io;io=Dd(i.stateNode.containerInfo),Vc(i,s,l),io=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=tf,tf=16777216,Vc(i,s,l),tf=u):Vc(i,s,l));break;default:Vc(i,s,l)}}function n5(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function nf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Pr=u,r5(u,i)}n5(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)i5(i),i=i.sibling}function i5(i){switch(i.tag){case 0:case 11:case 15:nf(i),i.flags&2048&&Xl(9,i,i.return);break;case 3:nf(i);break;case 12:nf(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,_d(i)):nf(i);break;default:nf(i)}}function _d(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Pr=u,r5(u,i)}n5(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Xl(8,s,s.return),_d(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,_d(s));break;default:_d(s)}i=i.sibling}}function r5(i,s){for(;Pr!==null;){var l=Pr;switch(l.tag){case 0:case 11:case 15:Xl(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Uu(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Pr=u;else e:for(l=i;Pr!==null;){u=Pr;var g=u.sibling,v=u.return;if($2(u),u===l){Pr=null;break e}if(g!==null){g.return=v,Pr=g;break e}Pr=v}}}var iA={getCacheForType:function(i){var s=vr(Ci),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return vr(Ci).controller.signal}},rA=typeof WeakMap=="function"?WeakMap:Map,Bn=0,oi=null,mn=null,vn=0,Kn=0,ua=null,Ql=!1,Bc=!1,Ym=!1,vl=0,Fi=0,Wl=0,Hu=0,Km=0,ca=0,Fc=0,rf=null,Ks=null,$m=!1,wd=0,s5=0,Ad=1/0,Sd=null,Jl=null,_r=0,Zl=null,zc=null,bl=0,Xm=0,Qm=null,a5=null,sf=0,Wm=null;function ha(){return(Bn&2)!==0&&vn!==0?vn&-vn:ne.T!==null?ig():Di()}function o5(){if(ca===0)if((vn&536870912)===0||pn){var i=kn;kn<<=1,(kn&3932160)===0&&(kn=262144),ca=i}else ca=536870912;return i=di.current,i!==null&&(i.flags|=32),ca}function $s(i,s,l){(i===oi&&(Kn===2||Kn===9)||i.cancelPendingCommit!==null)&&(qc(i,0),eu(i,vn,ca,!1)),St(i,l),((Bn&2)===0||i!==oi)&&(i===oi&&((Bn&2)===0&&(Hu|=l),Fi===4&&eu(i,vn,ca,!1)),Po(i))}function l5(i,s,l){if((Bn&6)!==0)throw Error(r(327));var u=!l&&(s&127)===0&&(s&i.expiredLanes)===0||lr(i,s),g=u?oA(i,s):Zm(i,s,!0),v=u;do{if(g===0){Bc&&!u&&eu(i,s,0,!1);break}else{if(l=i.current.alternate,v&&!sA(l)){g=Zm(i,s,!1),v=!1;continue}if(g===2){if(v=s,i.errorRecoveryDisabledLanes&v)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){s=C;e:{var G=i;g=rf;var ce=G.current.memoizedState.isDehydrated;if(ce&&(qc(G,C).flags|=256),C=Zm(G,C,!1),C!==2){if(Ym&&!ce){G.errorRecoveryDisabledLanes|=v,Hu|=v,g=4;break e}v=Ks,Ks=g,v!==null&&(Ks===null?Ks=v:Ks.push.apply(Ks,v))}g=C}if(v=!1,g!==2)continue}}if(g===1){qc(i,0),eu(i,s,0,!0);break}e:{switch(u=i,v=g,v){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:eu(u,s,ca,!Ql);break e;case 2:Ks=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=wd+300-Kt(),10<g)){if(eu(u,s,ca,!Ql),an(u,0,!0)!==0)break e;bl=s,u.timeoutHandle=V5(u5.bind(null,u,l,Ks,Sd,$m,s,ca,Hu,Fc,Ql,v,"Throttled",-0,0),g);break e}u5(u,l,Ks,Sd,$m,s,ca,Hu,Fc,Ql,v,null,-0,0)}}break}while(!0);Po(i)}function u5(i,s,l,u,g,v,C,G,ce,Re,ze,Ge,Pe,je){if(i.timeoutHandle=-1,Ge=s.subtreeFlags,Ge&8192||(Ge&16785408)===16785408){Ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_s},t5(s,v,Ge);var ft=(v&62914560)===v?wd-Kt():(v&4194048)===v?s5-Kt():0;if(ft=qA(Ge,ft),ft!==null){bl=v,i.cancelPendingCommit=ft(y5.bind(null,i,s,v,l,u,g,C,G,ce,ze,Ge,null,Pe,je)),eu(i,v,C,!Re);return}}y5(i,s,v,l,u,g,C,G,ce)}function sA(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],v=g.getSnapshot;g=g.value;try{if(!pr(v(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function eu(i,s,l,u){s&=~Km,s&=~Hu,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var g=s;0<g;){var v=31-$t(g),C=1<<v;u[v]=-1,g&=~C}l!==0&&Vr(i,l,s)}function xd(){return(Bn&6)===0?(af(0),!1):!0}function Jm(){if(mn!==null){if(Kn===0)var i=mn.return;else i=mn,Ra=To=null,Lc(i),Ye=null,pt=0,i=mn;for(;i!==null;)B2(i.alternate,i),i=i.return;mn=null}}function qc(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,EA(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),bl=0,Jm(),oi=i,mn=l=Ms(i.current,null),vn=s,Kn=0,ua=null,Ql=!1,Bc=lr(i,s),Ym=!1,Fc=ca=Km=Hu=Wl=Fi=0,Ks=rf=null,$m=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var g=31-$t(u),v=1<<g;s|=i[g],u&=~v}return vl=s,ku(),l}function c5(i,s){It=null,ne.H=Xh,s===me||s===te?(s=qe(),Kn=3):s===Ne?(s=qe(),Kn=4):Kn=s===Rm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ua=s,mn===null&&(Fi=1,dd(i,js(s,i.current)))}function h5(){var i=di.current;return i===null?!0:(vn&4194048)===vn?Tn===null:(vn&62914560)===vn||(vn&536870912)!==0?i===Tn:!1}function f5(){var i=ne.H;return ne.H=Xh,i===null?Xh:i}function d5(){var i=ne.A;return ne.A=iA,i}function Ed(){Fi=4,Ql||(vn&4194048)!==vn&&di.current!==null||(Bc=!0),(Wl&134217727)===0&&(Hu&134217727)===0||oi===null||eu(oi,vn,ca,!1)}function Zm(i,s,l){var u=Bn;Bn|=2;var g=f5(),v=d5();(oi!==i||vn!==s)&&(Sd=null,qc(i,s)),s=!1;var C=Fi;e:do try{if(Kn!==0&&mn!==null){var G=mn,ce=ua;switch(Kn){case 8:Jm(),C=6;break e;case 3:case 2:case 9:case 6:di.current===null&&(s=!0);var Re=Kn;if(Kn=0,ua=null,Hc(i,G,ce,Re),l&&Bc){C=0;break e}break;default:Re=Kn,Kn=0,ua=null,Hc(i,G,ce,Re)}}aA(),C=Fi;break}catch(ze){c5(i,ze)}while(!0);return s&&i.shellSuspendCounter++,Ra=To=null,Bn=u,ne.H=g,ne.A=v,mn===null&&(oi=null,vn=0,ku()),C}function aA(){for(;mn!==null;)p5(mn)}function oA(i,s){var l=Bn;Bn|=2;var u=f5(),g=d5();oi!==i||vn!==s?(Sd=null,Ad=Kt()+500,qc(i,s)):Bc=lr(i,s);e:do try{if(Kn!==0&&mn!==null){s=mn;var v=ua;t:switch(Kn){case 1:Kn=0,ua=null,Hc(i,s,v,1);break;case 2:case 9:if(Se(v)){Kn=0,ua=null,m5(s);break}s=function(){Kn!==2&&Kn!==9||oi!==i||(Kn=7),Po(i)},v.then(s,s);break e;case 3:Kn=7;break e;case 4:Kn=5;break e;case 7:Se(v)?(Kn=0,ua=null,m5(s)):(Kn=0,ua=null,Hc(i,s,v,7));break;case 5:var C=null;switch(mn.tag){case 26:C=mn.memoizedState;case 5:case 27:var G=mn;if(C?ey(C):G.stateNode.complete){Kn=0,ua=null;var ce=G.sibling;if(ce!==null)mn=ce;else{var Re=G.return;Re!==null?(mn=Re,Td(Re)):mn=null}break t}}Kn=0,ua=null,Hc(i,s,v,5);break;case 6:Kn=0,ua=null,Hc(i,s,v,6);break;case 8:Jm(),Fi=6;break e;default:throw Error(r(462))}}lA();break}catch(ze){c5(i,ze)}while(!0);return Ra=To=null,ne.H=u,ne.A=g,Bn=l,mn!==null?0:(oi=null,vn=0,ku(),Fi)}function lA(){for(;mn!==null&&!Nt();)p5(mn)}function p5(i){var s=U2(i.alternate,i,vl);i.memoizedProps=i.pendingProps,s===null?Td(i):mn=s}function m5(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=k2(l,s,s.pendingProps,s.type,void 0,vn);break;case 11:s=k2(l,s,s.pendingProps,s.type.render,s.ref,vn);break;case 5:Lc(s);default:B2(l,s),s=mn=Pu(s,vl),s=U2(l,s,vl)}i.memoizedProps=i.pendingProps,s===null?Td(i):mn=s}function Hc(i,s,l,u){Ra=To=null,Lc(s),Ye=null,pt=0;var g=s.return;try{if(Q3(i,g,s,l,vn)){Fi=1,dd(i,js(l,i.current)),mn=null;return}}catch(v){if(g!==null)throw mn=g,v;Fi=1,dd(i,js(l,i.current)),mn=null;return}s.flags&32768?(pn||u===1?i=!0:Bc||(vn&536870912)!==0?i=!1:(Ql=i=!0,(u===2||u===9||u===3||u===6)&&(u=di.current,u!==null&&u.tag===13&&(u.flags|=16384))),g5(s,i)):Td(s)}function Td(i){var s=i;do{if((s.flags&32768)!==0){g5(s,Ql);return}i=s.return;var l=Z3(s.alternate,s,vl);if(l!==null){mn=l;return}if(s=s.sibling,s!==null){mn=s;return}mn=s=i}while(s!==null);Fi===0&&(Fi=5)}function g5(i,s){do{var l=eA(i.alternate,i);if(l!==null){l.flags&=32767,mn=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){mn=i;return}mn=i=l}while(i!==null);Fi=6,mn=null}function y5(i,s,l,u,g,v,C,G,ce){i.cancelPendingCommit=null;do Nd();while(_r!==0);if((Bn&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(v=s.lanes|s.childLanes,v|=yc,Js(i,l,v,C,G,ce),i===oi&&(mn=oi=null,vn=0),zc=s,Zl=i,bl=l,Xm=v,Qm=g,a5=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,fA(Xt,function(){return A5(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=ne.T,ne.T=null,g=he.p,he.p=2,C=Bn,Bn|=4;try{tA(i,s,l)}finally{Bn=C,he.p=g,ne.T=u}}_r=1,v5(),b5(),_5()}}function v5(){if(_r===1){_r=0;var i=Zl,s=zc,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=ne.T,ne.T=null;var u=he.p;he.p=2;var g=Bn;Bn|=4;try{J2(s,i);var v=hg,C=Xa(i.containerInfo),G=v.focusedElem,ce=v.selectionRange;if(C!==G&&G&&G.ownerDocument&&$a(G.ownerDocument.documentElement,G)){if(ce!==null&&Ca(G)){var Re=ce.start,ze=ce.end;if(ze===void 0&&(ze=Re),"selectionStart"in G)G.selectionStart=Re,G.selectionEnd=Math.min(ze,G.value.length);else{var Ge=G.ownerDocument||document,Pe=Ge&&Ge.defaultView||window;if(Pe.getSelection){var je=Pe.getSelection(),ft=G.textContent.length,Vt=Math.min(ce.start,ft),ii=ce.end===void 0?Vt:Math.min(ce.end,ft);!je.extend&&Vt>ii&&(C=ii,ii=Vt,Vt=C);var we=Ul(G,Vt),ge=Ul(G,ii);if(we&&ge&&(je.rangeCount!==1||je.anchorNode!==we.node||je.anchorOffset!==we.offset||je.focusNode!==ge.node||je.focusOffset!==ge.offset)){var Ie=Ge.createRange();Ie.setStart(we.node,we.offset),je.removeAllRanges(),Vt>ii?(je.addRange(Ie),je.extend(ge.node,ge.offset)):(Ie.setEnd(ge.node,ge.offset),je.addRange(Ie))}}}}for(Ge=[],je=G;je=je.parentNode;)je.nodeType===1&&Ge.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Ge.length;G++){var He=Ge[G];He.element.scrollLeft=He.left,He.element.scrollTop=He.top}}Vd=!!cg,hg=cg=null}finally{Bn=g,he.p=u,ne.T=l}}i.current=s,_r=2}}function b5(){if(_r===2){_r=0;var i=Zl,s=zc,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=ne.T,ne.T=null;var u=he.p;he.p=2;var g=Bn;Bn|=4;try{K2(i,s.alternate,s)}finally{Bn=g,he.p=u,ne.T=l}}_r=3}}function _5(){if(_r===4||_r===3){_r=0,_t();var i=Zl,s=zc,l=bl,u=a5;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?_r=5:(_r=0,zc=Zl=null,w5(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Jl=null),Qn(l),s=s.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Qt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=ne.T,g=he.p,he.p=2,ne.T=null;try{for(var v=i.onRecoverableError,C=0;C<u.length;C++){var G=u[C];v(G.value,{componentStack:G.stack})}}finally{ne.T=s,he.p=g}}(bl&3)!==0&&Nd(),Po(i),g=i.pendingLanes,(l&261930)!==0&&(g&42)!==0?i===Wm?sf++:(sf=0,Wm=i):sf=0,af(0)}}function w5(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Uu(s)))}function Nd(){return v5(),b5(),_5(),A5()}function A5(){if(_r!==5)return!1;var i=Zl,s=Xm;Xm=0;var l=Qn(bl),u=ne.T,g=he.p;try{he.p=32>l?32:l,ne.T=null,l=Qm,Qm=null;var v=Zl,C=bl;if(_r=0,zc=Zl=null,bl=0,(Bn&6)!==0)throw Error(r(331));var G=Bn;if(Bn|=4,i5(v.current),e5(v,v.current,C,l),Bn=G,af(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Qt,v)}catch{}return!0}finally{he.p=g,ne.T=u,w5(i,s)}}function S5(i,s,l){s=js(l,s),s=Im(i.stateNode,s,2),i=rn(i,s,2),i!==null&&(St(i,2),Po(i))}function $n(i,s,l){if(i.tag===3)S5(i,i,l);else for(;s!==null;){if(s.tag===3){S5(s,i,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Jl===null||!Jl.has(u))){i=js(l,i),l=x2(2),u=rn(s,l,2),u!==null&&(E2(l,u,s,i),St(u,2),Po(u));break}}s=s.return}}function eg(i,s,l){var u=i.pingCache;if(u===null){u=i.pingCache=new rA;var g=new Set;u.set(s,g)}else g=u.get(s),g===void 0&&(g=new Set,u.set(s,g));g.has(l)||(Ym=!0,g.add(l),i=uA.bind(null,i,s,l),s.then(i,i))}function uA(i,s,l){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,oi===i&&(vn&l)===l&&(Fi===4||Fi===3&&(vn&62914560)===vn&&300>Kt()-wd?(Bn&2)===0&&qc(i,0):Km|=l,Fc===vn&&(Fc=0)),Po(i)}function x5(i,s){s===0&&(s=Cs()),i=Wa(i,s),i!==null&&(St(i,s),Po(i))}function cA(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),x5(i,l)}function hA(i,s){var l=0;switch(i.tag){case 31:case 13:var u=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),x5(i,l)}function fA(i,s){return it(i,s)}var Cd=null,Gc=null,tg=!1,Id=!1,ng=!1,tu=0;function Po(i){i!==Gc&&i.next===null&&(Gc===null?Cd=Gc=i:Gc=Gc.next=i),Id=!0,tg||(tg=!0,pA())}function af(i,s){if(!ng&&Id){ng=!0;do for(var l=!1,u=Cd;u!==null;){if(i!==0){var g=u.pendingLanes;if(g===0)var v=0;else{var C=u.suspendedLanes,G=u.pingedLanes;v=(1<<31-$t(42|i)+1)-1,v&=g&~(C&~G),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,C5(u,v))}else v=vn,v=an(u,u===oi?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||lr(u,v)||(l=!0,C5(u,v));u=u.next}while(l);ng=!1}}function dA(){E5()}function E5(){Id=tg=!1;var i=0;tu!==0&&xA()&&(i=tu);for(var s=Kt(),l=null,u=Cd;u!==null;){var g=u.next,v=T5(u,s);v===0?(u.next=null,l===null?Cd=g:l.next=g,g===null&&(Gc=l)):(l=u,(i!==0||(v&3)!==0)&&(Id=!0)),u=g}_r!==0&&_r!==5||af(i),tu!==0&&(tu=0)}function T5(i,s){for(var l=i.suspendedLanes,u=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var C=31-$t(v),G=1<<C,ce=g[C];ce===-1?((G&l)===0||(G&u)!==0)&&(g[C]=Ji(G,s)):ce<=s&&(i.expiredLanes|=G),v&=~G}if(s=oi,l=vn,l=an(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,l===0||i===s&&(Kn===2||Kn===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&rt(u),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||lr(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(u!==null&&rt(u),Qn(l)){case 2:case 8:l=sn;break;case 32:l=Xt;break;case 268435456:l=qt;break;default:l=Xt}return u=N5.bind(null,i),l=it(l,u),i.callbackPriority=s,i.callbackNode=l,s}return u!==null&&u!==null&&rt(u),i.callbackPriority=2,i.callbackNode=null,2}function N5(i,s){if(_r!==0&&_r!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Nd()&&i.callbackNode!==l)return null;var u=vn;return u=an(i,i===oi?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(l5(i,u,s),T5(i,Kt()),i.callbackNode!=null&&i.callbackNode===l?N5.bind(null,i):null)}function C5(i,s){if(Nd())return null;l5(i,s,!0)}function pA(){TA(function(){(Bn&6)!==0?it(Bt,dA):E5()})}function ig(){if(tu===0){var i=f;i===0&&(i=Pt,Pt<<=1,(Pt&261888)===0&&(Pt=256)),tu=i}return tu}function I5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Cr(""+i)}function R5(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function mA(i,s,l,u,g){if(s==="submit"&&l&&l.stateNode===g){var v=I5((g[Hn]||null).action),C=u.submitter;C&&(s=(s=C[Hn]||null)?I5(s.formAction):C.getAttribute("formAction"),s!==null&&(v=s,C=null));var G=new tr("action","action",null,u,g);i.push({event:G,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(tu!==0){var ce=C?R5(g,C):new FormData(g);Sm(l,{pending:!0,data:ce,method:g.method,action:v},null,ce)}}else typeof v=="function"&&(G.preventDefault(),ce=C?R5(g,C):new FormData(g),Sm(l,{pending:!0,data:ce,method:g.method,action:v},v,ce))},currentTarget:g}]})}}for(var rg=0;rg<rl.length;rg++){var sg=rl[rg],gA=sg.toLowerCase(),yA=sg[0].toUpperCase()+sg.slice(1);Ps(gA,"on"+yA)}Ps(il,"onAnimationEnd"),Ps(Ru,"onAnimationIteration"),Ps(Oh,"onAnimationStart"),Ps("dblclick","onDoubleClick"),Ps("focusin","onFocus"),Ps("focusout","onBlur"),Ps(ed,"onTransitionRun"),Ps(td,"onTransitionStart"),Ps(nd,"onTransitionCancel"),Ps(Ph,"onTransitionEnd"),bs("onMouseEnter",["mouseout","mouseover"]),bs("onMouseLeave",["mouseout","mouseover"]),bs("onPointerEnter",["pointerout","pointerover"]),bs("onPointerLeave",["pointerout","pointerover"]),rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rs("onBeforeInput",["compositionend","keypress","textInput","paste"]),rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var of="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(of));function L5(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],g=u.event;u=u.listeners;e:{var v=void 0;if(s)for(var C=u.length-1;0<=C;C--){var G=u[C],ce=G.instance,Re=G.currentTarget;if(G=G.listener,ce!==v&&g.isPropagationStopped())break e;v=G,g.currentTarget=Re;try{v(g)}catch(ze){Lu(ze)}g.currentTarget=null,v=ce}else for(C=0;C<u.length;C++){if(G=u[C],ce=G.instance,Re=G.currentTarget,G=G.listener,ce!==v&&g.isPropagationStopped())break e;v=G,g.currentTarget=Re;try{v(g)}catch(ze){Lu(ze)}g.currentTarget=null,v=ce}}}}function gn(i,s){var l=s[Er];l===void 0&&(l=s[Er]=new Set);var u=i+"__bubble";l.has(u)||(k5(s,i,2,!1),l.add(u))}function ag(i,s,l){var u=0;s&&(u|=4),k5(l,i,u,s)}var Rd="_reactListening"+Math.random().toString(36).slice(2);function og(i){if(!i[Rd]){i[Rd]=!0,po.forEach(function(l){l!=="selectionchange"&&(vA.has(l)||ag(l,!1,i),ag(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Rd]||(s[Rd]=!0,ag("selectionchange",!1,s))}}function k5(i,s,l,u){switch(oy(s)){case 2:var g=YA;break;case 8:g=KA;break;default:g=Ag}l=g.bind(null,s,l,i),g=void 0,!Fa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),u?g!==void 0?i.addEventListener(s,l,{capture:!0,passive:g}):i.addEventListener(s,l,!0):g!==void 0?i.addEventListener(s,l,{passive:g}):i.addEventListener(s,l,!1)}function lg(i,s,l,u,g){var v=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var C=u.tag;if(C===3||C===4){var G=u.stateNode.containerInfo;if(G===g)break;if(C===4)for(C=u.return;C!==null;){var ce=C.tag;if((ce===3||ce===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;G!==null;){if(C=Br(G),C===null)return;if(ce=C.tag,ce===5||ce===6||ce===26||ce===27){u=v=C;continue e}G=G.parentNode}}u=u.return}_a(function(){var Re=v,ze=Ir(l),Ge=[];e:{var Pe=Mh.get(i);if(Pe!==void 0){var je=tr,ft=i;switch(i){case"keypress":if(Hr(l)===0)break e;case"keydown":case"keyup":je=fn;break;case"focusin":ft="focus",je=As;break;case"focusout":ft="blur",je=As;break;case"beforeblur":case"afterblur":je=As;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=_o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=Ds;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=S;break;case il:case Ru:case Oh:je=_;break;case Ph:je=X;break;case"scroll":case"scrollend":je=wa;break;case"wheel":je=De;break;case"copy":case"cut":case"paste":je=ie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=zn;break;case"toggle":case"beforetoggle":je=zt}var Vt=(s&4)!==0,ii=!Vt&&(i==="scroll"||i==="scrollend"),we=Vt?Pe!==null?Pe+"Capture":null:Pe;Vt=[];for(var ge=Re,Ie;ge!==null;){var He=ge;if(Ie=He.stateNode,He=He.tag,He!==5&&He!==26&&He!==27||Ie===null||we===null||(He=Gi(ge,we),He!=null&&Vt.push(lf(ge,He,Ie))),ii)break;ge=ge.return}0<Vt.length&&(Pe=new je(Pe,ft,null,l,ze),Ge.push({event:Pe,listeners:Vt}))}}if((s&7)===0){e:{if(Pe=i==="mouseover"||i==="pointerover",je=i==="mouseout"||i==="pointerout",Pe&&l!==ia&&(ft=l.relatedTarget||l.fromElement)&&(Br(ft)||ft[Oi]))break e;if((je||Pe)&&(Pe=ze.window===ze?ze:(Pe=ze.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,je?(ft=l.relatedTarget||l.toElement,je=Re,ft=ft?Br(ft):null,ft!==null&&(ii=o(ft),Vt=ft.tag,ft!==ii||Vt!==5&&Vt!==27&&Vt!==6)&&(ft=null)):(je=null,ft=Re),je!==ft)){if(Vt=_o,He="onMouseLeave",we="onMouseEnter",ge="mouse",(i==="pointerout"||i==="pointerover")&&(Vt=zn,He="onPointerLeave",we="onPointerEnter",ge="pointer"),ii=je==null?Pe:Fr(je),Ie=ft==null?Pe:Fr(ft),Pe=new Vt(He,ge+"leave",je,l,ze),Pe.target=ii,Pe.relatedTarget=Ie,He=null,Br(ze)===Re&&(Vt=new Vt(we,ge+"enter",ft,l,ze),Vt.target=Ie,Vt.relatedTarget=ii,He=Vt),ii=He,je&&ft)t:{for(Vt=bA,we=je,ge=ft,Ie=0,He=we;He;He=Vt(He))Ie++;He=0;for(var Dt=ge;Dt;Dt=Vt(Dt))He++;for(;0<Ie-He;)we=Vt(we),Ie--;for(;0<He-Ie;)ge=Vt(ge),He--;for(;Ie--;){if(we===ge||ge!==null&&we===ge.alternate){Vt=we;break t}we=Vt(we),ge=Vt(ge)}Vt=null}else Vt=null;je!==null&&D5(Ge,Pe,je,Vt,!1),ft!==null&&ii!==null&&D5(Ge,ii,ft,Vt,!0)}}e:{if(Pe=Re?Fr(Re):window,je=Pe.nodeName&&Pe.nodeName.toLowerCase(),je==="select"||je==="input"&&Pe.type==="file")var Mn=Ao;else if(Cu(Pe))if(os)Mn=Ta;else{Mn=Ti;var bt=Ml}else je=Pe.nodeName,!je||je.toLowerCase()!=="input"||Pe.type!=="checkbox"&&Pe.type!=="radio"?Re&&yo(Re.elementType)&&(Mn=Ao):Mn=gc;if(Mn&&(Mn=Mn(i,Re))){xs(Ge,Mn,l,ze);break e}bt&&bt(i,Pe,Re),i==="focusout"&&Re&&Pe.type==="number"&&Re.memoizedProps.value!=null&&Qo(Pe,"number",Pe.value)}switch(bt=Re?Fr(Re):window,i){case"focusin":(Cu(bt)||bt.contentEditable==="true")&&(Es=bt,Qa=Re,Rr=null);break;case"focusout":Rr=Qa=Es=null;break;case"mousedown":Os=!0;break;case"contextmenu":case"mouseup":case"dragend":Os=!1,Rn(Ge,l,ze);break;case"selectionchange":if(nl)break;case"keydown":case"keyup":Rn(Ge,l,ze)}var on;if(ln)e:{switch(i){case"compositionstart":var bn="onCompositionStart";break e;case"compositionend":bn="onCompositionEnd";break e;case"compositionupdate":bn="onCompositionUpdate";break e}bn=void 0}else Sa?Ss(i,l)&&(bn="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(bn="onCompositionStart");bn&&(fr&&l.locale!=="ko"&&(Sa||bn!=="onCompositionStart"?bn==="onCompositionEnd"&&Sa&&(on=el()):(qr=ze,za="value"in qr?qr.value:qr.textContent,Sa=!0)),bt=Ld(Re,bn),0<bt.length&&(bn=new _e(bn,i,null,l,ze),Ge.push({event:bn,listeners:bt}),on?bn.data=on:(on=Aa(l),on!==null&&(bn.data=on)))),(on=nr?Kr(i,l):Ha(i,l))&&(bn=Ld(Re,"onBeforeInput"),0<bn.length&&(bt=new _e("onBeforeInput","beforeinput",null,l,ze),Ge.push({event:bt,listeners:bn}),bt.data=on)),mA(Ge,i,Re,l,ze)}L5(Ge,s)})}function lf(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Ld(i,s){for(var l=s+"Capture",u=[];i!==null;){var g=i,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Gi(i,l),g!=null&&u.unshift(lf(i,g,v)),g=Gi(i,s),g!=null&&u.push(lf(i,g,v))),i.tag===3)return u;i=i.return}return[]}function bA(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function D5(i,s,l,u,g){for(var v=s._reactName,C=[];l!==null&&l!==u;){var G=l,ce=G.alternate,Re=G.stateNode;if(G=G.tag,ce!==null&&ce===u)break;G!==5&&G!==26&&G!==27||Re===null||(ce=Re,g?(Re=Gi(l,v),Re!=null&&C.unshift(lf(l,Re,ce))):g||(Re=Gi(l,v),Re!=null&&C.push(lf(l,Re,ce)))),l=l.return}C.length!==0&&i.push({event:s,listeners:C})}var _A=/\r\n?/g,wA=/\u0000|\uFFFD/g;function O5(i){return(typeof i=="string"?i:""+i).replace(_A,`
`).replace(wA,"")}function P5(i,s){return s=O5(s),O5(i)===s}function ni(i,s,l,u,g,v){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Hi(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Hi(i,""+u);break;case"className":er(i,"class",u);break;case"tabIndex":er(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":er(i,l,u);break;case"style":Zo(i,u,v);break;case"data":if(s!=="object"){er(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Cr(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(s!=="input"&&ni(i,s,"name",g.name,g,null),ni(i,s,"formEncType",g.formEncType,g,null),ni(i,s,"formMethod",g.formMethod,g,null),ni(i,s,"formTarget",g.formTarget,g,null)):(ni(i,s,"encType",g.encType,g,null),ni(i,s,"method",g.method,g,null),ni(i,s,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Cr(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=_s);break;case"onScroll":u!=null&&gn("scroll",i);break;case"onScrollEnd":u!=null&&gn("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=Cr(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":gn("beforetoggle",i),gn("toggle",i),zr(i,"popover",u);break;case"xlinkActuate":yi(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":yi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":yi(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":yi(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":yi(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":yi(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":yi(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":yi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":yi(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":zr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=vo.get(l)||l,zr(i,l,u))}}function ug(i,s,l,u,g,v){switch(l){case"style":Zo(i,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof u=="string"?Hi(i,u):(typeof u=="number"||typeof u=="bigint")&&Hi(i,""+u);break;case"onScroll":u!=null&&gn("scroll",i);break;case"onScrollEnd":u!=null&&gn("scrollend",i);break;case"onClick":u!=null&&(i.onclick=_s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),v=i[Hn]||null,v=v!=null?v[l]:null,typeof v=="function"&&i.removeEventListener(s,v,g),typeof u=="function")){typeof v!="function"&&v!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,u,g);break e}l in i?i[l]=u:u===!0?i.setAttribute(l,""):zr(i,l,u)}}}function Jr(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gn("error",i),gn("load",i);var u=!1,g=!1,v;for(v in l)if(l.hasOwnProperty(v)){var C=l[v];if(C!=null)switch(v){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ni(i,s,v,C,l,null)}}g&&ni(i,s,"srcSet",l.srcSet,l,null),u&&ni(i,s,"src",l.src,l,null);return;case"input":gn("invalid",i);var G=v=C=g=null,ce=null,Re=null;for(u in l)if(l.hasOwnProperty(u)){var ze=l[u];if(ze!=null)switch(u){case"name":g=ze;break;case"type":C=ze;break;case"checked":ce=ze;break;case"defaultChecked":Re=ze;break;case"value":v=ze;break;case"defaultValue":G=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(r(137,s));break;default:ni(i,s,u,ze,l,null)}}Dl(i,v,G,ce,Re,C,g,!1);return;case"select":gn("invalid",i),u=C=v=null;for(g in l)if(l.hasOwnProperty(g)&&(G=l[g],G!=null))switch(g){case"value":v=G;break;case"defaultValue":C=G;break;case"multiple":u=G;default:ni(i,s,g,G,l,null)}s=v,l=C,i.multiple=!!u,s!=null?hr(i,!!u,s,!1):l!=null&&hr(i,!!u,l,!0);return;case"textarea":gn("invalid",i),v=g=u=null;for(C in l)if(l.hasOwnProperty(C)&&(G=l[C],G!=null))switch(C){case"value":u=G;break;case"defaultValue":g=G;break;case"children":v=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:ni(i,s,C,G,l,null)}ta(i,u,g,v);return;case"option":for(ce in l)if(l.hasOwnProperty(ce)&&(u=l[ce],u!=null))switch(ce){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ni(i,s,ce,u,l,null)}return;case"dialog":gn("beforetoggle",i),gn("toggle",i),gn("cancel",i),gn("close",i);break;case"iframe":case"object":gn("load",i);break;case"video":case"audio":for(u=0;u<of.length;u++)gn(of[u],i);break;case"image":gn("error",i),gn("load",i);break;case"details":gn("toggle",i);break;case"embed":case"source":case"link":gn("error",i),gn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Re in l)if(l.hasOwnProperty(Re)&&(u=l[Re],u!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ni(i,s,Re,u,l,null)}return;default:if(yo(s)){for(ze in l)l.hasOwnProperty(ze)&&(u=l[ze],u!==void 0&&ug(i,s,ze,u,l,void 0));return}}for(G in l)l.hasOwnProperty(G)&&(u=l[G],u!=null&&ni(i,s,G,u,l,null))}function AA(i,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,C=null,G=null,ce=null,Re=null,ze=null;for(je in l){var Ge=l[je];if(l.hasOwnProperty(je)&&Ge!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":ce=Ge;default:u.hasOwnProperty(je)||ni(i,s,je,null,u,Ge)}}for(var Pe in u){var je=u[Pe];if(Ge=l[Pe],u.hasOwnProperty(Pe)&&(je!=null||Ge!=null))switch(Pe){case"type":v=je;break;case"name":g=je;break;case"checked":Re=je;break;case"defaultChecked":ze=je;break;case"value":C=je;break;case"defaultValue":G=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(137,s));break;default:je!==Ge&&ni(i,s,Pe,je,u,Ge)}}Va(i,C,G,ce,Re,ze,v,g);return;case"select":je=C=G=Pe=null;for(v in l)if(ce=l[v],l.hasOwnProperty(v)&&ce!=null)switch(v){case"value":break;case"multiple":je=ce;default:u.hasOwnProperty(v)||ni(i,s,v,null,u,ce)}for(g in u)if(v=u[g],ce=l[g],u.hasOwnProperty(g)&&(v!=null||ce!=null))switch(g){case"value":Pe=v;break;case"defaultValue":G=v;break;case"multiple":C=v;default:v!==ce&&ni(i,s,g,v,u,ce)}s=G,l=C,u=je,Pe!=null?hr(i,!!l,Pe,!1):!!u!=!!l&&(s!=null?hr(i,!!l,s,!0):hr(i,!!l,l?[]:"",!1));return;case"textarea":je=Pe=null;for(G in l)if(g=l[G],l.hasOwnProperty(G)&&g!=null&&!u.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:ni(i,s,G,null,u,g)}for(C in u)if(g=u[C],v=l[C],u.hasOwnProperty(C)&&(g!=null||v!=null))switch(C){case"value":Pe=g;break;case"defaultValue":je=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==v&&ni(i,s,C,g,u,v)}Wo(i,Pe,je);return;case"option":for(var ft in l)if(Pe=l[ft],l.hasOwnProperty(ft)&&Pe!=null&&!u.hasOwnProperty(ft))switch(ft){case"selected":i.selected=!1;break;default:ni(i,s,ft,null,u,Pe)}for(ce in u)if(Pe=u[ce],je=l[ce],u.hasOwnProperty(ce)&&Pe!==je&&(Pe!=null||je!=null))switch(ce){case"selected":i.selected=Pe&&typeof Pe!="function"&&typeof Pe!="symbol";break;default:ni(i,s,ce,Pe,u,je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Vt in l)Pe=l[Vt],l.hasOwnProperty(Vt)&&Pe!=null&&!u.hasOwnProperty(Vt)&&ni(i,s,Vt,null,u,Pe);for(Re in u)if(Pe=u[Re],je=l[Re],u.hasOwnProperty(Re)&&Pe!==je&&(Pe!=null||je!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(r(137,s));break;default:ni(i,s,Re,Pe,u,je)}return;default:if(yo(s)){for(var ii in l)Pe=l[ii],l.hasOwnProperty(ii)&&Pe!==void 0&&!u.hasOwnProperty(ii)&&ug(i,s,ii,void 0,u,Pe);for(ze in u)Pe=u[ze],je=l[ze],!u.hasOwnProperty(ze)||Pe===je||Pe===void 0&&je===void 0||ug(i,s,ze,Pe,u,je);return}}for(var we in l)Pe=l[we],l.hasOwnProperty(we)&&Pe!=null&&!u.hasOwnProperty(we)&&ni(i,s,we,null,u,Pe);for(Ge in u)Pe=u[Ge],je=l[Ge],!u.hasOwnProperty(Ge)||Pe===je||Pe==null&&je==null||ni(i,s,Ge,Pe,u,je)}function M5(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function SA(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],v=g.transferSize,C=g.initiatorType,G=g.duration;if(v&&G&&M5(C)){for(C=0,G=g.responseEnd,u+=1;u<l.length;u++){var ce=l[u],Re=ce.startTime;if(Re>G)break;var ze=ce.transferSize,Ge=ce.initiatorType;ze&&M5(Ge)&&(ce=ce.responseEnd,C+=ze*(ce<G?1:(G-Re)/(ce-Re)))}if(--u,s+=8*(v+C)/(g.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var cg=null,hg=null;function kd(i){return i.nodeType===9?i:i.ownerDocument}function j5(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U5(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function fg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var dg=null;function xA(){var i=window.event;return i&&i.type==="popstate"?i===dg?!1:(dg=i,!0):(dg=null,!1)}var V5=typeof setTimeout=="function"?setTimeout:void 0,EA=typeof clearTimeout=="function"?clearTimeout:void 0,B5=typeof Promise=="function"?Promise:void 0,TA=typeof queueMicrotask=="function"?queueMicrotask:typeof B5<"u"?function(i){return B5.resolve(null).then(i).catch(NA)}:V5;function NA(i){setTimeout(function(){throw i})}function nu(i){return i==="head"}function F5(i,s){var l=s,u=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){i.removeChild(g),Xc(s);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")uf(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,uf(l);for(var v=l.firstChild;v;){var C=v.nextSibling,G=v.nodeName;v[Tr]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=C}}else l==="body"&&uf(i.ownerDocument.body);l=g}while(l);Xc(s)}function z5(i,s){var l=i;i=0;do{var u=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=u}while(l)}function pg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":pg(l),Zs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function CA(i,s,l,u){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Tr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=Da(i.nextSibling),i===null)break}return null}function IA(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Da(i.nextSibling),i===null))return null;return i}function q5(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Da(i.nextSibling),i===null))return null;return i}function mg(i){return i.data==="$?"||i.data==="$~"}function gg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function RA(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Da(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var yg=null;function H5(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return Da(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function G5(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function Y5(i,s,l){switch(s=kd(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function uf(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Zs(i)}var Oa=new Map,K5=new Set;function Dd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var _l=he.d;he.d={f:LA,r:kA,D:DA,C:OA,L:PA,m:MA,X:UA,S:jA,M:VA};function LA(){var i=_l.f(),s=xd();return i||s}function kA(i){var s=cr(i);s!==null&&s.tag===5&&s.type==="form"?c2(s):_l.r(i)}var Yc=typeof document>"u"?null:document;function $5(i,s,l){var u=Yc;if(u&&typeof s=="string"&&s){var g=vi(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),K5.has(g)||(K5.add(g),i={rel:i,crossOrigin:l,href:s},u.querySelector(g)===null&&(s=u.createElement("link"),Jr(s,"link",i),ci(s),u.head.appendChild(s)))}}function DA(i){_l.D(i),$5("dns-prefetch",i,null)}function OA(i,s){_l.C(i,s),$5("preconnect",i,s)}function PA(i,s,l){_l.L(i,s,l);var u=Yc;if(u&&i&&s){var g='link[rel="preload"][as="'+vi(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+vi(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+vi(l.imageSizes)+'"]')):g+='[href="'+vi(i)+'"]';var v=g;switch(s){case"style":v=Kc(i);break;case"script":v=$c(i)}Oa.has(v)||(i=x({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Oa.set(v,i),u.querySelector(g)!==null||s==="style"&&u.querySelector(cf(v))||s==="script"&&u.querySelector(hf(v))||(s=u.createElement("link"),Jr(s,"link",i),ci(s),u.head.appendChild(s)))}}function MA(i,s){_l.m(i,s);var l=Yc;if(l&&i){var u=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+vi(u)+'"][href="'+vi(i)+'"]',v=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=$c(i)}if(!Oa.has(v)&&(i=x({rel:"modulepreload",href:i},s),Oa.set(v,i),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(hf(v)))return}u=l.createElement("link"),Jr(u,"link",i),ci(u),l.head.appendChild(u)}}}function jA(i,s,l){_l.S(i,s,l);var u=Yc;if(u&&i){var g=is(u).hoistableStyles,v=Kc(i);s=s||"default";var C=g.get(v);if(!C){var G={loading:0,preload:null};if(C=u.querySelector(cf(v)))G.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Oa.get(v))&&vg(i,l);var ce=C=u.createElement("link");ci(ce),Jr(ce,"link",i),ce._p=new Promise(function(Re,ze){ce.onload=Re,ce.onerror=ze}),ce.addEventListener("load",function(){G.loading|=1}),ce.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Od(C,s,u)}C={type:"stylesheet",instance:C,count:1,state:G},g.set(v,C)}}}function UA(i,s){_l.X(i,s);var l=Yc;if(l&&i){var u=is(l).hoistableScripts,g=$c(i),v=u.get(g);v||(v=l.querySelector(hf(g)),v||(i=x({src:i,async:!0},s),(s=Oa.get(g))&&bg(i,s),v=l.createElement("script"),ci(v),Jr(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function VA(i,s){_l.M(i,s);var l=Yc;if(l&&i){var u=is(l).hoistableScripts,g=$c(i),v=u.get(g);v||(v=l.querySelector(hf(g)),v||(i=x({src:i,async:!0,type:"module"},s),(s=Oa.get(g))&&bg(i,s),v=l.createElement("script"),ci(v),Jr(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function X5(i,s,l,u){var g=(g=ue.current)?Dd(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Kc(l.href),l=is(g).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Kc(l.href);var v=is(g).hoistableStyles,C=v.get(i);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,C),(v=g.querySelector(cf(i)))&&!v._p&&(C.instance=v,C.state.loading=5),Oa.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Oa.set(i,l),v||BA(g,i,l,C.state))),s&&u===null)throw Error(r(528,""));return C}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=$c(l),l=is(g).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Kc(i){return'href="'+vi(i)+'"'}function cf(i){return'link[rel="stylesheet"]['+i+"]"}function Q5(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function BA(i,s,l,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Jr(s,"link",l),ci(s),i.head.appendChild(s))}function $c(i){return'[src="'+vi(i)+'"]'}function hf(i){return"script[async]"+i}function W5(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+vi(l.href)+'"]');if(u)return s.instance=u,ci(u),u;var g=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),ci(u),Jr(u,"style",g),Od(u,l.precedence,i),s.instance=u;case"stylesheet":g=Kc(l.href);var v=i.querySelector(cf(g));if(v)return s.state.loading|=4,s.instance=v,ci(v),v;u=Q5(l),(g=Oa.get(g))&&vg(u,g),v=(i.ownerDocument||i).createElement("link"),ci(v);var C=v;return C._p=new Promise(function(G,ce){C.onload=G,C.onerror=ce}),Jr(v,"link",u),s.state.loading|=4,Od(v,l.precedence,i),s.instance=v;case"script":return v=$c(l.src),(g=i.querySelector(hf(v)))?(s.instance=g,ci(g),g):(u=l,(g=Oa.get(v))&&(u=x({},l),bg(u,g)),i=i.ownerDocument||i,g=i.createElement("script"),ci(g),Jr(g,"link",u),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Od(u,l.precedence,i));return s.instance}function Od(i,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,v=g,C=0;C<u.length;C++){var G=u[C];if(G.dataset.precedence===s)v=G;else if(v!==g)break}v?v.parentNode.insertBefore(i,v.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function vg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function bg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Pd=null;function J5(i,s,l){if(Pd===null){var u=new Map,g=Pd=new Map;g.set(l,u)}else g=Pd,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var v=l[g];if(!(v[Tr]||v[Dn]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var C=v.getAttribute(s)||"";C=i+C;var G=u.get(C);G?G.push(v):u.set(C,[v])}}return u}function Z5(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function FA(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function ey(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function zA(i,s,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Kc(u.href),v=s.querySelector(cf(g));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Md.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=v,ci(v);return}v=s.ownerDocument||s,u=Q5(u),(g=Oa.get(g))&&vg(u,g),v=v.createElement("link"),ci(v);var C=v;C._p=new Promise(function(G,ce){C.onload=G,C.onerror=ce}),Jr(v,"link",u),l.instance=v}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Md.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var _g=0;function qA(i,s){return i.stylesheets&&i.count===0&&Ud(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var u=setTimeout(function(){if(i.stylesheets&&Ud(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4+s);0<i.imgBytes&&_g===0&&(_g=62500*SA());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ud(i,i.stylesheets),i.unsuspend)){var v=i.unsuspend;i.unsuspend=null,v()}},(i.imgBytes>_g?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Md(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ud(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var jd=null;function Ud(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,jd=new Map,s.forEach(HA,i),jd=null,Md.call(i))}function HA(i,s){if(!(s.state.loading&4)){var l=jd.get(i);if(l)var u=l.get(null);else{l=new Map,jd.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var C=g[v];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),u=C)}u&&l.set(null,u)}g=s.instance,C=g.getAttribute("data-precedence"),v=l.get(C)||u,v===u&&l.set(null,g),l.set(C,g),this.count++,u=Md.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),v?v.parentNode.insertBefore(g,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var ff={$$typeof:oe,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function GA(i,s,l,u,g,v,C,G,ce){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qi(0),this.hiddenUpdates=qi(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ce,this.incompleteTransitions=new Map}function ty(i,s,l,u,g,v,C,G,ce,Re,ze,Ge){return i=new GA(i,s,l,C,ce,Re,ze,Ge,G),s=1,v===!0&&(s|=24),v=kr(3,null,null,s),i.current=v,v.stateNode=i,s=Hl(),s.refCount++,i.pooledCache=s,s.refCount++,v.memoizedState={element:u,isDehydrated:l,cache:s},tt(v),i}function ny(i){return i?(i=mr,i):mr}function iy(i,s,l,u,g,v){g=ny(g),u.context===null?u.context=g:u.pendingContext=g,u=jt(s),u.payload={element:l},v=v===void 0?null:v,v!==null&&(u.callback=v),l=rn(i,u,s),l!==null&&($s(l,i,s),Un(l,i,s))}function ry(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function wg(i,s){ry(i,s),(i=i.alternate)&&ry(i,s)}function sy(i){if(i.tag===13||i.tag===31){var s=Wa(i,67108864);s!==null&&$s(s,i,67108864),wg(i,67108864)}}function ay(i){if(i.tag===13||i.tag===31){var s=ha();s=Fn(s);var l=Wa(i,s);l!==null&&$s(l,i,s),wg(i,s)}}var Vd=!0;function YA(i,s,l,u){var g=ne.T;ne.T=null;var v=he.p;try{he.p=2,Ag(i,s,l,u)}finally{he.p=v,ne.T=g}}function KA(i,s,l,u){var g=ne.T;ne.T=null;var v=he.p;try{he.p=8,Ag(i,s,l,u)}finally{he.p=v,ne.T=g}}function Ag(i,s,l,u){if(Vd){var g=Sg(u);if(g===null)lg(i,s,u,Bd,l),ly(i,u);else if(XA(g,i,s,l,u))u.stopPropagation();else if(ly(i,u),s&4&&-1<$A.indexOf(i)){for(;g!==null;){var v=cr(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var C=vt(v.pendingLanes);if(C!==0){var G=v;for(G.pendingLanes|=2,G.entangledLanes|=2;C;){var ce=1<<31-$t(C);G.entanglements[1]|=ce,C&=~ce}Po(v),(Bn&6)===0&&(Ad=Kt()+500,af(0))}}break;case 31:case 13:G=Wa(v,2),G!==null&&$s(G,v,2),xd(),wg(v,2)}if(v=Sg(u),v===null&&lg(i,s,u,Bd,l),v===g)break;g=v}g!==null&&u.stopPropagation()}else lg(i,s,u,null,l)}}function Sg(i){return i=Ir(i),xg(i)}var Bd=null;function xg(i){if(Bd=null,i=Br(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=c(s),i!==null)return i;i=null}else if(l===31){if(i=h(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Bd=i,null}function oy(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jt()){case Bt:return 2;case sn:return 8;case Xt:case gt:return 32;case qt:return 268435456;default:return 32}default:return 32}}var Eg=!1,iu=null,ru=null,su=null,df=new Map,pf=new Map,au=[],$A="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ly(i,s){switch(i){case"focusin":case"focusout":iu=null;break;case"dragenter":case"dragleave":ru=null;break;case"mouseover":case"mouseout":su=null;break;case"pointerover":case"pointerout":df.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":pf.delete(s.pointerId)}}function mf(i,s,l,u,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:v,targetContainers:[g]},s!==null&&(s=cr(s),s!==null&&sy(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function XA(i,s,l,u,g){switch(s){case"focusin":return iu=mf(iu,i,s,l,u,g),!0;case"dragenter":return ru=mf(ru,i,s,l,u,g),!0;case"mouseover":return su=mf(su,i,s,l,u,g),!0;case"pointerover":var v=g.pointerId;return df.set(v,mf(df.get(v)||null,i,s,l,u,g)),!0;case"gotpointercapture":return v=g.pointerId,pf.set(v,mf(pf.get(v)||null,i,s,l,u,g)),!0}return!1}function uy(i){var s=Br(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){i.blockedOn=s,ur(i.priority,function(){ay(l)});return}}else if(s===31){if(s=h(l),s!==null){i.blockedOn=s,ur(i.priority,function(){ay(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Fd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Sg(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);ia=u,l.target.dispatchEvent(u),ia=null}else return s=cr(l),s!==null&&sy(s),i.blockedOn=l,!1;s.shift()}return!0}function cy(i,s,l){Fd(i)&&l.delete(s)}function QA(){Eg=!1,iu!==null&&Fd(iu)&&(iu=null),ru!==null&&Fd(ru)&&(ru=null),su!==null&&Fd(su)&&(su=null),df.forEach(cy),pf.forEach(cy)}function zd(i,s){i.blockedOn===s&&(i.blockedOn=null,Eg||(Eg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,QA)))}var qd=null;function hy(i){qd!==i&&(qd=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){qd===i&&(qd=null);for(var s=0;s<i.length;s+=3){var l=i[s],u=i[s+1],g=i[s+2];if(typeof u!="function"){if(xg(u||l)===null)continue;break}var v=cr(l);v!==null&&(i.splice(s,3),s-=3,Sm(v,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function Xc(i){function s(ce){return zd(ce,i)}iu!==null&&zd(iu,i),ru!==null&&zd(ru,i),su!==null&&zd(su,i),df.forEach(s),pf.forEach(s);for(var l=0;l<au.length;l++){var u=au[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<au.length&&(l=au[0],l.blockedOn===null);)uy(l),l.blockedOn===null&&au.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],v=l[u+1],C=g[Hn]||null;if(typeof v=="function")C||hy(l);else if(C){var G=null;if(v&&v.hasAttribute("formAction")){if(g=v,C=v[Hn]||null)G=C.formAction;else if(xg(g)!==null)continue}else G=C.action;typeof G=="function"?l[u+1]=G:(l.splice(u,3),u-=3),hy(l)}}}function fy(){function i(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(C){return g=C})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function Tg(i){this._internalRoot=i}Hd.prototype.render=Tg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,u=ha();iy(l,u,i,s,null,null)},Hd.prototype.unmount=Tg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;iy(i.current,2,null,i,null,null),xd(),s[Oi]=null}};function Hd(i){this._internalRoot=i}Hd.prototype.unstable_scheduleHydration=function(i){if(i){var s=Di();i={blockedOn:null,target:i,priority:s};for(var l=0;l<au.length&&s!==0&&s<au[l].priority;l++);au.splice(l,0,i),l===0&&uy(i)}};var dy=e.version;if(dy!=="19.2.1")throw Error(r(527,dy,"19.2.1"));he.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?b(i):null,i=i===null?null:i.stateNode,i};var WA={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gd.isDisabled&&Gd.supportsFiber)try{Qt=Gd.inject(WA),Et=Gd}catch{}}return yf.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,u="",g=_2,v=w2,C=A2;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError)),s=ty(i,1,!1,null,null,l,u,null,g,v,C,fy),i[Oi]=s.current,og(i),new Tg(s)},yf.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var u=!1,g="",v=_2,C=w2,G=A2,ce=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(G=l.onRecoverableError),l.formState!==void 0&&(ce=l.formState)),s=ty(i,1,!0,s,l??null,u,g,ce,v,C,G,fy),s.context=ny(null),l=s.current,u=ha(),u=Fn(u),g=jt(u),g.callback=null,rn(l,g,u),l=u,s.current.lanes=l,St(s,l),Po(s),i[Oi]=s.current,og(i),new Hd(s)},yf.version="19.2.1",yf}var Sy;function lS(){if(Sy)return Ig.exports;Sy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ig.exports=oS(),Ig.exports}var uS=lS();const cS=""+new URL("logo-C3QPRB5h.jpg",import.meta.url).href,hS=()=>{};var xy={};const S_=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},fS=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],c=n[t++],h=n[t++],d=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],c=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},x_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,h=c?n[a+1]:0,d=a+2<n.length,m=d?n[a+2]:0,b=o>>2,x=(o&3)<<4|h>>4;let N=(h&15)<<2|m>>6,w=m&63;d||(w=64,c||(N=64)),r.push(t[b],t[x],t[N],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(S_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):fS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const x=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||h==null||m==null||x==null)throw new dS;const N=o<<2|h>>4;if(r.push(N),m!==64){const w=h<<4&240|m>>2;if(r.push(w),x!==64){const F=m<<6&192|x;r.push(F)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class dS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pS=function(n){const e=S_(n);return x_.encodeByteArray(e,!0)},Sp=function(n){return pS(n).replace(/\./g,"")},E_=function(n){try{return x_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function mS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const gS=()=>mS().__FIREBASE_DEFAULTS__,yS=()=>{if(typeof process>"u"||typeof xy>"u")return;const n=xy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},vS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&E_(n[1]);return e&&JSON.parse(e)},Qp=()=>{try{return hS()||gS()||yS()||vS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},T_=n=>Qp()?.emulatorHosts?.[n],bS=n=>{const e=T_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},N_=()=>Qp()?.config,C_=n=>Qp()?.[`_${n}`];class _S{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Th(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function I_(n){return(await fetch(n,{credentials:"include"})).ok}function wS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Sp(JSON.stringify(t)),Sp(JSON.stringify(c)),""].join(".")}const xf={};function AS(){const n={prod:[],emulator:[]};for(const e of Object.keys(xf))xf[e]?n.emulator.push(e):n.prod.push(e);return n}function SS(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Ey=!1;function R_(n,e){if(typeof window>"u"||typeof document>"u"||!Th(window.location.host)||xf[n]===e||xf[n]||Ey)return;xf[n]=e;function t(N){return`__firebase__banner__${N}`}const r="__firebase__banner",o=AS().prod.length>0;function c(){const N=document.getElementById(r);N&&N.remove()}function h(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function d(N,w){N.setAttribute("width","24"),N.setAttribute("id",w),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function m(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Ey=!0,c()},N}function b(N,w){N.setAttribute("id",w),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function x(){const N=SS(r),w=t("text"),F=document.getElementById(w)||document.createElement("span"),z=t("learnmore"),$=document.getElementById(z)||document.createElement("a"),V=t("preprendIcon"),le=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const oe=N.element;h(oe),b($,z);const se=m();d(le,V),oe.append(le,F,$,se),document.body.appendChild(oe)}o?(F.innerText="Preview backend disconnected.",le.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(le.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function ys(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ys())}function ES(){const n=Qp()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function CS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IS(){const n=ys();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function RS(){return!ES()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LS(){try{return typeof indexedDB=="object"}catch{return!1}}function kS(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const DS="FirebaseError";class kl extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=DS,Object.setPrototypeOf(this,kl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qf.prototype.create)}}class qf{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?OS(o,r):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new kl(a,h,r)}}function OS(n,e){return n.replace(PS,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const PS=/\{\$([^}]+)}/g;function MS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ic(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],c=e[a];if(Ty(o)&&Ty(c)){if(!ic(o,c))return!1}else if(o!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function Ty(n){return n!==null&&typeof n=="object"}function Hf(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jS(n,e){const t=new US(n,e);return t.subscribe.bind(t)}class US{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");VS(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Dg),a.error===void 0&&(a.error=Dg),a.complete===void 0&&(a.complete=Dg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Dg(){}function ma(n){return n&&n._delegate?n._delegate:n}class rc{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Gu="[DEFAULT]";class BS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new _S;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zS(e))try{this.getOrInitializeService({instanceIdentifier:Gu})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Gu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gu){return this.instances.has(e)}getOptions(e=Gu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&c.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FS(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gu){return this.component?this.component.multipleInstances?e:Gu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FS(n){return n===Gu?void 0:n}function zS(n){return n.instantiationMode==="EAGER"}class qS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new BS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var _n;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(_n||(_n={}));const HS={debug:_n.DEBUG,verbose:_n.VERBOSE,info:_n.INFO,warn:_n.WARN,error:_n.ERROR,silent:_n.SILENT},GS=_n.INFO,YS={[_n.DEBUG]:"log",[_n.VERBOSE]:"log",[_n.INFO]:"info",[_n.WARN]:"warn",[_n.ERROR]:"error"},KS=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=YS[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class n0{constructor(e){this.name=e,this._logLevel=GS,this._logHandler=KS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _n))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_n.DEBUG,...e),this._logHandler(this,_n.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_n.VERBOSE,...e),this._logHandler(this,_n.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_n.INFO,...e),this._logHandler(this,_n.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_n.WARN,...e),this._logHandler(this,_n.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_n.ERROR,...e),this._logHandler(this,_n.ERROR,...e)}}const $S=(n,e)=>e.some(t=>n instanceof t);let Ny,Cy;function XS(){return Ny||(Ny=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QS(){return Cy||(Cy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L_=new WeakMap,m1=new WeakMap,k_=new WeakMap,Og=new WeakMap,i0=new WeakMap;function WS(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(gu(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&L_.set(t,n)}).catch(()=>{}),i0.set(e,n),e}function JS(n){if(m1.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});m1.set(n,e)}let g1={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return m1.get(n);if(e==="objectStoreNames")return n.objectStoreNames||k_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return gu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ZS(n){g1=n(g1)}function ex(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Pg(this),e,...t);return k_.set(r,e.sort?e.sort():[e]),gu(r)}:QS().includes(n)?function(...e){return n.apply(Pg(this),e),gu(L_.get(this))}:function(...e){return gu(n.apply(Pg(this),e))}}function tx(n){return typeof n=="function"?ex(n):(n instanceof IDBTransaction&&JS(n),$S(n,XS())?new Proxy(n,g1):n)}function gu(n){if(n instanceof IDBRequest)return WS(n);if(Og.has(n))return Og.get(n);const e=tx(n);return e!==n&&(Og.set(n,e),i0.set(e,n)),e}const Pg=n=>i0.get(n);function nx(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const c=indexedDB.open(n,e),h=gu(c);return r&&c.addEventListener("upgradeneeded",d=>{r(gu(c.result),d.oldVersion,d.newVersion,gu(c.transaction),d)}),t&&c.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const ix=["get","getKey","getAll","getAllKeys","count"],rx=["put","add","delete","clear"],Mg=new Map;function Iy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Mg.get(e))return Mg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=rx.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||ix.includes(t)))return;const o=async function(c,...h){const d=this.transaction(c,a?"readwrite":"readonly");let m=d.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),a&&d.done]))[0]};return Mg.set(e,o),o}ZS(n=>({...n,get:(e,t,r)=>Iy(e,t)||n.get(e,t,r),has:(e,t)=>!!Iy(e,t)||n.has(e,t)}));class sx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ax(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function ax(n){return n.getComponent()?.type==="VERSION"}const y1="@firebase/app",Ry="0.14.6";const Cl=new n0("@firebase/app"),ox="@firebase/app-compat",lx="@firebase/analytics-compat",ux="@firebase/analytics",cx="@firebase/app-check-compat",hx="@firebase/app-check",fx="@firebase/auth",dx="@firebase/auth-compat",px="@firebase/database",mx="@firebase/data-connect",gx="@firebase/database-compat",yx="@firebase/functions",vx="@firebase/functions-compat",bx="@firebase/installations",_x="@firebase/installations-compat",wx="@firebase/messaging",Ax="@firebase/messaging-compat",Sx="@firebase/performance",xx="@firebase/performance-compat",Ex="@firebase/remote-config",Tx="@firebase/remote-config-compat",Nx="@firebase/storage",Cx="@firebase/storage-compat",Ix="@firebase/firestore",Rx="@firebase/ai",Lx="@firebase/firestore-compat",kx="firebase",Dx="12.6.0";const v1="[DEFAULT]",Ox={[y1]:"fire-core",[ox]:"fire-core-compat",[ux]:"fire-analytics",[lx]:"fire-analytics-compat",[hx]:"fire-app-check",[cx]:"fire-app-check-compat",[fx]:"fire-auth",[dx]:"fire-auth-compat",[px]:"fire-rtdb",[mx]:"fire-data-connect",[gx]:"fire-rtdb-compat",[yx]:"fire-fn",[vx]:"fire-fn-compat",[bx]:"fire-iid",[_x]:"fire-iid-compat",[wx]:"fire-fcm",[Ax]:"fire-fcm-compat",[Sx]:"fire-perf",[xx]:"fire-perf-compat",[Ex]:"fire-rc",[Tx]:"fire-rc-compat",[Nx]:"fire-gcs",[Cx]:"fire-gcs-compat",[Ix]:"fire-fst",[Lx]:"fire-fst-compat",[Rx]:"fire-vertex","fire-js":"fire-js",[kx]:"fire-js-all"};const xp=new Map,Px=new Map,b1=new Map;function Ly(n,e){try{n.container.addComponent(e)}catch(t){Cl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function vh(n){const e=n.name;if(b1.has(e))return Cl.debug(`There were multiple attempts to register component ${e}.`),!1;b1.set(e,n);for(const t of xp.values())Ly(t,n);for(const t of Px.values())Ly(t,n);return!0}function r0(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ao(n){return n==null?!1:n.settings!==void 0}const Mx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yu=new qf("app","Firebase",Mx);class jx{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yu.create("app-deleted",{appName:this._name})}}const Nh=Dx;function D_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:v1,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw yu.create("bad-app-name",{appName:String(a)});if(t||(t=N_()),!t)throw yu.create("no-options");const o=xp.get(a);if(o){if(ic(t,o.options)&&ic(r,o.config))return o;throw yu.create("duplicate-app",{appName:a})}const c=new qS(a);for(const d of b1.values())c.addComponent(d);const h=new jx(t,r,c);return xp.set(a,h),h}function O_(n=v1){const e=xp.get(n);if(!e&&n===v1&&N_())return D_();if(!e)throw yu.create("no-app",{appName:n});return e}function vu(n,e,t){let r=Ox[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cl.warn(c.join(" "));return}vh(new rc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Ux="firebase-heartbeat-database",Vx=1,kf="firebase-heartbeat-store";let jg=null;function P_(){return jg||(jg=nx(Ux,Vx,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(kf)}catch(t){console.warn(t)}}}}).catch(n=>{throw yu.create("idb-open",{originalErrorMessage:n.message})})),jg}async function Bx(n){try{const t=(await P_()).transaction(kf),r=await t.objectStore(kf).get(M_(n));return await t.done,r}catch(e){if(e instanceof kl)Cl.warn(e.message);else{const t=yu.create("idb-get",{originalErrorMessage:e?.message});Cl.warn(t.message)}}}async function ky(n,e){try{const r=(await P_()).transaction(kf,"readwrite");await r.objectStore(kf).put(e,M_(n)),await r.done}catch(t){if(t instanceof kl)Cl.warn(t.message);else{const r=yu.create("idb-set",{originalErrorMessage:t?.message});Cl.warn(r.message)}}}function M_(n){return`${n.name}!${n.options.appId}`}const Fx=1024,zx=30;class qx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Gx(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Dy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>zx){const a=Yx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Cl.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Dy(),{heartbeatsToSend:t,unsentEntries:r}=Hx(this._heartbeatsCache.heartbeats),a=Sp(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Cl.warn(e),""}}}function Dy(){return new Date().toISOString().substring(0,10)}function Hx(n,e=Fx){const t=[];let r=n.slice();for(const a of n){const o=t.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),Oy(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Oy(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Gx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LS()?kS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Bx(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ky(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ky(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Oy(n){return Sp(JSON.stringify({version:2,heartbeats:n})).length}function Yx(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Kx(n){vh(new rc("platform-logger",e=>new sx(e),"PRIVATE")),vh(new rc("heartbeat",e=>new qx(e),"PRIVATE")),vu(y1,Ry,n),vu(y1,Ry,"esm2020"),vu("fire-js","")}Kx("");var $x="firebase",Xx="12.6.0";vu($x,Xx,"app");function j_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Qx=j_,U_=new qf("auth","Firebase",j_());const Ep=new n0("@firebase/auth");function Wx(n,...e){Ep.logLevel<=_n.WARN&&Ep.warn(`Auth (${Nh}): ${n}`,...e)}function op(n,...e){Ep.logLevel<=_n.ERROR&&Ep.error(`Auth (${Nh}): ${n}`,...e)}function Go(n,...e){throw a0(n,...e)}function uo(n,...e){return a0(n,...e)}function s0(n,e,t){const r={...Qx(),[e]:t};return new qf("auth","Firebase",r).create(e,{appName:n.name})}function Ju(n){return s0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jx(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Go(n,"argument-error"),s0(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function a0(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return U_.create(n,...e)}function Yt(n,e,...t){if(!n)throw a0(e,...t)}function El(n){const e="INTERNAL ASSERTION FAILED: "+n;throw op(e),new Error(e)}function Il(n,e){n||El(e)}function _1(){return typeof self<"u"&&self.location?.href||""}function Zx(){return Py()==="http:"||Py()==="https:"}function Py(){return typeof self<"u"&&self.location?.protocol||null}function e6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Zx()||NS()||"connection"in navigator)?navigator.onLine:!0}function t6(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Gf{constructor(e,t){this.shortDelay=e,this.longDelay=t,Il(t>e,"Short delay should be less than long delay!"),this.isMobile=xS()||CS()}get(){return e6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function o0(n,e){Il(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class V_{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;El("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;El("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;El("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const n6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const i6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],r6=new Gf(3e4,6e4);function l0(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ch(n,e,t,r,a={}){return B_(n,a,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const h=Hf({key:n.config.apiKey,...c}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:d,...o};return TS()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Th(n.emulatorConfig.host)&&(m.credentials="include"),V_.fetch()(await F_(n,n.config.apiHost,t,h),m)})}async function B_(n,e,t){n._canInitEmulator=!1;const r={...n6,...e};try{const a=new a6(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Yd(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yd(n,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Yd(n,"email-already-in-use",c);if(d==="USER_DISABLED")throw Yd(n,"user-disabled",c);const b=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw s0(n,b,m);Go(n,b)}}catch(a){if(a instanceof kl)throw a;Go(n,"network-request-failed",{message:String(a)})}}async function s6(n,e,t,r,a={}){const o=await Ch(n,e,t,r,a);return"mfaPendingCredential"in o&&Go(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function F_(n,e,t,r){const a=`${e}${t}?${r}`,o=n,c=o.config.emulator?o0(n.config,a):`${n.config.apiScheme}://${a}`;return i6.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class a6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(uo(this.auth,"network-request-failed")),r6.get())})}}function Yd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=uo(n,e,r);return a.customData._tokenResponse=t,a}async function o6(n,e){return Ch(n,"POST","/v1/accounts:delete",e)}async function Tp(n,e){return Ch(n,"POST","/v1/accounts:lookup",e)}function Ef(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function l6(n,e=!1){const t=ma(n),r=await t.getIdToken(e),a=u0(r);Yt(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:r,authTime:Ef(Ug(a.auth_time)),issuedAtTime:Ef(Ug(a.iat)),expirationTime:Ef(Ug(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Ug(n){return Number(n)*1e3}function u0(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return op("JWT malformed, contained fewer than 3 sections"),null;try{const a=E_(t);return a?JSON.parse(a):(op("Failed to decode base64 JWT payload"),null)}catch(a){return op("Caught error parsing JWT payload as JSON",a?.toString()),null}}function My(n){const e=u0(n);return Yt(e,"internal-error"),Yt(typeof e.exp<"u","internal-error"),Yt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Df(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof kl&&u6(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function u6({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class c6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class w1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ef(this.lastLoginAt),this.creationTime=Ef(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Np(n){const e=n.auth,t=await n.getIdToken(),r=await Df(n,Tp(e,{idToken:t}));Yt(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?z_(a.providerUserInfo):[],c=f6(n.providerData,o),h=n.isAnonymous,d=!(n.email&&a.passwordHash)&&!c?.length,m=h?d:!1,b={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new w1(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,b)}async function h6(n){const e=ma(n);await Np(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function f6(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function z_(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function d6(n,e){const t=await B_(n,{},async()=>{const r=Hf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await F_(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return n.emulatorConfig&&Th(n.emulatorConfig.host)&&(d.credentials="include"),V_.fetch()(c,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function p6(n,e){return Ch(n,"POST","/v2/accounts:revokeToken",l0(n,e))}class lh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Yt(e.idToken,"internal-error"),Yt(typeof e.idToken<"u","internal-error"),Yt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):My(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Yt(e.length!==0,"internal-error");const t=My(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Yt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await d6(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,c=new lh;return r&&(Yt(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Yt(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(Yt(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lh,this.toJSON())}_performRefresh(){return El("not implemented")}}function lu(n,e){Yt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class oo{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new c6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new w1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Df(this,this.stsTokenManager.getToken(this.auth,e));return Yt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return l6(this,e)}reload(){return h6(this)}_assign(e){this!==e&&(Yt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new oo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Np(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ao(this.auth.app))return Promise.reject(Ju(this.auth));const e=await this.getIdToken();return await Df(this,o6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,h=t.tenantId??void 0,d=t._redirectEventId??void 0,m=t.createdAt??void 0,b=t.lastLoginAt??void 0,{uid:x,emailVerified:N,isAnonymous:w,providerData:F,stsTokenManager:z}=t;Yt(x&&z,e,"internal-error");const $=lh.fromJSON(this.name,z);Yt(typeof x=="string",e,"internal-error"),lu(r,e.name),lu(a,e.name),Yt(typeof N=="boolean",e,"internal-error"),Yt(typeof w=="boolean",e,"internal-error"),lu(o,e.name),lu(c,e.name),lu(h,e.name),lu(d,e.name),lu(m,e.name),lu(b,e.name);const V=new oo({uid:x,auth:e,email:a,emailVerified:N,displayName:r,isAnonymous:w,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:$,createdAt:m,lastLoginAt:b});return F&&Array.isArray(F)&&(V.providerData=F.map(le=>({...le}))),d&&(V._redirectEventId=d),V}static async _fromIdTokenResponse(e,t,r=!1){const a=new lh;a.updateFromServerResponse(t);const o=new oo({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Np(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Yt(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?z_(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,h=new lh;h.updateFromIdToken(r);const d=new oo({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new w1(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(d,m),d}}const jy=new Map;function Tl(n){Il(n instanceof Function,"Expected a class definition");let e=jy.get(n);return e?(Il(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,jy.set(n,e),e)}class q_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}q_.type="NONE";const Uy=q_;function lp(n,e,t){return`firebase:${n}:${e}:${t}`}class uh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=lp(this.userKey,a.apiKey,o),this.fullPersistenceKey=lp("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Tp(this.auth,{idToken:e}).catch(()=>{});return t?oo._fromGetAccountInfoResponse(this.auth,t,e):null}return oo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new uh(Tl(Uy),e,r);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||Tl(Uy);const c=lp(r,e.config.apiKey,e.name);let h=null;for(const m of t)try{const b=await m._get(c);if(b){let x;if(typeof b=="string"){const N=await Tp(e,{idToken:b}).catch(()=>{});if(!N)break;x=await oo._fromGetAccountInfoResponse(e,N,b)}else x=oo._fromJSON(e,b);m!==o&&(h=x),o=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new uh(o,e,r):(o=d[0],h&&await o._set(c,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new uh(o,e,r))}}function Vy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(K_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(H_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(X_(e))return"Blackberry";if(Q_(e))return"Webos";if(G_(e))return"Safari";if((e.includes("chrome/")||Y_(e))&&!e.includes("edge/"))return"Chrome";if($_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function H_(n=ys()){return/firefox\//i.test(n)}function G_(n=ys()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Y_(n=ys()){return/crios\//i.test(n)}function K_(n=ys()){return/iemobile/i.test(n)}function $_(n=ys()){return/android/i.test(n)}function X_(n=ys()){return/blackberry/i.test(n)}function Q_(n=ys()){return/webos/i.test(n)}function c0(n=ys()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function m6(n=ys()){return c0(n)&&!!window.navigator?.standalone}function g6(){return IS()&&document.documentMode===10}function W_(n=ys()){return c0(n)||$_(n)||Q_(n)||X_(n)||/windows phone/i.test(n)||K_(n)}function J_(n,e=[]){let t;switch(n){case"Browser":t=Vy(ys());break;case"Worker":t=`${Vy(ys())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Nh}/${r}`}class y6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((c,h)=>{try{const d=e(o);c(d)}catch(d){h(d)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function v6(n,e={}){return Ch(n,"GET","/v2/passwordPolicy",l0(n,e))}const b6=6;class _6{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??b6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class w6{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new By(this),this.idTokenSubscription=new By(this),this.beforeStateQueue=new y6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=U_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Tl(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await uh.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Tp(this,{idToken:e}),r=await oo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ao(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===c)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Np(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=t6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ao(this.app))return Promise.reject(Ju(this));const t=e?ma(e):null;return t&&Yt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Yt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ao(this.app)?Promise.reject(Ju(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ao(this.app)?Promise.reject(Ju(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Tl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await v6(this),t=new _6(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qf("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await p6(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Tl(e)||this._popupRedirectResolver;Yt(t,this,"argument-error"),this.redirectPersistenceManager=await uh.create(this,[Tl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Yt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,a);return()=>{c=!0,d()}}else{const d=e.addObserver(t);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=J_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ao(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Wx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Wp(n){return ma(n)}class By{constructor(e){this.auth=e,this.observer=null,this.addObserver=jS(t=>this.observer=t)}get next(){return Yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let h0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function A6(n){h0=n}function S6(n){return h0.loadJS(n)}function x6(){return h0.gapiScript}function E6(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function T6(n,e){const t=r0(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(ic(o,e??{}))return a;Go(a,"already-initialized")}return t.initialize({options:e})}function N6(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Tl);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function C6(n,e,t){const r=Wp(n);Yt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=Z_(e),{host:c,port:h}=I6(e),d=h===null?"":`:${h}`,m={url:`${o}//${c}${d}/`},b=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Yt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Yt(ic(m,r.config.emulator)&&ic(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,Th(c)?(I_(`${o}//${c}${d}`),R_("Auth",!0)):R6()}function Z_(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function I6(n){const e=Z_(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:Fy(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:Fy(c)}}}function Fy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function R6(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class ew{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return El("not implemented")}_getIdTokenResponse(e){return El("not implemented")}_linkToIdToken(e,t){return El("not implemented")}_getReauthenticationResolver(e){return El("not implemented")}}async function ch(n,e){return s6(n,"POST","/v1/accounts:signInWithIdp",l0(n,e))}const L6="http://localhost";class sc extends ew{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new sc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Go("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=t;if(!r||!a)return null;const c=new sc(r,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ch(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ch(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ch(e,t)}buildRequest(){const e={requestUri:L6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hf(t)}return e}}class f0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Yf extends f0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class hu extends Yf{constructor(){super("facebook.com")}static credential(e){return sc._fromParams({providerId:hu.PROVIDER_ID,signInMethod:hu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hu.credentialFromTaggedObject(e)}static credentialFromError(e){return hu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hu.credential(e.oauthAccessToken)}catch{return null}}}hu.FACEBOOK_SIGN_IN_METHOD="facebook.com";hu.PROVIDER_ID="facebook.com";class xl extends Yf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return sc._fromParams({providerId:xl.PROVIDER_ID,signInMethod:xl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xl.credentialFromTaggedObject(e)}static credentialFromError(e){return xl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return xl.credential(t,r)}catch{return null}}}xl.GOOGLE_SIGN_IN_METHOD="google.com";xl.PROVIDER_ID="google.com";class fu extends Yf{constructor(){super("github.com")}static credential(e){return sc._fromParams({providerId:fu.PROVIDER_ID,signInMethod:fu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fu.credentialFromTaggedObject(e)}static credentialFromError(e){return fu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fu.credential(e.oauthAccessToken)}catch{return null}}}fu.GITHUB_SIGN_IN_METHOD="github.com";fu.PROVIDER_ID="github.com";class du extends Yf{constructor(){super("twitter.com")}static credential(e,t){return sc._fromParams({providerId:du.PROVIDER_ID,signInMethod:du.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return du.credentialFromTaggedObject(e)}static credentialFromError(e){return du.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return du.credential(t,r)}catch{return null}}}du.TWITTER_SIGN_IN_METHOD="twitter.com";du.PROVIDER_ID="twitter.com";class bh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await oo._fromIdTokenResponse(e,r,a),c=zy(r);return new bh({user:o,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=zy(r);return new bh({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function zy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Cp extends kl{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Cp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Cp(e,t,r,a)}}function tw(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Cp._fromErrorAndOperation(n,o,e,r):o})}async function k6(n,e,t=!1){const r=await Df(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return bh._forOperation(n,"link",r)}async function D6(n,e,t=!1){const{auth:r}=n;if(ao(r.app))return Promise.reject(Ju(r));const a="reauthenticate";try{const o=await Df(n,tw(r,a,e,n),t);Yt(o.idToken,r,"internal-error");const c=u0(o.idToken);Yt(c,r,"internal-error");const{sub:h}=c;return Yt(n.uid===h,r,"user-mismatch"),bh._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Go(r,"user-mismatch"),o}}async function O6(n,e,t=!1){if(ao(n.app))return Promise.reject(Ju(n));const r="signIn",a=await tw(n,r,e),o=await bh._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}function P6(n,e,t,r){return ma(n).onIdTokenChanged(e,t,r)}function M6(n,e,t){return ma(n).beforeAuthStateChanged(e,t)}function j6(n,e,t,r){return ma(n).onAuthStateChanged(e,t,r)}function U6(n){return ma(n).signOut()}const Ip="__sak";class nw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ip,"1"),this.storage.removeItem(Ip),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const V6=1e3,B6=10;class iw extends nw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=W_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);g6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,B6):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},V6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}iw.type="LOCAL";const F6=iw;class rw extends nw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rw.type="SESSION";const sw=rw;function z6(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Jp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Jp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(c).map(async m=>m(t.origin,o)),d=await z6(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jp.receivers=[];function d0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class q6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,d)=>{const m=d0("",20);a.port1.start();const b=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(x){const N=x;if(N.data.eventId===m)switch(N.data.status){case"ack":clearTimeout(b),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(N.data.response);break;default:clearTimeout(b),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Bo(){return window}function H6(n){Bo().location.href=n}function aw(){return typeof Bo().WorkerGlobalScope<"u"&&typeof Bo().importScripts=="function"}async function G6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Y6(){return navigator?.serviceWorker?.controller||null}function K6(){return aw()?self:null}const ow="firebaseLocalStorageDb",$6=1,Rp="firebaseLocalStorage",lw="fbase_key";class Kf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Zp(n,e){return n.transaction([Rp],e?"readwrite":"readonly").objectStore(Rp)}function X6(){const n=indexedDB.deleteDatabase(ow);return new Kf(n).toPromise()}function A1(){const n=indexedDB.open(ow,$6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Rp,{keyPath:lw})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Rp)?e(r):(r.close(),await X6(),e(await A1()))})})}async function qy(n,e,t){const r=Zp(n,!0).put({[lw]:e,value:t});return new Kf(r).toPromise()}async function Q6(n,e){const t=Zp(n,!1).get(e),r=await new Kf(t).toPromise();return r===void 0?null:r.value}function Hy(n,e){const t=Zp(n,!0).delete(e);return new Kf(t).toPromise()}const W6=800,J6=3;class uw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await A1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>J6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jp._getInstance(K6()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await G6(),!this.activeServiceWorker)return;this.sender=new q6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Y6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await A1();return await qy(e,Ip,"1"),await Hy(e,Ip),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>qy(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Q6(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Hy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Zp(a,!1).getAll();return new Kf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),W6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uw.type="LOCAL";const Z6=uw;new Gf(3e4,6e4);function cw(n,e){return e?Tl(e):(Yt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class p0 extends ew{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ch(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ch(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ch(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function eE(n){return O6(n.auth,new p0(n),n.bypassAuthState)}function tE(n){const{auth:e,user:t}=n;return Yt(t,e,"internal-error"),D6(t,new p0(n),n.bypassAuthState)}async function nE(n){const{auth:e,user:t}=n;return Yt(t,e,"internal-error"),k6(t,new p0(n),n.bypassAuthState)}class hw{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eE;case"linkViaPopup":case"linkViaRedirect":return nE;case"reauthViaPopup":case"reauthViaRedirect":return tE;default:Go(this.auth,"internal-error")}}resolve(e){Il(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Il(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const iE=new Gf(2e3,1e4);async function rE(n,e,t){if(ao(n.app))return Promise.reject(uo(n,"operation-not-supported-in-this-environment"));const r=Wp(n);Jx(n,e,f0);const a=cw(r,t);return new Xu(r,"signInViaPopup",e,a).executeNotNull()}class Xu extends hw{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Xu.currentPopupAction&&Xu.currentPopupAction.cancel(),Xu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Yt(e,this.auth,"internal-error"),e}async onExecution(){Il(this.filter.length===1,"Popup operations only handle one event");const e=d0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(uo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(uo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(uo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iE.get())};e()}}Xu.currentPopupAction=null;const sE="pendingRedirect",up=new Map;class aE extends hw{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=up.get(this.auth._key());if(!e){try{const r=await oE(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}up.set(this.auth._key(),e)}return this.bypassAuthState||up.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oE(n,e){const t=cE(e),r=uE(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function lE(n,e){up.set(n._key(),e)}function uE(n){return Tl(n._redirectPersistence)}function cE(n){return lp(sE,n.config.apiKey,n.name)}async function hE(n,e,t=!1){if(ao(n.app))return Promise.reject(Ju(n));const r=Wp(n),a=cw(r,e),c=await new aE(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const fE=600*1e3;class dE{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pE(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!fw(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(uo(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fE&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gy(e))}saveEventToCache(e){this.cachedEventUids.add(Gy(e)),this.lastProcessedEventTime=Date.now()}}function Gy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function fw({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function pE(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fw(n);default:return!1}}async function mE(n,e={}){return Ch(n,"GET","/v1/projects",e)}const gE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yE=/^https?/;async function vE(n){if(n.config.emulator)return;const{authorizedDomains:e}=await mE(n);for(const t of e)try{if(bE(t))return}catch{}Go(n,"unauthorized-domain")}function bE(n){const e=_1(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!yE.test(t))return!1;if(gE.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const _E=new Gf(3e4,6e4);function Yy(){const n=Bo().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function wE(n){return new Promise((e,t)=>{function r(){Yy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yy(),t(uo(n,"network-request-failed"))},timeout:_E.get()})}if(Bo().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bo().gapi?.load)r();else{const a=E6("iframefcb");return Bo()[a]=()=>{gapi.load?r():t(uo(n,"network-request-failed"))},S6(`${x6()}?onload=${a}`).catch(o=>t(o))}}).catch(e=>{throw cp=null,e})}let cp=null;function AE(n){return cp=cp||wE(n),cp}const SE=new Gf(5e3,15e3),xE="__/auth/iframe",EE="emulator/auth/iframe",TE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CE(n){const e=n.config;Yt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?o0(e,EE):`https://${n.config.authDomain}/${xE}`,r={apiKey:e.apiKey,appName:n.name,v:Nh},a=NE.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Hf(r).slice(1)}`}async function IE(n){const e=await AE(n),t=Bo().gapi;return Yt(t,n,"internal-error"),e.open({where:document.body,url:CE(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TE,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const c=uo(n,"network-request-failed"),h=Bo().setTimeout(()=>{o(c)},SE.get());function d(){Bo().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{o(c)})}))}const RE={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LE=500,kE=600,DE="_blank",OE="http://localhost";class Ky{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PE(n,e,t,r=LE,a=kE){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...RE,width:r.toString(),height:a.toString(),top:o,left:c},m=ys().toLowerCase();t&&(h=Y_(m)?DE:t),H_(m)&&(e=e||OE,d.scrollbars="yes");const b=Object.entries(d).reduce((N,[w,F])=>`${N}${w}=${F},`,"");if(m6(m)&&h!=="_self")return ME(e||"",h),new Ky(null);const x=window.open(e||"",h,b);Yt(x,n,"popup-blocked");try{x.focus()}catch{}return new Ky(x)}function ME(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const jE="__/auth/handler",UE="emulator/auth/handler",VE=encodeURIComponent("fac");async function $y(n,e,t,r,a,o){Yt(n.config.authDomain,n,"auth-domain-config-required"),Yt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Nh,eventId:a};if(e instanceof f0){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",MS(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,x]of Object.entries({}))c[b]=x}if(e instanceof Yf){const b=e.getScopes().filter(x=>x!=="");b.length>0&&(c.scopes=b.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const b of Object.keys(h))h[b]===void 0&&delete h[b];const d=await n._getAppCheckToken(),m=d?`#${VE}=${encodeURIComponent(d)}`:"";return`${BE(n)}?${Hf(h).slice(1)}${m}`}function BE({config:n}){return n.emulator?o0(n,UE):`https://${n.authDomain}/${jE}`}const Vg="webStorageSupport";class FE{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sw,this._completeRedirectFn=hE,this._overrideRedirectResult=lE}async _openPopup(e,t,r,a){Il(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await $y(e,t,r,_1(),a);return PE(e,o,d0())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await $y(e,t,r,_1(),a);return H6(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Il(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await IE(e),r=new dE(e);return t.register("authEvent",a=>(Yt(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Vg,{type:Vg},a=>{const o=a?.[0]?.[Vg];o!==void 0&&t(!!o),Go(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=vE(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return W_()||G_()||c0()}}const zE=FE;var Xy="@firebase/auth",Qy="1.11.1";class qE{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function HE(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GE(n){vh(new rc("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;Yt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:J_(n)},m=new w6(r,a,o,d);return N6(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),vh(new rc("auth-internal",e=>{const t=Wp(e.getProvider("auth").getImmediate());return(r=>new qE(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),vu(Xy,Qy,HE(n)),vu(Xy,Qy,"esm2020")}const YE=300,KE=C_("authIdTokenMaxAge")||YE;let Wy=null;const $E=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>KE)return;const a=t?.token;Wy!==a&&(Wy=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function XE(n=O_()){const e=r0(n,"auth");if(e.isInitialized())return e.getImmediate();const t=T6(n,{popupRedirectResolver:zE,persistence:[Z6,F6,sw]}),r=C_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=$E(o.toString());M6(t,c,()=>c(t.currentUser)),P6(t,h=>c(h))}}const a=T_("auth");return a&&C6(t,`http://${a}`),t}function QE(){return document.getElementsByTagName("head")?.[0]??document}A6({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=uo("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",QE().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GE("Browser");var Jy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bu,dw;(function(){var n;function e(H,P){function D(){}D.prototype=P.prototype,H.F=P.prototype,H.prototype=new D,H.prototype.constructor=H,H.D=function(q,E,I){for(var R=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)R[ee-2]=arguments[ee];return P.prototype[E].apply(q,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(H,P,D){D||(D=0);const q=Array(16);if(typeof P=="string")for(var E=0;E<16;++E)q[E]=P.charCodeAt(D++)|P.charCodeAt(D++)<<8|P.charCodeAt(D++)<<16|P.charCodeAt(D++)<<24;else for(E=0;E<16;++E)q[E]=P[D++]|P[D++]<<8|P[D++]<<16|P[D++]<<24;P=H.g[0],D=H.g[1],E=H.g[2];let I=H.g[3],R;R=P+(I^D&(E^I))+q[0]+3614090360&4294967295,P=D+(R<<7&4294967295|R>>>25),R=I+(E^P&(D^E))+q[1]+3905402710&4294967295,I=P+(R<<12&4294967295|R>>>20),R=E+(D^I&(P^D))+q[2]+606105819&4294967295,E=I+(R<<17&4294967295|R>>>15),R=D+(P^E&(I^P))+q[3]+3250441966&4294967295,D=E+(R<<22&4294967295|R>>>10),R=P+(I^D&(E^I))+q[4]+4118548399&4294967295,P=D+(R<<7&4294967295|R>>>25),R=I+(E^P&(D^E))+q[5]+1200080426&4294967295,I=P+(R<<12&4294967295|R>>>20),R=E+(D^I&(P^D))+q[6]+2821735955&4294967295,E=I+(R<<17&4294967295|R>>>15),R=D+(P^E&(I^P))+q[7]+4249261313&4294967295,D=E+(R<<22&4294967295|R>>>10),R=P+(I^D&(E^I))+q[8]+1770035416&4294967295,P=D+(R<<7&4294967295|R>>>25),R=I+(E^P&(D^E))+q[9]+2336552879&4294967295,I=P+(R<<12&4294967295|R>>>20),R=E+(D^I&(P^D))+q[10]+4294925233&4294967295,E=I+(R<<17&4294967295|R>>>15),R=D+(P^E&(I^P))+q[11]+2304563134&4294967295,D=E+(R<<22&4294967295|R>>>10),R=P+(I^D&(E^I))+q[12]+1804603682&4294967295,P=D+(R<<7&4294967295|R>>>25),R=I+(E^P&(D^E))+q[13]+4254626195&4294967295,I=P+(R<<12&4294967295|R>>>20),R=E+(D^I&(P^D))+q[14]+2792965006&4294967295,E=I+(R<<17&4294967295|R>>>15),R=D+(P^E&(I^P))+q[15]+1236535329&4294967295,D=E+(R<<22&4294967295|R>>>10),R=P+(E^I&(D^E))+q[1]+4129170786&4294967295,P=D+(R<<5&4294967295|R>>>27),R=I+(D^E&(P^D))+q[6]+3225465664&4294967295,I=P+(R<<9&4294967295|R>>>23),R=E+(P^D&(I^P))+q[11]+643717713&4294967295,E=I+(R<<14&4294967295|R>>>18),R=D+(I^P&(E^I))+q[0]+3921069994&4294967295,D=E+(R<<20&4294967295|R>>>12),R=P+(E^I&(D^E))+q[5]+3593408605&4294967295,P=D+(R<<5&4294967295|R>>>27),R=I+(D^E&(P^D))+q[10]+38016083&4294967295,I=P+(R<<9&4294967295|R>>>23),R=E+(P^D&(I^P))+q[15]+3634488961&4294967295,E=I+(R<<14&4294967295|R>>>18),R=D+(I^P&(E^I))+q[4]+3889429448&4294967295,D=E+(R<<20&4294967295|R>>>12),R=P+(E^I&(D^E))+q[9]+568446438&4294967295,P=D+(R<<5&4294967295|R>>>27),R=I+(D^E&(P^D))+q[14]+3275163606&4294967295,I=P+(R<<9&4294967295|R>>>23),R=E+(P^D&(I^P))+q[3]+4107603335&4294967295,E=I+(R<<14&4294967295|R>>>18),R=D+(I^P&(E^I))+q[8]+1163531501&4294967295,D=E+(R<<20&4294967295|R>>>12),R=P+(E^I&(D^E))+q[13]+2850285829&4294967295,P=D+(R<<5&4294967295|R>>>27),R=I+(D^E&(P^D))+q[2]+4243563512&4294967295,I=P+(R<<9&4294967295|R>>>23),R=E+(P^D&(I^P))+q[7]+1735328473&4294967295,E=I+(R<<14&4294967295|R>>>18),R=D+(I^P&(E^I))+q[12]+2368359562&4294967295,D=E+(R<<20&4294967295|R>>>12),R=P+(D^E^I)+q[5]+4294588738&4294967295,P=D+(R<<4&4294967295|R>>>28),R=I+(P^D^E)+q[8]+2272392833&4294967295,I=P+(R<<11&4294967295|R>>>21),R=E+(I^P^D)+q[11]+1839030562&4294967295,E=I+(R<<16&4294967295|R>>>16),R=D+(E^I^P)+q[14]+4259657740&4294967295,D=E+(R<<23&4294967295|R>>>9),R=P+(D^E^I)+q[1]+2763975236&4294967295,P=D+(R<<4&4294967295|R>>>28),R=I+(P^D^E)+q[4]+1272893353&4294967295,I=P+(R<<11&4294967295|R>>>21),R=E+(I^P^D)+q[7]+4139469664&4294967295,E=I+(R<<16&4294967295|R>>>16),R=D+(E^I^P)+q[10]+3200236656&4294967295,D=E+(R<<23&4294967295|R>>>9),R=P+(D^E^I)+q[13]+681279174&4294967295,P=D+(R<<4&4294967295|R>>>28),R=I+(P^D^E)+q[0]+3936430074&4294967295,I=P+(R<<11&4294967295|R>>>21),R=E+(I^P^D)+q[3]+3572445317&4294967295,E=I+(R<<16&4294967295|R>>>16),R=D+(E^I^P)+q[6]+76029189&4294967295,D=E+(R<<23&4294967295|R>>>9),R=P+(D^E^I)+q[9]+3654602809&4294967295,P=D+(R<<4&4294967295|R>>>28),R=I+(P^D^E)+q[12]+3873151461&4294967295,I=P+(R<<11&4294967295|R>>>21),R=E+(I^P^D)+q[15]+530742520&4294967295,E=I+(R<<16&4294967295|R>>>16),R=D+(E^I^P)+q[2]+3299628645&4294967295,D=E+(R<<23&4294967295|R>>>9),R=P+(E^(D|~I))+q[0]+4096336452&4294967295,P=D+(R<<6&4294967295|R>>>26),R=I+(D^(P|~E))+q[7]+1126891415&4294967295,I=P+(R<<10&4294967295|R>>>22),R=E+(P^(I|~D))+q[14]+2878612391&4294967295,E=I+(R<<15&4294967295|R>>>17),R=D+(I^(E|~P))+q[5]+4237533241&4294967295,D=E+(R<<21&4294967295|R>>>11),R=P+(E^(D|~I))+q[12]+1700485571&4294967295,P=D+(R<<6&4294967295|R>>>26),R=I+(D^(P|~E))+q[3]+2399980690&4294967295,I=P+(R<<10&4294967295|R>>>22),R=E+(P^(I|~D))+q[10]+4293915773&4294967295,E=I+(R<<15&4294967295|R>>>17),R=D+(I^(E|~P))+q[1]+2240044497&4294967295,D=E+(R<<21&4294967295|R>>>11),R=P+(E^(D|~I))+q[8]+1873313359&4294967295,P=D+(R<<6&4294967295|R>>>26),R=I+(D^(P|~E))+q[15]+4264355552&4294967295,I=P+(R<<10&4294967295|R>>>22),R=E+(P^(I|~D))+q[6]+2734768916&4294967295,E=I+(R<<15&4294967295|R>>>17),R=D+(I^(E|~P))+q[13]+1309151649&4294967295,D=E+(R<<21&4294967295|R>>>11),R=P+(E^(D|~I))+q[4]+4149444226&4294967295,P=D+(R<<6&4294967295|R>>>26),R=I+(D^(P|~E))+q[11]+3174756917&4294967295,I=P+(R<<10&4294967295|R>>>22),R=E+(P^(I|~D))+q[2]+718787259&4294967295,E=I+(R<<15&4294967295|R>>>17),R=D+(I^(E|~P))+q[9]+3951481745&4294967295,H.g[0]=H.g[0]+P&4294967295,H.g[1]=H.g[1]+(E+(R<<21&4294967295|R>>>11))&4294967295,H.g[2]=H.g[2]+E&4294967295,H.g[3]=H.g[3]+I&4294967295}r.prototype.v=function(H,P){P===void 0&&(P=H.length);const D=P-this.blockSize,q=this.C;let E=this.h,I=0;for(;I<P;){if(E==0)for(;I<=D;)a(this,H,I),I+=this.blockSize;if(typeof H=="string"){for(;I<P;)if(q[E++]=H.charCodeAt(I++),E==this.blockSize){a(this,q),E=0;break}}else for(;I<P;)if(q[E++]=H[I++],E==this.blockSize){a(this,q),E=0;break}}this.h=E,this.o+=P},r.prototype.A=function(){var H=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);H[0]=128;for(var P=1;P<H.length-8;++P)H[P]=0;P=this.o*8;for(var D=H.length-8;D<H.length;++D)H[D]=P&255,P/=256;for(this.v(H),H=Array(16),P=0,D=0;D<4;++D)for(let q=0;q<32;q+=8)H[P++]=this.g[D]>>>q&255;return H};function o(H,P){var D=h;return Object.prototype.hasOwnProperty.call(D,H)?D[H]:D[H]=P(H)}function c(H,P){this.h=P;const D=[];let q=!0;for(let E=H.length-1;E>=0;E--){const I=H[E]|0;q&&I==P||(D[E]=I,q=!1)}this.g=D}var h={};function d(H){return-128<=H&&H<128?o(H,function(P){return new c([P|0],P<0?-1:0)}):new c([H|0],H<0?-1:0)}function m(H){if(isNaN(H)||!isFinite(H))return x;if(H<0)return $(m(-H));const P=[];let D=1;for(let q=0;H>=D;q++)P[q]=H/D|0,D*=4294967296;return new c(P,0)}function b(H,P){if(H.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(H.charAt(0)=="-")return $(b(H.substring(1),P));if(H.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=m(Math.pow(P,8));let q=x;for(let I=0;I<H.length;I+=8){var E=Math.min(8,H.length-I);const R=parseInt(H.substring(I,I+E),P);E<8?(E=m(Math.pow(P,E)),q=q.j(E).add(m(R))):(q=q.j(D),q=q.add(m(R)))}return q}var x=d(0),N=d(1),w=d(16777216);n=c.prototype,n.m=function(){if(z(this))return-$(this).m();let H=0,P=1;for(let D=0;D<this.g.length;D++){const q=this.i(D);H+=(q>=0?q:4294967296+q)*P,P*=4294967296}return H},n.toString=function(H){if(H=H||10,H<2||36<H)throw Error("radix out of range: "+H);if(F(this))return"0";if(z(this))return"-"+$(this).toString(H);const P=m(Math.pow(H,6));var D=this;let q="";for(;;){const E=se(D,P).g;D=V(D,E.j(P));let I=((D.g.length>0?D.g[0]:D.h)>>>0).toString(H);if(D=E,F(D))return I+q;for(;I.length<6;)I="0"+I;q=I+q}},n.i=function(H){return H<0?0:H<this.g.length?this.g[H]:this.h};function F(H){if(H.h!=0)return!1;for(let P=0;P<H.g.length;P++)if(H.g[P]!=0)return!1;return!0}function z(H){return H.h==-1}n.l=function(H){return H=V(this,H),z(H)?-1:F(H)?0:1};function $(H){const P=H.g.length,D=[];for(let q=0;q<P;q++)D[q]=~H.g[q];return new c(D,~H.h).add(N)}n.abs=function(){return z(this)?$(this):this},n.add=function(H){const P=Math.max(this.g.length,H.g.length),D=[];let q=0;for(let E=0;E<=P;E++){let I=q+(this.i(E)&65535)+(H.i(E)&65535),R=(I>>>16)+(this.i(E)>>>16)+(H.i(E)>>>16);q=R>>>16,I&=65535,R&=65535,D[E]=R<<16|I}return new c(D,D[D.length-1]&-2147483648?-1:0)};function V(H,P){return H.add($(P))}n.j=function(H){if(F(this)||F(H))return x;if(z(this))return z(H)?$(this).j($(H)):$($(this).j(H));if(z(H))return $(this.j($(H)));if(this.l(w)<0&&H.l(w)<0)return m(this.m()*H.m());const P=this.g.length+H.g.length,D=[];for(var q=0;q<2*P;q++)D[q]=0;for(q=0;q<this.g.length;q++)for(let E=0;E<H.g.length;E++){const I=this.i(q)>>>16,R=this.i(q)&65535,ee=H.i(E)>>>16,be=H.i(E)&65535;D[2*q+2*E]+=R*be,le(D,2*q+2*E),D[2*q+2*E+1]+=I*be,le(D,2*q+2*E+1),D[2*q+2*E+1]+=R*ee,le(D,2*q+2*E+1),D[2*q+2*E+2]+=I*ee,le(D,2*q+2*E+2)}for(H=0;H<P;H++)D[H]=D[2*H+1]<<16|D[2*H];for(H=P;H<2*P;H++)D[H]=0;return new c(D,0)};function le(H,P){for(;(H[P]&65535)!=H[P];)H[P+1]+=H[P]>>>16,H[P]&=65535,P++}function oe(H,P){this.g=H,this.h=P}function se(H,P){if(F(P))throw Error("division by zero");if(F(H))return new oe(x,x);if(z(H))return P=se($(H),P),new oe($(P.g),$(P.h));if(z(P))return P=se(H,$(P)),new oe($(P.g),P.h);if(H.g.length>30){if(z(H)||z(P))throw Error("slowDivide_ only works with positive integers.");for(var D=N,q=P;q.l(H)<=0;)D=xe(D),q=xe(q);var E=Oe(D,1),I=Oe(q,1);for(q=Oe(q,2),D=Oe(D,2);!F(q);){var R=I.add(q);R.l(H)<=0&&(E=E.add(D),I=R),q=Oe(q,1),D=Oe(D,1)}return P=V(H,E.j(P)),new oe(E,P)}for(E=x;H.l(P)>=0;){for(D=Math.max(1,Math.floor(H.m()/P.m())),q=Math.ceil(Math.log(D)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),I=m(D),R=I.j(P);z(R)||R.l(H)>0;)D-=q,I=m(D),R=I.j(P);F(I)&&(I=N),E=E.add(I),H=V(H,R)}return new oe(E,H)}n.B=function(H){return se(this,H).h},n.and=function(H){const P=Math.max(this.g.length,H.g.length),D=[];for(let q=0;q<P;q++)D[q]=this.i(q)&H.i(q);return new c(D,this.h&H.h)},n.or=function(H){const P=Math.max(this.g.length,H.g.length),D=[];for(let q=0;q<P;q++)D[q]=this.i(q)|H.i(q);return new c(D,this.h|H.h)},n.xor=function(H){const P=Math.max(this.g.length,H.g.length),D=[];for(let q=0;q<P;q++)D[q]=this.i(q)^H.i(q);return new c(D,this.h^H.h)};function xe(H){const P=H.g.length+1,D=[];for(let q=0;q<P;q++)D[q]=H.i(q)<<1|H.i(q-1)>>>31;return new c(D,H.h)}function Oe(H,P){const D=P>>5;P%=32;const q=H.g.length-D,E=[];for(let I=0;I<q;I++)E[I]=P>0?H.i(I+D)>>>P|H.i(I+D+1)<<32-P:H.i(I+D);return new c(E,H.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,dw=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=b,bu=c}).apply(typeof Jy<"u"?Jy:typeof self<"u"?self:typeof window<"u"?window:{});var Kd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pw,_f,mw,hp,S1,gw,yw,vw;(function(){var n,e=Object.defineProperty;function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kd=="object"&&Kd];for(var S=0;S<p.length;++S){var L=p[S];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=t(this);function a(p,S){if(S)e:{var L=r;p=p.split(".");for(var X=0;X<p.length-1;X++){var Ae=p[X];if(!(Ae in L))break e;L=L[Ae]}p=p[p.length-1],X=L[p],S=S(X),S!=X&&S!=null&&e(L,p,{configurable:!0,writable:!0,value:S})}}a("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(p){return p||function(S){var L=[],X;for(X in S)Object.prototype.hasOwnProperty.call(S,X)&&L.push([X,S[X]]);return L}});var o=o||{},c=this||self;function h(p){var S=typeof p;return S=="object"&&p!=null||S=="function"}function d(p,S,L){return p.call.apply(p.bind,arguments)}function m(p,S,L){return m=d,m.apply(null,arguments)}function b(p,S){var L=Array.prototype.slice.call(arguments,1);return function(){var X=L.slice();return X.push.apply(X,arguments),p.apply(this,X)}}function x(p,S){function L(){}L.prototype=S.prototype,p.Z=S.prototype,p.prototype=new L,p.prototype.constructor=p,p.Ob=function(X,Ae,De){for(var Ze=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)Ze[zt-2]=arguments[zt];return S.prototype[Ae].apply(X,Ze)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function w(p){const S=p.length;if(S>0){const L=Array(S);for(let X=0;X<S;X++)L[X]=p[X];return L}return[]}function F(p,S){for(let X=1;X<arguments.length;X++){const Ae=arguments[X];var L=typeof Ae;if(L=L!="object"?L:Ae?Array.isArray(Ae)?"array":L:"null",L=="array"||L=="object"&&typeof Ae.length=="number"){L=p.length||0;const De=Ae.length||0;p.length=L+De;for(let Ze=0;Ze<De;Ze++)p[L+Ze]=Ae[Ze]}else p.push(Ae)}}class z{constructor(S,L){this.i=S,this.j=L,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function $(p){c.setTimeout(()=>{throw p},0)}function V(){var p=H;let S=null;return p.g&&(S=p.g,p.g=p.g.next,p.g||(p.h=null),S.next=null),S}class le{constructor(){this.h=this.g=null}add(S,L){const X=oe.get();X.set(S,L),this.h?this.h.next=X:this.g=X,this.h=X}}var oe=new z(()=>new se,p=>p.reset());class se{constructor(){this.next=this.g=this.h=null}set(S,L){this.h=S,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,Oe=!1,H=new le,P=()=>{const p=Promise.resolve(void 0);xe=()=>{p.then(D)}};function D(){for(var p;p=V();){try{p.h.call(p.g)}catch(L){$(L)}var S=oe;S.j(p),S.h<100&&(S.h++,p.next=S.g,S.g=p)}Oe=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function E(p,S){this.type=p,this.g=this.target=S,this.defaultPrevented=!1}E.prototype.h=function(){this.defaultPrevented=!0};var I=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,S=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const L=()=>{};c.addEventListener("test",L,S),c.removeEventListener("test",L,S)}catch{}return p})();function R(p){return/^[\s\xa0]*$/.test(p)}function ee(p,S){E.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,S)}x(ee,E),ee.prototype.init=function(p,S){const L=this.type=p.type,X=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=S,S=p.relatedTarget,S||(L=="mouseover"?S=p.fromElement:L=="mouseout"&&(S=p.toElement)),this.relatedTarget=S,X?(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),ne=0;function he(p,S,L,X,Ae){this.listener=p,this.proxy=null,this.src=S,this.type=L,this.capture=!!X,this.ha=Ae,this.key=++ne,this.da=this.fa=!1}function fe(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Te(p,S,L){for(const X in p)S.call(L,p[X],X,p)}function ke(p,S){for(const L in p)S.call(void 0,p[L],L,p)}function Q(p){const S={};for(const L in p)S[L]=p[L];return S}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(p,S){let L,X;for(let Ae=1;Ae<arguments.length;Ae++){X=arguments[Ae];for(L in X)p[L]=X[L];for(let De=0;De<k.length;De++)L=k[De],Object.prototype.hasOwnProperty.call(X,L)&&(p[L]=X[L])}}function J(p){this.src=p,this.g={},this.h=0}J.prototype.add=function(p,S,L,X,Ae){const De=p.toString();p=this.g[De],p||(p=this.g[De]=[],this.h++);const Ze=ue(p,S,X,Ae);return Ze>-1?(S=p[Ze],L||(S.fa=!1)):(S=new he(S,this.src,De,!!X,Ae),S.fa=L,p.push(S)),S};function ae(p,S){const L=S.type;if(L in p.g){var X=p.g[L],Ae=Array.prototype.indexOf.call(X,S,void 0),De;(De=Ae>=0)&&Array.prototype.splice.call(X,Ae,1),De&&(fe(S),p.g[L].length==0&&(delete p.g[L],p.h--))}}function ue(p,S,L,X){for(let Ae=0;Ae<p.length;++Ae){const De=p[Ae];if(!De.da&&De.listener==S&&De.capture==!!L&&De.ha==X)return Ae}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),Le={};function Ce(p,S,L,X,Ae){if(Array.isArray(S)){for(let De=0;De<S.length;De++)Ce(p,S[De],L,X,Ae);return null}return L=st(L),p&&p[be]?p.J(S,L,h(X)?!!X.capture:!1,Ae):Be(p,S,L,!1,X,Ae)}function Be(p,S,L,X,Ae,De){if(!S)throw Error("Invalid event type");const Ze=h(Ae)?!!Ae.capture:!!Ae;let zt=pe(p);if(zt||(p[ye]=zt=new J(p)),L=zt.add(S,L,X,Ze,De),L.proxy)return L;if(X=Xe(),L.proxy=X,X.src=p,X.listener=L,p.addEventListener)I||(Ae=Ze),Ae===void 0&&(Ae=!1),p.addEventListener(S.toString(),X,Ae);else if(p.attachEvent)p.attachEvent(lt(S.toString()),X);else if(p.addListener&&p.removeListener)p.addListener(X);else throw Error("addEventListener and attachEvent are unavailable.");return L}function Xe(){function p(L){return S.call(p.src,p.listener,L)}const S=Z;return p}function nt(p,S,L,X,Ae){if(Array.isArray(S))for(var De=0;De<S.length;De++)nt(p,S[De],L,X,Ae);else X=h(X)?!!X.capture:!!X,L=st(L),p&&p[be]?(p=p.i,De=String(S).toString(),De in p.g&&(S=p.g[De],L=ue(S,L,X,Ae),L>-1&&(fe(S[L]),Array.prototype.splice.call(S,L,1),S.length==0&&(delete p.g[De],p.h--)))):p&&(p=pe(p))&&(S=p.g[S.toString()],p=-1,S&&(p=ue(S,L,X,Ae)),(L=p>-1?S[p]:null)&&et(L))}function et(p){if(typeof p!="number"&&p&&!p.da){var S=p.src;if(S&&S[be])ae(S.i,p);else{var L=p.type,X=p.proxy;S.removeEventListener?S.removeEventListener(L,X,p.capture):S.detachEvent?S.detachEvent(lt(L),X):S.addListener&&S.removeListener&&S.removeListener(X),(L=pe(S))?(ae(L,p),L.h==0&&(L.src=null,S[ye]=null)):fe(p)}}}function lt(p){return p in Le?Le[p]:Le[p]="on"+p}function Z(p,S){if(p.da)p=!0;else{S=new ee(S,this);const L=p.listener,X=p.ha||p.src;p.fa&&et(p),p=L.call(X,S)}return p}function pe(p){return p=p[ye],p instanceof J?p:null}var Je="__closure_events_fn_"+(Math.random()*1e9>>>0);function st(p){return typeof p=="function"?p:(p[Je]||(p[Je]=function(S){return p.handleEvent(S)}),p[Je])}function Me(){q.call(this),this.i=new J(this),this.M=this,this.G=null}x(Me,q),Me.prototype[be]=!0,Me.prototype.removeEventListener=function(p,S,L,X){nt(this,p,S,L,X)};function it(p,S){var L,X=p.G;if(X)for(L=[];X;X=X.G)L.push(X);if(p=p.M,X=S.type||S,typeof S=="string")S=new E(S,p);else if(S instanceof E)S.target=S.target||p;else{var Ae=S;S=new E(X,p),Y(S,Ae)}Ae=!0;let De,Ze;if(L)for(Ze=L.length-1;Ze>=0;Ze--)De=S.g=L[Ze],Ae=rt(De,X,!0,S)&&Ae;if(De=S.g=p,Ae=rt(De,X,!0,S)&&Ae,Ae=rt(De,X,!1,S)&&Ae,L)for(Ze=0;Ze<L.length;Ze++)De=S.g=L[Ze],Ae=rt(De,X,!1,S)&&Ae}Me.prototype.N=function(){if(Me.Z.N.call(this),this.i){var p=this.i;for(const S in p.g){const L=p.g[S];for(let X=0;X<L.length;X++)fe(L[X]);delete p.g[S],p.h--}}this.G=null},Me.prototype.J=function(p,S,L,X){return this.i.add(String(p),S,!1,L,X)},Me.prototype.K=function(p,S,L,X){return this.i.add(String(p),S,!0,L,X)};function rt(p,S,L,X){if(S=p.i.g[String(S)],!S)return!0;S=S.concat();let Ae=!0;for(let De=0;De<S.length;++De){const Ze=S[De];if(Ze&&!Ze.da&&Ze.capture==L){const zt=Ze.listener,Jn=Ze.ha||Ze.src;Ze.fa&&ae(p.i,Ze),Ae=zt.call(Jn,X)!==!1&&Ae}}return Ae&&!X.defaultPrevented}function Nt(p,S){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=m(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:c.setTimeout(p,S||0)}function _t(p){p.g=Nt(()=>{p.g=null,p.i&&(p.i=!1,_t(p))},p.l);const S=p.h;p.h=null,p.m.apply(null,S)}class Kt extends q{constructor(S,L){super(),this.m=S,this.l=L,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:_t(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jt(p){q.call(this),this.h=p,this.g={}}x(Jt,q);var Bt=[];function sn(p){Te(p.g,function(S,L){this.g.hasOwnProperty(L)&&et(S)},p),p.g={}}Jt.prototype.N=function(){Jt.Z.N.call(this),sn(this)},Jt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xt=c.JSON.stringify,gt=c.JSON.parse,qt=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function yt(){}function ui(){}var Qt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Et(){E.call(this,"d")}x(Et,E);function Mt(){E.call(this,"c")}x(Mt,E);var $t={},At=null;function In(){return At=At||new Me}$t.Ia="serverreachability";function Ot(p){E.call(this,$t.Ia,p)}x(Ot,E);function Pt(p){const S=In();it(S,new Ot(S))}$t.STAT_EVENT="statevent";function kn(p,S){E.call(this,$t.STAT_EVENT,p),this.stat=S}x(kn,E);function wt(p){const S=In();it(S,new kn(S,p))}$t.Ja="timingevent";function vt(p,S){E.call(this,$t.Ja,p),this.size=S}x(vt,E);function an(p,S){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},S)}function lr(){this.g=!0}lr.prototype.ua=function(){this.g=!1};function Ji(p,S,L,X,Ae,De){p.info(function(){if(p.g)if(De){var Ze="",zt=De.split("&");for(let ln=0;ln<zt.length;ln++){var Jn=zt[ln].split("=");if(Jn.length>1){const Pn=Jn[0];Jn=Jn[1];const nr=Pn.split("_");Ze=nr.length>=2&&nr[1]=="type"?Ze+(Pn+"="+Jn+"&"):Ze+(Pn+"=redacted&")}}}else Ze=null;else Ze=De;return"XMLHTTP REQ ("+X+") [attempt "+Ae+"]: "+S+`
`+L+`
`+Ze})}function Cs(p,S,L,X,Ae,De,Ze){p.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+Ae+"]: "+S+`
`+L+`
`+De+" "+Ze})}function qi(p,S,L,X){p.info(function(){return"XMLHTTP TEXT ("+S+"): "+Js(p,L)+(X?" "+X:"")})}function St(p,S){p.info(function(){return"TIMEOUT: "+S})}lr.prototype.info=function(){};function Js(p,S){if(!p.g)return S;if(!S)return null;try{const De=JSON.parse(S);if(De){for(p=0;p<De.length;p++)if(Array.isArray(De[p])){var L=De[p];if(!(L.length<2)){var X=L[1];if(Array.isArray(X)&&!(X.length<1)){var Ae=X[0];if(Ae!="noop"&&Ae!="stop"&&Ae!="close")for(let Ze=1;Ze<X.length;Ze++)X[Ze]=""}}}}return Xt(De)}catch{return S}}var Vr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Sr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xr;function Fn(){}x(Fn,yt),Fn.prototype.g=function(){return new XMLHttpRequest},xr=new Fn;function Qn(p){return encodeURIComponent(String(p))}function Di(p){var S=1;p=p.split(":");const L=[];for(;S>0&&p.length;)L.push(p.shift()),S--;return p.length&&L.push(p.join(":")),L}function ur(p,S,L,X){this.j=p,this.i=S,this.l=L,this.S=X||1,this.V=new Jt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zi}function Zi(){this.i=null,this.g="",this.h=!1}var Dn={},Hn={};function Oi(p,S,L){p.M=1,p.A=ya(yi(S)),p.u=L,p.R=!0,Er(p,null)}function Er(p,S){p.F=Date.now(),Tr(p),p.B=yi(p.A);var L=p.B,X=p.S;Array.isArray(X)||(X=[String(X)]),yo(L.i,"t",X),p.C=0,L=p.j.L,p.h=new Zi,p.g=ut(p.j,L?S:null,!p.u),p.P>0&&(p.O=new Kt(m(p.Y,p,p.g),p.P)),S=p.V,L=p.g,X=p.ba;var Ae="readystatechange";Array.isArray(Ae)||(Ae&&(Bt[0]=Ae.toString()),Ae=Bt);for(let De=0;De<Ae.length;De++){const Ze=Ce(L,Ae[De],X||S.handleEvent,!1,S.h||S);if(!Ze)break;S.g[Ze.key]=Ze}S=p.J?Q(p.J):{},p.u?(p.v||(p.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,S)):(p.v="GET",p.g.ea(p.B,p.v,null,S)),Pt(),Ji(p.i,p.v,p.B,p.l,p.S,p.u)}ur.prototype.ba=function(p){p=p.target;const S=this.O;S&&Gr(p)==3?S.j():this.Y(p)},ur.prototype.Y=function(p){try{if(p==this.g)e:{const zt=Gr(this.g),Jn=this.g.ya(),ln=this.g.ca();if(!(zt<3)&&(zt!=3||this.g&&(this.h.h||this.g.la()||Ei(this.g)))){this.K||zt!=4||Jn==7||(Jn==8||ln<=0?Pt(3):Pt(2)),Br(this);var S=this.g.ca();this.X=S;var L=ns(this);if(this.o=S==200,Cs(this.i,this.v,this.B,this.l,this.S,zt,S),this.o){if(this.U&&!this.L){t:{if(this.g){var X,Ae=this.g;if((X=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(X)){var De=X;break t}}De=null}if(p=De)qi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,is(this,p);else{this.o=!1,this.m=3,wt(12),Fr(this),cr(this);break e}}if(this.R){p=!0;let Pn;for(;!this.K&&this.C<L.length;)if(Pn=vs(this,L),Pn==Hn){zt==4&&(this.m=4,wt(14),p=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==Dn){this.m=4,wt(15),qi(this.i,this.l,L,"[Invalid Chunk]"),p=!1;break}else qi(this.i,this.l,Pn,null),is(this,Pn);if(ga(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||L.length!=0||this.h.h||(this.m=1,wt(16),p=!1),this.o=this.o&&p,!p)qi(this.i,this.l,L,"[Invalid Chunked Response]"),Fr(this),cr(this);else if(L.length>0&&!this.W){this.W=!0;var Ze=this.j;Ze.g==this&&Ze.aa&&!Ze.P&&(Ze.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),wo(Ze),Ze.P=!0,wt(11))}}else qi(this.i,this.l,L,null),is(this,L);zt==4&&Fr(this),this.o&&!this.K&&(zt==4?ie(this.j,this):(this.o=!1,Tr(this)))}else Is(this.g),S==400&&L.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),Fr(this),cr(this)}}}catch{}finally{}};function ns(p){if(!ga(p))return p.g.la();const S=Ei(p.g);if(S==="")return"";let L="";const X=S.length,Ae=Gr(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Fr(p),cr(p),"";p.h.i=new c.TextDecoder}for(let De=0;De<X;De++)p.h.h=!0,L+=p.h.i.decode(S[De],{stream:!(Ae&&De==X-1)});return S.length=0,p.h.g+=L,p.C=0,p.h.g}function ga(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function vs(p,S){var L=p.C,X=S.indexOf(`
`,L);return X==-1?Hn:(L=Number(S.substring(L,X)),isNaN(L)?Dn:(X+=1,X+L>S.length?Hn:(S=S.slice(X,X+L),p.C=X+L,S)))}ur.prototype.cancel=function(){this.K=!0,Fr(this)};function Tr(p){p.T=Date.now()+p.H,Zs(p,p.H)}function Zs(p,S){if(p.D!=null)throw Error("WatchDog timer not null");p.D=an(m(p.aa,p),S)}function Br(p){p.D&&(c.clearTimeout(p.D),p.D=null)}ur.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(St(this.i,this.B),this.M!=2&&(Pt(),wt(17)),Fr(this),this.m=2,cr(this)):Zs(this,this.T-p)};function cr(p){p.j.I==0||p.K||ie(p.j,p)}function Fr(p){Br(p);var S=p.O;S&&typeof S.dispose=="function"&&S.dispose(),p.O=null,sn(p.V),p.g&&(S=p.g,p.g=null,S.abort(),S.dispose())}function is(p,S){try{var L=p.j;if(L.I!=0&&(L.g==p||bs(L.h,p))){if(!p.L&&bs(L.h,p)&&L.I==3){try{var X=L.Ba.g.parse(S)}catch{X=null}if(Array.isArray(X)&&X.length==3){var Ae=X;if(Ae[0]==0){e:if(!L.v){if(L.g)if(L.g.F+3e3<p.F)M(L),Ls(L);else break e;As(L),wt(18)}}else L.xa=Ae[1],0<L.xa-L.K&&Ae[2]<37500&&L.F&&L.A==0&&!L.C&&(L.C=an(m(L.Va,L),6e3));rs(L.h)<=1&&L.ta&&(L.ta=void 0)}else _e(L,11)}else if((p.L||L.g==p)&&M(L),!R(S))for(Ae=L.Ba.g.parse(S),S=0;S<Ae.length;S++){let ln=Ae[S];const Pn=ln[0];if(!(Pn<=L.K))if(L.K=Pn,ln=ln[1],L.I==2)if(ln[0]=="c"){L.M=ln[1],L.ba=ln[2];const nr=ln[3];nr!=null&&(L.ka=nr,L.j.info("VER="+L.ka));const fr=ln[4];fr!=null&&(L.za=fr,L.j.info("SVER="+L.za));const Gn=ln[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(X=1.5*Gn,L.O=X,L.j.info("backChannelRequestTimeoutMs_="+X)),X=L;const dr=p.g;if(dr){const Ss=dr.g?dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var De=X.h;De.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(De.j=De.l,De.g=new Set,De.h&&(Ua(De,De.h),De.h=null))}if(X.G){const Aa=dr.g?dr.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(X.wa=Aa,yn(X.J,X.G,Aa))}}L.I=3,L.l&&L.l.ra(),L.aa&&(L.T=Date.now()-p.F,L.j.info("Handshake RTT: "+L.T+"ms")),X=L;var Ze=p;if(X.na=Ke(X,X.L?X.ba:null,X.W),Ze.L){mo(X.h,Ze);var zt=Ze,Jn=X.O;Jn&&(zt.H=Jn),zt.D&&(Br(zt),Tr(zt)),X.g=Ze}else tl(X);L.i.length>0&&as(L)}else ln[0]!="stop"&&ln[0]!="close"||_e(L,7);else L.I==3&&(ln[0]=="stop"||ln[0]=="close"?ln[0]=="stop"?_e(L,7):wa(L):ln[0]!="noop"&&L.l&&L.l.qa(ln),L.A=0)}}Pt(4)}catch{}}var ci=class{constructor(p,S){this.g=p,this.map=S}};function po(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nr(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function rs(p){return p.h?1:p.g?p.g.size:0}function bs(p,S){return p.h?p.h==S:p.g?p.g.has(S):!1}function Ua(p,S){p.g?p.g.add(S):p.h=S}function mo(p,S){p.h&&p.h==S?p.h=null:p.g&&p.g.has(S)&&p.g.delete(S)}po.prototype.cancel=function(){if(this.i=go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function go(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let S=p.i;for(const L of p.g.values())S=S.concat(L.G);return S}return w(p.i)}var Xo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zr(p,S){if(p){p=p.split("&");for(let L=0;L<p.length;L++){const X=p[L].indexOf("=");let Ae,De=null;X>=0?(Ae=p[L].substring(0,X),De=p[L].substring(X+1)):Ae=p[L],S(Ae,De?decodeURIComponent(De.replace(/\+/g," ")):"")}}}function er(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;p instanceof er?(this.l=p.l,cn(this,p.j),this.o=p.o,this.g=p.g,ea(this,p.u),this.h=p.h,ss(this,vo(p.i)),this.m=p.m):p&&(S=String(p).match(Xo))?(this.l=!1,cn(this,S[1]||"",!0),this.o=xi(S[2]||""),this.g=xi(S[3]||"",!0),ea(this,S[4]),this.h=xi(S[5]||"",!0),ss(this,S[6]||"",!0),this.m=xi(S[7]||"")):(this.l=!1,this.i=new ta(null,this.l))}er.prototype.toString=function(){const p=[];var S=this.j;S&&p.push(ri(S,Va,!0),":");var L=this.g;return(L||S=="file")&&(p.push("//"),(S=this.o)&&p.push(ri(S,Va,!0),"@"),p.push(Qn(L).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.u,L!=null&&p.push(":",String(L))),(L=this.h)&&(this.g&&L.charAt(0)!="/"&&p.push("/"),p.push(ri(L,L.charAt(0)=="/"?Qo:Dl,!0))),(L=this.i.toString())&&p.push("?",L),(L=this.m)&&p.push("#",ri(L,Wo)),p.join("")},er.prototype.resolve=function(p){const S=yi(this);let L=!!p.j;L?cn(S,p.j):L=!!p.o,L?S.o=p.o:L=!!p.g,L?S.g=p.g:L=p.u!=null;var X=p.h;if(L)ea(S,p.u);else if(L=!!p.h){if(X.charAt(0)!="/")if(this.g&&!this.h)X="/"+X;else{var Ae=S.h.lastIndexOf("/");Ae!=-1&&(X=S.h.slice(0,Ae+1)+X)}if(Ae=X,Ae==".."||Ae==".")X="";else if(Ae.indexOf("./")!=-1||Ae.indexOf("/.")!=-1){X=Ae.lastIndexOf("/",0)==0,Ae=Ae.split("/");const De=[];for(let Ze=0;Ze<Ae.length;){const zt=Ae[Ze++];zt=="."?X&&Ze==Ae.length&&De.push(""):zt==".."?((De.length>1||De.length==1&&De[0]!="")&&De.pop(),X&&Ze==Ae.length&&De.push("")):(De.push(zt),X=!0)}X=De.join("/")}else X=Ae}return L?S.h=X:L=p.i.toString()!=="",L?ss(S,vo(p.i)):L=!!p.m,L&&(S.m=p.m),S};function yi(p){return new er(p)}function cn(p,S,L){p.j=L?xi(S,!0):S,p.j&&(p.j=p.j.replace(/:$/,""))}function ea(p,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);p.u=S}else p.u=null}function ss(p,S,L){S instanceof ta?(p.i=S,Cr(p.i,p.l)):(L||(S=ri(S,hr)),p.i=new ta(S,p.l))}function yn(p,S,L){p.i.set(S,L)}function ya(p){return yn(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function xi(p,S){return p?S?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function ri(p,S,L){return typeof p=="string"?(p=encodeURI(p).replace(S,vi),L&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function vi(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Va=/[#\/\?@]/g,Dl=/[#\?:]/g,Qo=/[#\?]/g,hr=/[#\?@]/g,Wo=/#/g;function ta(p,S){this.h=this.g=null,this.i=p||null,this.j=!!S}function Hi(p){p.g||(p.g=new Map,p.h=0,p.i&&zr(p.i,function(S,L){p.add(decodeURIComponent(S.replace(/\+/g," ")),L)}))}n=ta.prototype,n.add=function(p,S){Hi(this),this.i=null,p=na(this,p);let L=this.g.get(p);return L||this.g.set(p,L=[]),L.push(S),this.h+=1,this};function va(p,S){Hi(p),S=na(p,S),p.g.has(S)&&(p.i=null,p.h-=p.g.get(S).length,p.g.delete(S))}function Jo(p,S){return Hi(p),S=na(p,S),p.g.has(S)}n.forEach=function(p,S){Hi(this),this.g.forEach(function(L,X){L.forEach(function(Ae){p.call(S,Ae,X,this)},this)},this)};function Zo(p,S){Hi(p);let L=[];if(typeof S=="string")Jo(p,S)&&(L=L.concat(p.g.get(na(p,S))));else for(p=Array.from(p.g.values()),S=0;S<p.length;S++)L=L.concat(p[S]);return L}n.set=function(p,S){return Hi(this),this.i=null,p=na(this,p),Jo(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[S]),this.h+=1,this},n.get=function(p,S){return p?(p=Zo(this,p),p.length>0?String(p[0]):S):S};function yo(p,S,L){va(p,S),L.length>0&&(p.i=null,p.g.set(na(p,S),w(L)),p.h+=L.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],S=Array.from(this.g.keys());for(let X=0;X<S.length;X++){var L=S[X];const Ae=Qn(L);L=Zo(this,L);for(let De=0;De<L.length;De++){let Ze=Ae;L[De]!==""&&(Ze+="="+Qn(L[De])),p.push(Ze)}}return this.i=p.join("&")};function vo(p){const S=new ta;return S.i=p.i,p.g&&(S.g=new Map(p.g),S.h=p.h),S}function na(p,S){return S=String(S),p.j&&(S=S.toLowerCase()),S}function Cr(p,S){S&&!p.j&&(Hi(p),p.i=null,p.g.forEach(function(L,X){const Ae=X.toLowerCase();X!=Ae&&(va(this,X),yo(this,Ae,L))},p)),p.j=S}function _s(p,S){const L=new lr;if(c.Image){const X=new Image;X.onload=b(Ir,L,"TestLoadImage: loaded",!0,S,X),X.onerror=b(Ir,L,"TestLoadImage: error",!1,S,X),X.onabort=b(Ir,L,"TestLoadImage: abort",!1,S,X),X.ontimeout=b(Ir,L,"TestLoadImage: timeout",!1,S,X),c.setTimeout(function(){X.ontimeout&&X.ontimeout()},1e4),X.src=p}else S(!1)}function ia(p,S){const L=new lr,X=new AbortController,Ae=setTimeout(()=>{X.abort(),Ir(L,"TestPingServer: timeout",!1,S)},1e4);fetch(p,{signal:X.signal}).then(De=>{clearTimeout(Ae),De.ok?Ir(L,"TestPingServer: ok",!0,S):Ir(L,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(Ae),Ir(L,"TestPingServer: error",!1,S)})}function Ir(p,S,L,X,Ae){try{Ae&&(Ae.onload=null,Ae.onerror=null,Ae.onabort=null,Ae.ontimeout=null),X(L)}catch{}}function ba(){this.g=new qt}function Ct(p){this.i=p.Sb||null,this.h=p.ab||!1}x(Ct,yt),Ct.prototype.g=function(){return new Ba(this.i,this.h)};function Ba(p,S){Me.call(this),this.H=p,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Ba,Me),n=Ba.prototype,n.open=function(p,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=S,this.readyState=1,Gi(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(S.body=p),(this.H||c).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_a(this)),this.readyState=0},n.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Gi(this)),this.g&&(this.readyState=3,Gi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bo(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function bo(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}n.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var S=p.value?p.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!p.done}))&&(this.response=this.responseText+=S)}p.done?_a(this):Gi(this),this.readyState==3&&bo(this)}},n.Oa=function(p){this.g&&(this.response=this.responseText=p,_a(this))},n.Na=function(p){this.g&&(this.response=p,_a(this))},n.ga=function(){this.g&&_a(this)};function _a(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Gi(p)}n.setRequestHeader=function(p,S){this.A.append(p,S)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],S=this.h.entries();for(var L=S.next();!L.done;)L=L.value,p.push(L[0]+": "+L[1]),L=S.next();return p.join(`\r
`)};function Gi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Ba.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Pi(p){let S="";return Te(p,function(L,X){S+=X,S+=":",S+=L,S+=`\r
`}),S}function Fa(p,S,L){e:{for(X in L){var X=!1;break e}X=!0}X||(L=Pi(L),typeof p=="string"?L!=null&&Qn(L):yn(p,S,L))}function On(p){Me.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(On,Me);var qr=/^https?$/i,za=["POST","PUT"];n=On.prototype,n.Fa=function(p){this.H=p},n.ea=function(p,S,L,X){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);S=S?S.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xr.g(),this.g.onreadystatechange=N(m(this.Ca,this));try{this.B=!0,this.g.open(S,String(p),!0),this.B=!1}catch(De){ws(this,De);return}if(p=L||"",L=new Map(this.headers),X)if(Object.getPrototypeOf(X)===Object.prototype)for(var Ae in X)L.set(Ae,X[Ae]);else if(typeof X.keys=="function"&&typeof X.get=="function")for(const De of X.keys())L.set(De,X.get(De));else throw Error("Unknown input type for opt_headers: "+String(X));X=Array.from(L.keys()).find(De=>De.toLowerCase()=="content-type"),Ae=c.FormData&&p instanceof c.FormData,!(Array.prototype.indexOf.call(za,S,void 0)>=0)||X||Ae||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[De,Ze]of L)this.g.setRequestHeader(De,Ze);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(De){ws(this,De)}};function ws(p,S){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=S,p.o=5,el(p),ra(p)}function el(p){p.A||(p.A=!0,it(p,"complete"),it(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,it(this,"complete"),it(this,"abort"),ra(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ra(this,!0)),On.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Hr(this):this.Xa())},n.Xa=function(){Hr(this)};function Hr(p){if(p.h&&typeof o<"u"){if(p.v&&Gr(p)==4)setTimeout(p.Ca.bind(p),0);else if(it(p,"readystatechange"),Gr(p)==4){p.h=!1;try{const De=p.ca();e:switch(De){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var L;if(!(L=S)){var X;if(X=De===0){let Ze=String(p.D).match(Xo)[1]||null;!Ze&&c.self&&c.self.location&&(Ze=c.self.location.protocol.slice(0,-1)),X=!qr.test(Ze?Ze.toLowerCase():"")}L=X}if(L)it(p,"complete"),it(p,"success");else{p.o=6;try{var Ae=Gr(p)>2?p.g.statusText:""}catch{Ae=""}p.l=Ae+" ["+p.ca()+"]",el(p)}}finally{ra(p)}}}}function ra(p,S){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const L=p.g;p.g=null,S||it(p,"ready");try{L.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Gr(p){return p.g?p.g.readyState:0}n.ca=function(){try{return Gr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(p){if(this.g){var S=this.g.responseText;return p&&S.indexOf(p)==0&&(S=S.substring(p.length)),gt(S)}};function Ei(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Is(p){const S={};p=(p.g&&Gr(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let X=0;X<p.length;X++){if(R(p[X]))continue;var L=Di(p[X]);const Ae=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const De=S[Ae]||[];S[Ae]=De,De.push(L)}ke(S,function(X){return X.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function tr(p,S,L){return L&&L.internalChannelParams&&L.internalChannelParams[p]||S}function Rs(p){this.za=0,this.i=[],this.j=new lr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=tr("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=tr("baseRetryDelayMs",5e3,p),this.Za=tr("retryDelaySeedMs",1e4,p),this.Ta=tr("forwardChannelMaxRetries",2,p),this.va=tr("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new po(p&&p.concurrentRequestLimit),this.Ba=new ba,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Rs.prototype,n.ka=8,n.I=1,n.connect=function(p,S,L,X){wt(0),this.W=p,this.H=S||{},L&&X!==void 0&&(this.H.OSID=L,this.H.OAID=X),this.F=this.X,this.J=Ke(this,null,this.W),as(this)};function wa(p){if(ks(p),p.I==3){var S=p.V++,L=yi(p.J);if(yn(L,"SID",p.M),yn(L,"RID",S),yn(L,"TYPE","terminate"),Yr(p,L),S=new ur(p,p.j,S),S.M=2,S.A=ya(yi(L)),L=!1,c.navigator&&c.navigator.sendBeacon)try{L=c.navigator.sendBeacon(S.A.toString(),"")}catch{}!L&&c.Image&&(new Image().src=S.A,L=!0),L||(S.g=ut(S.j,null),S.g.ea(S.A)),S.F=Date.now(),Tr(S)}Fe(p)}function Ls(p){p.g&&(wo(p),p.g.cancel(),p.g=null)}function ks(p){Ls(p),p.v&&(c.clearTimeout(p.v),p.v=null),M(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&c.clearTimeout(p.m),p.m=null)}function as(p){if(!Nr(p.h)&&!p.m){p.m=!0;var S=p.Ea;xe||P(),Oe||(xe(),Oe=!0),H.add(S,p),p.D=0}}function qa(p,S){return rs(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=S.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=an(m(p.Ea,p,S),de(p,p.D)),p.D++,!0)}n.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const Ae=new ur(this,this.j,p);let De=this.o;if(this.U&&(De?(De=Q(De),Y(De,this.U)):De=this.U),this.u!==null||this.R||(Ae.J=De,De=null),this.S)e:{for(var S=0,L=0;L<this.i.length;L++){t:{var X=this.i[L];if("__data__"in X.map&&(X=X.map.__data__,typeof X=="string")){X=X.length;break t}X=void 0}if(X===void 0)break;if(S+=X,S>4096){S=L;break e}if(S===4096||L===this.i.length-1){S=L+1;break e}}S=1e3}else S=1e3;S=Ds(this,Ae,S),L=yi(this.J),yn(L,"RID",p),yn(L,"CVER",22),this.G&&yn(L,"X-HTTP-Session-Id",this.G),Yr(this,L),De&&(this.R?S="headers="+Qn(Pi(De))+"&"+S:this.u&&Fa(L,this.u,De)),Ua(this.h,Ae),this.Ra&&yn(L,"TYPE","init"),this.S?(yn(L,"$req",S),yn(L,"SID","null"),Ae.U=!0,Oi(Ae,L,null)):Oi(Ae,L,S),this.I=2}}else this.I==3&&(p?_o(this,p):this.i.length==0||Nr(this.h)||_o(this))};function _o(p,S){var L;S?L=S.l:L=p.V++;const X=yi(p.J);yn(X,"SID",p.M),yn(X,"RID",L),yn(X,"AID",p.K),Yr(p,X),p.u&&p.o&&Fa(X,p.u,p.o),L=new ur(p,p.j,L,p.D+1),p.u===null&&(L.J=p.o),S&&(p.i=S.G.concat(p.i)),S=Ds(p,L,1e3),L.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Ua(p.h,L),Oi(L,X,S)}function Yr(p,S){p.H&&Te(p.H,function(L,X){yn(S,X,L)}),p.l&&Te({},function(L,X){yn(S,X,L)})}function Ds(p,S,L){L=Math.min(p.i.length,L);const X=p.l?m(p.l.Ka,p.l,p):null;e:{var Ae=p.i;let zt=-1;for(;;){const Jn=["count="+L];zt==-1?L>0?(zt=Ae[0].g,Jn.push("ofs="+zt)):zt=0:Jn.push("ofs="+zt);let ln=!0;for(let Pn=0;Pn<L;Pn++){var De=Ae[Pn].g;const nr=Ae[Pn].map;if(De-=zt,De<0)zt=Math.max(0,Ae[Pn].g-100),ln=!1;else try{De="req"+De+"_"||"";try{var Ze=nr instanceof Map?nr:Object.entries(nr);for(const[fr,Gn]of Ze){let dr=Gn;h(Gn)&&(dr=Xt(Gn)),Jn.push(De+fr+"="+encodeURIComponent(dr))}}catch(fr){throw Jn.push(De+"type="+encodeURIComponent("_badmap")),fr}}catch{X&&X(nr)}}if(ln){Ze=Jn.join("&");break e}}Ze=void 0}return p=p.i.splice(0,L),S.G=p,Ze}function tl(p){if(!p.g&&!p.v){p.Y=1;var S=p.Da;xe||P(),Oe||(xe(),Oe=!0),H.add(S,p),p.A=0}}function As(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=an(m(p.Da,p),de(p,p.A)),p.A++,!0)}n.Da=function(){if(this.v=null,_(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=an(m(this.Wa,this),p)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Ls(this),_(this))};function wo(p){p.B!=null&&(c.clearTimeout(p.B),p.B=null)}function _(p){p.g=new ur(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var S=yi(p.na);yn(S,"RID","rpc"),yn(S,"SID",p.M),yn(S,"AID",p.K),yn(S,"CI",p.F?"0":"1"),!p.F&&p.ia&&yn(S,"TO",p.ia),yn(S,"TYPE","xmlhttp"),Yr(p,S),p.u&&p.o&&Fa(S,p.u,p.o),p.O&&(p.g.H=p.O);var L=p.g;p=p.ba,L.M=1,L.A=ya(yi(S)),L.u=null,L.R=!0,Er(L,p)}n.Va=function(){this.C!=null&&(this.C=null,Ls(this),As(this),wt(19))};function M(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function ie(p,S){var L=null;if(p.g==S){M(p),wo(p),p.g=null;var X=2}else if(bs(p.h,S))L=S.G,mo(p.h,S),X=1;else return;if(p.I!=0){if(S.o)if(X==1){L=S.u?S.u.length:0,S=Date.now()-S.F;var Ae=p.D;X=In(),it(X,new vt(X,L)),as(p)}else tl(p);else if(Ae=S.m,Ae==3||Ae==0&&S.X>0||!(X==1&&qa(p,S)||X==2&&As(p)))switch(L&&L.length>0&&(S=p.h,S.i=S.i.concat(L)),Ae){case 1:_e(p,5);break;case 4:_e(p,10);break;case 3:_e(p,6);break;default:_e(p,2)}}}function de(p,S){let L=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(L*=2),L*S}function _e(p,S){if(p.j.info("Error code "+S),S==2){var L=m(p.bb,p),X=p.Ua;const Ae=!X;X=new er(X||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||cn(X,"https"),ya(X),Ae?_s(X.toString(),L):ia(X.toString(),L)}else wt(2);p.I=0,p.l&&p.l.pa(S),Fe(p),ks(p)}n.bb=function(p){p?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Fe(p){if(p.I=0,p.ja=[],p.l){const S=go(p.h);(S.length!=0||p.i.length!=0)&&(F(p.ja,S),F(p.ja,p.i),p.h.i.length=0,w(p.i),p.i.length=0),p.l.oa()}}function Ke(p,S,L){var X=L instanceof er?yi(L):new er(L);if(X.g!="")S&&(X.g=S+"."+X.g),ea(X,X.u);else{var Ae=c.location;X=Ae.protocol,S=S?S+"."+Ae.hostname:Ae.hostname,Ae=+Ae.port;const De=new er(null);X&&cn(De,X),S&&(De.g=S),Ae&&ea(De,Ae),L&&(De.h=L),X=De}return L=p.G,S=p.wa,L&&S&&yn(X,L,S),yn(X,"VER",p.ka),Yr(p,X),X}function ut(p,S,L){if(S&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=p.Aa&&!p.ma?new On(new Ct({ab:L})):new On(p.ma),S.Fa(p.L),S}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function dt(){}n=dt.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Lt(){}Lt.prototype.g=function(p,S){return new xt(p,S)};function xt(p,S){Me.call(this),this.g=new Rs(S),this.l=p,this.h=S&&S.messageUrlParams||null,p=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(p?p["X-WebChannel-Content-Type"]=S.messageContentType:p={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(p?p["X-WebChannel-Client-Profile"]=S.sa:p={"X-WebChannel-Client-Profile":S.sa}),this.g.U=p,(p=S&&S.Qb)&&!R(p)&&(this.g.u=p),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!R(S)&&(this.g.G=S,p=this.h,p!==null&&S in p&&(p=this.h,S in p&&delete p[S])),this.j=new zn(this)}x(xt,Me),xt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xt.prototype.close=function(){wa(this.g)},xt.prototype.o=function(p){var S=this.g;if(typeof p=="string"){var L={};L.__data__=p,p=L}else this.v&&(L={},L.__data__=Xt(p),p=L);S.i.push(new ci(S.Ya++,p)),S.I==3&&as(S)},xt.prototype.N=function(){this.g.l=null,delete this.j,wa(this.g),delete this.g,xt.Z.N.call(this)};function fn(p){Et.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var S=p.__sm__;if(S){e:{for(const L in S){p=L;break e}p=void 0}(this.i=p)&&(p=this.i,S=S!==null&&p in S?S[p]:void 0),this.data=S}else this.data=p}x(fn,Et);function Wn(){Mt.call(this),this.status=1}x(Wn,Mt);function zn(p){this.g=p}x(zn,dt),zn.prototype.ra=function(){it(this.g,"a")},zn.prototype.qa=function(p){it(this.g,new fn(p))},zn.prototype.pa=function(p){it(this.g,new Wn)},zn.prototype.oa=function(){it(this.g,"b")},Lt.prototype.createWebChannel=Lt.prototype.g,xt.prototype.send=xt.prototype.o,xt.prototype.open=xt.prototype.m,xt.prototype.close=xt.prototype.close,vw=function(){return new Lt},yw=function(){return In()},gw=$t,S1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vr.NO_ERROR=0,Vr.TIMEOUT=8,Vr.HTTP_ERROR=6,hp=Vr,Sr.COMPLETE="complete",mw=Sr,ui.EventType=Qt,Qt.OPEN="a",Qt.CLOSE="b",Qt.ERROR="c",Qt.MESSAGE="d",Me.prototype.listen=Me.prototype.J,_f=ui,On.prototype.listenOnce=On.prototype.K,On.prototype.getLastError=On.prototype.Ha,On.prototype.getLastErrorCode=On.prototype.ya,On.prototype.getStatus=On.prototype.ca,On.prototype.getResponseJson=On.prototype.La,On.prototype.getResponseText=On.prototype.la,On.prototype.send=On.prototype.ea,On.prototype.setWithCredentials=On.prototype.Fa,pw=On}).apply(typeof Kd<"u"?Kd:typeof self<"u"?self:typeof window<"u"?window:{});const Zy="@firebase/firestore",ev="4.9.2";class ms{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ms.UNAUTHENTICATED=new ms(null),ms.GOOGLE_CREDENTIALS=new ms("google-credentials-uid"),ms.FIRST_PARTY=new ms("first-party-uid"),ms.MOCK_USER=new ms("mock-user");let Ih="12.3.0";const ac=new n0("@firebase/firestore");function th(){return ac.logLevel}function ct(n,...e){if(ac.logLevel<=_n.DEBUG){const t=e.map(m0);ac.debug(`Firestore (${Ih}): ${n}`,...t)}}function Rl(n,...e){if(ac.logLevel<=_n.ERROR){const t=e.map(m0);ac.error(`Firestore (${Ih}): ${n}`,...t)}}function _h(n,...e){if(ac.logLevel<=_n.WARN){const t=e.map(m0);ac.warn(`Firestore (${Ih}): ${n}`,...t)}}function m0(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ft(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,bw(n,r,t)}function bw(n,e,t){let r=`FIRESTORE (${Ih}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Rl(r),new Error(r)}function qn(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||bw(e,a,r)}function nn(n,e){return n}const We={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rt extends kl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class _w{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ms.UNAUTHENTICATED)))}shutdown(){}}class JE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ZE{constructor(e){this.t=e,this.currentUser=ms.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qn(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new Zu;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Zu,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Zu)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qn(typeof r.accessToken=="string",31837,{l:r}),new _w(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qn(e===null||typeof e=="string",2055,{h:e}),new ms(e)}}class eT{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ms.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tT{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new eT(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ms.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nT{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ao(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){qn(this.o===void 0,3512);const r=o=>{o.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ct("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new tv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(qn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new tv(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function iT(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class g0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=iT(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function wn(n,e){return n<e?-1:n>e?1:0}function x1(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),o=e.charAt(r);if(a!==o)return Bg(a)===Bg(o)?wn(a,o):Bg(a)?1:-1}return wn(n.length,e.length)}const rT=55296,sT=57343;function Bg(n){const e=n.charCodeAt(0);return e>=rT&&e<=sT}function wh(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}const nv="__name__";class Uo{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ft(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ft(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Uo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Uo?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=Uo.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return wn(e.length,t.length)}static compareSegments(e,t){const r=Uo.isNumericId(e),a=Uo.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Uo.extractNumericId(e).compare(Uo.extractNumericId(t)):x1(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bu.fromString(e.substring(4,e.length-2))}}class Ri extends Uo{construct(e,t,r){return new Ri(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Rt(We.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new Ri(t)}static emptyPath(){return new Ri([])}}const aT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class es extends Uo{construct(e,t,r){return new es(e,t,r)}static isValidIdentifier(e){return aT.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),es.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nv}static keyField(){return new es([nv])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new Rt(We.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new Rt(We.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Rt(We.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(r+=h,a++):(o(),a++)}if(o(),c)throw new Rt(We.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new es(t)}static emptyPath(){return new es([])}}class Ut{constructor(e){this.path=e}static fromPath(e){return new Ut(Ri.fromString(e))}static fromName(e){return new Ut(Ri.fromString(e).popFirst(5))}static empty(){return new Ut(Ri.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ri.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ri.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ut(new Ri(e.slice()))}}function oT(n,e,t){if(!t)throw new Rt(We.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function lT(n,e,t,r){if(e===!0&&r===!0)throw new Rt(We.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function iv(n){if(!Ut.isDocumentKey(n))throw new Rt(We.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ww(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function y0(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ft(12329,{type:typeof n})}function hh(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Rt(We.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=y0(n);throw new Rt(We.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function or(n,e){const t={typeString:n};return e&&(t.value=e),t}function $f(n,e){if(!ww(n))throw new Rt(We.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(a&&typeof c!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new Rt(We.INVALID_ARGUMENT,t);return!0}const rv=-62135596800,sv=1e6;class mi{static now(){return mi.fromMillis(Date.now())}static fromDate(e){return mi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*sv);return new mi(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Rt(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Rt(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<rv)throw new Rt(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Rt(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sv}_compareTo(e){return this.seconds===e.seconds?wn(this.nanoseconds,e.nanoseconds):wn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mi._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($f(e,mi._jsonSchema))return new mi(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mi._jsonSchemaVersion="firestore/timestamp/1.0",mi._jsonSchema={type:or("string",mi._jsonSchemaVersion),seconds:or("number"),nanoseconds:or("number")};class Wt{static fromTimestamp(e){return new Wt(e)}static min(){return new Wt(new mi(0,0))}static max(){return new Wt(new mi(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Of=-1;function uT(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Wt.fromTimestamp(r===1e9?new mi(t+1,0):new mi(t,r));return new wu(a,Ut.empty(),e)}function cT(n){return new wu(n.readTime,n.key,Of)}class wu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new wu(Wt.min(),Ut.empty(),Of)}static max(){return new wu(Wt.max(),Ut.empty(),Of)}}function hT(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ut.comparator(n.documentKey,e.documentKey),t!==0?t:wn(n.largestBatchId,e.largestBatchId))}const fT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Rh(n){if(n.code!==We.FAILED_PRECONDITION||n.message!==fT)throw n;ct("LocalStore","Unexpectedly lost primary lease")}class $e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $e(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof $e?t:$e.resolve(t)}catch(t){return $e.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):$e.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):$e.reject(t)}static resolve(e){return new $e(((t,r)=>{t(e)}))}static reject(e){return new $e(((t,r)=>{r(e)}))}static waitFor(e){return new $e(((t,r)=>{let a=0,o=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++o,c&&o===a&&t()}),(d=>r(d)))})),c=!0,o===a&&t()}))}static or(e){let t=$e.resolve(!1);for(const r of e)t=t.next((a=>a?$e.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,o)=>{r.push(t.call(this,a,o))})),this.waitFor(r)}static mapArray(e,t){return new $e(((r,a)=>{const o=e.length,c=new Array(o);let h=0;for(let d=0;d<o;d++){const m=d;t(e[m]).next((b=>{c[m]=b,++h,h===o&&r(c)}),(b=>a(b)))}}))}static doWhile(e,t){return new $e(((r,a)=>{const o=()=>{e()===!0?t().next((()=>{o()}),a):r()};o()}))}}function pT(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Lh(n){return n.name==="IndexedDbTransactionError"}class em{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}em.ce=-1;const v0=-1;function tm(n){return n==null}function Lp(n){return n===0&&1/n==-1/0}function mT(n){return typeof n=="number"&&Number.isInteger(n)&&!Lp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Aw="";function gT(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=av(e)),e=yT(n.get(t),e);return av(e)}function yT(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case Aw:t+="";break;default:t+=o}}return t}function av(n){return n+Aw+""}function ov(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function cc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Sw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Li{constructor(e,t){this.comparator=e,this.root=t||Zr.EMPTY}insert(e,t){return new Li(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zr.BLACK,null,null))}remove(e){return new Li(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $d(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $d(this.root,e,this.comparator,!1)}getReverseIterator(){return new $d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $d(this.root,e,this.comparator,!0)}}class $d{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zr{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??Zr.RED,this.left=a??Zr.EMPTY,this.right=o??Zr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new Zr(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Zr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Zr.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ft(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ft(27949);return e+(this.isRed()?0:1)}}Zr.EMPTY=null,Zr.RED=!0,Zr.BLACK=!1;Zr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft(57766)}get value(){throw Ft(16141)}get color(){throw Ft(16727)}get left(){throw Ft(29726)}get right(){throw Ft(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new Zr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ar{constructor(e){this.comparator=e,this.data=new Li(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lv(this.data.getIterator())}getIteratorFrom(e){return new lv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Ar)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ar(this.comparator);return t.data=e,t}}class lv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class lo{constructor(e){this.fields=e,e.sort(es.comparator)}static empty(){return new lo([])}unionWith(e){let t=new Ar(es.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new lo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wh(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class xw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ts{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new xw("Invalid base64 string: "+o):o}})(e);return new ts(t)}static fromUint8Array(e){const t=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(e);return new ts(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ts.EMPTY_BYTE_STRING=new ts("");const vT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Au(n){if(qn(!!n,39018),typeof n=="string"){let e=0;const t=vT.exec(n);if(qn(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$i(n.seconds),nanos:$i(n.nanos)}}function $i(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Su(n){return typeof n=="string"?ts.fromBase64String(n):ts.fromUint8Array(n)}const Ew="server_timestamp",Tw="__type__",Nw="__previous_value__",Cw="__local_write_time__";function b0(n){return(n?.mapValue?.fields||{})[Tw]?.stringValue===Ew}function nm(n){const e=n.mapValue.fields[Nw];return b0(e)?nm(e):e}function Pf(n){const e=Au(n.mapValue.fields[Cw].timestampValue);return new mi(e.seconds,e.nanos)}class bT{constructor(e,t,r,a,o,c,h,d,m,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=b}}const kp="(default)";class Mf{constructor(e,t){this.projectId=e,this.database=t||kp}static empty(){return new Mf("","")}get isDefaultDatabase(){return this.database===kp}isEqual(e){return e instanceof Mf&&e.projectId===this.projectId&&e.database===this.database}}const Iw="__type__",_T="__max__",Xd={mapValue:{}},Rw="__vector__",Dp="value";function xu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?b0(n)?4:AT(n)?9007199254740991:wT(n)?10:11:Ft(28295,{value:n})}function Yo(n,e){if(n===e)return!0;const t=xu(n);if(t!==xu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pf(n).isEqual(Pf(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Au(a.timestampValue),h=Au(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,o){return Su(a.bytesValue).isEqual(Su(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,o){return $i(a.geoPointValue.latitude)===$i(o.geoPointValue.latitude)&&$i(a.geoPointValue.longitude)===$i(o.geoPointValue.longitude)})(n,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return $i(a.integerValue)===$i(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=$i(a.doubleValue),h=$i(o.doubleValue);return c===h?Lp(c)===Lp(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return wh(n.arrayValue.values||[],e.arrayValue.values||[],Yo);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if(ov(c)!==ov(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!Yo(c[d],h[d])))return!1;return!0})(n,e);default:return Ft(52216,{left:n})}}function jf(n,e){return(n.values||[]).find((t=>Yo(t,e)))!==void 0}function Ah(n,e){if(n===e)return 0;const t=xu(n),r=xu(e);if(t!==r)return wn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return wn(n.booleanValue,e.booleanValue);case 2:return(function(o,c){const h=$i(o.integerValue||o.doubleValue),d=$i(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(n,e);case 3:return uv(n.timestampValue,e.timestampValue);case 4:return uv(Pf(n),Pf(e));case 5:return x1(n.stringValue,e.stringValue);case 6:return(function(o,c){const h=Su(o),d=Su(c);return h.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(o,c){const h=o.split("/"),d=c.split("/");for(let m=0;m<h.length&&m<d.length;m++){const b=wn(h[m],d[m]);if(b!==0)return b}return wn(h.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,c){const h=wn($i(o.latitude),$i(c.latitude));return h!==0?h:wn($i(o.longitude),$i(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return cv(n.arrayValue,e.arrayValue);case 10:return(function(o,c){const h=o.fields||{},d=c.fields||{},m=h[Dp]?.arrayValue,b=d[Dp]?.arrayValue,x=wn(m?.values?.length||0,b?.values?.length||0);return x!==0?x:cv(m,b)})(n.mapValue,e.mapValue);case 11:return(function(o,c){if(o===Xd.mapValue&&c===Xd.mapValue)return 0;if(o===Xd.mapValue)return 1;if(c===Xd.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),m=c.fields||{},b=Object.keys(m);d.sort(),b.sort();for(let x=0;x<d.length&&x<b.length;++x){const N=x1(d[x],b[x]);if(N!==0)return N;const w=Ah(h[d[x]],m[b[x]]);if(w!==0)return w}return wn(d.length,b.length)})(n.mapValue,e.mapValue);default:throw Ft(23264,{he:t})}}function uv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return wn(n,e);const t=Au(n),r=Au(e),a=wn(t.seconds,r.seconds);return a!==0?a:wn(t.nanos,r.nanos)}function cv(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=Ah(t[a],r[a]);if(o)return o}return wn(t.length,r.length)}function Sh(n){return E1(n)}function E1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Au(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Su(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ut.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=E1(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const c of r)o?o=!1:a+=",",a+=`${c}:${E1(t.fields[c])}`;return a+"}"})(n.mapValue):Ft(61005,{value:n})}function fp(n){switch(xu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nm(n);return e?16+fp(e):16;case 5:return 2*n.stringValue.length;case 6:return Su(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+fp(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return cc(r.fields,((o,c)=>{a+=o.length+fp(c)})),a})(n.mapValue);default:throw Ft(13486,{value:n})}}function T1(n){return!!n&&"integerValue"in n}function _0(n){return!!n&&"arrayValue"in n}function hv(n){return!!n&&"nullValue"in n}function fv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dp(n){return!!n&&"mapValue"in n}function wT(n){return(n?.mapValue?.fields||{})[Iw]?.stringValue===Rw}function Tf(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return cc(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Tf(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tf(n.arrayValue.values[t]);return e}return{...n}}function AT(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===_T}class Pa{constructor(e){this.value=e}static empty(){return new Pa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!dp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tf(t)}setAll(e){let t=es.emptyPath(),r={},a=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,r,a),r={},a=[],t=h.popLast()}c?r[h.lastSegment()]=Tf(c):a.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());dp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];dp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){cc(t,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new Pa(Tf(this.value))}}function Lw(n){const e=[];return cc(n.fields,((t,r)=>{const a=new es([t]);if(dp(r)){const o=Lw(r.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)})),new lo(e)}class gs{constructor(e,t,r,a,o,c,h){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new gs(e,0,Wt.min(),Wt.min(),Wt.min(),Pa.empty(),0)}static newFoundDocument(e,t,r,a){return new gs(e,1,t,Wt.min(),r,a,0)}static newNoDocument(e,t){return new gs(e,2,t,Wt.min(),Wt.min(),Pa.empty(),0)}static newUnknownDocument(e,t){return new gs(e,3,t,Wt.min(),Wt.min(),Pa.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Op{constructor(e,t){this.position=e,this.inclusive=t}}function dv(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],c=n.position[a];if(o.field.isKeyField()?r=Ut.comparator(Ut.fromName(c.referenceValue),t.key):r=Ah(c,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function pv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yo(n.position[t],e.position[t]))return!1;return!0}class Pp{constructor(e,t="asc"){this.field=e,this.dir=t}}function ST(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class kw{}class wr extends kw{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new ET(e,t,r):t==="array-contains"?new CT(e,r):t==="in"?new IT(e,r):t==="not-in"?new RT(e,r):t==="array-contains-any"?new LT(e,r):new wr(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new TT(e,r):new NT(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ah(t,this.value)):t!==null&&xu(this.value)===xu(t)&&this.matchesComparison(Ah(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ko extends kw{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ko(e,t)}matches(e){return Dw(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Dw(n){return n.op==="and"}function Ow(n){return xT(n)&&Dw(n)}function xT(n){for(const e of n.filters)if(e instanceof Ko)return!1;return!0}function N1(n){if(n instanceof wr)return n.field.canonicalString()+n.op.toString()+Sh(n.value);if(Ow(n))return n.filters.map((e=>N1(e))).join(",");{const e=n.filters.map((t=>N1(t))).join(",");return`${n.op}(${e})`}}function Pw(n,e){return n instanceof wr?(function(r,a){return a instanceof wr&&r.op===a.op&&r.field.isEqual(a.field)&&Yo(r.value,a.value)})(n,e):n instanceof Ko?(function(r,a){return a instanceof Ko&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,c,h)=>o&&Pw(c,a.filters[h])),!0):!1})(n,e):void Ft(19439)}function Mw(n){return n instanceof wr?(function(t){return`${t.field.canonicalString()} ${t.op} ${Sh(t.value)}`})(n):n instanceof Ko?(function(t){return t.op.toString()+" {"+t.getFilters().map(Mw).join(" ,")+"}"})(n):"Filter"}class ET extends wr{constructor(e,t,r){super(e,t,r),this.key=Ut.fromName(r.referenceValue)}matches(e){const t=Ut.comparator(e.key,this.key);return this.matchesComparison(t)}}class TT extends wr{constructor(e,t){super(e,"in",t),this.keys=jw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class NT extends wr{constructor(e,t){super(e,"not-in",t),this.keys=jw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function jw(n,e){return(e.arrayValue?.values||[]).map((t=>Ut.fromName(t.referenceValue)))}class CT extends wr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _0(t)&&jf(t.arrayValue,this.value)}}class IT extends wr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&jf(this.value.arrayValue,t)}}class RT extends wr{constructor(e,t){super(e,"not-in",t)}matches(e){if(jf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!jf(this.value.arrayValue,t)}}class LT extends wr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_0(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>jf(this.value.arrayValue,r)))}}class kT{constructor(e,t=null,r=[],a=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function mv(n,e=null,t=[],r=[],a=null,o=null,c=null){return new kT(n,e,t,r,a,o,c)}function w0(n){const e=nn(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>N1(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),tm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Sh(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Sh(r))).join(",")),e.Te=t}return e.Te}function A0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ST(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Pw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!pv(n.startAt,e.startAt)&&pv(n.endAt,e.endAt)}function C1(n){return Ut.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class im{constructor(e,t=null,r=[],a=[],o=null,c="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function DT(n,e,t,r,a,o,c,h){return new im(n,e,t,r,a,o,c,h)}function S0(n){return new im(n)}function gv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function OT(n){return n.collectionGroup!==null}function Nf(n){const e=nn(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Ar(es.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Pp(o,r))})),t.has(es.keyField().canonicalString())||e.Ie.push(new Pp(es.keyField(),r))}return e.Ie}function Fo(n){const e=nn(n);return e.Ee||(e.Ee=PT(e,Nf(n))),e.Ee}function PT(n,e){if(n.limitType==="F")return mv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Pp(a.field,o)}));const t=n.endAt?new Op(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Op(n.startAt.position,n.startAt.inclusive):null;return mv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function I1(n,e,t){return new im(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rm(n,e){return A0(Fo(n),Fo(e))&&n.limitType===e.limitType}function Uw(n){return`${w0(Fo(n))}|lt:${n.limitType}`}function nh(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>Mw(a))).join(", ")}]`),tm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>Sh(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>Sh(a))).join(",")),`Target(${r})`})(Fo(n))}; limitType=${n.limitType})`}function sm(n,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ut.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,a){for(const o of Nf(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(c,h,d){const m=dv(c,h,d);return c.inclusive?m<=0:m<0})(r.startAt,Nf(r),a)||r.endAt&&!(function(c,h,d){const m=dv(c,h,d);return c.inclusive?m>=0:m>0})(r.endAt,Nf(r),a))})(n,e)}function MT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Vw(n){return(e,t)=>{let r=!1;for(const a of Nf(n)){const o=jT(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function jT(n,e,t){const r=n.field.isKeyField()?Ut.comparator(e.key,t.key):(function(o,c,h){const d=c.data.field(o),m=h.data.field(o);return d!==null&&m!==null?Ah(d,m):Ft(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ft(19790,{direction:n.dir})}}class hc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){cc(this.inner,((t,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return Sw(this.inner)}size(){return this.innerSize}}const UT=new Li(Ut.comparator);function Ll(){return UT}const Bw=new Li(Ut.comparator);function wf(...n){let e=Bw;for(const t of n)e=e.insert(t.key,t);return e}function Fw(n){let e=Bw;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Qu(){return Cf()}function zw(){return Cf()}function Cf(){return new hc((n=>n.toString()),((n,e)=>n.isEqual(e)))}const VT=new Li(Ut.comparator),BT=new Ar(Ut.comparator);function An(...n){let e=BT;for(const t of n)e=e.add(t);return e}const FT=new Ar(wn);function zT(){return FT}function x0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lp(e)?"-0":e}}function qw(n){return{integerValue:""+n}}function qT(n,e){return mT(e)?qw(e):x0(n,e)}class am{constructor(){this._=void 0}}function HT(n,e,t){return n instanceof Mp?(function(a,o){const c={fields:{[Tw]:{stringValue:Ew},[Cw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&b0(o)&&(o=nm(o)),o&&(c.fields[Nw]=o),{mapValue:c}})(t,e):n instanceof Uf?Gw(n,e):n instanceof Vf?Yw(n,e):(function(a,o){const c=Hw(a,o),h=yv(c)+yv(a.Ae);return T1(c)&&T1(a.Ae)?qw(h):x0(a.serializer,h)})(n,e)}function GT(n,e,t){return n instanceof Uf?Gw(n,e):n instanceof Vf?Yw(n,e):t}function Hw(n,e){return n instanceof jp?(function(r){return T1(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Mp extends am{}class Uf extends am{constructor(e){super(),this.elements=e}}function Gw(n,e){const t=Kw(e);for(const r of n.elements)t.some((a=>Yo(a,r)))||t.push(r);return{arrayValue:{values:t}}}class Vf extends am{constructor(e){super(),this.elements=e}}function Yw(n,e){let t=Kw(e);for(const r of n.elements)t=t.filter((a=>!Yo(a,r)));return{arrayValue:{values:t}}}class jp extends am{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function yv(n){return $i(n.integerValue||n.doubleValue)}function Kw(n){return _0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function YT(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof Uf&&a instanceof Uf||r instanceof Vf&&a instanceof Vf?wh(r.elements,a.elements,Yo):r instanceof jp&&a instanceof jp?Yo(r.Ae,a.Ae):r instanceof Mp&&a instanceof Mp})(n.transform,e.transform)}class KT{constructor(e,t){this.version=e,this.transformResults=t}}class Nl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Nl}static exists(e){return new Nl(void 0,e)}static updateTime(e){return new Nl(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class om{}function $w(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Qw(n.key,Nl.none()):new Xf(n.key,n.data,Nl.none());{const t=n.data,r=Pa.empty();let a=new Ar(es.comparator);for(let o of e.fields)if(!a.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?r.delete(o):r.set(o,c),a=a.add(o)}return new fc(n.key,r,new lo(a.toArray()),Nl.none())}}function $T(n,e,t){n instanceof Xf?(function(a,o,c){const h=a.value.clone(),d=bv(a.fieldTransforms,o,c.transformResults);h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof fc?(function(a,o,c){if(!pp(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=bv(a.fieldTransforms,o,c.transformResults),d=o.data;d.setAll(Xw(a)),d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function If(n,e,t,r){return n instanceof Xf?(function(o,c,h,d){if(!pp(o.precondition,c))return h;const m=o.value.clone(),b=_v(o.fieldTransforms,d,c);return m.setAll(b),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof fc?(function(o,c,h,d){if(!pp(o.precondition,c))return h;const m=_v(o.fieldTransforms,d,c),b=c.data;return b.setAll(Xw(o)),b.setAll(m),c.convertToFoundDocument(c.version,b).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((x=>x.field)))})(n,e,t,r):(function(o,c,h){return pp(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function XT(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=Hw(r.transform,a||null);o!=null&&(t===null&&(t=Pa.empty()),t.set(r.field,o))}return t||null}function vv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&wh(r,a,((o,c)=>YT(o,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Xf extends om{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class fc extends om{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Xw(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function bv(n,e,t){const r=new Map;qn(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const o=n[a],c=o.transform,h=e.data.field(o.field);r.set(o.field,GT(c,h,t[a]))}return r}function _v(n,e,t){const r=new Map;for(const a of n){const o=a.transform,c=t.data.field(a.field);r.set(a.field,HT(o,c,e))}return r}class Qw extends om{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QT extends om{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class WT{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&$T(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=If(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=If(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=zw();return this.mutations.forEach((a=>{const o=e.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=t.has(a.key)?null:h;const d=$w(c,h);d!==null&&r.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(Wt.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),An())}isEqual(e){return this.batchId===e.batchId&&wh(this.mutations,e.mutations,((t,r)=>vv(t,r)))&&wh(this.baseMutations,e.baseMutations,((t,r)=>vv(t,r)))}}class E0{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){qn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return VT})();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,r[c].version);return new E0(e,t,r,a)}}class JT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class ZT{constructor(e,t){this.count=e,this.unchangedNames=t}}var ar,Cn;function eN(n){switch(n){case We.OK:return Ft(64938);case We.CANCELLED:case We.UNKNOWN:case We.DEADLINE_EXCEEDED:case We.RESOURCE_EXHAUSTED:case We.INTERNAL:case We.UNAVAILABLE:case We.UNAUTHENTICATED:return!1;case We.INVALID_ARGUMENT:case We.NOT_FOUND:case We.ALREADY_EXISTS:case We.PERMISSION_DENIED:case We.FAILED_PRECONDITION:case We.ABORTED:case We.OUT_OF_RANGE:case We.UNIMPLEMENTED:case We.DATA_LOSS:return!0;default:return Ft(15467,{code:n})}}function Ww(n){if(n===void 0)return Rl("GRPC error has no .code"),We.UNKNOWN;switch(n){case ar.OK:return We.OK;case ar.CANCELLED:return We.CANCELLED;case ar.UNKNOWN:return We.UNKNOWN;case ar.DEADLINE_EXCEEDED:return We.DEADLINE_EXCEEDED;case ar.RESOURCE_EXHAUSTED:return We.RESOURCE_EXHAUSTED;case ar.INTERNAL:return We.INTERNAL;case ar.UNAVAILABLE:return We.UNAVAILABLE;case ar.UNAUTHENTICATED:return We.UNAUTHENTICATED;case ar.INVALID_ARGUMENT:return We.INVALID_ARGUMENT;case ar.NOT_FOUND:return We.NOT_FOUND;case ar.ALREADY_EXISTS:return We.ALREADY_EXISTS;case ar.PERMISSION_DENIED:return We.PERMISSION_DENIED;case ar.FAILED_PRECONDITION:return We.FAILED_PRECONDITION;case ar.ABORTED:return We.ABORTED;case ar.OUT_OF_RANGE:return We.OUT_OF_RANGE;case ar.UNIMPLEMENTED:return We.UNIMPLEMENTED;case ar.DATA_LOSS:return We.DATA_LOSS;default:return Ft(39323,{code:n})}}(Cn=ar||(ar={}))[Cn.OK=0]="OK",Cn[Cn.CANCELLED=1]="CANCELLED",Cn[Cn.UNKNOWN=2]="UNKNOWN",Cn[Cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cn[Cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cn[Cn.NOT_FOUND=5]="NOT_FOUND",Cn[Cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cn[Cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cn[Cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cn[Cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cn[Cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cn[Cn.ABORTED=10]="ABORTED",Cn[Cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cn[Cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cn[Cn.INTERNAL=13]="INTERNAL",Cn[Cn.UNAVAILABLE=14]="UNAVAILABLE",Cn[Cn.DATA_LOSS=15]="DATA_LOSS";function tN(){return new TextEncoder}const nN=new bu([4294967295,4294967295],0);function wv(n){const e=tN().encode(n),t=new dw;return t.update(e),new Uint8Array(t.digest())}function Av(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new bu([t,r],0),new bu([a,o],0)]}class T0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Af(`Invalid padding: ${t}`);if(r<0)throw new Af(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Af(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Af(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=bu.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(bu.fromNumber(r)));return a.compare(nN)===1&&(a=new bu([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=wv(e),[r,a]=Av(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);if(!this.we(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new T0(o,a,t);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const t=wv(e),[r,a]=Av(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Af extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class lm{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Qf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new lm(Wt.min(),a,new Li(wn),Ll(),An())}}class Qf{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Qf(r,t,An(),An(),An())}}class mp{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class Jw{constructor(e,t){this.targetId=e,this.Ce=t}}class Zw{constructor(e,t,r=ts.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class Sv{constructor(){this.ve=0,this.Fe=xv(),this.Me=ts.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=An(),t=An(),r=An();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Ft(38017,{changeType:o})}})),new Qf(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=xv()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class iN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ll(),this.Je=Qd(),this.He=Qd(),this.Ye=new Li(wn)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ft(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const o=a.target;if(C1(o))if(r===0){const c=new Ut(o.path);this.et(t,c,gs.newNoDocument(c,Wt.min()))}else qn(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const h=this.ut(e),d=h?this.ct(h,e,c):1;if(d!==0){this.it(t);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let c,h;try{c=Su(r).toUint8Array()}catch(d){if(d instanceof xw)return _h("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new T0(c,a,o)}catch(d){return _h(d instanceof Af?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&C1(h.target)){const d=new Ut(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,gs.newNoDocument(d,e))}o.Be&&(t.set(c,o.ke()),o.qe())}}));let r=An();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const a=new lm(e,t,this.Ye,this.je,r);return this.je=Ll(),this.Je=Qd(),this.He=Qd(),this.Ye=new Li(wn),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Sv,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ar(wn),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ar(wn),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ct("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Sv),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Qd(){return new Li(Ut.comparator)}function xv(){return new Li(Ut.comparator)}const rN={asc:"ASCENDING",desc:"DESCENDING"},sN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aN={and:"AND",or:"OR"};class oN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function R1(n,e){return n.useProto3Json||tm(e)?e:{value:e}}function Up(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e4(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function lN(n,e){return Up(n,e.toTimestamp())}function zo(n){return qn(!!n,49232),Wt.fromTimestamp((function(t){const r=Au(t);return new mi(r.seconds,r.nanos)})(n))}function N0(n,e){return L1(n,e).canonicalString()}function L1(n,e){const t=(function(a){return new Ri(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function t4(n){const e=Ri.fromString(n);return qn(a4(e),10190,{key:e.toString()}),e}function k1(n,e){return N0(n.databaseId,e.path)}function Fg(n,e){const t=t4(e);if(t.get(1)!==n.databaseId.projectId)throw new Rt(We.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Rt(We.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ut(i4(t))}function n4(n,e){return N0(n.databaseId,e)}function uN(n){const e=t4(n);return e.length===4?Ri.emptyPath():i4(e)}function D1(n){return new Ri(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function i4(n){return qn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Ev(n,e,t){return{name:k1(n,e),fields:t.value.mapValue.fields}}function cN(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ft(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(m,b){return m.useProto3Json?(qn(b===void 0||typeof b=="string",58123),ts.fromBase64String(b||"")):(qn(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),ts.fromUint8Array(b||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(m){const b=m.code===void 0?We.UNKNOWN:Ww(m.code);return new Rt(b,m.message||"")})(c);t=new Zw(r,a,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Fg(n,r.document.name),o=zo(r.document.updateTime),c=r.document.createTime?zo(r.document.createTime):Wt.min(),h=new Pa({mapValue:{fields:r.document.fields}}),d=gs.newFoundDocument(a,o,c,h),m=r.targetIds||[],b=r.removedTargetIds||[];t=new mp(m,b,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Fg(n,r.document),o=r.readTime?zo(r.readTime):Wt.min(),c=gs.newNoDocument(a,o),h=r.removedTargetIds||[];t=new mp([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Fg(n,r.document),o=r.removedTargetIds||[];t=new mp([],o,a,null)}else{if(!("filter"in e))return Ft(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,c=new ZT(a,o),h=r.targetId;t=new Jw(h,c)}}return t}function hN(n,e){let t;if(e instanceof Xf)t={update:Ev(n,e.key,e.value)};else if(e instanceof Qw)t={delete:k1(n,e.key)};else if(e instanceof fc)t={update:Ev(n,e.key,e.data),updateMask:_N(e.fieldMask)};else{if(!(e instanceof QT))return Ft(16599,{Vt:e.type});t={verify:k1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const h=c.transform;if(h instanceof Mp)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Uf)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Vf)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof jp)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Ft(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:lN(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ft(27497)})(n,e.precondition)),t}function fN(n,e){return n&&n.length>0?(qn(e!==void 0,14353),n.map((t=>(function(a,o){let c=a.updateTime?zo(a.updateTime):zo(o);return c.isEqual(Wt.min())&&(c=zo(o)),new KT(c,a.transformResults||[])})(t,e)))):[]}function dN(n,e){return{documents:[n4(n,e.path)]}}function pN(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=n4(n,a);const o=(function(m){if(m.length!==0)return s4(Ko.create(m,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(m){if(m.length!==0)return m.map((b=>(function(N){return{field:ih(N.field),direction:yN(N.dir)}})(b)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=R1(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:a}}function mN(n){let e=uN(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){qn(r===1,65062);const b=t.from[0];b.allDescendants?a=b.collectionId:e=e.child(b.collectionId)}let o=[];t.where&&(o=(function(x){const N=r4(x);return N instanceof Ko&&Ow(N)?N.getFilters():[N]})(t.where));let c=[];t.orderBy&&(c=(function(x){return x.map((N=>(function(F){return new Pp(rh(F.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(N)))})(t.orderBy));let h=null;t.limit&&(h=(function(x){let N;return N=typeof x=="object"?x.value:x,tm(N)?null:N})(t.limit));let d=null;t.startAt&&(d=(function(x){const N=!!x.before,w=x.values||[];return new Op(w,N)})(t.startAt));let m=null;return t.endAt&&(m=(function(x){const N=!x.before,w=x.values||[];return new Op(w,N)})(t.endAt)),DT(e,a,c,o,h,"F",d,m)}function gN(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ft(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function r4(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=rh(t.unaryFilter.field);return wr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=rh(t.unaryFilter.field);return wr.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=rh(t.unaryFilter.field);return wr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=rh(t.unaryFilter.field);return wr.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ft(61313);default:return Ft(60726)}})(n):n.fieldFilter!==void 0?(function(t){return wr.create(rh(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ft(58110);default:return Ft(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Ko.create(t.compositeFilter.filters.map((r=>r4(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ft(1026)}})(t.compositeFilter.op))})(n):Ft(30097,{filter:n})}function yN(n){return rN[n]}function vN(n){return sN[n]}function bN(n){return aN[n]}function ih(n){return{fieldPath:n.canonicalString()}}function rh(n){return es.fromServerFormat(n.fieldPath)}function s4(n){return n instanceof wr?(function(t){if(t.op==="=="){if(fv(t.value))return{unaryFilter:{field:ih(t.field),op:"IS_NAN"}};if(hv(t.value))return{unaryFilter:{field:ih(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(fv(t.value))return{unaryFilter:{field:ih(t.field),op:"IS_NOT_NAN"}};if(hv(t.value))return{unaryFilter:{field:ih(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ih(t.field),op:vN(t.op),value:t.value}}})(n):n instanceof Ko?(function(t){const r=t.getFilters().map((a=>s4(a)));return r.length===1?r[0]:{compositeFilter:{op:bN(t.op),filters:r}}})(n):Ft(54877,{filter:n})}function _N(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function a4(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class pu{constructor(e,t,r,a,o=Wt.min(),c=Wt.min(),h=ts.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new pu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wN{constructor(e){this.yt=e}}function AN(n){const e=mN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?I1(e,e.limit,"L"):e}class SN{constructor(){this.Cn=new xN}addToCollectionParentIndex(e,t){return this.Cn.add(t),$e.resolve()}getCollectionParents(e,t){return $e.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return $e.resolve()}deleteFieldIndex(e,t){return $e.resolve()}deleteAllFieldIndexes(e){return $e.resolve()}createTargetIndexes(e,t){return $e.resolve()}getDocumentsMatchingTarget(e,t){return $e.resolve(null)}getIndexType(e,t){return $e.resolve(0)}getFieldIndexes(e,t){return $e.resolve([])}getNextCollectionGroupToUpdate(e){return $e.resolve(null)}getMinOffset(e,t){return $e.resolve(wu.min())}getMinOffsetFromCollectionGroup(e,t){return $e.resolve(wu.min())}updateCollectionGroup(e,t,r){return $e.resolve()}updateIndexEntries(e,t){return $e.resolve()}}class xN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Ar(Ri.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Ar(Ri.comparator)).toArray()}}const Tv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},o4=41943040;class Xs{static withCacheSize(e){return new Xs(e,Xs.DEFAULT_COLLECTION_PERCENTILE,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}Xs.DEFAULT_COLLECTION_PERCENTILE=10,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xs.DEFAULT=new Xs(o4,Xs.DEFAULT_COLLECTION_PERCENTILE,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xs.DISABLED=new Xs(-1,0,0);class xh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xh(0)}static cr(){return new xh(-1)}}const Nv="LruGarbageCollector",EN=1048576;function Cv([n,e],[t,r]){const a=wn(n,t);return a===0?wn(e,r):a}class TN{constructor(e){this.Ir=e,this.buffer=new Ar(Cv),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Cv(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class NN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ct(Nv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Lh(t)?ct(Nv,"Ignoring IndexedDB error during garbage collection: ",t):await Rh(t)}await this.Vr(3e5)}))}}class CN{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return $e.resolve(em.ce);const r=new TN(t);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),$e.resolve(Tv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tv):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,o,c,h,d,m;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,c=Date.now(),this.nthSequenceNumber(e,a)))).next((x=>(r=x,h=Date.now(),this.removeTargets(e,r,t)))).next((x=>(o=x,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(m=Date.now(),th()<=_n.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-b}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${x} documents in `+(m-d)+`ms
Total Duration: ${m-b}ms`),$e.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:x}))))}}function IN(n,e){return new CN(n,e)}class RN{constructor(){this.changes=new hc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?$e.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class LN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class kN{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&If(r.mutation,a,lo.empty(),mi.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,An()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=An()){const a=Qu();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((o=>{let c=wf();return o.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=Qu();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,An())))}populateOverlays(e,t,r){const a=[];return r.forEach((o=>{t.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,r,a){let o=Ll();const c=Cf(),h=(function(){return Cf()})();return t.forEach(((d,m)=>{const b=r.get(m.key);a.has(m.key)&&(b===void 0||b.mutation instanceof fc)?o=o.insert(m.key,m):b!==void 0?(c.set(m.key,b.mutation.getFieldMask()),If(b.mutation,m,b.mutation.getFieldMask(),mi.now())):c.set(m.key,lo.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((m,b)=>c.set(m,b))),t.forEach(((m,b)=>h.set(m,new LN(b,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=Cf();let a=new Li(((c,h)=>c-h)),o=An();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((d=>{const m=t.get(d);if(m===null)return;let b=r.get(d)||lo.empty();b=h.applyToLocalView(m,b),r.set(d,b);const x=(a.get(h.batchId)||An()).add(d);a=a.insert(h.batchId,x)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,b=d.value,x=zw();b.forEach((N=>{if(!o.has(N)){const w=$w(t.get(N),r.get(N));w!==null&&x.set(N,w),o=o.add(N)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,x))}return $e.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return(function(c){return Ut.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):OT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):$e.resolve(Qu());let h=Of,d=o;return c.next((m=>$e.forEach(m,((b,x)=>(h<x.largestBatchId&&(h=x.largestBatchId),o.get(b)?$e.resolve():this.remoteDocumentCache.getEntry(e,b).next((N=>{d=d.insert(b,N)}))))).next((()=>this.populateOverlays(e,m,o))).next((()=>this.computeViews(e,d,m,An()))).next((b=>({batchId:h,changes:Fw(b)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ut(t)).next((r=>{let a=wf();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let c=wf();return this.indexManager.getCollectionParents(e,o).next((h=>$e.forEach(h,(d=>{const m=(function(x,N){return new im(N,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,a).next((b=>{b.forEach(((x,N)=>{c=c.insert(x,N)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a)))).next((c=>{o.forEach(((d,m)=>{const b=m.getKey();c.get(b)===null&&(c=c.insert(b,gs.newInvalidDocument(b)))}));let h=wf();return c.forEach(((d,m)=>{const b=o.get(d);b!==void 0&&If(b.mutation,m,lo.empty(),mi.now()),sm(t,m)&&(h=h.insert(d,m))})),h}))}}class DN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return $e.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:zo(a.createTime)}})(t)),$e.resolve()}getNamedQuery(e,t){return $e.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:AN(a.bundledQuery),readTime:zo(a.readTime)}})(t)),$e.resolve()}}class ON{constructor(){this.overlays=new Li(Ut.comparator),this.qr=new Map}getOverlay(e,t){return $e.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Qu();return $e.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,o)=>{this.St(e,t,o)})),$e.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),$e.resolve()}getOverlaysForCollection(e,t,r){const a=Qu(),o=t.length+1,c=new Ut(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>r&&a.set(d.getKey(),d)}return $e.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new Li(((m,b)=>m-b));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let b=o.get(m.largestBatchId);b===null&&(b=Qu(),o=o.insert(m.largestBatchId,b)),b.set(m.getKey(),m)}}const h=Qu(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,b)=>h.set(m,b))),!(h.size()>=a)););return $e.resolve(h)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new JT(t,r));let o=this.qr.get(t);o===void 0&&(o=An(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}}class PN{constructor(){this.sessionToken=ts.EMPTY_BYTE_STRING}getSessionToken(e){return $e.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,$e.resolve()}}class C0{constructor(){this.Qr=new Ar(Mr.$r),this.Ur=new Ar(Mr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Mr(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Mr(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Ut(new Ri([])),r=new Mr(t,e),a=new Mr(t,e+1),o=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ut(new Ri([])),r=new Mr(t,e),a=new Mr(t,e+1);let o=An();return this.Ur.forEachInRange([r,a],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new Mr(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Mr{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ut.comparator(e.key,t.key)||wn(e.Yr,t.Yr)}static Kr(e,t){return wn(e.Yr,t.Yr)||Ut.comparator(e.key,t.key)}}class MN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ar(Mr.$r)}checkEmpty(e){return $e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new WT(o,t,r,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new Mr(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return $e.resolve(c)}lookupMutationBatch(e,t){return $e.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),o=a<0?0:a;return $e.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return $e.resolve(this.mutationQueue.length===0?v0:this.tr-1)}getAllMutationBatches(e){return $e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Mr(t,0),a=new Mr(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(c=>{const h=this.Xr(c.Yr);o.push(h)})),$e.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ar(wn);return t.forEach((a=>{const o=new Mr(a,0),c=new Mr(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{r=r.add(h.Yr)}))})),$e.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;Ut.isDocumentKey(o)||(o=o.child(""));const c=new Mr(new Ut(o),0);let h=new Ar(wn);return this.Zr.forEachWhile((d=>{const m=d.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Yr)),!0)}),c),$e.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){qn(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $e.forEach(t.mutations,(a=>{const o=new Mr(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Mr(t,0),a=this.Zr.firstAfterOrEqual(r);return $e.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,$e.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class jN{constructor(e){this.ri=e,this.docs=(function(){return new Li(Ut.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return $e.resolve(r?r.document.mutableCopy():gs.newInvalidDocument(t))}getEntries(e,t){let r=Ll();return t.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():gs.newInvalidDocument(a))})),$e.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=Ll();const c=t.path,h=new Ut(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:b}}=d.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||hT(cT(b),r)<=0||(a.has(b.key)||sm(t,b))&&(o=o.insert(b.key,b.mutableCopy()))}return $e.resolve(o)}getAllFromCollectionGroup(e,t,r,a){Ft(9500)}ii(e,t){return $e.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new UN(this)}getSize(e){return $e.resolve(this.size)}}class UN extends RN{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),$e.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class VN{constructor(e){this.persistence=e,this.si=new hc((t=>w0(t)),A0),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.oi=0,this._i=new C0,this.targetCount=0,this.ai=xh.ur()}forEachTarget(e,t){return this.si.forEach(((r,a)=>t(a))),$e.resolve()}getLastRemoteSnapshotVersion(e){return $e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $e.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$e.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),$e.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new xh(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,$e.resolve()}updateTargetData(e,t){return this.Pr(t),$e.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,$e.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),$e.waitFor(o).next((()=>a))}getTargetCount(e){return $e.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return $e.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),$e.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach((c=>{o.push(a.markPotentiallyOrphaned(e,c))})),$e.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),$e.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return $e.resolve(r)}containsKey(e,t){return $e.resolve(this._i.containsKey(t))}}class l4{constructor(e,t){this.ui={},this.overlays={},this.ci=new em(0),this.li=!1,this.li=!0,this.hi=new PN,this.referenceDelegate=e(this),this.Pi=new VN(this),this.indexManager=new SN,this.remoteDocumentCache=(function(a){return new jN(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new wN(t),this.Ii=new DN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ON,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new MN(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ct("MemoryPersistence","Starting transaction:",e);const a=new BN(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,t){return $e.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class BN extends dT{constructor(e){super(),this.currentSequenceNumber=e}}class I0{constructor(e){this.persistence=e,this.Ri=new C0,this.Vi=null}static mi(e){return new I0(e)}get fi(){if(this.Vi)return this.Vi;throw Ft(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),$e.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),$e.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),$e.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $e.forEach(this.fi,(r=>{const a=Ut.fromPath(r);return this.gi(e,a).next((o=>{o||t.removeEntry(a,Wt.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return $e.or([()=>$e.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Vp{constructor(e,t){this.persistence=e,this.pi=new hc((r=>gT(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=IN(this,t)}static mi(e,t){return new Vp(e,t)}Ei(){}di(e){return $e.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return $e.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?$e.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((h=>{h||(r++,o.removeEntry(c,Wt.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),$e.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),$e.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),$e.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),$e.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=fp(e.data.value)),t}br(e,t,r){return $e.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return $e.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class R0{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=An(),a=An();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new R0(e,t.fromCache,r,a)}}class FN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return RS()?8:pT(ys())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.ys(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,t,a,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new FN;return this.Ss(e,t,c).next((h=>{if(o.result=h,this.Vs)return this.bs(e,t,c,h.size)}))})).next((()=>o.result))}bs(e,t,r,a){return r.documentReadCount<this.fs?(th()<=_n.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",nh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$e.resolve()):(th()<=_n.DEBUG&&ct("QueryEngine","Query:",nh(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(th()<=_n.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",nh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fo(t))):$e.resolve())}ys(e,t){if(gv(t))return $e.resolve(null);let r=Fo(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=I1(t,null,"F"),r=Fo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=An(...o);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const m=this.Ds(t,h);return this.Cs(t,m,c,d.readTime)?this.ys(e,I1(t,null,"F")):this.vs(e,m,t,d)}))))})))))}ws(e,t,r,a){return gv(t)||a.isEqual(Wt.min())?$e.resolve(null):this.ps.getDocuments(e,r).next((o=>{const c=this.Ds(t,o);return this.Cs(t,c,r,a)?$e.resolve(null):(th()<=_n.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),nh(t)),this.vs(e,c,t,uT(a,Of)).next((h=>h)))}))}Ds(e,t){let r=new Ar(Vw(e));return t.forEach(((a,o)=>{sm(e,o)&&(r=r.add(o))})),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,t,r){return th()<=_n.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",nh(t)),this.ps.getDocumentsMatchingQuery(e,t,wu.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const L0="LocalStore",qN=3e8;class HN{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new Li(wn),this.xs=new hc((o=>w0(o)),A0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function GN(n,e,t,r){return new HN(n,e,t,r)}async function u4(n,e){const t=nn(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],h=[];let d=An();for(const m of a){c.push(m.batchId);for(const b of m.mutations)d=d.add(b.key)}for(const m of o){h.push(m.batchId);for(const b of m.mutations)d=d.add(b.key)}return t.localDocuments.getDocuments(r,d).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function YN(n,e){const t=nn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,b){const x=m.batch,N=x.keys();let w=$e.resolve();return N.forEach((F=>{w=w.next((()=>b.getEntry(d,F))).next((z=>{const $=m.docVersions.get(F);qn($!==null,48541),z.version.compareTo($)<0&&(x.applyToRemoteDocument(z,m),z.isValidDocument()&&(z.setReadTime(m.commitVersion),b.addEntry(z)))}))})),w.next((()=>h.mutationQueue.removeMutationBatch(d,x)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=An();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function c4(n){const e=nn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function KN(n,e){const t=nn(n),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const h=[];e.targetChanges.forEach(((b,x)=>{const N=a.get(x);if(!N)return;h.push(t.Pi.removeMatchingKeys(o,b.removedDocuments,x).next((()=>t.Pi.addMatchingKeys(o,b.addedDocuments,x))));let w=N.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(x)!==null?w=w.withResumeToken(ts.EMPTY_BYTE_STRING,Wt.min()).withLastLimboFreeSnapshotVersion(Wt.min()):b.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(b.resumeToken,r)),a=a.insert(x,w),(function(z,$,V){return z.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=qN?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(N,w,b)&&h.push(t.Pi.updateTargetData(o,w))}));let d=Ll(),m=An();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,b))})),h.push($N(o,c,e.documentUpdates).next((b=>{d=b.ks,m=b.qs}))),!r.isEqual(Wt.min())){const b=t.Pi.getLastRemoteSnapshotVersion(o).next((x=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(b)}return $e.waitFor(h).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,d,m))).next((()=>d))})).then((o=>(t.Ms=a,o)))}function $N(n,e,t){let r=An(),a=An();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let c=Ll();return t.forEach(((h,d)=>{const m=o.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Wt.min())?(e.removeEntry(h,d.readTime),c=c.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),c=c.insert(h,d)):ct(L0,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)})),{ks:c,qs:a}}))}function XN(n,e){const t=nn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=v0),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function QN(n,e){const t=nn(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.Pi.getTargetData(r,e).next((o=>o?(a=o,$e.resolve(a)):t.Pi.allocateTargetId(r).next((c=>(a=new pu(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function O1(n,e,t){const r=nn(n),a=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Lh(c))throw c;ct(L0,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function Iv(n,e,t){const r=nn(n);let a=Wt.min(),o=An();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,m,b){const x=nn(d),N=x.xs.get(b);return N!==void 0?$e.resolve(x.Ms.get(N)):x.Pi.getTargetData(m,b)})(r,c,Fo(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,h.targetId).next((d=>{o=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?a:Wt.min(),t?o:An()))).next((h=>(WN(r,MT(e),h),{documents:h,Qs:o})))))}function WN(n,e,t){let r=n.Os.get(e)||Wt.min();t.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Os.set(e,r)}class Rv{constructor(){this.activeTargetIds=zT()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JN{constructor(){this.Mo=new Rv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Rv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ZN{Oo(e){}shutdown(){}}const Lv="ConnectivityMonitor";class kv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(Lv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ct(Lv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Wd=null;function P1(){return Wd===null?Wd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wd++,"0x"+Wd.toString(16)}const zg="RestConnection",e8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class t8{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===kp?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,o){const c=P1(),h=this.zo(e,t.toUriEncodedString());ct(zg,`Sending RPC '${e}' ${c}:`,h,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,o);const{host:m}=new URL(h),b=Th(m);return this.Jo(e,h,d,r,b).then((x=>(ct(zg,`Received RPC '${e}' ${c}: `,x),x)),(x=>{throw _h(zg,`RPC '${e}' ${c} failed with error: `,x,"url: ",h,"request:",r),x}))}Ho(e,t,r,a,o,c){return this.Go(e,t,r,a,o)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ih})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,t){const r=e8[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class n8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const cs="WebChannelConnection";class i8 extends t8{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,o){const c=P1();return new Promise(((h,d)=>{const m=new pw;m.setWithCredentials(!0),m.listenOnce(mw.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case hp.NO_ERROR:const x=m.getResponseJson();ct(cs,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(x)),h(x);break;case hp.TIMEOUT:ct(cs,`RPC '${e}' ${c} timed out`),d(new Rt(We.DEADLINE_EXCEEDED,"Request time out"));break;case hp.HTTP_ERROR:const N=m.getStatus();if(ct(cs,`RPC '${e}' ${c} failed with status:`,N,"response text:",m.getResponseText()),N>0){let w=m.getResponseJson();Array.isArray(w)&&(w=w[0]);const F=w?.error;if(F&&F.status&&F.message){const z=(function(V){const le=V.toLowerCase().replace(/_/g,"-");return Object.values(We).indexOf(le)>=0?le:We.UNKNOWN})(F.status);d(new Rt(z,F.message))}else d(new Rt(We.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Rt(We.UNAVAILABLE,"Connection failed."));break;default:Ft(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ct(cs,`RPC '${e}' ${c} completed.`)}}));const b=JSON.stringify(a);ct(cs,`RPC '${e}' ${c} sending request:`,a),m.send(t,"POST",b,r,15)}))}T_(e,t,r){const a=P1(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=vw(),h=yw(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const b=o.join("");ct(cs,`Creating RPC '${e}' stream ${a}: ${b}`,d);const x=c.createWebChannel(b,d);this.I_(x);let N=!1,w=!1;const F=new n8({Yo:$=>{w?ct(cs,`Not sending because RPC '${e}' stream ${a} is closed:`,$):(N||(ct(cs,`Opening RPC '${e}' stream ${a} transport.`),x.open(),N=!0),ct(cs,`RPC '${e}' stream ${a} sending:`,$),x.send($))},Zo:()=>x.close()}),z=($,V,le)=>{$.listen(V,(oe=>{try{le(oe)}catch(se){setTimeout((()=>{throw se}),0)}}))};return z(x,_f.EventType.OPEN,(()=>{w||(ct(cs,`RPC '${e}' stream ${a} transport opened.`),F.o_())})),z(x,_f.EventType.CLOSE,(()=>{w||(w=!0,ct(cs,`RPC '${e}' stream ${a} transport closed`),F.a_(),this.E_(x))})),z(x,_f.EventType.ERROR,($=>{w||(w=!0,_h(cs,`RPC '${e}' stream ${a} transport errored. Name:`,$.name,"Message:",$.message),F.a_(new Rt(We.UNAVAILABLE,"The operation could not be completed")))})),z(x,_f.EventType.MESSAGE,($=>{if(!w){const V=$.data[0];qn(!!V,16349);const le=V,oe=le?.error||le[0]?.error;if(oe){ct(cs,`RPC '${e}' stream ${a} received error:`,oe);const se=oe.status;let xe=(function(P){const D=ar[P];if(D!==void 0)return Ww(D)})(se),Oe=oe.message;xe===void 0&&(xe=We.INTERNAL,Oe="Unknown error status: "+se+" with message "+oe.message),w=!0,F.a_(new Rt(xe,Oe)),x.close()}else ct(cs,`RPC '${e}' stream ${a} received:`,V),F.u_(V)}})),z(h,gw.STAT_EVENT,($=>{$.stat===S1.PROXY?ct(cs,`RPC '${e}' stream ${a} detected buffering proxy`):$.stat===S1.NOPROXY&&ct(cs,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function qg(){return typeof document<"u"?document:null}function um(n){return new oN(n,!0)}class h4{constructor(e,t,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&ct("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Dv="PersistentStream";class f4{constructor(e,t,r,a,o,c,h,d){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new h4(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===We.RESOURCE_EXHAUSTED?(Rl(t.toString()),Rl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===We.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new Rt(We.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ct(Dv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ct(Dv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class r8 extends f4{constructor(e,t,r,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=cN(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Wt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Wt.min():c.readTime?zo(c.readTime):Wt.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=D1(this.serializer),t.addTarget=(function(o,c){let h;const d=c.target;if(h=C1(d)?{documents:dN(o,d)}:{query:pN(o,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=e4(o,c.resumeToken);const m=R1(o,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Wt.min())>0){h.readTime=Up(o,c.snapshotVersion.toTimestamp());const m=R1(o,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const r=gN(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=D1(this.serializer),t.removeTarget=e,this.q_(t)}}class s8 extends f4{constructor(e,t,r,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return qn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=fN(e.writeResults,e.commitTime),r=zo(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=D1(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>hN(this.serializer,r)))};this.q_(t)}}class a8{}class o8 extends a8{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Rt(We.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,L1(t,r),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Rt(We.UNKNOWN,o.toString())}))}Ho(e,t,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,L1(t,r),a,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Rt(We.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class l8{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rl(t),this.aa=!1):ct("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oc="RemoteStore";class u8{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{dc(this)&&(ct(oc,"Restarting streams for network reachability change."),await(async function(d){const m=nn(d);m.Ea.add(4),await Wf(m),m.Ra.set("Unknown"),m.Ea.delete(4),await cm(m)})(this))}))})),this.Ra=new l8(r,a)}}async function cm(n){if(dc(n))for(const e of n.da)await e(!0)}async function Wf(n){for(const e of n.da)await e(!1)}function d4(n,e){const t=nn(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),P0(t)?O0(t):kh(t).O_()&&D0(t,e))}function k0(n,e){const t=nn(n),r=kh(t);t.Ia.delete(e),r.O_()&&p4(t,e),t.Ia.size===0&&(r.O_()?r.L_():dc(t)&&t.Ra.set("Unknown"))}function D0(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Wt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}kh(n).Y_(e)}function p4(n,e){n.Va.Ue(e),kh(n).Z_(e)}function O0(n){n.Va=new iN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),kh(n).start(),n.Ra.ua()}function P0(n){return dc(n)&&!kh(n).x_()&&n.Ia.size>0}function dc(n){return nn(n).Ea.size===0}function m4(n){n.Va=void 0}async function c8(n){n.Ra.set("Online")}async function h8(n){n.Ia.forEach(((e,t)=>{D0(n,e)}))}async function f8(n,e){m4(n),P0(n)?(n.Ra.ha(e),O0(n)):n.Ra.set("Unknown")}async function d8(n,e,t){if(n.Ra.set("Online"),e instanceof Zw&&e.state===2&&e.cause)try{await(async function(a,o){const c=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(n,e)}catch(r){ct(oc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bp(n,r)}else if(e instanceof mp?n.Va.Ze(e):e instanceof Jw?n.Va.st(e):n.Va.tt(e),!t.isEqual(Wt.min()))try{const r=await c4(n.localStore);t.compareTo(r)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const b=o.Ia.get(m);b&&o.Ia.set(m,b.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,m)=>{const b=o.Ia.get(d);if(!b)return;o.Ia.set(d,b.withResumeToken(ts.EMPTY_BYTE_STRING,b.snapshotVersion)),p4(o,d);const x=new pu(b.target,d,m,b.sequenceNumber);D0(o,x)})),o.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){ct(oc,"Failed to raise snapshot:",r),await Bp(n,r)}}async function Bp(n,e,t){if(!Lh(e))throw e;n.Ea.add(1),await Wf(n),n.Ra.set("Offline"),t||(t=()=>c4(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ct(oc,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await cm(n)}))}function g4(n,e){return e().catch((t=>Bp(n,t,e)))}async function hm(n){const e=nn(n),t=Eu(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:v0;for(;p8(e);)try{const a=await XN(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,m8(e,a)}catch(a){await Bp(e,a)}y4(e)&&v4(e)}function p8(n){return dc(n)&&n.Ta.length<10}function m8(n,e){n.Ta.push(e);const t=Eu(n);t.O_()&&t.X_&&t.ea(e.mutations)}function y4(n){return dc(n)&&!Eu(n).x_()&&n.Ta.length>0}function v4(n){Eu(n).start()}async function g8(n){Eu(n).ra()}async function y8(n){const e=Eu(n);for(const t of n.Ta)e.ea(t.mutations)}async function v8(n,e,t){const r=n.Ta.shift(),a=E0.from(r,e,t);await g4(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await hm(n)}async function b8(n,e){e&&Eu(n).X_&&await(async function(r,a){if((function(c){return eN(c)&&c!==We.ABORTED})(a.code)){const o=r.Ta.shift();Eu(r).B_(),await g4(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await hm(r)}})(n,e),y4(n)&&v4(n)}async function Ov(n,e){const t=nn(n);t.asyncQueue.verifyOperationInProgress(),ct(oc,"RemoteStore received new credentials");const r=dc(t);t.Ea.add(3),await Wf(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await cm(t)}async function _8(n,e){const t=nn(n);e?(t.Ea.delete(2),await cm(t)):e||(t.Ea.add(2),await Wf(t),t.Ra.set("Unknown"))}function kh(n){return n.ma||(n.ma=(function(t,r,a){const o=nn(t);return o.sa(),new r8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:c8.bind(null,n),t_:h8.bind(null,n),r_:f8.bind(null,n),H_:d8.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),P0(n)?O0(n):n.Ra.set("Unknown")):(await n.ma.stop(),m4(n))}))),n.ma}function Eu(n){return n.fa||(n.fa=(function(t,r,a){const o=nn(t);return o.sa(),new s8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:g8.bind(null,n),r_:b8.bind(null,n),ta:y8.bind(null,n),na:v8.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await hm(n)):(await n.fa.stop(),n.Ta.length>0&&(ct(oc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class M0{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Zu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const c=Date.now()+r,h=new M0(e,t,c,a,o);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Rt(We.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function j0(n,e){if(Rl("AsyncQueue",`${e}: ${n}`),Lh(n))return new Rt(We.UNAVAILABLE,`${e}: ${n}`);throw n}class fh{static emptySet(e){return new fh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ut.comparator(t.key,r.key):(t,r)=>Ut.comparator(t.key,r.key),this.keyedMap=wf(),this.sortedSet=new Li(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new fh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Pv{constructor(){this.ga=new Li(Ut.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ft(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Eh{constructor(e,t,r,a,o,c,h,d,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,a,o){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new Eh(e,t,fh.emptySet(t),c,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class w8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class A8{constructor(){this.queries=Mv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=nn(t),o=a.queries;a.queries=Mv(),o.forEach(((c,h)=>{for(const d of h.Sa)d.onError(r)}))})(this,new Rt(We.ABORTED,"Firestore shutting down"))}}function Mv(){return new hc((n=>Uw(n)),rm)}async function S8(n,e){const t=nn(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new w8,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(a,!0);break;case 1:o.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const h=j0(c,`Initialization of query '${nh(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&U0(t)}async function x8(n,e){const t=nn(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function E8(n,e){const t=nn(n);let r=!1;for(const a of e){const o=a.query,c=t.queries.get(o);if(c){for(const h of c.Sa)h.Fa(a)&&(r=!0);c.wa=a}}r&&U0(t)}function T8(n,e,t){const r=nn(n),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(t);r.queries.delete(e)}function U0(n){n.Ca.forEach((e=>{e.next()}))}var M1,jv;(jv=M1||(M1={})).Ma="default",jv.Cache="cache";class N8{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Eh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Eh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==M1.Cache}}class b4{constructor(e){this.key=e}}class _4{constructor(e){this.key=e}}class C8{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=An(),this.mutatedKeys=An(),this.eu=Vw(e),this.tu=new fh(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new Pv,a=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((b,x)=>{const N=a.get(b),w=sm(this.query,x)?x:null,F=!!N&&this.mutatedKeys.has(N.key),z=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let $=!1;N&&w?N.data.isEqual(w.data)?F!==z&&(r.track({type:3,doc:w}),$=!0):this.su(N,w)||(r.track({type:2,doc:w}),$=!0,(d&&this.eu(w,d)>0||m&&this.eu(w,m)<0)&&(h=!0)):!N&&w?(r.track({type:0,doc:w}),$=!0):N&&!w&&(r.track({type:1,doc:N}),$=!0,(d||m)&&(h=!0)),$&&(w?(c=c.add(w),o=z?o.add(b):o.delete(b)):(c=c.delete(b),o=o.delete(b)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const b=this.query.limitType==="F"?c.last():c.first();c=c.delete(b.key),o=o.delete(b.key),r.track({type:1,doc:b})}return{tu:c,iu:r,Cs:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((b,x)=>(function(w,F){const z=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft(20277,{Rt:$})}};return z(w)-z(F)})(b.type,x.type)||this.eu(b.doc,x.doc))),this.ou(r),a=a??!1;const h=t&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,m=d!==this.Za;return this.Za=d,c.length!==0||m?{snapshot:new Eh(this.query,e.tu,o,c,e.mutatedKeys,d===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Pv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=An(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new _4(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new b4(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=An();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Eh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const V0="SyncEngine";class I8{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class R8{constructor(e){this.key=e,this.hu=!1}}class L8{constructor(e,t,r,a,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new hc((h=>Uw(h)),rm),this.Iu=new Map,this.Eu=new Set,this.du=new Li(Ut.comparator),this.Au=new Map,this.Ru=new C0,this.Vu={},this.mu=new Map,this.fu=xh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function k8(n,e,t=!0){const r=T4(n);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await w4(r,e,t,!0),a}async function D8(n,e){const t=T4(n);await w4(t,e,!0,!1)}async function w4(n,e,t,r){const a=await QN(n.localStore,Fo(e)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await O8(n,e,o,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&d4(n.remoteStore,a),h}async function O8(n,e,t,r,a){n.pu=(x,N,w)=>(async function(z,$,V,le){let oe=$.view.ru(V);oe.Cs&&(oe=await Iv(z.localStore,$.query,!1).then((({documents:H})=>$.view.ru(H,oe))));const se=le&&le.targetChanges.get($.targetId),xe=le&&le.targetMismatches.get($.targetId)!=null,Oe=$.view.applyChanges(oe,z.isPrimaryClient,se,xe);return Vv(z,$.targetId,Oe.au),Oe.snapshot})(n,x,N,w);const o=await Iv(n.localStore,e,!0),c=new C8(e,o.Qs),h=c.ru(o.documents),d=Qf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),m=c.applyChanges(h,n.isPrimaryClient,d);Vv(n,t,m.au);const b=new I8(e,t,c);return n.Tu.set(e,b),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function P8(n,e,t){const r=nn(n),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((c=>!rm(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await O1(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&k0(r.remoteStore,a.targetId),j1(r,a.targetId)})).catch(Rh)):(j1(r,a.targetId),await O1(r.localStore,a.targetId,!0))}async function M8(n,e){const t=nn(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),k0(t.remoteStore,r.targetId))}async function j8(n,e,t){const r=H8(n);try{const a=await(function(c,h){const d=nn(c),m=mi.now(),b=h.reduce(((w,F)=>w.add(F.key)),An());let x,N;return d.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let F=Ll(),z=An();return d.Ns.getEntries(w,b).next(($=>{F=$,F.forEach(((V,le)=>{le.isValidDocument()||(z=z.add(V))}))})).next((()=>d.localDocuments.getOverlayedDocuments(w,F))).next(($=>{x=$;const V=[];for(const le of h){const oe=XT(le,x.get(le.key).overlayedDocument);oe!=null&&V.push(new fc(le.key,oe,Lw(oe.value.mapValue),Nl.exists(!0)))}return d.mutationQueue.addMutationBatch(w,m,V,h)})).next(($=>{N=$;const V=$.applyToLocalDocumentSet(x,z);return d.documentOverlayCache.saveOverlays(w,$.batchId,V)}))})).then((()=>({batchId:N.batchId,changes:Fw(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,h,d){let m=c.Vu[c.currentUser.toKey()];m||(m=new Li(wn)),m=m.insert(h,d),c.Vu[c.currentUser.toKey()]=m})(r,a.batchId,t),await Jf(r,a.changes),await hm(r.remoteStore)}catch(a){const o=j0(a,"Failed to persist write");t.reject(o)}}async function A4(n,e){const t=nn(n);try{const r=await KN(t.localStore,e);e.targetChanges.forEach(((a,o)=>{const c=t.Au.get(o);c&&(qn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?qn(c.hu,14607):a.removedDocuments.size>0&&(qn(c.hu,42227),c.hu=!1))})),await Jf(t,r,e)}catch(r){await Rh(r)}}function Uv(n,e,t){const r=nn(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((o,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const d=nn(c);d.onlineState=h;let m=!1;d.queries.forEach(((b,x)=>{for(const N of x.Sa)N.va(h)&&(m=!0)})),m&&U0(d)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function U8(n,e,t){const r=nn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),o=a&&a.key;if(o){let c=new Li(Ut.comparator);c=c.insert(o,gs.newNoDocument(o,Wt.min()));const h=An().add(o),d=new lm(Wt.min(),new Map,new Li(wn),c,h);await A4(r,d),r.du=r.du.remove(o),r.Au.delete(e),B0(r)}else await O1(r.localStore,e,!1).then((()=>j1(r,e,t))).catch(Rh)}async function V8(n,e){const t=nn(n),r=e.batch.batchId;try{const a=await YN(t.localStore,e);x4(t,r,null),S4(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Jf(t,a)}catch(a){await Rh(a)}}async function B8(n,e,t){const r=nn(n);try{const a=await(function(c,h){const d=nn(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let b;return d.mutationQueue.lookupMutationBatch(m,h).next((x=>(qn(x!==null,37113),b=x.keys(),d.mutationQueue.removeMutationBatch(m,x)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,b,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,b))).next((()=>d.localDocuments.getDocuments(m,b)))}))})(r.localStore,e);x4(r,e,t),S4(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Jf(r,a)}catch(a){await Rh(a)}}function S4(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function x4(n,e,t){const r=nn(n);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function j1(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||E4(n,r)}))}function E4(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(k0(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),B0(n))}function Vv(n,e,t){for(const r of t)r instanceof b4?(n.Ru.addReference(r.key,e),F8(n,r)):r instanceof _4?(ct(V0,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||E4(n,r.key)):Ft(19791,{wu:r})}function F8(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(ct(V0,"New document in limbo: "+t),n.Eu.add(r),B0(n))}function B0(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ut(Ri.fromString(e)),r=n.fu.next();n.Au.set(r,new R8(t)),n.du=n.du.insert(t,r),d4(n.remoteStore,new pu(Fo(S0(t.path)),r,"TargetPurposeLimboResolution",em.ce))}}async function Jf(n,e,t){const r=nn(n),a=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{c.push(r.pu(d,e,t).then((m=>{if((m||t)&&r.isPrimaryClient){const b=m?!m.fromCache:t?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,b?"current":"not-current")}if(m){a.push(m);const b=R0.As(d.targetId,m);o.push(b)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(d,m){const b=nn(d);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>$e.forEach(m,(N=>$e.forEach(N.Es,(w=>b.persistence.referenceDelegate.addReference(x,N.targetId,w))).next((()=>$e.forEach(N.ds,(w=>b.persistence.referenceDelegate.removeReference(x,N.targetId,w)))))))))}catch(x){if(!Lh(x))throw x;ct(L0,"Failed to update sequence numbers: "+x)}for(const x of m){const N=x.targetId;if(!x.fromCache){const w=b.Ms.get(N),F=w.snapshotVersion,z=w.withLastLimboFreeSnapshotVersion(F);b.Ms=b.Ms.insert(N,z)}}})(r.localStore,o))}async function z8(n,e){const t=nn(n);if(!t.currentUser.isEqual(e)){ct(V0,"User change. New user:",e.toKey());const r=await u4(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new Rt(We.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jf(t,r.Ls)}}function q8(n,e){const t=nn(n),r=t.Au.get(e);if(r&&r.hu)return An().add(r.key);{let a=An();const o=t.Iu.get(e);if(!o)return a;for(const c of o){const h=t.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function T4(n){const e=nn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=A4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U8.bind(null,e),e.Pu.H_=E8.bind(null,e.eventManager),e.Pu.yu=T8.bind(null,e.eventManager),e}function H8(n){const e=nn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B8.bind(null,e),e}class Fp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=um(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return GN(this.persistence,new zN,e.initialUser,this.serializer)}Cu(e){return new l4(I0.mi,this.serializer)}Du(e){return new JN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fp.provider={build:()=>new Fp};class G8 extends Fp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){qn(this.persistence.referenceDelegate instanceof Vp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new NN(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Xs.withCacheSize(this.cacheSizeBytes):Xs.DEFAULT;return new l4((r=>Vp.mi(r,t)),this.serializer)}}class U1{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Uv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=z8.bind(null,this.syncEngine),await _8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new A8})()}createDatastore(e){const t=um(e.databaseInfo.databaseId),r=(function(o){return new i8(o)})(e.databaseInfo);return(function(o,c,h,d){return new o8(o,c,h,d)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,o,c,h){return new u8(r,a,o,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>Uv(this.syncEngine,t,0)),(function(){return kv.v()?new kv:new ZN})())}createSyncEngine(e,t){return(function(a,o,c,h,d,m,b){const x=new L8(a,o,c,h,d,m);return b&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=nn(t);ct(oc,"RemoteStore shutting down."),r.Ea.add(5),await Wf(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}U1.provider={build:()=>new U1};class Y8{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rl("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Tu="FirestoreClient";class K8{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=ms.UNAUTHENTICATED,this.clientId=g0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{ct(Tu,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ct(Tu,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=j0(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Hg(n,e){n.asyncQueue.verifyOperationInProgress(),ct(Tu,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await u4(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Bv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await $8(n);ct(Tu,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>Ov(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>Ov(e.remoteStore,a))),n._onlineComponents=e}async function $8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ct(Tu,"Using user provided OfflineComponentProvider");try{await Hg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===We.FAILED_PRECONDITION||a.code===We.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;_h("Error using user provided cache. Falling back to memory cache: "+t),await Hg(n,new Fp)}}else ct(Tu,"Using default OfflineComponentProvider"),await Hg(n,new G8(void 0));return n._offlineComponents}async function N4(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ct(Tu,"Using user provided OnlineComponentProvider"),await Bv(n,n._uninitializedComponentsProvider._online)):(ct(Tu,"Using default OnlineComponentProvider"),await Bv(n,new U1))),n._onlineComponents}function X8(n){return N4(n).then((e=>e.syncEngine))}async function Fv(n){const e=await N4(n),t=e.eventManager;return t.onListen=k8.bind(null,e.syncEngine),t.onUnlisten=P8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=D8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=M8.bind(null,e.syncEngine),t}function C4(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const zv=new Map;const I4="firestore.googleapis.com",qv=!0;class Hv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Rt(We.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=I4,this.ssl=qv}else this.host=e.host,this.ssl=e.ssl??qv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=o4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<EN)throw new Rt(We.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=C4(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Rt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Rt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Rt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class F0{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Rt(We.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Rt(We.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new WE;switch(r.type){case"firstParty":return new tT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Rt(We.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=zv.get(t);r&&(ct("ComponentProvider","Removing Datastore"),zv.delete(t),r.terminate())})(this),Promise.resolve()}}function Q8(n,e,t,r={}){n=hh(n,F0);const a=Th(e),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;a&&(I_(`https://${h}`),R_("Firestore",!0)),o.host!==I4&&o.host!==h&&_h("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:a,emulatorOptions:r};if(!ic(d,c)&&(n._setSettings(d),r.mockUserToken)){let m,b;if(typeof r.mockUserToken=="string")m=r.mockUserToken,b=ms.MOCK_USER;else{m=wS(r.mockUserToken,n._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new Rt(We.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new ms(x)}n._authCredentials=new JE(new _w(m,b))}}class fm{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fm(this.firestore,e,this._query)}}class Ur{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ur(this.firestore,e,this._key)}toJSON(){return{type:Ur._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if($f(t,Ur._jsonSchema))return new Ur(e,r||null,new Ut(Ri.fromString(t.referencePath)))}}Ur._jsonSchemaVersion="firestore/documentReference/1.0",Ur._jsonSchema={type:or("string",Ur._jsonSchemaVersion),referencePath:or("string")};class Bf extends fm{constructor(e,t,r){super(e,t,S0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ur(this.firestore,null,new Ut(e))}withConverter(e){return new Bf(this.firestore,e,this._path)}}function Gv(n,e,...t){if(n=ma(n),arguments.length===1&&(e=g0.newId()),oT("doc","path",e),n instanceof F0){const r=Ri.fromString(e,...t);return iv(r),new Ur(n,null,new Ut(r))}{if(!(n instanceof Ur||n instanceof Bf))throw new Rt(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ri.fromString(e,...t));return iv(r),new Ur(n.firestore,n instanceof Bf?n.converter:null,new Ut(r))}}const Yv="AsyncQueue";class Kv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new h4(this,"async_queue_retry"),this._c=()=>{const r=qg();r&&ct(Yv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=qg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=qg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Zu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Lh(e))throw e;ct(Yv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Rl("INTERNAL UNHANDLED ERROR: ",$v(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=M0.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Ft(47125,{Pc:$v(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function $v(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function Xv(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class zp extends F0{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new Kv,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Kv(e),this._firestoreClient=void 0,await e}}}function W8(n,e){const t=typeof n=="object"?n:O_(),r=typeof n=="string"?n:kp,a=r0(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=bS("firestore");o&&Q8(a,...o)}return a}function R4(n){if(n._terminated)throw new Rt(We.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||J8(n),n._firestoreClient}function J8(n){const e=n._freezeSettings(),t=(function(a,o,c,h){return new bT(a,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,C4(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new K8(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}class Ma{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ma(ts.fromBase64String(e))}catch(t){throw new Rt(We.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ma(ts.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ma._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($f(e,Ma._jsonSchema))return Ma.fromBase64String(e.bytes)}}Ma._jsonSchemaVersion="firestore/bytes/1.0",Ma._jsonSchema={type:or("string",Ma._jsonSchemaVersion),bytes:or("string")};class z0{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Rt(We.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new es(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class L4{constructor(e){this._methodName=e}}class qo{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Rt(We.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Rt(We.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return wn(this._lat,e._lat)||wn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qo._jsonSchemaVersion}}static fromJSON(e){if($f(e,qo._jsonSchema))return new qo(e.latitude,e.longitude)}}qo._jsonSchemaVersion="firestore/geoPoint/1.0",qo._jsonSchema={type:or("string",qo._jsonSchemaVersion),latitude:or("number"),longitude:or("number")};class Ho{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ho._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($f(e,Ho._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ho(e.vectorValues);throw new Rt(We.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ho._jsonSchemaVersion="firestore/vectorValue/1.0",Ho._jsonSchema={type:or("string",Ho._jsonSchemaVersion),vectorValues:or("object")};const Z8=/^__.*__$/;class eC{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new fc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xf(e,this.data,t,this.fieldTransforms)}}function k4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft(40011,{Ac:n})}}class q0{constructor(e,t,r,a,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new q0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return qp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(k4(this.Ac)&&Z8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class tC{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||um(e)}Cc(e,t,r,a=!1){return new q0({Ac:e,methodName:t,Dc:r,path:es.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nC(n){const e=n._freezeSettings(),t=um(n._databaseId);return new tC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function iC(n,e,t,r,a,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,e,t,a);M4("Data must be an object, but it was:",c,r);const h=O4(r,c);let d,m;if(o.merge)d=new lo(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const b=[];for(const x of o.mergeFields){const N=rC(e,x,t);if(!c.contains(N))throw new Rt(We.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);aC(b,N)||b.push(N)}d=new lo(b),m=c.fieldTransforms.filter((x=>d.covers(x.field)))}else d=null,m=c.fieldTransforms;return new eC(new Pa(h),d,m)}function D4(n,e){if(P4(n=ma(n)))return M4("Unsupported field value:",e,n),O4(n,e);if(n instanceof L4)return(function(r,a){if(!k4(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let c=0;for(const h of r){let d=D4(h,a.wc(c));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),c++}return{arrayValue:{values:o}}})(n,e)}return(function(r,a){if((r=ma(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qT(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=mi.fromDate(r);return{timestampValue:Up(a.serializer,o)}}if(r instanceof mi){const o=new mi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Up(a.serializer,o)}}if(r instanceof qo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ma)return{bytesValue:e4(a.serializer,r._byteString)};if(r instanceof Ur){const o=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:N0(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Ho)return(function(c,h){return{mapValue:{fields:{[Iw]:{stringValue:Rw},[Dp]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return x0(h.serializer,m)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${y0(r)}`)})(n,e)}function O4(n,e){const t={};return Sw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cc(n,((r,a)=>{const o=D4(a,e.mc(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function P4(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof mi||n instanceof qo||n instanceof Ma||n instanceof Ur||n instanceof L4||n instanceof Ho)}function M4(n,e,t){if(!P4(t)||!ww(t)){const r=y0(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function rC(n,e,t){if((e=ma(e))instanceof z0)return e._internalPath;if(typeof e=="string")return j4(n,e);throw qp("Field path arguments must be of type string or ",n,!1,void 0,t)}const sC=new RegExp("[~\\*/\\[\\]]");function j4(n,e,t){if(e.search(sC)>=0)throw qp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new z0(...e.split("."))._internalPath}catch{throw qp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function qp(n,e,t,r,a){const o=r&&!r.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||c)&&(d+=" (found",o&&(d+=` in field ${r}`),c&&(d+=` in document ${a}`),d+=")"),new Rt(We.INVALID_ARGUMENT,h+n+d)}function aC(n,e){return n.some((t=>t.isEqual(e)))}class U4{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ur(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(V4("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class oC extends U4{data(){return super.data()}}function V4(n,e){return typeof e=="string"?j4(n,e):e instanceof z0?e._internalPath:e._delegate._internalPath}function lC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Rt(We.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uC{convertValue(e,t="none"){switch(xu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $i(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Su(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ft(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return cc(e,((a,o)=>{r[a]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[Dp].arrayValue?.values?.map((r=>$i(r.doubleValue)));return new Ho(t)}convertGeoPoint(e){return new qo($i(e.latitude),$i(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=nm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Pf(e));default:return null}}convertTimestamp(e){const t=Au(e);return new mi(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ri.fromString(e);qn(a4(r),9688,{name:e});const a=new Mf(r.get(1),r.get(3)),o=new Ut(r.popFirst(5));return a.isEqual(t)||Rl(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function cC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Sf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ec extends U4{constructor(e,t,r,a,o,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(V4("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Rt(We.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ec._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ec._jsonSchemaVersion="firestore/documentSnapshot/1.0",ec._jsonSchema={type:or("string",ec._jsonSchemaVersion),bundleSource:or("string","DocumentSnapshot"),bundleName:or("string"),bundle:or("string")};class gp extends ec{data(e={}){return super.data(e)}}class dh{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Sf(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new gp(this._firestore,this._userDataWriter,r.key,r,new Sf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Rt(We.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const d=new gp(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Sf(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new gp(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Sf(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,b=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),b=c.indexOf(h.doc.key)),{type:hC(h.type),doc:d,oldIndex:m,newIndex:b}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Rt(We.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=dh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=g0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hC(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft(61501,{type:n})}}dh._jsonSchemaVersion="firestore/querySnapshot/1.0",dh._jsonSchema={type:or("string",dh._jsonSchemaVersion),bundleSource:or("string","QuerySnapshot"),bundleName:or("string"),bundle:or("string")};class B4 extends uC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ma(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ur(this.firestore,null,t)}}function Qv(n,e,t){n=hh(n,Ur);const r=hh(n.firestore,zp),a=cC(n.converter,e,t);return dC(r,[iC(nC(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Nl.none())])}function fC(n,...e){n=ma(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Xv(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Xv(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let o,c,h;if(n instanceof Ur)c=hh(n.firestore,zp),h=S0(n._key.path),o={next:d=>{e[r]&&e[r](pC(c,n,d))},error:e[r+1],complete:e[r+2]};else{const d=hh(n,fm);c=hh(d.firestore,zp),h=d._query;const m=new B4(c);o={next:b=>{e[r]&&e[r](new dh(c,m,d,b))},error:e[r+1],complete:e[r+2]},lC(n._query)}return(function(m,b,x,N){const w=new Y8(N),F=new N8(b,w,x);return m.asyncQueue.enqueueAndForget((async()=>S8(await Fv(m),F))),()=>{w.Nu(),m.asyncQueue.enqueueAndForget((async()=>x8(await Fv(m),F)))}})(R4(c),h,a,o)}function dC(n,e){return(function(r,a){const o=new Zu;return r.asyncQueue.enqueueAndForget((async()=>j8(await X8(r),a,o))),o.promise})(R4(n),e)}function pC(n,e,t){const r=t.docs.get(e._key),a=new B4(n);return new ec(n,a,e._key,r,new Sf(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Ih=a})(Nh),vh(new rc("firestore",((r,{instanceIdentifier:a,options:o})=>{const c=r.getProvider("app").getImmediate(),h=new zp(new ZE(r.getProvider("auth-internal")),new nT(c,r.getProvider("app-check-internal")),(function(m,b){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Rt(We.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mf(m.options.projectId,b)})(c,a),c);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),vu(Zy,ev,e),vu(Zy,ev,"esm2020")})();const mC={apiKey:"AIzaSyBvZw0K6-YjEg5rQ9kQc0A9N1jrxXmBOxM",authDomain:"anjaneya-invoice.firebaseapp.com",projectId:"anjaneya-invoice",storageBucket:"anjaneya-invoice.firebasestorage.app",messagingSenderId:"705018733044",appId:"1:705018733044:web:b2aaeea4a8ac58510919a1"},F4=D_(mC),Gg=XE(F4),gC=new xl,Wv=W8(F4),z4=hn.createContext(void 0),yC=({children:n})=>{const[e,t]=hn.useState([]),[r,a]=hn.useState(cS),[o,c]=hn.useState(1),[h,d]=hn.useState(null),[m,b]=hn.useState("idle"),[x,N]=hn.useState(null);hn.useEffect(()=>{const E=localStorage.getItem("borewell_invoices"),I=localStorage.getItem("borewell_settings"),R=localStorage.getItem("borewell_next_invoice_number");if(E)try{t(JSON.parse(E))}catch(ee){console.error("Failed to load invoices",ee)}if(I)try{const ee=JSON.parse(I);ee.logo&&a(ee.logo)}catch(ee){console.error("Failed settings",ee)}R&&c(parseInt(R,10))},[]),hn.useEffect(()=>{const E=j6(Gg,I=>{d(I)});return()=>E()},[]),hn.useEffect(()=>{if(!h)return;b("syncing");const E=Gv(Wv,"users",h.uid),I=fC(E,R=>{if(R.exists()){const ee=R.data();ee.invoices&&Array.isArray(ee.invoices)&&(t(ee.invoices),localStorage.setItem("borewell_invoices",JSON.stringify(ee.invoices))),ee.nextInvoiceNumber&&(c(ee.nextInvoiceNumber),localStorage.setItem("borewell_next_invoice_number",ee.nextInvoiceNumber.toString())),N(new Date),b("success"),setTimeout(()=>b("idle"),2e3)}else e.length>0&&Qv(E,{invoices:e,nextInvoiceNumber:o,lastUpdated:new Date},{merge:!0}),b("idle")},R=>{console.error("Sync Error:",R),b("error")});return()=>I()},[h]);const w=async(E,I)=>{if(h){b("syncing");try{const R={invoices:E,lastUpdated:new Date};await Qv(Gv(Wv,"users",h.uid),R,{merge:!0}),b("success"),setTimeout(()=>b("idle"),2e3)}catch(R){console.error("Save Error",R),b("error")}}},F=()=>{const E=e.reduce((I,R)=>{const ee=R.customer.invoiceNumber.match(/(\d+)$/),be=ee?parseInt(ee[1],10):0,ne=R.customer.invoiceNumber.match(/INV-(\d+)/i),he=ne?parseInt(ne[1],10):0,fe=he>0?he:be<1e5?be:0;return fe>I?fe:I},0);return Math.max(E+1,o)},z=E=>{c(E),localStorage.setItem("borewell_next_invoice_number",E.toString())},$=async()=>{try{await rE(Gg,gC)}catch(E){console.error("Login Failed",E),alert("Login Failed: "+E.message)}},V=async()=>{await U6(Gg),d(null)},le=E=>{a(E);const I={logo:E};localStorage.setItem("borewell_settings",JSON.stringify(I))},oe=E=>{if(e.some(ee=>!ee.isDeleted&&ee.customer.invoiceNumber.toLowerCase()===E.customer.invoiceNumber.toLowerCase()&&ee.id!==E.id)){const be=`INV-${F()}`;if(window.confirm(`Invoice Number "${E.customer.invoiceNumber}" already exists!

Click OK to auto-save as "${be}" instead.
Click Cancel for other options.`))E={...E,customer:{...E.customer,invoiceNumber:be}};else if(!window.confirm(`Do you want to force save "${E.customer.invoiceNumber}" as a duplicate?

Click OK to allow duplicate.
Click Cancel to stop and edit manually.`))return!1}let R=!0;return t(ee=>{const be=ee.findIndex(he=>he.id===E.id);let ne;return be>=0?(ne=[...ee],ne[be]=E):ne=[E,...ee],localStorage.setItem("borewell_invoices",JSON.stringify(ne)),w(ne),ne}),R},se=E=>{t(I=>{const R=I.map(ee=>ee.id===E?{...ee,isDeleted:!0}:ee);return localStorage.setItem("borewell_invoices",JSON.stringify(R)),w(R),R})},xe=E=>{t(I=>{const R=I.map(ee=>ee.id===E?{...ee,isDeleted:!1}:ee);return localStorage.setItem("borewell_invoices",JSON.stringify(R)),w(R),R})},Oe=E=>{t(I=>{const R=I.filter(ee=>ee.id!==E);return localStorage.setItem("borewell_invoices",JSON.stringify(R)),w(R),R})},H=()=>{t(E=>{const I=E.filter(R=>!R.isDeleted);return localStorage.setItem("borewell_invoices",JSON.stringify(I)),w(I),I})},P=()=>{const E=JSON.stringify(e),I="data:application/json;charset=utf-8,"+encodeURIComponent(E),R=`borewell_backup_${new Date().toISOString().split("T")[0]}.json`,ee=document.createElement("a");ee.setAttribute("href",I),ee.setAttribute("download",R),ee.click()},D=async()=>{try{const E=JSON.stringify(e,null,2),I=`borewell_backup_${new Date().toISOString().split("T")[0]}.json`,R=new File([E],I,{type:"application/json"});navigator.canShare&&navigator.canShare({files:[R]})?await navigator.share({files:[R],title:"Borewell Backup",text:"Backup of Invoice Data"}):P()}catch(E){console.error("Error sharing backup:",E),P()}},q=async E=>{try{const I=await E.text(),R=JSON.parse(I);Array.isArray(R)?(t(R),localStorage.setItem("borewell_invoices",JSON.stringify(R)),w(R),alert("Backup imported successfully!")):alert("Invalid backup file")}catch(I){alert("Failed to read backup file"),console.error(I)}};return O.jsx(z4.Provider,{value:{invoices:e,saveInvoice:oe,deleteInvoice:se,restoreInvoice:xe,permanentDeleteInvoice:Oe,emptyRecycleBin:H,exportBackup:P,importBackup:q,shareBackup:D,logo:r,setLogo:le,user:h,loginToGoogle:$,logout:V,syncStatus:m,lastSyncTime:x,nextInvoiceNumber:o,setNextInvoiceNumber:z,generateNextInvoiceNumber:F},children:n})},H0=()=>{const n=hn.useContext(z4);if(!n)throw new Error("useInvoices must be used within InvoiceProvider");return n},V1=[{minDepth:0,maxDepth:300,rate:85},{minDepth:300,maxDepth:400,rate:90},{minDepth:400,maxDepth:500,rate:100},{minDepth:500,maxDepth:600,rate:120},{minDepth:600,maxDepth:700,rate:150},{minDepth:700,maxDepth:800,rate:190},{minDepth:800,maxDepth:900,rate:240},{minDepth:900,maxDepth:1e3,rate:300},{minDepth:1e3,maxDepth:1100,rate:400},{minDepth:1100,maxDepth:1200,rate:500},{minDepth:1200,maxDepth:1300,rate:600}],G0=(n,e=0,t=0,r=V1,a=0)=>{let o=0,c=[];if(e>0){const m=Math.min(n,e);if(m>0){const b=m*t;o+=b,c.push({range:`0 - ${m}`,depth:m,rate:t,amount:b})}}let h=r.map(m=>({...m}));if(a>0)for(let m=0;m<h.length;m++){const b=h[m],x=h[m+1];if(n>b.maxDepth&&n<=b.maxDepth+a){b.maxDepth=n,x&&(x.minDepth=n);break}}const d=Math.max(0,e);for(const m of h){const b=Math.max(m.minDepth,d),x=Math.min(m.maxDepth,n);if(x>b){const N=x-b,w=N*m.rate;o+=w,c.push({range:`${b} - ${x}`,depth:N,rate:m.rate,amount:w})}}return{totalCost:o,breakdown:c}};function vC(n){const e=["","One ","Two ","Three ","Four ","Five ","Six ","Seven ","Eight ","Nine ","Ten ","Eleven ","Twelve ","Thirteen ","Fourteen ","Fifteen ","Sixteen ","Seventeen ","Eighteen ","Nineteen "],t=["","","Twenty ","Thirty ","Forty ","Fifty ","Sixty ","Seventy ","Eighty ","Ninety "];if((n=n.toString().length>9?parseFloat(n.toString().slice(0,9)):n)===0)return"";const r=("000000000"+n).substr(-9).match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/);if(!r)return"";let a="";return a+=Number(r[1])!==0?(e[Number(r[1])]||t[Number(r[1][0])]+e[Number(r[1][1])])+"Crore ":"",a+=Number(r[2])!==0?(e[Number(r[2])]||t[Number(r[2][0])]+e[Number(r[2][1])])+"Lakh ":"",a+=Number(r[3])!==0?(e[Number(r[3])]||t[Number(r[3][0])]+e[Number(r[3][1])])+"Thousand ":"",a+=Number(r[4])!==0?(e[Number(r[4])]||t[Number(r[4][0])]+e[Number(r[4][1])])+"Hundred ":"",a+=Number(r[5])!==0?(a!==""?"and ":"")+(e[Number(r[5])]||t[Number(r[5][0])]+e[Number(r[5][1])]):"",a.trim()}const q4=hn.forwardRef(({data:n},e)=>{const{totalCost:t,breakdown:r}=G0(n.borewell.depth,n.borewell.oldBoreDepth,n.borewell.flushingRate,n.borewell.appliedRates,n.borewell.drillingBuffer),{logo:a}=H0(),o=(n.borewell.casingDepth7||0)*(n.borewell.casingRate7||0),c=(n.borewell.casingDepth10||0)*(n.borewell.casingRate10||0),h=n.items.reduce((b,x)=>b+x.amount,0),d=t+o+c+(n.borewell.transportCharges||0)+(n.borewell.bata||0)+(n.borewell.extraTime||0)+h-(n.borewell.discountAmount||0);let m=1;return O.jsxs("div",{ref:e,className:"bg-white p-2 md:p-6 max-w-2xl mx-auto text-xs border shadow-xl print:shadow-none print:border-none font-sans",id:"invoice-preview",children:[O.jsxs("div",{className:"flex justify-between items-start border-b-4 border-[#009900] pb-4 mb-4",children:[O.jsxs("div",{className:"flex gap-2 md:gap-4 items-center",children:[a?O.jsx("img",{src:a,alt:"Logo",className:"w-12 h-12 md:w-16 md:h-16 object-contain"}):O.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-gray-100 rounded flex items-center justify-center text-gray-400 text-xs",children:"No Logo"}),O.jsxs("div",{children:[O.jsxs("h1",{className:"text-sm md:text-xl font-normal text-[#009900] tracking-wider whitespace-nowrap",style:{fontFamily:'"Permanent Marker", cursive'},children:["ANJANEYA BO",O.jsx("span",{className:"text-red-600",children:"R"}),"EWELLS"]}),O.jsx("p",{className:"text-gray-600 font-bold text-[10px] md:text-xs uppercase tracking-wider",children:" !.."}),O.jsxs("div",{className:"mt-1 text-[9px] md:text-[10px] text-gray-600 space-y-0.5 leading-tight",children:[O.jsx("p",{className:"font-medium",children:"6/906-1, Sri Mahal Thirumana Mandapam"}),O.jsx("p",{children:"Trichy Road, Namakkal, Tamil Nadu 637001"}),O.jsx("p",{className:"font-bold text-primary pt-1",children:"Ph: 96596-57777, 94433-73573"})]})]})]}),O.jsxs("div",{className:"text-right flex flex-col items-end",children:[O.jsx("div",{className:"bg-gray-800 text-white px-2 py-0.5 rounded-md mb-2 shadow-sm",children:O.jsx("h2",{className:"text-[10px] md:text-sm font-bold uppercase tracking-widest",children:n.type||"INVOICE"})}),n.boreType&&O.jsx("span",{className:"bg-green-100 text-green-800 text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wide mb-2",children:n.boreType}),O.jsxs("p",{className:"text-gray-600 font-medium text-xs",children:["#",n.customer.invoiceNumber]}),O.jsx("p",{className:"text-gray-500 text-xs",children:n.customer.date})]})]}),O.jsxs("div",{className:"mb-4 bg-slate-50 p-2 rounded",children:[O.jsx("h3",{className:"font-semibold text-gray-700 mb-1 border-b border-gray-200 pb-0.5",children:"Bill To:"}),O.jsx("p",{className:"font-bold text-sm",children:n.customer.name}),O.jsx("p",{className:"break-words",children:n.customer.address}),O.jsxs("p",{children:["Ph: ",n.customer.phone]})]}),O.jsx("div",{className:"mb-6 overflow-x-auto",children:O.jsxs("table",{className:"w-full text-left border-collapse min-w-full",children:[O.jsx("thead",{children:O.jsxs("tr",{className:"bg-primary text-white",children:[O.jsx("th",{className:"p-1 w-8 md:w-10",children:"S.No"}),O.jsx("th",{className:"p-1",children:"Description"}),O.jsx("th",{className:"p-1 text-right whitespace-nowrap",children:"Qty/Dpt"}),O.jsx("th",{className:"p-1 text-right whitespace-nowrap",children:"Rate"}),O.jsx("th",{className:"p-1 text-right whitespace-nowrap",children:"Amount"})]})}),O.jsxs("tbody",{className:"divide-y divide-gray-100",children:[O.jsx("tr",{className:"bg-gray-50",children:O.jsxs("td",{className:"p-1 font-bold",colSpan:5,children:["Drilling Format Details (Depth: ",n.borewell.depth,"ft)",n.borewell.drillingBuffer?O.jsxs("span",{className:"text-[10px] text-gray-500 ml-2 font-normal",children:["(Grace: ",n.borewell.drillingBuffer,"ft)"]}):null]})}),r.map((b,x)=>O.jsxs("tr",{children:[O.jsx("td",{className:"p-1",children:m++}),O.jsxs("td",{className:"p-1 whitespace-nowrap",children:[b.range," ft"]}),O.jsxs("td",{className:"p-1 text-right whitespace-nowrap",children:[b.depth," ft"]}),O.jsxs("td",{className:"p-1 text-right whitespace-nowrap",children:[b.rate,"/ft"]}),O.jsx("td",{className:"p-1 text-right whitespace-nowrap",children:b.amount.toLocaleString()})]},x)),(n.borewell.casingDepth7||0)>0&&O.jsxs("tr",{children:[O.jsx("td",{className:"p-1",children:m++}),O.jsx("td",{className:"p-1 whitespace-normal break-words max-w-[100px] md:max-w-none",children:'7" Casing Pipe'}),O.jsxs("td",{className:"p-1 text-right whitespace-nowrap",children:[n.borewell.casingDepth7," ft"]}),O.jsxs("td",{className:"p-1 text-right whitespace-nowrap",children:[n.borewell.casingRate7," / ft"]}),O.jsx("td",{className:"p-1 text-right whitespace-nowrap",children:o.toLocaleString()})]}),(n.borewell.casingDepth10||0)>0&&O.jsxs("tr",{children:[O.jsx("td",{className:"p-1",children:m++}),O.jsx("td",{className:"p-1 whitespace-normal break-words max-w-[100px] md:max-w-none",children:'10" Casing Pipe'}),O.jsxs("td",{className:"p-1 text-right whitespace-nowrap",children:[n.borewell.casingDepth10," ft"]}),O.jsxs("td",{className:"p-1 text-right whitespace-nowrap",children:[n.borewell.casingRate10," / ft"]}),O.jsx("td",{className:"p-1 text-right whitespace-nowrap",children:c.toLocaleString()})]}),n.borewell.bata>0&&O.jsxs("tr",{children:[O.jsx("td",{className:"p-1",children:m++}),O.jsx("td",{className:"p-1",children:"Bata"}),O.jsx("td",{className:"p-1 text-right",children:"-"}),O.jsx("td",{className:"p-1 text-right",children:"-"}),O.jsx("td",{className:"p-1 text-right",children:n.borewell.bata.toLocaleString()})]}),n.borewell.transportCharges>0&&O.jsxs("tr",{children:[O.jsx("td",{className:"p-1",children:m++}),O.jsx("td",{className:"p-1 whitespace-normal break-words max-w-[100px] md:max-w-none",children:"Transport"}),O.jsx("td",{className:"p-1 text-right",children:"-"}),O.jsx("td",{className:"p-1 text-right",children:"-"}),O.jsx("td",{className:"p-1 text-right",children:n.borewell.transportCharges.toLocaleString()})]}),n.borewell.extraTime>0&&O.jsxs("tr",{children:[O.jsx("td",{className:"p-1",children:m++}),O.jsx("td",{className:"p-1",children:"Extra Time"}),O.jsx("td",{className:"p-1 text-right",children:"-"}),O.jsx("td",{className:"p-1 text-right",children:"-"}),O.jsx("td",{className:"p-1 text-right",children:n.borewell.extraTime.toLocaleString()})]}),n.items.map(b=>O.jsxs("tr",{children:[O.jsx("td",{className:"p-1",children:m++}),O.jsx("td",{className:"p-1 whitespace-normal break-words max-w-[100px] md:max-w-none leading-tight",children:b.description}),O.jsx("td",{className:"p-1 text-right whitespace-nowrap",children:b.quantity}),O.jsx("td",{className:"p-1 text-right whitespace-nowrap",children:b.rate}),O.jsx("td",{className:"p-1 text-right whitespace-nowrap",children:b.amount.toLocaleString()})]},b.id))]}),O.jsxs("tfoot",{children:[(n.borewell.discountAmount||0)>0&&O.jsxs("tr",{className:"bg-red-50 text-red-600",children:[O.jsx("td",{className:"p-2 text-right font-medium",colSpan:4,children:"Less: Discount"}),O.jsxs("td",{className:"p-2 text-right whitespace-nowrap",children:["- ",n.borewell.discountAmount?.toLocaleString()]})]}),O.jsxs("tr",{className:"bg-gray-100 font-bold text-base",children:[O.jsx("td",{className:"p-2 text-right",colSpan:4,children:"Grand Total"}),O.jsxs("td",{className:"p-2 text-right text-primary whitespace-nowrap",children:["",d.toLocaleString()]})]}),O.jsx("tr",{className:"bg-white",children:O.jsxs("td",{className:"p-2 text-left font-semibold text-gray-600 border-t",colSpan:5,children:[O.jsx("span",{className:"text-[10px] text-gray-500 font-normal",children:"Amount in Words:"}),O.jsx("br",{}),vC(Math.round(d))," Rupees Only"]})})]})]})}),O.jsxs("div",{className:"mt-4 pt-4 border-t-2 border-[#009900] text-center",children:[O.jsx("h4",{className:"text-primary font-bold text-sm",children:"Thank You for Choosing Anjaneya Borewells!"}),O.jsx("p",{className:"text-[10px] text-gray-500 mt-0.5",children:"Water is Life  Save Water  Save Earth"}),O.jsx("div",{className:"mt-1 text-[8px] text-gray-400",children:"Computer Generated Invoice"})]})]})});const bC=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_C=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),Jv=n=>{const e=_C(n);return e.charAt(0).toUpperCase()+e.slice(1)},H4=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),wC=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var AC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const SC=hn.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:c,...h},d)=>hn.createElement("svg",{ref:d,...AC,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:H4("lucide",a),...!o&&!wC(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,b])=>hn.createElement(m,b)),...Array.isArray(o)?o:[o]]));const ki=(n,e)=>{const t=hn.forwardRef(({className:r,...a},o)=>hn.createElement(SC,{ref:o,iconNode:e,className:H4(`lucide-${bC(Jv(n))}`,`lucide-${n}`,r),...a}));return t.displayName=Jv(n),t};const xC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],B1=ki("arrow-left",xC);const EC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],TC=ki("check",EC);const NC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],CC=ki("circle-alert",NC);const IC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],RC=ki("circle-question-mark",IC);const LC=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],F1=ki("cloud",LC);const kC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],DC=ki("download",kC);const OC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],PC=ki("eye",OC);const MC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],jC=ki("file-image",MC);const UC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],VC=ki("file-text",UC);const BC=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],FC=ki("hard-drive",BC);const zC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],qC=ki("image",zC);const HC=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],GC=ki("message-circle",HC);const YC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],KC=ki("pencil",YC);const $C=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zv=ki("plus",$C);const XC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],QC=ki("refresh-cw",XC);const WC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],z1=ki("save",WC);const JC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ZC=ki("search",JC);const eI=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tI=ki("settings",eI);const nI=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],G4=ki("smartphone",nI);const iI=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],rI=ki("square-pen",iI);const sI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Wu=ki("trash-2",sI);const aI=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],oI=ki("upload",aI);const lI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tc=ki("x",lI),uI=({onBack:n,initialData:e})=>{const{saveInvoice:t,generateNextInvoiceNumber:r,setNextInvoiceNumber:a}=H0(),o=hn.useRef(null),[c,h]=hn.useState(!1),m=`INV-${r()}`,[b,x]=hn.useState(e?.customer||{name:"",phone:"",address:"",date:new Date().toISOString().split("T")[0],invoiceNumber:m}),[N,w]=hn.useState(()=>{const pe=localStorage.getItem("invoice_default_rates"),Je=pe?JSON.parse(pe):{},st={depth:0,casingDepth7:0,casingRate7:Je.casingRate7||400,casingDepth10:0,casingRate10:Je.casingRate10||700,transportCharges:Je.transportCharges||0,bata:Je.bata||2e3,oldBoreDepth:0,flushingRate:Je.flushingRate||0,extraTime:e?.borewell?.extraTime||0,discountAmount:e?.borewell?.discountAmount||0,drillingBuffer:Je.drillingBuffer||0},Me=e?.borewell||{},it=Me,rt={...Me};return it.casingDepth&&!rt.casingDepth7&&(rt.casingDepth7=it.casingDepth),it.casingRate&&!rt.casingRate7&&(rt.casingRate7=it.casingRate),{...st,...rt}});$u.useEffect(()=>{e?.borewell?.appliedRates&&he(e.borewell.appliedRates)},[e]),$u.useEffect(()=>{if(!e&&b.invoiceNumber==="INV-1"){const pe=r();pe>1&&x(Je=>({...Je,invoiceNumber:`INV-${pe}`}))}},[r]);const F=Number(N.casingDepth7)||0,z=Number(N.casingRate7)||0,$=Number(N.casingDepth10)||0,V=Number(N.casingRate10)||0,le=Number(N.bata)||0,oe=Number(N.extraTime)||0,se=Number(N.transportCharges)||0,xe=Number(N.discountAmount)||0,[Oe,H]=hn.useState(e?.items||[]),[P,D]=hn.useState({description:"",quantity:1,rate:0}),[q,E]=hn.useState(e?.type||"Invoice"),[I,R]=hn.useState(e?.boreType||"New Bore"),[ee,be]=hn.useState([]),[ne,he]=hn.useState([]),[fe,Te]=hn.useState([]),[ke,Q]=hn.useState(!1),[k,Y]=hn.useState("");$u.useEffect(()=>{const pe=localStorage.getItem("invoice_saved_items");pe&&be(JSON.parse(pe));const Je=localStorage.getItem("invoice_slab_rates");he(Je?JSON.parse(Je):V1);const st=localStorage.getItem("invoice_slab_profiles");st&&Te(JSON.parse(st))},[]);const J=()=>{const pe=prompt("Enter a name for this Rate Profile:",k||"New Profile");if(!pe)return;const Je={name:pe,rates:JSON.parse(JSON.stringify(ne))},st=fe.findIndex(it=>it.name===pe);let Me;if(st>=0){if(!confirm(`Profile "${pe}" already exists. Overwrite?`))return;Me=[...fe],Me[st]=Je}else Me=[...fe,Je];Te(Me),Y(pe),localStorage.setItem("invoice_slab_profiles",JSON.stringify(Me)),alert(`Profile "${pe}" saved!`)},ae=pe=>{const Je=fe.find(st=>st.name===pe);Je&&(he(JSON.parse(JSON.stringify(Je.rates))),Y(Je.name))},ue=()=>{if(!k||!confirm(`Delete profile "${k}"?`))return;const pe=fe.filter(Je=>Je.name!==k);Te(pe),Y(""),localStorage.setItem("invoice_slab_profiles",JSON.stringify(pe))},ye=()=>{if(!P.description)return;if(!ee.some(Je=>Je.description.toLowerCase()===P.description.toLowerCase())){const Je=[...ee,{description:P.description,rate:P.rate}];be(Je),localStorage.setItem("invoice_saved_items",JSON.stringify(Je))}H([...Oe,{...P,id:Date.now().toString(),amount:P.quantity*P.rate}]),D({description:"",quantity:1,rate:0})},Le=pe=>{H(Oe.filter(Je=>Je.id!==pe))},{totalCost:Ce}=G0(N.depth,N.oldBoreDepth,N.flushingRate,ne,N.drillingBuffer),Be=F*z,Xe=$*V,nt=Oe.reduce((pe,Je)=>pe+Je.amount,0),et=Ce+Be+Xe+se+le+oe+nt-xe,lt=()=>{if(b.phone&&b.phone.length!==10){alert("Phone number must be exactly 10 digits!");return}const pe={casingRate7:N.casingRate7,casingRate10:N.casingRate10,bata:N.bata,transportCharges:N.transportCharges,flushingRate:N.flushingRate,drillingBuffer:N.drillingBuffer};localStorage.setItem("invoice_default_rates",JSON.stringify(pe));const Je={id:e?.id||Date.now().toString(),customer:b,borewell:{...N,appliedRates:ne},items:Oe,totalAmount:et,createdAt:e?.createdAt||Date.now(),type:q,boreType:I};t(Je)&&(e||a(r()+1),alert(`${q} Saved!`),n())},Z={id:"preview",customer:b,borewell:{...N,appliedRates:ne},items:Oe,totalAmount:et,createdAt:Date.now(),type:q,boreType:I};return O.jsxs("div",{className:"bg-slate-50 min-h-screen pb-20",children:[O.jsxs("div",{className:"bg-white p-4 shadow-sm flex items-center justify-between sticky top-0 z-10 box-border",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("button",{onClick:n,className:"p-2 hover:bg-slate-100 rounded-full",children:O.jsx(B1,{className:"w-5 h-5 text-gray-600"})}),O.jsx("h1",{className:"text-lg font-bold text-gray-800",children:e?"Edit Invoice":"New Invoice"})]}),O.jsxs("div",{className:"bg-green-50 px-3 py-1.5 rounded-lg border border-green-200 text-right",children:[O.jsx("p",{className:"text-[10px] text-gray-500 font-medium",children:"Estimated Total"}),O.jsxs("p",{className:"text-lg font-bold text-primary leading-none",children:["",et.toLocaleString()]})]})]}),O.jsxs("div",{className:"p-4 max-w-2xl mx-auto space-y-6",children:[O.jsxs("section",{className:"bg-white p-4 rounded-xl shadow-sm space-y-4",children:[O.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[O.jsx("h2",{className:"font-semibold text-lg text-primary",children:"Customer Details"}),O.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[O.jsx("button",{onClick:()=>{E("Invoice"),b.invoiceNumber.startsWith("QTN-")&&x({...b,invoiceNumber:b.invoiceNumber.replace("QTN-","INV-")})},className:`px-3 py-1 text-xs rounded-md font-medium transition-colors ${q==="Invoice"?"bg-white shadow text-primary":"text-gray-500"}`,children:"Invoice"}),O.jsx("button",{onClick:()=>{E("Quotation"),b.invoiceNumber.startsWith("INV-")&&x({...b,invoiceNumber:b.invoiceNumber.replace("INV-","QTN-")})},className:`px-3 py-1 text-xs rounded-md font-medium transition-colors ${q==="Quotation"?"bg-white shadow text-primary":"text-gray-500"}`,children:"Quotation"})]})]}),O.jsx("div",{className:"flex justify-end pt-2",children:O.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[O.jsx("button",{onClick:()=>R("New Bore"),className:`px-3 py-1 text-xs rounded-md font-medium transition-colors ${I==="New Bore"?"bg-white shadow text-primary":"text-gray-500"}`,children:"New Bore"}),O.jsx("button",{onClick:()=>R("Repair Bore"),className:`px-3 py-1 text-xs rounded-md font-medium transition-colors ${I==="Repair Bore"?"bg-white shadow text-primary":"text-gray-500"}`,children:"Repair Bore"})]})}),O.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[O.jsx("input",{type:"date",className:"w-full p-2 border rounded-lg",value:b.date,onChange:pe=>x({...b,date:pe.target.value}),onFocus:pe=>pe.target.select()}),O.jsx("input",{type:"text",placeholder:`${q} Number`,className:"w-full p-2 border rounded-lg",value:b.invoiceNumber,onChange:pe=>x({...b,invoiceNumber:pe.target.value}),onFocus:pe=>pe.target.select()}),O.jsx("input",{type:"text",placeholder:"Customer Name",className:"w-full p-2 border rounded-lg",value:b.name,onChange:pe=>x({...b,name:pe.target.value}),onFocus:pe=>pe.target.select()}),O.jsx("input",{type:"tel",placeholder:"Phone Number",className:"w-full p-2 border rounded-lg",value:b.phone,onChange:pe=>{const Je=pe.target.value.replace(/\D/g,"");Je.length<=10&&x({...b,phone:Je})},onFocus:pe=>pe.target.select()}),O.jsx("textarea",{placeholder:"Address",className:"w-full p-2 border rounded-lg md:col-span-2",rows:2,value:b.address,onChange:pe=>x({...b,address:pe.target.value}),onFocus:pe=>pe.target.select()})]})]}),O.jsxs("section",{className:"bg-white p-4 rounded-xl shadow-sm space-y-4",children:[O.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[O.jsx("h2",{className:"font-semibold text-lg text-primary",children:"Drilling Details"}),O.jsx("button",{onClick:()=>Q(!0),className:"text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded-full font-medium transition-colors",children:"Manage Rates"})]}),O.jsxs("div",{className:"flex justify-end pt-1",children:[O.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600 bg-gray-50 px-2 py-1 rounded cursor-pointer",children:[O.jsx("input",{type:"checkbox",checked:(N.drillingBuffer||0)>0,onChange:pe=>{w({...N,drillingBuffer:pe.target.checked?10:0})},className:"rounded text-primary focus:ring-primary"}),O.jsx("span",{children:"Allow Slab Extension"})]}),(N.drillingBuffer||0)>0&&O.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[O.jsx("label",{className:"text-[10px] text-gray-500",children:"Max Ext:"}),O.jsx("input",{type:"number",className:"w-12 p-1 text-xs border rounded text-center bg-gray-50 focus:ring-2 focus:ring-primary outline-none",value:N.drillingBuffer,onFocus:pe=>pe.target.select(),onChange:pe=>{const Je=pe.target.value;w({...N,drillingBuffer:Je===""?0:Number(Je)})}}),O.jsx("span",{className:"text-[10px] text-gray-500",children:"ft"})]})]}),O.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[O.jsxs("div",{children:[O.jsx("label",{className:"text-xs text-gray-500",children:"Total Depth (ft)"}),O.jsx("input",{type:"number",className:"w-full p-2 border rounded-lg",value:N.depth||"",onChange:pe=>w({...N,depth:Number(pe.target.value)}),onFocus:pe=>pe.target.select()})]}),O.jsx("div",{className:"flex items-end pb-2",children:O.jsxs("label",{className:"text-xs text-gray-500 font-bold text-green-600",children:["Drilling Cost: ",Ce.toLocaleString()]})}),I==="Repair Bore"&&O.jsxs(O.Fragment,{children:[O.jsxs("div",{children:[O.jsx("label",{className:"text-xs text-gray-500 font-bold text-orange-600",children:"Old Bore Depth (ft)"}),O.jsx("input",{type:"number",className:"w-full p-2 border-2 border-orange-100 rounded-lg bg-orange-50 focus:border-orange-300",value:N.oldBoreDepth||"",onChange:pe=>w({...N,oldBoreDepth:Number(pe.target.value)}),onFocus:pe=>pe.target.select()})]}),O.jsxs("div",{children:[O.jsx("label",{className:"text-xs text-gray-500 font-bold text-orange-600",children:"Flushing Rate / ft"}),O.jsx("input",{type:"number",className:"w-full p-2 border-2 border-orange-100 rounded-lg bg-orange-50 focus:border-orange-300",value:N.flushingRate||"",onChange:pe=>w({...N,flushingRate:Number(pe.target.value)}),onFocus:pe=>pe.target.select()})]})]}),O.jsxs("div",{children:[O.jsx("label",{className:"text-xs text-gray-500",children:'7" Casing Depth (ft)'}),O.jsx("input",{type:"number",className:"w-full p-2 border rounded-lg",value:N.casingDepth7||"",onChange:pe=>w({...N,casingDepth7:Number(pe.target.value)}),onFocus:pe=>pe.target.select()})]}),O.jsxs("div",{children:[O.jsx("label",{className:"text-xs text-gray-500",children:'7" Rate / ft'}),O.jsx("input",{type:"number",className:"w-full p-2 border rounded-lg",value:N.casingRate7||"",onChange:pe=>w({...N,casingRate7:Number(pe.target.value)}),onFocus:pe=>pe.target.select()})]}),O.jsxs("div",{children:[O.jsx("label",{className:"text-xs text-gray-500",children:'10" Casing Depth (ft)'}),O.jsx("input",{type:"number",className:"w-full p-2 border rounded-lg",value:N.casingDepth10||"",onChange:pe=>w({...N,casingDepth10:Number(pe.target.value)}),onFocus:pe=>pe.target.select()})]}),O.jsxs("div",{children:[O.jsx("label",{className:"text-xs text-gray-500",children:'10" Rate / ft'}),O.jsx("input",{type:"number",className:"w-full p-2 border rounded-lg",value:N.casingRate10||"",onChange:pe=>w({...N,casingRate10:Number(pe.target.value)}),onFocus:pe=>pe.target.select()})]})]})]}),O.jsxs("section",{className:"bg-white p-4 rounded-xl shadow-sm space-y-4",children:[O.jsx("h2",{className:"font-semibold text-lg text-primary border-b pb-2",children:"Other Charges"}),O.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[O.jsxs("div",{children:[O.jsx("label",{className:"text-xs text-gray-500",children:"Bata"}),O.jsx("input",{type:"number",className:"w-full p-2 border rounded-lg",value:N.bata||"",onChange:pe=>w({...N,bata:Number(pe.target.value)}),onFocus:pe=>pe.target.select()})]}),O.jsxs("div",{children:[O.jsx("label",{className:"text-xs text-gray-500",children:"Transport"}),O.jsx("input",{type:"number",className:"w-full p-2 border rounded-lg",value:N.transportCharges||"",onChange:pe=>w({...N,transportCharges:Number(pe.target.value)}),onFocus:pe=>pe.target.select()})]}),O.jsxs("div",{children:[O.jsx("label",{className:"text-xs text-gray-500",children:"Extra Time"}),O.jsx("input",{type:"number",className:"w-full p-2 border rounded-lg",value:N.extraTime||"",onChange:pe=>w({...N,extraTime:Number(pe.target.value)}),onFocus:pe=>pe.target.select()})]}),O.jsxs("div",{children:[O.jsx("label",{className:"text-xs text-gray-500 text-red-600 font-semibold",children:"Discount"}),O.jsx("input",{type:"number",className:"w-full p-2 border-2 border-red-50 rounded-lg text-red-600 focus:border-red-300",value:N.discountAmount||"",onChange:pe=>w({...N,discountAmount:Number(pe.target.value)}),onFocus:pe=>pe.target.select()})]})]})]}),O.jsxs("section",{className:"bg-white p-4 rounded-xl shadow-sm space-y-4",children:[O.jsx("h2",{className:"font-semibold text-lg text-primary border-b pb-2",children:"Extra Items (Cap, Motor, etc.)"}),O.jsxs("div",{className:"flex flex-col md:flex-row gap-2 mb-2",children:[O.jsx("input",{type:"text",placeholder:"Item Name",className:"w-full md:flex-1 p-2 border rounded-lg",value:P.description,onChange:pe=>D({...P,description:pe.target.value}),onFocus:pe=>pe.target.select()}),O.jsxs("div",{className:"flex gap-2",children:[O.jsx("input",{type:"number",placeholder:"Qty",className:"w-16 md:w-20 p-2 border rounded-lg shrink-0",value:P.quantity||"",onChange:pe=>D({...P,quantity:Number(pe.target.value)}),onFocus:pe=>pe.target.select()}),O.jsx("input",{type:"number",placeholder:"Rate",className:"flex-1 min-w-0 md:w-32 p-2 border rounded-lg",value:P.rate||"",onChange:pe=>D({...P,rate:Number(pe.target.value)}),onFocus:pe=>pe.target.select()}),O.jsx("button",{onClick:ye,className:"bg-secondary text-white p-2 rounded-lg w-12 shrink-0 flex justify-center items-center",children:O.jsx(Zv,{})})]})]}),ee.length>0&&O.jsxs("div",{className:"mb-4",children:[O.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Recent Items (Click to fill):"}),O.jsx("div",{className:"flex flex-wrap gap-2",children:ee.map((pe,Je)=>O.jsxs("button",{onClick:()=>D({...P,description:pe.description,rate:pe.rate}),className:"text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 px-2 py-1 rounded-full border border-gray-200 transition-colors",children:[pe.description," (",pe.rate,")"]},Je))})]}),O.jsx("div",{className:"space-y-2",children:Oe.map(pe=>O.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[O.jsxs("span",{className:"text-sm",children:[pe.description," (",pe.quantity," x ",pe.rate,")"]}),O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsxs("span",{className:"font-semibold",children:["",pe.amount]}),O.jsx("button",{onClick:()=>Le(pe.id),className:"text-red-500",children:O.jsx(Wu,{size:16})})]})]},pe.id))})]}),O.jsx("section",{className:"bg-white p-4 rounded-xl shadow-sm flex flex-col items-center sticky bottom-0 border-t-2 border-primary",children:O.jsxs("div",{className:"flex gap-4 w-full justify-center",children:[O.jsx("button",{onClick:n,className:"bg-gray-200 text-gray-700 px-6 py-3 rounded-full font-semibold hover:bg-gray-300 flex items-center gap-2",children:O.jsx(B1,{size:20})}),O.jsxs("button",{onClick:lt,className:"bg-gray-200 text-gray-700 px-8 py-3 rounded-full font-semibold hover:bg-gray-300 flex items-center gap-2",children:[O.jsx(z1,{size:20}),"Save"]}),O.jsxs("button",{onClick:()=>h(!0),className:"bg-primary text-white px-10 py-3 rounded-full font-semibold shadow-lg hover:bg-sky-700 flex items-center gap-2",children:[O.jsx(PC,{size:20}),"Preview"]})]})})]}),c&&O.jsxs("div",{className:"fixed inset-0 bg-black/80 z-50 flex flex-col pt-10 overflow-y-auto",children:[O.jsx("div",{className:"flex justify-end p-4 gap-4 px-4 sticky top-0",children:O.jsx("button",{onClick:()=>h(!1),className:"bg-white p-2 rounded-full",children:O.jsx(tc,{})})}),O.jsx("div",{className:"flex-1 overflow-y-auto px-2 md:px-0",children:O.jsx(q4,{ref:o,data:Z})}),O.jsx("div",{className:"bg-white p-4 flex justify-around items-center sticky bottom-0 pb-8 rounded-t-xl",children:O.jsxs("button",{onClick:()=>{lt(),h(!1)},className:"flex flex-col items-center gap-1 text-primary",children:[O.jsx("div",{className:"bg-blue-50 p-3 rounded-full",children:O.jsx(z1,{})}),O.jsx("span",{className:"text-xs font-semibold",children:"Save Invoice"})]})})]}),ke&&O.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:O.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[80vh] flex flex-col",children:[O.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-gray-50 rounded-t-xl",children:[O.jsx("h3",{className:"font-bold text-gray-800",children:"Manage Drilling Rates"}),O.jsx("button",{onClick:()=>Q(!1),className:"p-1 hover:bg-gray-200 rounded-full",children:O.jsx(tc,{size:20})})]}),O.jsxs("div",{className:"px-4 pt-4 border-b pb-4",children:[O.jsxs("div",{className:"flex justify-between items-center mb-2",children:[O.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Rate Profiles"}),O.jsx("button",{onClick:J,className:"text-xs text-primary hover:underline font-semibold",children:"+ Save Current as Profile"})]}),O.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:[fe.length===0&&O.jsx("span",{className:"text-xs text-gray-400 italic",children:"No saved profiles"}),fe.map((pe,Je)=>O.jsxs("div",{onClick:()=>ae(pe.name),className:`flex-shrink-0 px-3 py-2 rounded-lg border text-sm font-medium cursor-pointer transition-all flex items-center gap-2 ${k===pe.name?"bg-green-50 border-green-500 text-green-700 shadow-sm ring-1 ring-green-500":"bg-white border-gray-200 text-gray-600 hover:border-gray-300 hover:bg-gray-50"}`,children:[O.jsx("span",{children:pe.name}),k===pe.name&&O.jsx("button",{onClick:st=>{st.stopPropagation(),ue()},className:"hover:bg-green-200 p-1 rounded-full text-green-700",children:O.jsx(tc,{size:12})})]},Je))]})]}),O.jsxs("div",{className:"p-4 overflow-y-auto flex-1 space-y-4",children:[O.jsxs("div",{className:"space-y-2",children:[O.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs font-bold text-gray-500 uppercase",children:[O.jsx("div",{className:"text-center",children:"Min (ft)"}),O.jsx("div",{className:"text-center",children:"Max (ft)"}),O.jsx("div",{className:"text-center",children:"Rate ()"}),O.jsx("div",{className:"text-center",children:"Action"})]}),ne.map((pe,Je)=>O.jsxs("div",{className:"grid grid-cols-4 gap-2 items-center",children:[O.jsx("input",{type:"number",className:"p-2 border rounded text-center text-sm",value:pe.minDepth||"",onChange:st=>{const Me=[...ne];Me[Je].minDepth=Number(st.target.value),he(Me)}}),O.jsx("input",{type:"number",className:"p-2 border rounded text-center text-sm",value:pe.maxDepth||"",onChange:st=>{const Me=[...ne];Me[Je].maxDepth=Number(st.target.value),he(Me)}}),O.jsx("input",{type:"number",className:"p-2 border rounded text-center text-sm",value:pe.rate||"",onChange:st=>{const Me=[...ne];Me[Je].rate=Number(st.target.value),he(Me)}}),O.jsx("div",{className:"flex justify-center",children:O.jsx("button",{onClick:()=>{const st=ne.filter((Me,it)=>it!==Je);he(st)},className:"text-red-500 hover:bg-red-50 p-2 rounded-full",children:O.jsx(Wu,{size:16})})})]},Je))]}),O.jsxs("button",{onClick:()=>he([...ne,{minDepth:0,maxDepth:0,rate:0}]),className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-primary hover:text-primary transition-colors flex items-center justify-center gap-2",children:[O.jsx(Zv,{size:16})," Add New Slab"]})]}),O.jsxs("div",{className:"p-4 border-t bg-gray-50 rounded-b-xl flex justify-between",children:[O.jsx("button",{onClick:()=>{confirm("Reset to default rates?")&&he(V1)},className:"text-xs text-red-500 hover:underline",children:"Reset to Default"}),O.jsx("button",{onClick:()=>{localStorage.setItem("invoice_slab_rates",JSON.stringify(ne)),Q(!1)},className:"bg-primary text-white px-6 py-2 rounded-lg font-semibold shadow hover:bg-sky-700",children:"Save Rates"})]})]})})]})};function cI(n,e){if(n.match(/^[a-z]+:\/\//i))return n;if(n.match(/^\/\//))return window.location.protocol+n;if(n.match(/^[a-z]+:/i))return n;const t=document.implementation.createHTMLDocument(),r=t.createElement("base"),a=t.createElement("a");return t.head.appendChild(r),t.body.appendChild(a),e&&(r.href=e),a.href=n,a.href}const hI=(()=>{let n=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(n+=1,`u${e()}${n}`)})();function _u(n){const e=[];for(let t=0,r=n.length;t<r;t++)e.push(n[t]);return e}let Qc=null;function Y4(n={}){return Qc||(n.includeStyleProperties?(Qc=n.includeStyleProperties,Qc):(Qc=_u(window.getComputedStyle(document.documentElement)),Qc))}function Hp(n,e){const r=(n.ownerDocument.defaultView||window).getComputedStyle(n).getPropertyValue(e);return r?parseFloat(r.replace("px","")):0}function fI(n){const e=Hp(n,"border-left-width"),t=Hp(n,"border-right-width");return n.clientWidth+e+t}function dI(n){const e=Hp(n,"border-top-width"),t=Hp(n,"border-bottom-width");return n.clientHeight+e+t}function K4(n,e={}){const t=e.width||fI(n),r=e.height||dI(n);return{width:t,height:r}}function pI(){let n,e;try{e=process}catch{}const t=e&&e.env?e.env.devicePixelRatio:null;return t&&(n=parseInt(t,10),Number.isNaN(n)&&(n=1)),n||window.devicePixelRatio||1}const fa=16384;function mI(n){(n.width>fa||n.height>fa)&&(n.width>fa&&n.height>fa?n.width>n.height?(n.height*=fa/n.width,n.width=fa):(n.width*=fa/n.height,n.height=fa):n.width>fa?(n.height*=fa/n.width,n.width=fa):(n.width*=fa/n.height,n.height=fa))}function Gp(n){return new Promise((e,t)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>e(r))})},r.onerror=t,r.crossOrigin="anonymous",r.decoding="async",r.src=n})}async function gI(n){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(n)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function yI(n,e,t){const r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"svg"),o=document.createElementNS(r,"foreignObject");return a.setAttribute("width",`${e}`),a.setAttribute("height",`${t}`),a.setAttribute("viewBox",`0 0 ${e} ${t}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),a.appendChild(o),o.appendChild(n),gI(a)}const Qs=(n,e)=>{if(n instanceof e)return!0;const t=Object.getPrototypeOf(n);return t===null?!1:t.constructor.name===e.name||Qs(t,e)};function vI(n){const e=n.getPropertyValue("content");return`${n.cssText} content: '${e.replace(/'|"/g,"")}';`}function bI(n,e){return Y4(e).map(t=>{const r=n.getPropertyValue(t),a=n.getPropertyPriority(t);return`${t}: ${r}${a?" !important":""};`}).join(" ")}function _I(n,e,t,r){const a=`.${n}:${e}`,o=t.cssText?vI(t):bI(t,r);return document.createTextNode(`${a}{${o}}`)}function eb(n,e,t,r){const a=window.getComputedStyle(n,t),o=a.getPropertyValue("content");if(o===""||o==="none")return;const c=hI();try{e.className=`${e.className} ${c}`}catch{return}const h=document.createElement("style");h.appendChild(_I(c,t,a,r)),e.appendChild(h)}function wI(n,e,t){eb(n,e,":before",t),eb(n,e,":after",t)}const tb="application/font-woff",nb="image/jpeg",AI={woff:tb,woff2:tb,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:nb,jpeg:nb,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function SI(n){const e=/\.([^./]*?)$/g.exec(n);return e?e[1]:""}function Y0(n){const e=SI(n).toLowerCase();return AI[e]||""}function xI(n){return n.split(/,/)[1]}function q1(n){return n.search(/^(data:)/)!==-1}function EI(n,e){return`data:${e};base64,${n}`}async function $4(n,e,t){const r=await fetch(n,e);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const a=await r.blob();return new Promise((o,c)=>{const h=new FileReader;h.onerror=c,h.onloadend=()=>{try{o(t({res:r,result:h.result}))}catch(d){c(d)}},h.readAsDataURL(a)})}const Yg={};function TI(n,e,t){let r=n.replace(/\?.*/,"");return t&&(r=n),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}async function K0(n,e,t){const r=TI(n,e,t.includeQueryParams);if(Yg[r]!=null)return Yg[r];t.cacheBust&&(n+=(/\?/.test(n)?"&":"?")+new Date().getTime());let a;try{const o=await $4(n,t.fetchRequestInit,({res:c,result:h})=>(e||(e=c.headers.get("Content-Type")||""),xI(h)));a=EI(o,e)}catch(o){a=t.imagePlaceholder||"";let c=`Failed to fetch resource: ${n}`;o&&(c=typeof o=="string"?o:o.message),c&&console.warn(c)}return Yg[r]=a,a}async function NI(n){const e=n.toDataURL();return e==="data:,"?n.cloneNode(!1):Gp(e)}async function CI(n,e){if(n.currentSrc){const o=document.createElement("canvas"),c=o.getContext("2d");o.width=n.clientWidth,o.height=n.clientHeight,c?.drawImage(n,0,0,o.width,o.height);const h=o.toDataURL();return Gp(h)}const t=n.poster,r=Y0(t),a=await K0(t,r,e);return Gp(a)}async function II(n,e){var t;try{if(!((t=n?.contentDocument)===null||t===void 0)&&t.body)return await dm(n.contentDocument.body,e,!0)}catch{}return n.cloneNode(!1)}async function RI(n,e){return Qs(n,HTMLCanvasElement)?NI(n):Qs(n,HTMLVideoElement)?CI(n,e):Qs(n,HTMLIFrameElement)?II(n,e):n.cloneNode(X4(n))}const LI=n=>n.tagName!=null&&n.tagName.toUpperCase()==="SLOT",X4=n=>n.tagName!=null&&n.tagName.toUpperCase()==="SVG";async function kI(n,e,t){var r,a;if(X4(e))return e;let o=[];return LI(n)&&n.assignedNodes?o=_u(n.assignedNodes()):Qs(n,HTMLIFrameElement)&&(!((r=n.contentDocument)===null||r===void 0)&&r.body)?o=_u(n.contentDocument.body.childNodes):o=_u(((a=n.shadowRoot)!==null&&a!==void 0?a:n).childNodes),o.length===0||Qs(n,HTMLVideoElement)||await o.reduce((c,h)=>c.then(()=>dm(h,t)).then(d=>{d&&e.appendChild(d)}),Promise.resolve()),e}function DI(n,e,t){const r=e.style;if(!r)return;const a=window.getComputedStyle(n);a.cssText?(r.cssText=a.cssText,r.transformOrigin=a.transformOrigin):Y4(t).forEach(o=>{let c=a.getPropertyValue(o);o==="font-size"&&c.endsWith("px")&&(c=`${Math.floor(parseFloat(c.substring(0,c.length-2)))-.1}px`),Qs(n,HTMLIFrameElement)&&o==="display"&&c==="inline"&&(c="block"),o==="d"&&e.getAttribute("d")&&(c=`path(${e.getAttribute("d")})`),r.setProperty(o,c,a.getPropertyPriority(o))})}function OI(n,e){Qs(n,HTMLTextAreaElement)&&(e.innerHTML=n.value),Qs(n,HTMLInputElement)&&e.setAttribute("value",n.value)}function PI(n,e){if(Qs(n,HTMLSelectElement)){const r=Array.from(e.children).find(a=>n.value===a.getAttribute("value"));r&&r.setAttribute("selected","")}}function MI(n,e,t){return Qs(e,Element)&&(DI(n,e,t),wI(n,e,t),OI(n,e),PI(n,e)),e}async function jI(n,e){const t=n.querySelectorAll?n.querySelectorAll("use"):[];if(t.length===0)return n;const r={};for(let o=0;o<t.length;o++){const h=t[o].getAttribute("xlink:href");if(h){const d=n.querySelector(h),m=document.querySelector(h);!d&&m&&!r[h]&&(r[h]=await dm(m,e,!0))}}const a=Object.values(r);if(a.length){const o="http://www.w3.org/1999/xhtml",c=document.createElementNS(o,"svg");c.setAttribute("xmlns",o),c.style.position="absolute",c.style.width="0",c.style.height="0",c.style.overflow="hidden",c.style.display="none";const h=document.createElementNS(o,"defs");c.appendChild(h);for(let d=0;d<a.length;d++)h.appendChild(a[d]);n.appendChild(c)}return n}async function dm(n,e,t){return!t&&e.filter&&!e.filter(n)?null:Promise.resolve(n).then(r=>RI(r,e)).then(r=>kI(n,r,e)).then(r=>MI(n,r,e)).then(r=>jI(r,e))}const Q4=/url\((['"]?)([^'"]+?)\1\)/g,UI=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,VI=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function BI(n){const e=n.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function FI(n){const e=[];return n.replace(Q4,(t,r,a)=>(e.push(a),t)),e.filter(t=>!q1(t))}async function zI(n,e,t,r,a){try{const o=t?cI(e,t):e,c=Y0(e);let h;return a||(h=await K0(o,c,r)),n.replace(BI(e),`$1${h}$3`)}catch{}return n}function qI(n,{preferredFontFormat:e}){return e?n.replace(VI,t=>{for(;;){const[r,,a]=UI.exec(t)||[];if(!a)return"";if(a===e)return`src: ${r};`}}):n}function W4(n){return n.search(Q4)!==-1}async function J4(n,e,t){if(!W4(n))return n;const r=qI(n,t);return FI(r).reduce((o,c)=>o.then(h=>zI(h,c,e,t)),Promise.resolve(r))}async function Wc(n,e,t){var r;const a=(r=e.style)===null||r===void 0?void 0:r.getPropertyValue(n);if(a){const o=await J4(a,null,t);return e.style.setProperty(n,o,e.style.getPropertyPriority(n)),!0}return!1}async function HI(n,e){await Wc("background",n,e)||await Wc("background-image",n,e),await Wc("mask",n,e)||await Wc("-webkit-mask",n,e)||await Wc("mask-image",n,e)||await Wc("-webkit-mask-image",n,e)}async function GI(n,e){const t=Qs(n,HTMLImageElement);if(!(t&&!q1(n.src))&&!(Qs(n,SVGImageElement)&&!q1(n.href.baseVal)))return;const r=t?n.src:n.href.baseVal,a=await K0(r,Y0(r),e);await new Promise((o,c)=>{n.onload=o,n.onerror=e.onImageErrorHandler?(...d)=>{try{o(e.onImageErrorHandler(...d))}catch(m){c(m)}}:c;const h=n;h.decode&&(h.decode=o),h.loading==="lazy"&&(h.loading="eager"),t?(n.srcset="",n.src=a):n.href.baseVal=a})}async function YI(n,e){const r=_u(n.childNodes).map(a=>Z4(a,e));await Promise.all(r).then(()=>n)}async function Z4(n,e){Qs(n,Element)&&(await HI(n,e),await GI(n,e),await YI(n,e))}function KI(n,e){const{style:t}=n;e.backgroundColor&&(t.backgroundColor=e.backgroundColor),e.width&&(t.width=`${e.width}px`),e.height&&(t.height=`${e.height}px`);const r=e.style;return r!=null&&Object.keys(r).forEach(a=>{t[a]=r[a]}),n}const ib={};async function rb(n){let e=ib[n];if(e!=null)return e;const r=await(await fetch(n)).text();return e={url:n,cssText:r},ib[n]=e,e}async function sb(n,e){let t=n.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,o=(t.match(/url\([^)]+\)/g)||[]).map(async c=>{let h=c.replace(r,"$1");return h.startsWith("https://")||(h=new URL(h,n.url).href),$4(h,e.fetchRequestInit,({result:d})=>(t=t.replace(c,`url(${d})`),[c,d]))});return Promise.all(o).then(()=>t)}function ab(n){if(n==null)return[];const e=[],t=/(\/\*[\s\S]*?\*\/)/gi;let r=n.replace(t,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const d=a.exec(r);if(d===null)break;e.push(d[0])}r=r.replace(a,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,c="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",h=new RegExp(c,"gi");for(;;){let d=o.exec(r);if(d===null){if(d=h.exec(r),d===null)break;o.lastIndex=h.lastIndex}else h.lastIndex=o.lastIndex;e.push(d[0])}return e}async function $I(n,e){const t=[],r=[];return n.forEach(a=>{if("cssRules"in a)try{_u(a.cssRules||[]).forEach((o,c)=>{if(o.type===CSSRule.IMPORT_RULE){let h=c+1;const d=o.href,m=rb(d).then(b=>sb(b,e)).then(b=>ab(b).forEach(x=>{try{a.insertRule(x,x.startsWith("@import")?h+=1:a.cssRules.length)}catch(N){console.error("Error inserting rule from remote css",{rule:x,error:N})}})).catch(b=>{console.error("Error loading remote css",b.toString())});r.push(m)}})}catch(o){const c=n.find(h=>h.href==null)||document.styleSheets[0];a.href!=null&&r.push(rb(a.href).then(h=>sb(h,e)).then(h=>ab(h).forEach(d=>{c.insertRule(d,c.cssRules.length)})).catch(h=>{console.error("Error loading remote stylesheet",h)})),console.error("Error inlining remote css file",o)}}),Promise.all(r).then(()=>(n.forEach(a=>{if("cssRules"in a)try{_u(a.cssRules||[]).forEach(o=>{t.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${a.href}`,o)}}),t))}function XI(n){return n.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>W4(e.style.getPropertyValue("src")))}async function QI(n,e){if(n.ownerDocument==null)throw new Error("Provided element is not within a Document");const t=_u(n.ownerDocument.styleSheets),r=await $I(t,e);return XI(r)}function e3(n){return n.trim().replace(/["']/g,"")}function WI(n){const e=new Set;function t(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(o=>{e.add(e3(o))}),Array.from(r.children).forEach(o=>{o instanceof HTMLElement&&t(o)})}return t(n),e}async function JI(n,e){const t=await QI(n,e),r=WI(n);return(await Promise.all(t.filter(o=>r.has(e3(o.style.fontFamily))).map(o=>{const c=o.parentStyleSheet?o.parentStyleSheet.href:null;return J4(o.cssText,c,e)}))).join(`
`)}async function ZI(n,e){const t=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await JI(n,e);if(t){const r=document.createElement("style"),a=document.createTextNode(t);r.appendChild(a),n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r)}}async function e7(n,e={}){const{width:t,height:r}=K4(n,e),a=await dm(n,e,!0);return await ZI(a,e),await Z4(a,e),KI(a,e),await yI(a,t,r)}async function t7(n,e={}){const{width:t,height:r}=K4(n,e),a=await e7(n,e),o=await Gp(a),c=document.createElement("canvas"),h=c.getContext("2d"),d=e.pixelRatio||pI(),m=e.canvasWidth||t,b=e.canvasHeight||r;return c.width=m*d,c.height=b*d,e.skipAutoScale||mI(c),c.style.width=`${m}`,c.style.height=`${b}`,e.backgroundColor&&(h.fillStyle=e.backgroundColor,h.fillRect(0,0,c.width,c.height)),h.drawImage(o,0,0,c.width,c.height),c}async function n7(n,e={}){return(await t7(n,e)).toDataURL()}const i7="modulepreload",r7=function(n,e){return new URL(n,e).href},ob={},Kg=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let m=function(b){return Promise.all(b.map(x=>Promise.resolve(x).then(N=>({status:"fulfilled",value:N}),N=>({status:"rejected",reason:N}))))};const c=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");a=m(t.map(b=>{if(b=r7(b,r),b in ob)return;ob[b]=!0;const x=b.endsWith(".css"),N=x?'[rel="stylesheet"]':"";if(r)for(let F=c.length-1;F>=0;F--){const z=c[F];if(z.href===b&&(!x||z.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${b}"]${N}`))return;const w=document.createElement("link");if(w.rel=x?"stylesheet":i7,x||(w.as="script"),w.crossOrigin="",w.href=b,d&&w.setAttribute("nonce",d),document.head.appendChild(w),x)return new Promise((F,z)=>{w.addEventListener("load",F),w.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${b}`)))})}))}function o(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})};function Xn(n){"@babel/helpers - typeof";return Xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xn(n)}var co=Uint8Array,pa=Uint16Array,$0=Int32Array,X0=new co([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Q0=new co([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),lb=new co([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),t3=function(n,e){for(var t=new pa(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var a=new $0(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)a[o]=o-t[r]<<5|r;return{b:t,r:a}},n3=t3(X0,2),s7=n3.b,H1=n3.r;s7[28]=258,H1[258]=28;var a7=t3(Q0,0),ub=a7.r,G1=new pa(32768);for(var gi=0;gi<32768;++gi){var uu=(gi&43690)>>1|(gi&21845)<<1;uu=(uu&52428)>>2|(uu&13107)<<2,uu=(uu&61680)>>4|(uu&3855)<<4,G1[gi]=((uu&65280)>>8|(uu&255)<<8)>>1}var Rf=(function(n,e,t){for(var r=n.length,a=0,o=new pa(e);a<r;++a)n[a]&&++o[n[a]-1];var c=new pa(e);for(a=1;a<e;++a)c[a]=c[a-1]+o[a-1]<<1;var h;if(t){h=new pa(1<<e);var d=15-e;for(a=0;a<r;++a)if(n[a])for(var m=a<<4|n[a],b=e-n[a],x=c[n[a]-1]++<<b,N=x|(1<<b)-1;x<=N;++x)h[G1[x]>>d]=m}else for(h=new pa(r),a=0;a<r;++a)n[a]&&(h[a]=G1[c[n[a]-1]++]>>15-n[a]);return h}),lc=new co(288);for(var gi=0;gi<144;++gi)lc[gi]=8;for(var gi=144;gi<256;++gi)lc[gi]=9;for(var gi=256;gi<280;++gi)lc[gi]=7;for(var gi=280;gi<288;++gi)lc[gi]=8;var Yp=new co(32);for(var gi=0;gi<32;++gi)Yp[gi]=5;var o7=Rf(lc,9,0),l7=Rf(Yp,5,0),i3=function(n){return(n+7)/8|0},u7=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new co(n.subarray(e,t))},wl=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},vf=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},$g=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var a=t.length,o=t.slice();if(!a)return{t:s3,l:0};if(a==1){var c=new co(t[0].s+1);return c[t[0].s]=1,{t:c,l:1}}t.sort(function(xe,Oe){return xe.f-Oe.f}),t.push({s:-1,f:25001});var h=t[0],d=t[1],m=0,b=1,x=2;for(t[0]={s:-1,f:h.f+d.f,l:h,r:d};b!=a-1;)h=t[t[m].f<t[x].f?m++:x++],d=t[m!=b&&t[m].f<t[x].f?m++:x++],t[b++]={s:-1,f:h.f+d.f,l:h,r:d};for(var N=o[0].s,r=1;r<a;++r)o[r].s>N&&(N=o[r].s);var w=new pa(N+1),F=Y1(t[b-1],w,0);if(F>e){var r=0,z=0,$=F-e,V=1<<$;for(o.sort(function(Oe,H){return w[H.s]-w[Oe.s]||Oe.f-H.f});r<a;++r){var le=o[r].s;if(w[le]>e)z+=V-(1<<F-w[le]),w[le]=e;else break}for(z>>=$;z>0;){var oe=o[r].s;w[oe]<e?z-=1<<e-w[oe]++-1:++r}for(;r>=0&&z;--r){var se=o[r].s;w[se]==e&&(--w[se],++z)}F=e}return{t:new co(w),l:F}},Y1=function(n,e,t){return n.s==-1?Math.max(Y1(n.l,e,t+1),Y1(n.r,e,t+1)):e[n.s]=t},cb=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new pa(++e),r=0,a=n[0],o=1,c=function(d){t[r++]=d},h=1;h<=e;++h)if(n[h]==a&&h!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(a),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(a);o=1,a=n[h]}return{c:t.subarray(0,r),n:e}},bf=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},r3=function(n,e,t){var r=t.length,a=i3(e+2);n[a]=r&255,n[a+1]=r>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var o=0;o<r;++o)n[a+o+4]=t[o];return(a+4+r)*8},hb=function(n,e,t,r,a,o,c,h,d,m,b){wl(e,b++,t),++a[256];for(var x=$g(a,15),N=x.t,w=x.l,F=$g(o,15),z=F.t,$=F.l,V=cb(N),le=V.c,oe=V.n,se=cb(z),xe=se.c,Oe=se.n,H=new pa(19),P=0;P<le.length;++P)++H[le[P]&31];for(var P=0;P<xe.length;++P)++H[xe[P]&31];for(var D=$g(H,7),q=D.t,E=D.l,I=19;I>4&&!q[lb[I-1]];--I);var R=m+5<<3,ee=bf(a,lc)+bf(o,Yp)+c,be=bf(a,N)+bf(o,z)+c+14+3*I+bf(H,q)+2*H[16]+3*H[17]+7*H[18];if(d>=0&&R<=ee&&R<=be)return r3(e,b,n.subarray(d,d+m));var ne,he,fe,Te;if(wl(e,b,1+(be<ee)),b+=2,be<ee){ne=Rf(N,w,0),he=N,fe=Rf(z,$,0),Te=z;var ke=Rf(q,E,0);wl(e,b,oe-257),wl(e,b+5,Oe-1),wl(e,b+10,I-4),b+=14;for(var P=0;P<I;++P)wl(e,b+3*P,q[lb[P]]);b+=3*I;for(var Q=[le,xe],k=0;k<2;++k)for(var Y=Q[k],P=0;P<Y.length;++P){var J=Y[P]&31;wl(e,b,ke[J]),b+=q[J],J>15&&(wl(e,b,Y[P]>>5&127),b+=Y[P]>>12)}}else ne=o7,he=lc,fe=l7,Te=Yp;for(var P=0;P<h;++P){var ae=r[P];if(ae>255){var J=ae>>18&31;vf(e,b,ne[J+257]),b+=he[J+257],J>7&&(wl(e,b,ae>>23&31),b+=X0[J]);var ue=ae&31;vf(e,b,fe[ue]),b+=Te[ue],ue>3&&(vf(e,b,ae>>5&8191),b+=Q0[ue])}else vf(e,b,ne[ae]),b+=he[ae]}return vf(e,b,ne[256]),b+he[256]},c7=new $0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),s3=new co(0),h7=function(n,e,t,r,a,o){var c=o.z||n.length,h=new co(r+c+5*(1+Math.ceil(c/7e3))+a),d=h.subarray(r,h.length-a),m=o.l,b=(o.r||0)&7;if(e){b&&(d[0]=o.r>>3);for(var x=c7[e-1],N=x>>13,w=x&8191,F=(1<<t)-1,z=o.p||new pa(32768),$=o.h||new pa(F+1),V=Math.ceil(t/3),le=2*V,oe=function(lt){return(n[lt]^n[lt+1]<<V^n[lt+2]<<le)&F},se=new $0(25e3),xe=new pa(288),Oe=new pa(32),H=0,P=0,D=o.i||0,q=0,E=o.w||0,I=0;D+2<c;++D){var R=oe(D),ee=D&32767,be=$[R];if(z[ee]=be,$[R]=ee,E<=D){var ne=c-D;if((H>7e3||q>24576)&&(ne>423||!m)){b=hb(n,d,0,se,xe,Oe,P,q,I,D-I,b),q=H=P=0,I=D;for(var he=0;he<286;++he)xe[he]=0;for(var he=0;he<30;++he)Oe[he]=0}var fe=2,Te=0,ke=w,Q=ee-be&32767;if(ne>2&&R==oe(D-Q))for(var k=Math.min(N,ne)-1,Y=Math.min(32767,D),J=Math.min(258,ne);Q<=Y&&--ke&&ee!=be;){if(n[D+fe]==n[D+fe-Q]){for(var ae=0;ae<J&&n[D+ae]==n[D+ae-Q];++ae);if(ae>fe){if(fe=ae,Te=Q,ae>k)break;for(var ue=Math.min(Q,ae-2),ye=0,he=0;he<ue;++he){var Le=D-Q+he&32767,Ce=z[Le],Be=Le-Ce&32767;Be>ye&&(ye=Be,be=Le)}}}ee=be,be=z[ee],Q+=ee-be&32767}if(Te){se[q++]=268435456|H1[fe]<<18|ub[Te];var Xe=H1[fe]&31,nt=ub[Te]&31;P+=X0[Xe]+Q0[nt],++xe[257+Xe],++Oe[nt],E=D+fe,++H}else se[q++]=n[D],++xe[n[D]]}}for(D=Math.max(D,E);D<c;++D)se[q++]=n[D],++xe[n[D]];b=hb(n,d,m,se,xe,Oe,P,q,I,D-I,b),m||(o.r=b&7|d[b/8|0]<<3,b-=7,o.h=$,o.p=z,o.i=D,o.w=E)}else{for(var D=o.w||0;D<c+m;D+=65535){var et=D+65535;et>=c&&(d[b/8|0]=m,et=c),b=r3(d,b+1,n.subarray(D,et))}o.i=c}return u7(h,0,r+i3(b)+a)},a3=function(){var n=1,e=0;return{p:function(t){for(var r=n,a=e,o=t.length|0,c=0;c!=o;){for(var h=Math.min(c+2655,o);c<h;++c)a+=r+=t[c];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}n=r,e=a},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},f7=function(n,e,t,r,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),c=new co(o.length+n.length);c.set(o),c.set(n,o.length),n=c,a.w=o.length}return h7(n,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,a)},o3=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},d7=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var a=a3();a.p(e.dictionary),o3(n,2,a.d())}};function K1(n,e){e||(e={});var t=a3();t.p(n);var r=f7(n,e,e.dictionary?6:2,4);return d7(r,e),o3(r,r.length-4,t.d()),r}var p7=typeof TextDecoder<"u"&&new TextDecoder,m7=0;try{p7.decode(s3,{stream:!0}),m7=1}catch{}function g7(n){if(Array.isArray(n))return n}function y7(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,a,o,c,h=[],d=!0,m=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(d=(r=o.call(t)).done)&&(h.push(r.value),h.length!==e);d=!0);}catch(b){m=!0,a=b}finally{try{if(!d&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(m)throw a}}return h}}function fb(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function v7(n,e){if(n){if(typeof n=="string")return fb(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?fb(n,e):void 0}}function b7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function db(n,e){return g7(n)||y7(n,e)||v7(n,e)||b7()}function pb(n,e="utf8"){return new TextDecoder(e).decode(n)}const _7=new TextEncoder;function w7(n){return _7.encode(n)}const A7=1024*8,S7=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),Xg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class W0{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=A7,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,o=e.byteLength-a;let c=a;(ArrayBuffer.isView(e)||e instanceof W0)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+a),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,a=new Uint8Array(r);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=Xg[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+r);if(this.littleEndian===S7&&t!=="uint8"&&t!=="int8"){const h=new Uint8Array(this.buffer.slice(a,a+r));h.reverse();const d=new Xg[t](h.buffer);return this.offset+=r,d.reverse(),d}const c=new Xg[t](o);return this.offset+=r,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return pb(this.readBytes(e))}decodeText(e=1,t="utf8"){return pb(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(w7(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Dh(n){let e=n.length;for(;--e>=0;)n[e]=0}const x7=3,E7=258,l3=29,T7=256,N7=T7+1+l3,u3=30,C7=512,I7=new Array((N7+2)*2);Dh(I7);const R7=new Array(u3*2);Dh(R7);const L7=new Array(C7);Dh(L7);const k7=new Array(E7-x7+1);Dh(k7);const D7=new Array(l3);Dh(D7);const O7=new Array(u3);Dh(O7);const P7=(n,e,t,r)=>{let a=n&65535|0,o=n>>>16&65535|0,c=0;for(;t!==0;){c=t>2e3?2e3:t,t-=c;do a=a+e[r++]|0,o=o+a|0;while(--c);a%=65521,o%=65521}return a|o<<16|0};var $1=P7;const M7=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},j7=new Uint32Array(M7()),U7=(n,e,t,r)=>{const a=j7,o=r+t;n^=-1;for(let c=r;c<o;c++)n=n>>>8^a[(n^e[c])&255];return n^-1};var Mo=U7,X1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},c3={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const V7=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var B7=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)V7(t,r)&&(n[r]=t[r])}}return n},F7=n=>{let e=0;for(let r=0,a=n.length;r<a;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,a=0,o=n.length;r<o;r++){let c=n[r];t.set(c,a),a+=c.length}return t},h3={assign:B7,flattenChunks:F7};let f3=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{f3=!1}const Ff=new Uint8Array(256);for(let n=0;n<256;n++)Ff[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Ff[254]=Ff[254]=1;var z7=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,a,o,c=n.length,h=0;for(a=0;a<c;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<c&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),h+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(h),o=0,a=0;o<h;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<c&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const q7=(n,e)=>{if(e<65534&&n.subarray&&f3)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var H7=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,a;const o=new Array(t*2);for(a=0,r=0;r<t;){let c=n[r++];if(c<128){o[a++]=c;continue}let h=Ff[c];if(h>4){o[a++]=65533,r+=h-1;continue}for(c&=h===2?31:h===3?15:7;h>1&&r<t;)c=c<<6|n[r++]&63,h--;if(h>1){o[a++]=65533;continue}c<65536?o[a++]=c:(c-=65536,o[a++]=55296|c>>10&1023,o[a++]=56320|c&1023)}return q7(o,a)},G7=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+Ff[n[t]]>e?t:e},Q1={string2buf:z7,buf2string:H7,utf8border:G7};function Y7(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var K7=Y7;const Jd=16209,$7=16191;var X7=function(e,t){let r,a,o,c,h,d,m,b,x,N,w,F,z,$,V,le,oe,se,xe,Oe,H,P,D,q;const E=e.state;r=e.next_in,D=e.input,a=r+(e.avail_in-5),o=e.next_out,q=e.output,c=o-(t-e.avail_out),h=o+(e.avail_out-257),d=E.dmax,m=E.wsize,b=E.whave,x=E.wnext,N=E.window,w=E.hold,F=E.bits,z=E.lencode,$=E.distcode,V=(1<<E.lenbits)-1,le=(1<<E.distbits)-1;e:do{F<15&&(w+=D[r++]<<F,F+=8,w+=D[r++]<<F,F+=8),oe=z[w&V];t:for(;;){if(se=oe>>>24,w>>>=se,F-=se,se=oe>>>16&255,se===0)q[o++]=oe&65535;else if(se&16){xe=oe&65535,se&=15,se&&(F<se&&(w+=D[r++]<<F,F+=8),xe+=w&(1<<se)-1,w>>>=se,F-=se),F<15&&(w+=D[r++]<<F,F+=8,w+=D[r++]<<F,F+=8),oe=$[w&le];n:for(;;){if(se=oe>>>24,w>>>=se,F-=se,se=oe>>>16&255,se&16){if(Oe=oe&65535,se&=15,F<se&&(w+=D[r++]<<F,F+=8,F<se&&(w+=D[r++]<<F,F+=8)),Oe+=w&(1<<se)-1,Oe>d){e.msg="invalid distance too far back",E.mode=Jd;break e}if(w>>>=se,F-=se,se=o-c,Oe>se){if(se=Oe-se,se>b&&E.sane){e.msg="invalid distance too far back",E.mode=Jd;break e}if(H=0,P=N,x===0){if(H+=m-se,se<xe){xe-=se;do q[o++]=N[H++];while(--se);H=o-Oe,P=q}}else if(x<se){if(H+=m+x-se,se-=x,se<xe){xe-=se;do q[o++]=N[H++];while(--se);if(H=0,x<xe){se=x,xe-=se;do q[o++]=N[H++];while(--se);H=o-Oe,P=q}}}else if(H+=x-se,se<xe){xe-=se;do q[o++]=N[H++];while(--se);H=o-Oe,P=q}for(;xe>2;)q[o++]=P[H++],q[o++]=P[H++],q[o++]=P[H++],xe-=3;xe&&(q[o++]=P[H++],xe>1&&(q[o++]=P[H++]))}else{H=o-Oe;do q[o++]=q[H++],q[o++]=q[H++],q[o++]=q[H++],xe-=3;while(xe>2);xe&&(q[o++]=q[H++],xe>1&&(q[o++]=q[H++]))}}else if((se&64)===0){oe=$[(oe&65535)+(w&(1<<se)-1)];continue n}else{e.msg="invalid distance code",E.mode=Jd;break e}break}}else if((se&64)===0){oe=z[(oe&65535)+(w&(1<<se)-1)];continue t}else if(se&32){E.mode=$7;break e}else{e.msg="invalid literal/length code",E.mode=Jd;break e}break}}while(r<a&&o<h);xe=F>>3,r-=xe,F-=xe<<3,w&=(1<<F)-1,e.next_in=r,e.next_out=o,e.avail_in=r<a?5+(a-r):5-(r-a),e.avail_out=o<h?257+(h-o):257-(o-h),E.hold=w,E.bits=F};const Jc=15,mb=852,gb=592,yb=0,Qg=1,vb=2,Q7=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),W7=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),J7=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Z7=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),eR=(n,e,t,r,a,o,c,h)=>{const d=h.bits;let m=0,b=0,x=0,N=0,w=0,F=0,z=0,$=0,V=0,le=0,oe,se,xe,Oe,H,P=null,D;const q=new Uint16Array(Jc+1),E=new Uint16Array(Jc+1);let I=null,R,ee,be;for(m=0;m<=Jc;m++)q[m]=0;for(b=0;b<r;b++)q[e[t+b]]++;for(w=d,N=Jc;N>=1&&q[N]===0;N--);if(w>N&&(w=N),N===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,h.bits=1,0;for(x=1;x<N&&q[x]===0;x++);for(w<x&&(w=x),$=1,m=1;m<=Jc;m++)if($<<=1,$-=q[m],$<0)return-1;if($>0&&(n===yb||N!==1))return-1;for(E[1]=0,m=1;m<Jc;m++)E[m+1]=E[m]+q[m];for(b=0;b<r;b++)e[t+b]!==0&&(c[E[e[t+b]]++]=b);if(n===yb?(P=I=c,D=20):n===Qg?(P=Q7,I=W7,D=257):(P=J7,I=Z7,D=0),le=0,b=0,m=x,H=o,F=w,z=0,xe=-1,V=1<<w,Oe=V-1,n===Qg&&V>mb||n===vb&&V>gb)return 1;for(;;){R=m-z,c[b]+1<D?(ee=0,be=c[b]):c[b]>=D?(ee=I[c[b]-D],be=P[c[b]-D]):(ee=96,be=0),oe=1<<m-z,se=1<<F,x=se;do se-=oe,a[H+(le>>z)+se]=R<<24|ee<<16|be|0;while(se!==0);for(oe=1<<m-1;le&oe;)oe>>=1;if(oe!==0?(le&=oe-1,le+=oe):le=0,b++,--q[m]===0){if(m===N)break;m=e[t+c[b]]}if(m>w&&(le&Oe)!==xe){for(z===0&&(z=w),H+=x,F=m-z,$=1<<F;F+z<N&&($-=q[F+z],!($<=0));)F++,$<<=1;if(V+=1<<F,n===Qg&&V>mb||n===vb&&V>gb)return 1;xe=le&Oe,a[xe]=w<<24|F<<16|H-o|0}}return le!==0&&(a[H+le]=m-z<<24|64<<16|0),h.bits=w,0};var Lf=eR;const tR=0,d3=1,p3=2,{Z_FINISH:bb,Z_BLOCK:nR,Z_TREES:Zd,Z_OK:uc,Z_STREAM_END:iR,Z_NEED_DICT:rR,Z_STREAM_ERROR:ja,Z_DATA_ERROR:m3,Z_MEM_ERROR:g3,Z_BUF_ERROR:sR,Z_DEFLATED:_b}=c3,pm=16180,wb=16181,Ab=16182,Sb=16183,xb=16184,Eb=16185,Tb=16186,Nb=16187,Cb=16188,Ib=16189,Kp=16190,Al=16191,Wg=16192,Rb=16193,Jg=16194,Lb=16195,kb=16196,Db=16197,Ob=16198,ep=16199,tp=16200,Pb=16201,Mb=16202,jb=16203,Ub=16204,Vb=16205,Zg=16206,Bb=16207,Fb=16208,Si=16209,y3=16210,v3=16211,aR=852,oR=592,lR=15,uR=lR,zb=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function cR(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const pc=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<pm||e.mode>v3?1:0},b3=n=>{if(pc(n))return ja;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=pm,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(aR),e.distcode=e.distdyn=new Int32Array(oR),e.sane=1,e.back=-1,uc},_3=n=>{if(pc(n))return ja;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,b3(n)},w3=(n,e)=>{let t;if(pc(n))return ja;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ja:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,_3(n))},A3=(n,e)=>{if(!n)return ja;const t=new cR;n.state=t,t.strm=n,t.window=null,t.mode=pm;const r=w3(n,e);return r!==uc&&(n.state=null),r},hR=n=>A3(n,uR);let qb=!0,e1,t1;const fR=n=>{if(qb){e1=new Int32Array(512),t1=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Lf(d3,n.lens,0,288,e1,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Lf(p3,n.lens,0,32,t1,0,n.work,{bits:5}),qb=!1}n.lencode=e1,n.lenbits=9,n.distcode=t1,n.distbits=5},S3=(n,e,t,r)=>{let a;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>r&&(a=r),o.window.set(e.subarray(t-r,t-r+a),o.wnext),r-=a,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},dR=(n,e)=>{let t,r,a,o,c,h,d,m,b,x,N,w,F,z,$=0,V,le,oe,se,xe,Oe,H,P;const D=new Uint8Array(4);let q,E;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(pc(n)||!n.output||!n.input&&n.avail_in!==0)return ja;t=n.state,t.mode===Al&&(t.mode=Wg),c=n.next_out,a=n.output,d=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,m=t.hold,b=t.bits,x=h,N=d,P=uc;e:for(;;)switch(t.mode){case pm:if(t.wrap===0){t.mode=Wg;break}for(;b<16;){if(h===0)break e;h--,m+=r[o++]<<b,b+=8}if(t.wrap&2&&m===35615){t.wbits===0&&(t.wbits=15),t.check=0,D[0]=m&255,D[1]=m>>>8&255,t.check=Mo(t.check,D,2,0),m=0,b=0,t.mode=wb;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((m&255)<<8)+(m>>8))%31){n.msg="incorrect header check",t.mode=Si;break}if((m&15)!==_b){n.msg="unknown compression method",t.mode=Si;break}if(m>>>=4,b-=4,H=(m&15)+8,t.wbits===0&&(t.wbits=H),H>15||H>t.wbits){n.msg="invalid window size",t.mode=Si;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=m&512?Ib:Al,m=0,b=0;break;case wb:for(;b<16;){if(h===0)break e;h--,m+=r[o++]<<b,b+=8}if(t.flags=m,(t.flags&255)!==_b){n.msg="unknown compression method",t.mode=Si;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Si;break}t.head&&(t.head.text=m>>8&1),t.flags&512&&t.wrap&4&&(D[0]=m&255,D[1]=m>>>8&255,t.check=Mo(t.check,D,2,0)),m=0,b=0,t.mode=Ab;case Ab:for(;b<32;){if(h===0)break e;h--,m+=r[o++]<<b,b+=8}t.head&&(t.head.time=m),t.flags&512&&t.wrap&4&&(D[0]=m&255,D[1]=m>>>8&255,D[2]=m>>>16&255,D[3]=m>>>24&255,t.check=Mo(t.check,D,4,0)),m=0,b=0,t.mode=Sb;case Sb:for(;b<16;){if(h===0)break e;h--,m+=r[o++]<<b,b+=8}t.head&&(t.head.xflags=m&255,t.head.os=m>>8),t.flags&512&&t.wrap&4&&(D[0]=m&255,D[1]=m>>>8&255,t.check=Mo(t.check,D,2,0)),m=0,b=0,t.mode=xb;case xb:if(t.flags&1024){for(;b<16;){if(h===0)break e;h--,m+=r[o++]<<b,b+=8}t.length=m,t.head&&(t.head.extra_len=m),t.flags&512&&t.wrap&4&&(D[0]=m&255,D[1]=m>>>8&255,t.check=Mo(t.check,D,2,0)),m=0,b=0}else t.head&&(t.head.extra=null);t.mode=Eb;case Eb:if(t.flags&1024&&(w=t.length,w>h&&(w=h),w&&(t.head&&(H=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+w),H)),t.flags&512&&t.wrap&4&&(t.check=Mo(t.check,r,w,o)),h-=w,o+=w,t.length-=w),t.length))break e;t.length=0,t.mode=Tb;case Tb:if(t.flags&2048){if(h===0)break e;w=0;do H=r[o+w++],t.head&&H&&t.length<65536&&(t.head.name+=String.fromCharCode(H));while(H&&w<h);if(t.flags&512&&t.wrap&4&&(t.check=Mo(t.check,r,w,o)),h-=w,o+=w,H)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Nb;case Nb:if(t.flags&4096){if(h===0)break e;w=0;do H=r[o+w++],t.head&&H&&t.length<65536&&(t.head.comment+=String.fromCharCode(H));while(H&&w<h);if(t.flags&512&&t.wrap&4&&(t.check=Mo(t.check,r,w,o)),h-=w,o+=w,H)break e}else t.head&&(t.head.comment=null);t.mode=Cb;case Cb:if(t.flags&512){for(;b<16;){if(h===0)break e;h--,m+=r[o++]<<b,b+=8}if(t.wrap&4&&m!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Si;break}m=0,b=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Al;break;case Ib:for(;b<32;){if(h===0)break e;h--,m+=r[o++]<<b,b+=8}n.adler=t.check=zb(m),m=0,b=0,t.mode=Kp;case Kp:if(t.havedict===0)return n.next_out=c,n.avail_out=d,n.next_in=o,n.avail_in=h,t.hold=m,t.bits=b,rR;n.adler=t.check=1,t.mode=Al;case Al:if(e===nR||e===Zd)break e;case Wg:if(t.last){m>>>=b&7,b-=b&7,t.mode=Zg;break}for(;b<3;){if(h===0)break e;h--,m+=r[o++]<<b,b+=8}switch(t.last=m&1,m>>>=1,b-=1,m&3){case 0:t.mode=Rb;break;case 1:if(fR(t),t.mode=ep,e===Zd){m>>>=2,b-=2;break e}break;case 2:t.mode=kb;break;case 3:n.msg="invalid block type",t.mode=Si}m>>>=2,b-=2;break;case Rb:for(m>>>=b&7,b-=b&7;b<32;){if(h===0)break e;h--,m+=r[o++]<<b,b+=8}if((m&65535)!==(m>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Si;break}if(t.length=m&65535,m=0,b=0,t.mode=Jg,e===Zd)break e;case Jg:t.mode=Lb;case Lb:if(w=t.length,w){if(w>h&&(w=h),w>d&&(w=d),w===0)break e;a.set(r.subarray(o,o+w),c),h-=w,o+=w,d-=w,c+=w,t.length-=w;break}t.mode=Al;break;case kb:for(;b<14;){if(h===0)break e;h--,m+=r[o++]<<b,b+=8}if(t.nlen=(m&31)+257,m>>>=5,b-=5,t.ndist=(m&31)+1,m>>>=5,b-=5,t.ncode=(m&15)+4,m>>>=4,b-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Si;break}t.have=0,t.mode=Db;case Db:for(;t.have<t.ncode;){for(;b<3;){if(h===0)break e;h--,m+=r[o++]<<b,b+=8}t.lens[I[t.have++]]=m&7,m>>>=3,b-=3}for(;t.have<19;)t.lens[I[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,q={bits:t.lenbits},P=Lf(tR,t.lens,0,19,t.lencode,0,t.work,q),t.lenbits=q.bits,P){n.msg="invalid code lengths set",t.mode=Si;break}t.have=0,t.mode=Ob;case Ob:for(;t.have<t.nlen+t.ndist;){for(;$=t.lencode[m&(1<<t.lenbits)-1],V=$>>>24,le=$>>>16&255,oe=$&65535,!(V<=b);){if(h===0)break e;h--,m+=r[o++]<<b,b+=8}if(oe<16)m>>>=V,b-=V,t.lens[t.have++]=oe;else{if(oe===16){for(E=V+2;b<E;){if(h===0)break e;h--,m+=r[o++]<<b,b+=8}if(m>>>=V,b-=V,t.have===0){n.msg="invalid bit length repeat",t.mode=Si;break}H=t.lens[t.have-1],w=3+(m&3),m>>>=2,b-=2}else if(oe===17){for(E=V+3;b<E;){if(h===0)break e;h--,m+=r[o++]<<b,b+=8}m>>>=V,b-=V,H=0,w=3+(m&7),m>>>=3,b-=3}else{for(E=V+7;b<E;){if(h===0)break e;h--,m+=r[o++]<<b,b+=8}m>>>=V,b-=V,H=0,w=11+(m&127),m>>>=7,b-=7}if(t.have+w>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Si;break}for(;w--;)t.lens[t.have++]=H}}if(t.mode===Si)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Si;break}if(t.lenbits=9,q={bits:t.lenbits},P=Lf(d3,t.lens,0,t.nlen,t.lencode,0,t.work,q),t.lenbits=q.bits,P){n.msg="invalid literal/lengths set",t.mode=Si;break}if(t.distbits=6,t.distcode=t.distdyn,q={bits:t.distbits},P=Lf(p3,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,q),t.distbits=q.bits,P){n.msg="invalid distances set",t.mode=Si;break}if(t.mode=ep,e===Zd)break e;case ep:t.mode=tp;case tp:if(h>=6&&d>=258){n.next_out=c,n.avail_out=d,n.next_in=o,n.avail_in=h,t.hold=m,t.bits=b,X7(n,N),c=n.next_out,a=n.output,d=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,m=t.hold,b=t.bits,t.mode===Al&&(t.back=-1);break}for(t.back=0;$=t.lencode[m&(1<<t.lenbits)-1],V=$>>>24,le=$>>>16&255,oe=$&65535,!(V<=b);){if(h===0)break e;h--,m+=r[o++]<<b,b+=8}if(le&&(le&240)===0){for(se=V,xe=le,Oe=oe;$=t.lencode[Oe+((m&(1<<se+xe)-1)>>se)],V=$>>>24,le=$>>>16&255,oe=$&65535,!(se+V<=b);){if(h===0)break e;h--,m+=r[o++]<<b,b+=8}m>>>=se,b-=se,t.back+=se}if(m>>>=V,b-=V,t.back+=V,t.length=oe,le===0){t.mode=Vb;break}if(le&32){t.back=-1,t.mode=Al;break}if(le&64){n.msg="invalid literal/length code",t.mode=Si;break}t.extra=le&15,t.mode=Pb;case Pb:if(t.extra){for(E=t.extra;b<E;){if(h===0)break e;h--,m+=r[o++]<<b,b+=8}t.length+=m&(1<<t.extra)-1,m>>>=t.extra,b-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Mb;case Mb:for(;$=t.distcode[m&(1<<t.distbits)-1],V=$>>>24,le=$>>>16&255,oe=$&65535,!(V<=b);){if(h===0)break e;h--,m+=r[o++]<<b,b+=8}if((le&240)===0){for(se=V,xe=le,Oe=oe;$=t.distcode[Oe+((m&(1<<se+xe)-1)>>se)],V=$>>>24,le=$>>>16&255,oe=$&65535,!(se+V<=b);){if(h===0)break e;h--,m+=r[o++]<<b,b+=8}m>>>=se,b-=se,t.back+=se}if(m>>>=V,b-=V,t.back+=V,le&64){n.msg="invalid distance code",t.mode=Si;break}t.offset=oe,t.extra=le&15,t.mode=jb;case jb:if(t.extra){for(E=t.extra;b<E;){if(h===0)break e;h--,m+=r[o++]<<b,b+=8}t.offset+=m&(1<<t.extra)-1,m>>>=t.extra,b-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Si;break}t.mode=Ub;case Ub:if(d===0)break e;if(w=N-d,t.offset>w){if(w=t.offset-w,w>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Si;break}w>t.wnext?(w-=t.wnext,F=t.wsize-w):F=t.wnext-w,w>t.length&&(w=t.length),z=t.window}else z=a,F=c-t.offset,w=t.length;w>d&&(w=d),d-=w,t.length-=w;do a[c++]=z[F++];while(--w);t.length===0&&(t.mode=tp);break;case Vb:if(d===0)break e;a[c++]=t.length,d--,t.mode=tp;break;case Zg:if(t.wrap){for(;b<32;){if(h===0)break e;h--,m|=r[o++]<<b,b+=8}if(N-=d,n.total_out+=N,t.total+=N,t.wrap&4&&N&&(n.adler=t.check=t.flags?Mo(t.check,a,N,c-N):$1(t.check,a,N,c-N)),N=d,t.wrap&4&&(t.flags?m:zb(m))!==t.check){n.msg="incorrect data check",t.mode=Si;break}m=0,b=0}t.mode=Bb;case Bb:if(t.wrap&&t.flags){for(;b<32;){if(h===0)break e;h--,m+=r[o++]<<b,b+=8}if(t.wrap&4&&m!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Si;break}m=0,b=0}t.mode=Fb;case Fb:P=iR;break e;case Si:P=m3;break e;case y3:return g3;case v3:default:return ja}return n.next_out=c,n.avail_out=d,n.next_in=o,n.avail_in=h,t.hold=m,t.bits=b,(t.wsize||N!==n.avail_out&&t.mode<Si&&(t.mode<Zg||e!==bb))&&S3(n,n.output,n.next_out,N-n.avail_out),x-=n.avail_in,N-=n.avail_out,n.total_in+=x,n.total_out+=N,t.total+=N,t.wrap&4&&N&&(n.adler=t.check=t.flags?Mo(t.check,a,N,n.next_out-N):$1(t.check,a,N,n.next_out-N)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Al?128:0)+(t.mode===ep||t.mode===Jg?256:0),(x===0&&N===0||e===bb)&&P===uc&&(P=sR),P},pR=n=>{if(pc(n))return ja;let e=n.state;return e.window&&(e.window=null),n.state=null,uc},mR=(n,e)=>{if(pc(n))return ja;const t=n.state;return(t.wrap&2)===0?ja:(t.head=e,e.done=!1,uc)},gR=(n,e)=>{const t=e.length;let r,a,o;return pc(n)||(r=n.state,r.wrap!==0&&r.mode!==Kp)?ja:r.mode===Kp&&(a=1,a=$1(a,e,t,0),a!==r.check)?m3:(o=S3(n,e,t,t),o?(r.mode=y3,g3):(r.havedict=1,uc))};var yR=_3,vR=w3,bR=b3,_R=hR,wR=A3,AR=dR,SR=pR,xR=mR,ER=gR,TR="pako inflate (from Nodeca project)",Sl={inflateReset:yR,inflateReset2:vR,inflateResetKeep:bR,inflateInit:_R,inflateInit2:wR,inflate:AR,inflateEnd:SR,inflateGetHeader:xR,inflateSetDictionary:ER,inflateInfo:TR};function NR(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var CR=NR;const x3=Object.prototype.toString,{Z_NO_FLUSH:IR,Z_FINISH:RR,Z_OK:zf,Z_STREAM_END:n1,Z_NEED_DICT:i1,Z_STREAM_ERROR:LR,Z_DATA_ERROR:Hb,Z_MEM_ERROR:kR}=c3;function Zf(n){this.options=h3.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new K7,this.strm.avail_out=0;let t=Sl.inflateInit2(this.strm,e.windowBits);if(t!==zf)throw new Error(X1[t]);if(this.header=new CR,Sl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Q1.string2buf(e.dictionary):x3.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Sl.inflateSetDictionary(this.strm,e.dictionary),t!==zf)))throw new Error(X1[t])}Zf.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let o,c,h;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?RR:IR,x3.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=Sl.inflate(t,c),o===i1&&a&&(o=Sl.inflateSetDictionary(t,a),o===zf?o=Sl.inflate(t,c):o===Hb&&(o=i1));t.avail_in>0&&o===n1&&t.state.wrap>0&&n[t.next_in]!==0;)Sl.inflateReset(t),o=Sl.inflate(t,c);switch(o){case LR:case Hb:case i1:case kR:return this.onEnd(o),this.ended=!0,!1}if(h=t.avail_out,t.next_out&&(t.avail_out===0||o===n1))if(this.options.to==="string"){let d=Q1.utf8border(t.output,t.next_out),m=t.next_out-d,b=Q1.buf2string(t.output,d);t.next_out=m,t.avail_out=r-m,m&&t.output.set(t.output.subarray(d,d+m),0),this.onData(b)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===zf&&h===0)){if(o===n1)return o=Sl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Zf.prototype.onData=function(n){this.chunks.push(n)};Zf.prototype.onEnd=function(n){n===zf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h3.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function DR(n,e){const t=new Zf(e);if(t.push(n),t.err)throw t.msg||X1[t.err];return t.result}var OR=Zf,PR=DR,MR={Inflate:OR,inflate:PR};const{Inflate:jR,inflate:UR}=MR;var Gb=jR,VR=UR;const E3=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;E3[n]=e}const Yb=4294967295;function BR(n,e,t){let r=n;for(let a=0;a<t;a++)r=E3[(r^e[a])&255]^r>>>8;return r}function FR(n,e){return(BR(Yb,n,e)^Yb)>>>0}function Kb(n,e,t){const r=n.readUint32(),a=FR(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(a!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${a}`)}function T3(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function N3(n,e,t,r){let a=0;for(;a<r;a++)e[a]=n[a];for(;a<t;a++)e[a]=n[a]+e[a-r]&255}function C3(n,e,t,r){let a=0;if(t.length===0)for(;a<r;a++)e[a]=n[a];else for(;a<r;a++)e[a]=n[a]+t[a]&255}function I3(n,e,t,r,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=n[o]+(e[o-a]+t[o]>>1)&255}}function R3(n,e,t,r,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=n[o]+t[o]&255;for(;o<r;o++)e[o]=n[o]+zR(e[o-a],t[o],t[o-a])&255}}function zR(n,e,t){const r=n+e-t,a=Math.abs(r-n),o=Math.abs(r-e),c=Math.abs(r-t);return a<=o&&a<=c?n:o<=c?e:t}function qR(n,e,t,r,a,o){switch(n){case 0:T3(e,t,a);break;case 1:N3(e,t,a,o);break;case 2:C3(e,t,r,a);break;case 3:I3(e,t,r,a,o);break;case 4:R3(e,t,r,a,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const HR=new Uint16Array([255]),GR=new Uint8Array(HR.buffer),YR=GR[0]===255;function KR(n){const{data:e,width:t,height:r,channels:a,depth:o}=n,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(o/8)*a,d=new Uint8Array(r*t*h);let m=0;for(let b=0;b<7;b++){const x=c[b],N=Math.ceil((t-x.x)/x.xStep),w=Math.ceil((r-x.y)/x.yStep);if(N<=0||w<=0)continue;const F=N*h,z=new Uint8Array(F);for(let $=0;$<w;$++){const V=e[m++],le=e.subarray(m,m+F);m+=F;const oe=new Uint8Array(F);qR(V,le,oe,z,F,h),z.set(oe);for(let se=0;se<N;se++){const xe=x.x+se*x.xStep,Oe=x.y+$*x.yStep;if(!(xe>=t||Oe>=r))for(let H=0;H<h;H++)d[(Oe*t+xe)*h+H]=oe[se*h+H]}}}if(o===16){const b=new Uint16Array(d.buffer);if(YR)for(let x=0;x<b.length;x++)b[x]=$R(b[x]);return b}else return d}function $R(n){return(n&255)<<8|n>>8&255}const XR=new Uint16Array([255]),QR=new Uint8Array(XR.buffer),WR=QR[0]===255,JR=new Uint8Array(0);function $b(n){const{data:e,width:t,height:r,channels:a,depth:o}=n,c=Math.ceil(o/8)*a,h=Math.ceil(o/8*a*t),d=new Uint8Array(r*h);let m=JR,b=0,x,N;for(let w=0;w<r;w++){switch(x=e.subarray(b+1,b+1+h),N=d.subarray(w*h,(w+1)*h),e[b]){case 0:T3(x,N,h);break;case 1:N3(x,N,h,c);break;case 2:C3(x,N,m,h);break;case 3:I3(x,N,m,h,c);break;case 4:R3(x,N,m,h,c);break;default:throw new Error(`Unsupported filter: ${e[b]}`)}m=N,b+=h+1}if(o===16){const w=new Uint16Array(d.buffer);if(WR)for(let F=0;F<w.length;F++)w[F]=ZR(w[F]);return w}else return d}function ZR(n){return(n&255)<<8|n>>8&255}const yp=Uint8Array.of(137,80,78,71,13,10,26,10);function Xb(n){if(!eL(n.readBytes(yp.length)))throw new Error("wrong PNG signature")}function eL(n){if(n.length<yp.length)return!1;for(let e=0;e<yp.length;e++)if(n[e]!==yp[e])return!1;return!0}const tL="tEXt",nL=0,L3=new TextDecoder("latin1");function iL(n){if(sL(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const rL=/^[\u0000-\u00FF]*$/;function sL(n){if(!rL.test(n))throw new Error("invalid latin1 text")}function aL(n,e,t){const r=k3(e);n[r]=oL(e,t-r.length-1)}function k3(n){for(n.mark();n.readByte()!==nL;);const e=n.offset;n.reset();const t=L3.decode(n.readBytes(e-n.offset-1));return n.skip(1),iL(t),t}function oL(n,e){return L3.decode(n.readBytes(e))}const da={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},r1={UNKNOWN:-1,DEFLATE:0},Qb={UNKNOWN:-1,ADAPTIVE:0},s1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},np={NONE:0,BACKGROUND:1,PREVIOUS:2},a1={SOURCE:0,OVER:1};class lL extends W0{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new Gb,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=r1.UNKNOWN,this._filterMethod=Qb.UNKNOWN,this._interlaceMethod=s1.UNKNOWN,this._colorType=da.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Xb(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(Xb(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case tL:aL(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Kb(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Kb(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=uL(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case da.GREYSCALE:r=1;break;case da.TRUECOLOUR:r=3;break;case da.INDEXED_COLOUR:r=1;break;case da.GREYSCALE_ALPHA:r=2;break;case da.TRUECOLOUR_ALPHA:r=4;break;case da.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==r1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let a=0;a<t;a++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case da.GREYSCALE:case da.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case da.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case da.UNKNOWN:case da.GREYSCALE_ALPHA:case da.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=k3(this),r=this.readUint8();if(r!==r1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:VR(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=$b({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(r,a,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case np.NONE:break;case np.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const c=(a*e.width+o)*this._png.channels;for(let h=0;h<this._png.channels;h++)r.data[c+h]=0}break;case np.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,a=(o,c)=>{const h=((o+t.yOffset)*this._png.width+t.xOffset+c)*this._png.channels,d=(o*t.width+c)*this._png.channels;return{index:h,frameIndex:d}};switch(t.blendOp){case a1.SOURCE:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:h,frameIndex:d}=a(o,c);for(let m=0;m<this._png.channels;m++)e.data[h+m]=t.data[d+m]}break;case a1.OVER:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:h,frameIndex:d}=a(o,c);for(let m=0;m<this._png.channels;m++){const b=t.data[d+this._png.channels-1]/r,x=m%(this._png.channels-1)===0?1:t.data[d+m],N=Math.floor(b*x+(1-b)*e.data[h+m]);e.data[h+m]+=N}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Qb.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===s1.NO_INTERLACE)this._png.data=$b({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===s1.ADAM7)this._png.data=KR({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:np.NONE,blendOp:a1.SOURCE,data:e}),this._inflator=new Gb,this._writingDataChunks=!1}}function uL(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var Wb;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(Wb||(Wb={}));function cL(n,e){return new lL(n,e).decode()}var Gt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function o1(){Gt.console&&typeof Gt.console.log=="function"&&Gt.console.log.apply(Gt.console,arguments)}var li={log:o1,warn:function(n){Gt.console&&(typeof Gt.console.warn=="function"?Gt.console.warn.apply(Gt.console,arguments):o1.call(null,arguments))},error:function(n){Gt.console&&(typeof Gt.console.error=="function"?Gt.console.error.apply(Gt.console,arguments):o1(n))}};function l1(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Yu(r.response,e,t)},r.onerror=function(){li.error("could not download file")},r.send()}function Jb(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function ip(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Yu=Gt.saveAs||((typeof window>"u"?"undefined":Xn(window))!=="object"||window!==Gt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Gt.URL||Gt.webkitURL,a=document.createElement("a");e=e||n.name||"download",a.download=e,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?Jb(a.href)?l1(n,e,t):ip(a,a.target="_blank"):ip(a)):(a.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){ip(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Jb(n))l1(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){ip(r)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Xn(o)!=="object"&&(li.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return l1(n,e,t);var a=n.type==="application/octet-stream",o=/constructor/i.test(Gt.HTMLElement)||Gt.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&o)&&(typeof FileReader>"u"?"undefined":Xn(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var b=h.result;b=c?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=b:location=b,r=null},h.readAsDataURL(n)}else{var d=Gt.URL||Gt.webkitURL,m=d.createObjectURL(n);r?r.location=m:location.href=m,r=null,setTimeout(function(){d.revokeObjectURL(m)},4e4)}});function D3(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],r=0;r<t.length;r++){var a=t[r].re,o=t[r].process,c=a.exec(n);c&&(e=o(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),d=this.g.toString(16),m=this.b.toString(16);return h.length==1&&(h="0"+h),d.length==1&&(d="0"+d),m.length==1&&(m="0"+m),"#"+h+d+m}}var vp=Gt.atob.bind(Gt),Zb=Gt.btoa.bind(Gt);function u1(n,e){var t=n[0],r=n[1],a=n[2],o=n[3];t=hs(t,r,a,o,e[0],7,-680876936),o=hs(o,t,r,a,e[1],12,-389564586),a=hs(a,o,t,r,e[2],17,606105819),r=hs(r,a,o,t,e[3],22,-1044525330),t=hs(t,r,a,o,e[4],7,-176418897),o=hs(o,t,r,a,e[5],12,1200080426),a=hs(a,o,t,r,e[6],17,-1473231341),r=hs(r,a,o,t,e[7],22,-45705983),t=hs(t,r,a,o,e[8],7,1770035416),o=hs(o,t,r,a,e[9],12,-1958414417),a=hs(a,o,t,r,e[10],17,-42063),r=hs(r,a,o,t,e[11],22,-1990404162),t=hs(t,r,a,o,e[12],7,1804603682),o=hs(o,t,r,a,e[13],12,-40341101),a=hs(a,o,t,r,e[14],17,-1502002290),t=fs(t,r=hs(r,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=fs(o,t,r,a,e[6],9,-1069501632),a=fs(a,o,t,r,e[11],14,643717713),r=fs(r,a,o,t,e[0],20,-373897302),t=fs(t,r,a,o,e[5],5,-701558691),o=fs(o,t,r,a,e[10],9,38016083),a=fs(a,o,t,r,e[15],14,-660478335),r=fs(r,a,o,t,e[4],20,-405537848),t=fs(t,r,a,o,e[9],5,568446438),o=fs(o,t,r,a,e[14],9,-1019803690),a=fs(a,o,t,r,e[3],14,-187363961),r=fs(r,a,o,t,e[8],20,1163531501),t=fs(t,r,a,o,e[13],5,-1444681467),o=fs(o,t,r,a,e[2],9,-51403784),a=fs(a,o,t,r,e[7],14,1735328473),t=ds(t,r=fs(r,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=ds(o,t,r,a,e[8],11,-2022574463),a=ds(a,o,t,r,e[11],16,1839030562),r=ds(r,a,o,t,e[14],23,-35309556),t=ds(t,r,a,o,e[1],4,-1530992060),o=ds(o,t,r,a,e[4],11,1272893353),a=ds(a,o,t,r,e[7],16,-155497632),r=ds(r,a,o,t,e[10],23,-1094730640),t=ds(t,r,a,o,e[13],4,681279174),o=ds(o,t,r,a,e[0],11,-358537222),a=ds(a,o,t,r,e[3],16,-722521979),r=ds(r,a,o,t,e[6],23,76029189),t=ds(t,r,a,o,e[9],4,-640364487),o=ds(o,t,r,a,e[12],11,-421815835),a=ds(a,o,t,r,e[15],16,530742520),t=ps(t,r=ds(r,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=ps(o,t,r,a,e[7],10,1126891415),a=ps(a,o,t,r,e[14],15,-1416354905),r=ps(r,a,o,t,e[5],21,-57434055),t=ps(t,r,a,o,e[12],6,1700485571),o=ps(o,t,r,a,e[3],10,-1894986606),a=ps(a,o,t,r,e[10],15,-1051523),r=ps(r,a,o,t,e[1],21,-2054922799),t=ps(t,r,a,o,e[8],6,1873313359),o=ps(o,t,r,a,e[15],10,-30611744),a=ps(a,o,t,r,e[6],15,-1560198380),r=ps(r,a,o,t,e[13],21,1309151649),t=ps(t,r,a,o,e[4],6,-145523070),o=ps(o,t,r,a,e[11],10,-1120210379),a=ps(a,o,t,r,e[2],15,718787259),r=ps(r,a,o,t,e[9],21,-343485551),n[0]=mu(t,n[0]),n[1]=mu(r,n[1]),n[2]=mu(a,n[2]),n[3]=mu(o,n[3])}function mm(n,e,t,r,a,o){return e=mu(mu(e,n),mu(r,o)),mu(e<<a|e>>>32-a,t)}function hs(n,e,t,r,a,o,c){return mm(e&t|~e&r,n,e,a,o,c)}function fs(n,e,t,r,a,o,c){return mm(e&r|t&~r,n,e,a,o,c)}function ds(n,e,t,r,a,o,c){return mm(e^t^r,n,e,a,o,c)}function ps(n,e,t,r,a,o,c){return mm(t^(e|~r),n,e,a,o,c)}function O3(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)u1(r,hL(n.substring(e-64,e)));n=n.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)a[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(u1(r,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,u1(r,a),r}function hL(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var e_="0123456789abcdef".split("");function fL(n){for(var e="",t=0;t<4;t++)e+=e_[n>>8*t+4&15]+e_[n>>8*t&15];return e}function dL(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function W1(n){return O3(n).map(dL).join("")}var pL=(function(n){for(var e=0;e<n.length;e++)n[e]=fL(n[e]);return n.join("")})(O3("hello"))!="5d41402abc4b2a76b9719d911017c592";function mu(n,e){if(pL){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function J1(n,e){var t,r,a,o;if(n!==t){for(var c=(a=n,o=1+(256/n.length|0),new Array(o+1).join(a)),h=[],d=0;d<256;d++)h[d]=d;var m=0;for(d=0;d<256;d++){var b=h[d];m=(m+b+c.charCodeAt(d))%256,h[d]=h[m],h[m]=b}t=n,r=h}else h=r;var x=e.length,N=0,w=0,F="";for(d=0;d<x;d++)w=(w+(b=h[N=(N+1)%256]))%256,h[N]=h[w],h[w]=b,c=h[(h[N]+h[w])%256],F+=String.fromCharCode(e.charCodeAt(d)^c);return F}var t_={print:4,modify:8,copy:16,"annot-forms":32};function sh(n,e,t,r){this.v=1,this.r=2;var a=192;n.forEach(function(h){if(t_.perm!==void 0)throw new Error("Invalid permission: "+h);a+=t_[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),c=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^a)),this.encryptionKey=W1(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=J1(this.encryptionKey,this.padding)}function ah(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var a=n.charCodeAt(r);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[r]}return e}function n_(n){if(Xn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,a){if(a=a||!1,typeof t!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!a],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var c=e[t][o];try{c[0].apply(n,r)}catch(h){Gt.console&&li.error("jsPDF PubSub Error",h.message,h)}c[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function $p(n){if(!(this instanceof $p))return new $p(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function P3(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Ku(n,e,t,r,a){if(!(this instanceof Ku))return new Ku(n,e,t,r,a);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,P3.call(this,r,a)}function oh(n,e,t,r,a){if(!(this instanceof oh))return new oh(n,e,t,r,a);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,P3.call(this,r,a)}function Tt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],o=arguments[3],c=[],h=1,d=16,m="S",b=null;Xn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,a=n.format||a,o=n.compress||n.compressPdf||o,(b=n.encryption||null)!==null&&(b.userPassword=b.userPassword||"",b.ownerPassword=b.ownerPassword||"",b.userPermissions=b.userPermissions||[]),h=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(d=n.floatPrecision),m=n.defaultPathOperation||"S"),c=n.filters||(o===!0?["FlateEncode"]:c),r=r||"mm",t=(""+(t||"P")).toLowerCase();var x=n.putOnlyUsedFonts||!1,N={},w={internal:{},__private__:{}};w.__private__.PubSub=n_;var F="1.3",z=w.__private__.getPdfVersion=function(){return F};w.__private__.setPdfVersion=function(_){F=_};var $={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return $};var V=w.__private__.getPageFormat=function(_){return $[_]};a=a||"a4";var le="compat",oe="advanced",se=le;function xe(){this.saveGraphicsState(),Z(new St(qt,0,0,-qt,0,As()*qt).toString()+" cm"),this.setFontSize(this.getFontSize()/qt),m="n",se=oe}function Oe(){this.restoreGraphicsState(),m="S",se=le}var H=w.__private__.combineFontStyleAndFontWeight=function(_,M){if(_=="bold"&&M=="normal"||_=="bold"&&M==400||_=="normal"&&M=="italic"||_=="bold"&&M=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return M&&(_=M==400||M==="normal"?_==="italic"?"italic":"normal":M!=700&&M!=="bold"||_!=="normal"?(M==700?"bold":M)+""+_:"bold"),_};w.advancedAPI=function(_){var M=se===le;return M&&xe.call(this),typeof _!="function"||(_(this),M&&Oe.call(this)),this},w.compatAPI=function(_){var M=se===oe;return M&&Oe.call(this),typeof _!="function"||(_(this),M&&xe.call(this)),this},w.isAdvancedAPI=function(){return se===oe};var P,D=function(_){if(se!==oe)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=w.roundToPrecision=w.__private__.roundToPrecision=function(_,M){var ie=e||M;if(isNaN(_)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(ie).replace(/0+$/,"")};P=w.hpf=w.__private__.hpf=typeof d=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return q(_,d)}:d==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return q(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return q(_,16)};var E=w.f2=w.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return q(_,2)},I=w.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return q(_,3)},R=w.scale=w.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return se===le?_*qt:se===oe?_:void 0},ee=function(_){return R((function(M){return se===le?As()-M:se===oe?M:void 0})(_))};w.__private__.setPrecision=w.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var be,ne="00000000000000000000000000000000",he=w.__private__.getFileId=function(){return ne},fe=w.__private__.setFileId=function(_){return ne=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),b!==null&&(ri=new sh(b.userPermissions,b.userPassword,b.ownerPassword,ne)),ne};w.setFileId=function(_){return fe(_),this},w.getFileId=function(){return he()};var Te=w.__private__.convertDateToPDFDate=function(_){var M=_.getTimezoneOffset(),ie=M<0?"+":"-",de=Math.floor(Math.abs(M/60)),_e=Math.abs(M%60),Fe=[ie,J(de),"'",J(_e),"'"].join("");return["D:",_.getFullYear(),J(_.getMonth()+1),J(_.getDate()),J(_.getHours()),J(_.getMinutes()),J(_.getSeconds()),Fe].join("")},ke=w.__private__.convertPDFDateToDate=function(_){var M=parseInt(_.substr(2,4),10),ie=parseInt(_.substr(6,2),10)-1,de=parseInt(_.substr(8,2),10),_e=parseInt(_.substr(10,2),10),Fe=parseInt(_.substr(12,2),10),Ke=parseInt(_.substr(14,2),10);return new Date(M,ie,de,_e,Fe,Ke,0)},Q=w.__private__.setCreationDate=function(_){var M;if(_===void 0&&(_=new Date),_ instanceof Date)M=Te(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");M=_}return be=M},k=w.__private__.getCreationDate=function(_){var M=be;return _==="jsDate"&&(M=ke(be)),M};w.setCreationDate=function(_){return Q(_),this},w.getCreationDate=function(_){return k(_)};var Y,J=w.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},ae=w.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},ue=0,ye=[],Le=[],Ce=0,Be=[],Xe=[],nt=!1,et=Le;w.__private__.setCustomOutputDestination=function(_){nt=!0,et=_};var lt=function(_){nt||(et=_)};w.__private__.resetCustomOutputDestination=function(){nt=!1,et=Le};var Z=w.__private__.out=function(_){return _=_.toString(),Ce+=_.length+1,et.push(_),et},pe=w.__private__.write=function(_){return Z(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},Je=w.__private__.getArrayBuffer=function(_){for(var M=_.length,ie=new ArrayBuffer(M),de=new Uint8Array(ie);M--;)de[M]=_.charCodeAt(M);return ie},st=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return st};var Me=n.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(_){return Me=se===oe?_/qt:_,this};var it,rt=w.__private__.getFontSize=w.getFontSize=function(){return se===le?Me:Me*qt},Nt=n.R2L||!1;w.__private__.setR2L=w.setR2L=function(_){return Nt=_,this},w.__private__.getR2L=w.getR2L=function(){return Nt};var _t,Kt=w.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))it=_;else if(isNaN(_)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');it=_}else it=parseInt(_,10)};w.__private__.getZoomMode=function(){return it};var Jt,Bt=w.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');_t=_};w.__private__.getPageMode=function(){return _t};var sn=w.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');Jt=_};w.__private__.getLayoutMode=function(){return Jt},w.__private__.setDisplayMode=w.setDisplayMode=function(_,M,ie){return Kt(_),sn(M),Bt(ie),this};var Xt={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(_){if(Object.keys(Xt).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Xt[_]},w.__private__.getDocumentProperties=function(){return Xt},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(_){for(var M in Xt)Xt.hasOwnProperty(M)&&_[M]&&(Xt[M]=_[M]);return this},w.__private__.setDocumentProperty=function(_,M){if(Object.keys(Xt).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Xt[_]=M};var gt,qt,yt,ui,Qt,Et={},Mt={},$t=[],At={},In={},Ot={},Pt={},kn=null,wt=0,vt=[],an=new n_(w),lr=n.hotfixes||[],Ji={},Cs={},qi=[],St=function _(M,ie,de,_e,Fe,Ke){if(!(this instanceof _))return new _(M,ie,de,_e,Fe,Ke);isNaN(M)&&(M=1),isNaN(ie)&&(ie=0),isNaN(de)&&(de=0),isNaN(_e)&&(_e=1),isNaN(Fe)&&(Fe=0),isNaN(Ke)&&(Ke=0),this._matrix=[M,ie,de,_e,Fe,Ke]};Object.defineProperty(St.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(St.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(St.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(St.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(St.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(St.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(St.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(St.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(St.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(St.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(St.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(St.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(St.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(St.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(St.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(St.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),St.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(_)},St.prototype.multiply=function(_){var M=_.sx*this.sx+_.shy*this.shx,ie=_.sx*this.shy+_.shy*this.sy,de=_.shx*this.sx+_.sy*this.shx,_e=_.shx*this.shy+_.sy*this.sy,Fe=_.tx*this.sx+_.ty*this.shx+this.tx,Ke=_.tx*this.shy+_.ty*this.sy+this.ty;return new St(M,ie,de,_e,Fe,Ke)},St.prototype.decompose=function(){var _=this.sx,M=this.shy,ie=this.shx,de=this.sy,_e=this.tx,Fe=this.ty,Ke=Math.sqrt(_*_+M*M),ut=(_/=Ke)*ie+(M/=Ke)*de;ie-=_*ut,de-=M*ut;var dt=Math.sqrt(ie*ie+de*de);return ut/=dt,_*(de/=dt)<M*(ie/=dt)&&(_=-_,M=-M,ut=-ut,Ke=-Ke),{scale:new St(Ke,0,0,dt,0,0),translate:new St(1,0,0,1,_e,Fe),rotate:new St(_,M,-M,_,0,0),skew:new St(1,0,ut,1,0,0)}},St.prototype.toString=function(_){return this.join(" ")},St.prototype.inversed=function(){var _=this.sx,M=this.shy,ie=this.shx,de=this.sy,_e=this.tx,Fe=this.ty,Ke=1/(_*de-M*ie),ut=de*Ke,dt=-M*Ke,Lt=-ie*Ke,xt=_*Ke;return new St(ut,dt,Lt,xt,-ut*_e-Lt*Fe,-dt*_e-xt*Fe)},St.prototype.applyToPoint=function(_){var M=_.x*this.sx+_.y*this.shx+this.tx,ie=_.x*this.shy+_.y*this.sy+this.ty;return new tr(M,ie)},St.prototype.applyToRectangle=function(_){var M=this.applyToPoint(_),ie=this.applyToPoint(new tr(_.x+_.w,_.y+_.h));return new Rs(M.x,M.y,ie.x-M.x,ie.y-M.y)},St.prototype.clone=function(){var _=this.sx,M=this.shy,ie=this.shx,de=this.sy,_e=this.tx,Fe=this.ty;return new St(_,M,ie,de,_e,Fe)},w.Matrix=St;var Js=w.matrixMult=function(_,M){return M.multiply(_)},Vr=new St(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=Vr;var Sr=function(_,M){if(!In[_]){var ie=(M instanceof Ku?"Sh":"P")+(Object.keys(At).length+1).toString(10);M.id=ie,In[_]=ie,At[ie]=M,an.publish("addPattern",M)}};w.ShadingPattern=Ku,w.TilingPattern=oh,w.addShadingPattern=function(_,M){return D("addShadingPattern()"),Sr(_,M),this},w.beginTilingPattern=function(_){D("beginTilingPattern()"),Ls(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},w.endTilingPattern=function(_,M){D("endTilingPattern()"),M.stream=Xe[Y].join(`
`),Sr(_,M),an.publish("endTilingPattern",M),qi.pop().restore()};var xr,Fn=w.__private__.newObject=function(){var _=Qn();return Di(_,!0),_},Qn=w.__private__.newObjectDeferred=function(){return ue++,ye[ue]=function(){return Ce},ue},Di=function(_,M){return M=typeof M=="boolean"&&M,ye[_]=Ce,M&&Z(_+" 0 obj"),_},ur=w.__private__.newAdditionalObject=function(){var _={objId:Qn(),content:""};return Be.push(_),_},Zi=Qn(),Dn=Qn(),Hn=w.__private__.decodeColorString=function(_){var M=_.split(" ");if(M.length!==2||M[1]!=="g"&&M[1]!=="G")M.length!==5||M[4]!=="k"&&M[4]!=="K"||(M=[(1-M[0])*(1-M[3]),(1-M[1])*(1-M[3]),(1-M[2])*(1-M[3]),"r"]);else{var ie=parseFloat(M[0]);M=[ie,ie,ie,"r"]}for(var de="#",_e=0;_e<3;_e++)de+=("0"+Math.floor(255*parseFloat(M[_e])).toString(16)).slice(-2);return de},Oi=w.__private__.encodeColorString=function(_){var M;typeof _=="string"&&(_={ch1:_});var ie=_.ch1,de=_.ch2,_e=_.ch3,Fe=_.ch4,Ke=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var ut=new D3(ie);if(ut.ok)ie=ut.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var dt=parseInt(ie.substr(1),16);ie=dt>>16&255,de=dt>>8&255,_e=255&dt}if(de===void 0||Fe===void 0&&ie===de&&de===_e)M=typeof ie=="string"?ie+" "+Ke[0]:_.precision===2?E(ie/255)+" "+Ke[0]:I(ie/255)+" "+Ke[0];else if(Fe===void 0||Xn(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return["1.","1.","1.",Ke[1]].join(" ");M=typeof ie=="string"?[ie,de,_e,Ke[1]].join(" "):_.precision===2?[E(ie/255),E(de/255),E(_e/255),Ke[1]].join(" "):[I(ie/255),I(de/255),I(_e/255),Ke[1]].join(" ")}else M=typeof ie=="string"?[ie,de,_e,Fe,Ke[2]].join(" "):_.precision===2?[E(ie),E(de),E(_e),E(Fe),Ke[2]].join(" "):[I(ie),I(de),I(_e),I(Fe),Ke[2]].join(" ");return M},Er=w.__private__.getFilters=function(){return c},ns=w.__private__.putStream=function(_){var M=(_=_||{}).data||"",ie=_.filters||Er(),de=_.alreadyAppliedFilters||[],_e=_.addLength1||!1,Fe=M.length,Ke=_.objectId,ut=function(S){return S};if(b!==null&&Ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");b!==null&&(ut=ri.encryptor(Ke,0));var dt={};ie===!0&&(ie=["FlateEncode"]);var Lt=_.additionalKeyValues||[],xt=(dt=Tt.API.processDataByFilters!==void 0?Tt.API.processDataByFilters(M,ie):{data:M,reverseChain:[]}).reverseChain+(Array.isArray(de)?de.join(" "):de.toString());if(dt.data.length!==0&&(Lt.push({key:"Length",value:dt.data.length}),_e===!0&&Lt.push({key:"Length1",value:Fe})),xt.length!=0)if(xt.split("/").length-1==1)Lt.push({key:"Filter",value:xt});else{Lt.push({key:"Filter",value:"["+xt+"]"});for(var fn=0;fn<Lt.length;fn+=1)if(Lt[fn].key==="DecodeParms"){for(var Wn=[],zn=0;zn<dt.reverseChain.split("/").length-1;zn+=1)Wn.push("null");Wn.push(Lt[fn].value),Lt[fn].value="["+Wn.join(" ")+"]"}}Z("<<");for(var p=0;p<Lt.length;p++)Z("/"+Lt[p].key+" "+Lt[p].value);Z(">>"),dt.data.length!==0&&(Z("stream"),Z(ut(dt.data)),Z("endstream"))},ga=w.__private__.putPage=function(_){var M=_.number,ie=_.data,de=_.objId,_e=_.contentsObjId;Di(de,!0),Z("<</Type /Page"),Z("/Parent "+_.rootDictionaryObjId+" 0 R"),Z("/Resources "+_.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(P(_.mediaBox.bottomLeftX))+" "+parseFloat(P(_.mediaBox.bottomLeftY))+" "+P(_.mediaBox.topRightX)+" "+P(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&Z("/CropBox ["+P(_.cropBox.bottomLeftX)+" "+P(_.cropBox.bottomLeftY)+" "+P(_.cropBox.topRightX)+" "+P(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&Z("/BleedBox ["+P(_.bleedBox.bottomLeftX)+" "+P(_.bleedBox.bottomLeftY)+" "+P(_.bleedBox.topRightX)+" "+P(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&Z("/TrimBox ["+P(_.trimBox.bottomLeftX)+" "+P(_.trimBox.bottomLeftY)+" "+P(_.trimBox.topRightX)+" "+P(_.trimBox.topRightY)+"]"),_.artBox!==null&&Z("/ArtBox ["+P(_.artBox.bottomLeftX)+" "+P(_.artBox.bottomLeftY)+" "+P(_.artBox.topRightX)+" "+P(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&Z("/UserUnit "+_.userUnit),an.publish("putPage",{objId:de,pageContext:vt[M],pageNumber:M,page:ie}),Z("/Contents "+_e+" 0 R"),Z(">>"),Z("endobj");var Fe=ie.join(`
`);return se===oe&&(Fe+=`
Q`),Di(_e,!0),ns({data:Fe,filters:Er(),objectId:_e}),Z("endobj"),de},vs=w.__private__.putPages=function(){var _,M,ie=[];for(_=1;_<=wt;_++)vt[_].objId=Qn(),vt[_].contentsObjId=Qn();for(_=1;_<=wt;_++)ie.push(ga({number:_,data:Xe[_],objId:vt[_].objId,contentsObjId:vt[_].contentsObjId,mediaBox:vt[_].mediaBox,cropBox:vt[_].cropBox,bleedBox:vt[_].bleedBox,trimBox:vt[_].trimBox,artBox:vt[_].artBox,userUnit:vt[_].userUnit,rootDictionaryObjId:Zi,resourceDictionaryObjId:Dn}));Di(Zi,!0),Z("<</Type /Pages");var de="/Kids [";for(M=0;M<wt;M++)de+=ie[M]+" 0 R ";Z(de+"]"),Z("/Count "+wt),Z(">>"),Z("endobj"),an.publish("postPutPages")},Tr=function(_){an.publish("putFont",{font:_,out:Z,newObject:Fn,putStream:ns}),_.isAlreadyPutted!==!0&&(_.objectNumber=Fn(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+ah(_.postScriptName)),Z("/Subtype /Type1"),typeof _.encoding=="string"&&Z("/Encoding /"+_.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},Zs=function(_){_.objectNumber=Fn();var M=[];M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Form"}),M.push({key:"BBox",value:"["+[P(_.x),P(_.y),P(_.x+_.width),P(_.y+_.height)].join(" ")+"]"}),M.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var ie=_.pages[1].join(`
`);ns({data:ie,additionalKeyValues:M,objectId:_.objectNumber}),Z("endobj")},Br=function(_,M){M||(M=21);var ie=Fn(),de=(function(Ke,ut){var dt,Lt=[],xt=1/(ut-1);for(dt=0;dt<1;dt+=xt)Lt.push(dt);if(Lt.push(1),Ke[0].offset!=0){var fn={offset:0,color:Ke[0].color};Ke.unshift(fn)}if(Ke[Ke.length-1].offset!=1){var Wn={offset:1,color:Ke[Ke.length-1].color};Ke.push(Wn)}for(var zn="",p=0,S=0;S<Lt.length;S++){for(dt=Lt[S];dt>Ke[p+1].offset;)p++;var L=Ke[p].offset,X=(dt-L)/(Ke[p+1].offset-L),Ae=Ke[p].color,De=Ke[p+1].color;zn+=ae(Math.round((1-X)*Ae[0]+X*De[0]).toString(16))+ae(Math.round((1-X)*Ae[1]+X*De[1]).toString(16))+ae(Math.round((1-X)*Ae[2]+X*De[2]).toString(16))}return zn.trim()})(_.colors,M),_e=[];_e.push({key:"FunctionType",value:"0"}),_e.push({key:"Domain",value:"[0.0 1.0]"}),_e.push({key:"Size",value:"["+M+"]"}),_e.push({key:"BitsPerSample",value:"8"}),_e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ns({data:de,additionalKeyValues:_e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),Z("endobj"),_.objectNumber=Fn(),Z("<< /ShadingType "+_.type),Z("/ColorSpace /DeviceRGB");var Fe="/Coords ["+P(parseFloat(_.coords[0]))+" "+P(parseFloat(_.coords[1]))+" ";_.type===2?Fe+=P(parseFloat(_.coords[2]))+" "+P(parseFloat(_.coords[3])):Fe+=P(parseFloat(_.coords[2]))+" "+P(parseFloat(_.coords[3]))+" "+P(parseFloat(_.coords[4]))+" "+P(parseFloat(_.coords[5])),Z(Fe+="]"),_.matrix&&Z("/Matrix ["+_.matrix.toString()+"]"),Z("/Function "+ie+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},cr=function(_,M){var ie=Qn(),de=Fn();M.push({resourcesOid:ie,objectOid:de}),_.objectNumber=de;var _e=[];_e.push({key:"Type",value:"/Pattern"}),_e.push({key:"PatternType",value:"1"}),_e.push({key:"PaintType",value:"1"}),_e.push({key:"TilingType",value:"1"}),_e.push({key:"BBox",value:"["+_.boundingBox.map(P).join(" ")+"]"}),_e.push({key:"XStep",value:P(_.xStep)}),_e.push({key:"YStep",value:P(_.yStep)}),_e.push({key:"Resources",value:ie+" 0 R"}),_.matrix&&_e.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),ns({data:_.stream,additionalKeyValues:_e,objectId:_.objectNumber}),Z("endobj")},Fr=function(_){for(var M in _.objectNumber=Fn(),Z("<<"),_)switch(M){case"opacity":Z("/ca "+E(_[M]));break;case"stroke-opacity":Z("/CA "+E(_[M]))}Z(">>"),Z("endobj")},is=function(_){Di(_.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var M in Z("/Font <<"),Et)Et.hasOwnProperty(M)&&(x===!1||x===!0&&N.hasOwnProperty(M))&&Z("/"+M+" "+Et[M].objectNumber+" 0 R");Z(">>")})(),(function(){if(Object.keys(At).length>0){for(var M in Z("/Shading <<"),At)At.hasOwnProperty(M)&&At[M]instanceof Ku&&At[M].objectNumber>=0&&Z("/"+M+" "+At[M].objectNumber+" 0 R");an.publish("putShadingPatternDict"),Z(">>")}})(),(function(M){if(Object.keys(At).length>0){for(var ie in Z("/Pattern <<"),At)At.hasOwnProperty(ie)&&At[ie]instanceof w.TilingPattern&&At[ie].objectNumber>=0&&At[ie].objectNumber<M&&Z("/"+ie+" "+At[ie].objectNumber+" 0 R");an.publish("putTilingPatternDict"),Z(">>")}})(_.objectOid),(function(){if(Object.keys(Ot).length>0){var M;for(M in Z("/ExtGState <<"),Ot)Ot.hasOwnProperty(M)&&Ot[M].objectNumber>=0&&Z("/"+M+" "+Ot[M].objectNumber+" 0 R");an.publish("putGStateDict"),Z(">>")}})(),(function(){for(var M in Z("/XObject <<"),Ji)Ji.hasOwnProperty(M)&&Ji[M].objectNumber>=0&&Z("/"+M+" "+Ji[M].objectNumber+" 0 R");an.publish("putXobjectDict"),Z(">>")})(),Z(">>"),Z("endobj")},ci=function(_){Mt[_.fontName]=Mt[_.fontName]||{},Mt[_.fontName][_.fontStyle]=_.id},po=function(_,M,ie,de,_e){var Fe={id:"F"+(Object.keys(Et).length+1).toString(10),postScriptName:_,fontName:M,fontStyle:ie,encoding:de,isStandardFont:_e||!1,metadata:{}};return an.publish("addFont",{font:Fe,instance:this}),Et[Fe.id]=Fe,ci(Fe),Fe.id},Nr=w.__private__.pdfEscape=w.pdfEscape=function(_,M){return(function(ie,de){var _e,Fe,Ke,ut,dt,Lt,xt,fn,Wn;if(Ke=(de=de||{}).sourceEncoding||"Unicode",dt=de.outputEncoding,(de.autoencode||dt)&&Et[gt].metadata&&Et[gt].metadata[Ke]&&Et[gt].metadata[Ke].encoding&&(ut=Et[gt].metadata[Ke].encoding,!dt&&Et[gt].encoding&&(dt=Et[gt].encoding),!dt&&ut.codePages&&(dt=ut.codePages[0]),typeof dt=="string"&&(dt=ut[dt]),dt)){for(xt=!1,Lt=[],_e=0,Fe=ie.length;_e<Fe;_e++)(fn=dt[ie.charCodeAt(_e)])?Lt.push(String.fromCharCode(fn)):Lt.push(ie[_e]),Lt[_e].charCodeAt(0)>>8&&(xt=!0);ie=Lt.join("")}for(_e=ie.length;xt===void 0&&_e!==0;)ie.charCodeAt(_e-1)>>8&&(xt=!0),_e--;if(!xt)return ie;for(Lt=de.noBOM?[]:[254,255],_e=0,Fe=ie.length;_e<Fe;_e++){if((Wn=(fn=ie.charCodeAt(_e))>>8)>>8)throw new Error("Character at position "+_e+" of string '"+ie+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Lt.push(Wn),Lt.push(fn-(Wn<<8))}return String.fromCharCode.apply(void 0,Lt)})(_,M).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rs=w.__private__.beginPage=function(_){Xe[++wt]=[],vt[wt]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},mo(wt),lt(Xe[Y])},bs=function(_,M){var ie,de,_e;switch(t=M||t,typeof _=="string"&&(ie=V(_.toLowerCase()),Array.isArray(ie)&&(de=ie[0],_e=ie[1])),Array.isArray(_)&&(de=_[0]*qt,_e=_[1]*qt),isNaN(de)&&(de=a[0],_e=a[1]),(de>14400||_e>14400)&&(li.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),de=Math.min(14400,de),_e=Math.min(14400,_e)),a=[de,_e],t.substr(0,1)){case"l":_e>de&&(a=[_e,de]);break;case"p":de>_e&&(a=[_e,de])}rs(a),Ct(Ir),Z(qr),Gr!==0&&Z(Gr+" J"),Ei!==0&&Z(Ei+" j"),an.publish("addPage",{pageNumber:wt})},Ua=function(_){_>0&&_<=wt&&(Xe.splice(_,1),vt.splice(_,1),wt--,Y>wt&&(Y=wt),this.setPage(Y))},mo=function(_){_>0&&_<=wt&&(Y=_)},go=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return Xe.length-1},Xo=function(_,M,ie){var de,_e=void 0;return ie=ie||{},_=_!==void 0?_:Et[gt].fontName,M=M!==void 0?M:Et[gt].fontStyle,de=_.toLowerCase(),Mt[de]!==void 0&&Mt[de][M]!==void 0?_e=Mt[de][M]:Mt[_]!==void 0&&Mt[_][M]!==void 0?_e=Mt[_][M]:ie.disableWarning===!1&&li.warn("Unable to look up font label for font '"+_+"', '"+M+"'. Refer to getFontList() for available fonts."),_e||ie.noFallback||(_e=Mt.times[M])==null&&(_e=Mt.times.normal),_e},zr=w.__private__.putInfo=function(){var _=Fn(),M=function(de){return de};for(var ie in b!==null&&(M=ri.encryptor(_,0)),Z("<<"),Z("/Producer ("+Nr(M("jsPDF "+Tt.version))+")"),Xt)Xt.hasOwnProperty(ie)&&Xt[ie]&&Z("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+Nr(M(Xt[ie]))+")");Z("/CreationDate ("+Nr(M(be))+")"),Z(">>"),Z("endobj")},er=w.__private__.putCatalog=function(_){var M=(_=_||{}).rootDictionaryObjId||Zi;switch(Fn(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+M+" 0 R"),it||(it="fullwidth"),it){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+it;ie.substr(ie.length-1)==="%"&&(it=parseInt(it)/100),typeof it=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+E(it)+"]")}switch(Jt||(Jt="continuous"),Jt){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}_t&&Z("/PageMode /"+_t),an.publish("putCatalog"),Z(">>"),Z("endobj")},yi=w.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(ue+1)),Z("/Root "+ue+" 0 R"),Z("/Info "+(ue-1)+" 0 R"),b!==null&&Z("/Encrypt "+ri.oid+" 0 R"),Z("/ID [ <"+ne+"> <"+ne+"> ]"),Z(">>")},cn=w.__private__.putHeader=function(){Z("%PDF-"+F),Z("%")},ea=w.__private__.putXRef=function(){var _="0000000000";Z("xref"),Z("0 "+(ue+1)),Z("0000000000 65535 f ");for(var M=1;M<=ue;M++)typeof ye[M]=="function"?Z((_+ye[M]()).slice(-10)+" 00000 n "):ye[M]!==void 0?Z((_+ye[M]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},ss=w.__private__.buildDocument=function(){var _;ue=0,Ce=0,Le=[],ye=[],Be=[],Zi=Qn(),Dn=Qn(),lt(Le),an.publish("buildDocument"),cn(),vs(),(function(){an.publish("putAdditionalObjects");for(var ie=0;ie<Be.length;ie++){var de=Be[ie];Di(de.objId,!0),Z(de.content),Z("endobj")}an.publish("postPutAdditionalObjects")})(),_=[],(function(){for(var ie in Et)Et.hasOwnProperty(ie)&&(x===!1||x===!0&&N.hasOwnProperty(ie))&&Tr(Et[ie])})(),(function(){var ie;for(ie in Ot)Ot.hasOwnProperty(ie)&&Fr(Ot[ie])})(),(function(){for(var ie in Ji)Ji.hasOwnProperty(ie)&&Zs(Ji[ie])})(),(function(ie){var de;for(de in At)At.hasOwnProperty(de)&&(At[de]instanceof Ku?Br(At[de]):At[de]instanceof oh&&cr(At[de],ie))})(_),an.publish("putResources"),_.forEach(is),is({resourcesOid:Dn,objectOid:Number.MAX_SAFE_INTEGER}),an.publish("postPutResources"),b!==null&&(ri.oid=Fn(),Z("<<"),Z("/Filter /Standard"),Z("/V "+ri.v),Z("/R "+ri.r),Z("/U <"+ri.toHexString(ri.U)+">"),Z("/O <"+ri.toHexString(ri.O)+">"),Z("/P "+ri.P),Z(">>"),Z("endobj")),zr(),er();var M=Ce;return ea(),yi(),Z("startxref"),Z(""+M),Z("%%EOF"),lt(Xe[Y]),Le.join(`
`)},yn=w.__private__.getBlob=function(_){return new Blob([Je(_)],{type:"application/pdf"})},ya=w.output=w.__private__.output=(xr=function(_,M){switch(typeof(M=M||{})=="string"?M={filename:M}:M.filename=M.filename||"generated.pdf",_){case void 0:return ss();case"save":w.save(M.filename);break;case"arraybuffer":return Je(ss());case"blob":return yn(ss());case"bloburi":case"bloburl":if(Gt.URL!==void 0&&typeof Gt.URL.createObjectURL=="function")return Gt.URL&&Gt.URL.createObjectURL(yn(ss()))||void 0;li.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",de=ss();try{ie=Zb(de)}catch{ie=Zb(unescape(encodeURIComponent(de)))}return"data:application/pdf;filename="+M.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Gt)==="[object Window]"){var _e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';M.pdfObjectUrl&&(_e=M.pdfObjectUrl,Fe="");var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+_e+'"'+Fe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(M)+");<\/script></body></html>",ut=Gt.open();return ut!==null&&ut.document.write(Ke),ut}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Gt)==="[object Window]"){var dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(M.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+M.filename+'" width="500px" height="400px" /></body></html>',Lt=Gt.open();if(Lt!==null){Lt.document.write(dt);var xt=this;Lt.document.documentElement.querySelector("#pdfViewer").onload=function(){Lt.document.title=M.filename,Lt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(xt.output("bloburl"))}}return Lt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Gt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var fn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",M)+'"></iframe></body></html>',Wn=Gt.open();if(Wn!==null&&(Wn.document.write(fn),Wn.document.title=M.filename),Wn||typeof safari>"u")return Wn;break;case"datauri":case"dataurl":return Gt.document.location.href=this.output("datauristring",M);default:return null}},xr.foo=function(){try{return xr.apply(this,arguments)}catch(ie){var _=ie.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var M="Error in function "+_.split(`
`)[0].split("<")[0]+": "+ie.message;if(!Gt.console)throw new Error(M);Gt.console.error(M,ie),Gt.alert&&alert(M)}},xr.foo.bar=xr,xr.foo),xi=function(_){return Array.isArray(lr)===!0&&lr.indexOf(_)>-1};switch(r){case"pt":qt=1;break;case"mm":qt=72/25.4;break;case"cm":qt=72/2.54;break;case"in":qt=72;break;case"px":qt=xi("px_scaling")==1?.75:96/72;break;case"pc":case"em":qt=12;break;case"ex":qt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);qt=r}var ri=null;Q(),fe();var vi=w.__private__.getPageInfo=w.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:vt[_].objId,pageNumber:_,pageContext:vt[_]}},Va=w.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var M in vt)if(vt[M].objId===_)break;return vi(M)},Dl=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:vt[Y].objId,pageNumber:Y,pageContext:vt[Y]}};w.addPage=function(){return bs.apply(this,arguments),this},w.setPage=function(){return mo.apply(this,arguments),lt.call(this,Xe[Y]),this},w.insertPage=function(_){return this.addPage(),this.movePage(Y,_),this},w.movePage=function(_,M){var ie,de;if(_>M){ie=Xe[_],de=vt[_];for(var _e=_;_e>M;_e--)Xe[_e]=Xe[_e-1],vt[_e]=vt[_e-1];Xe[M]=ie,vt[M]=de,this.setPage(M)}else if(_<M){ie=Xe[_],de=vt[_];for(var Fe=_;Fe<M;Fe++)Xe[Fe]=Xe[Fe+1],vt[Fe]=vt[Fe+1];Xe[M]=ie,vt[M]=de,this.setPage(M)}return this},w.deletePage=function(){return Ua.apply(this,arguments),this},w.__private__.text=w.text=function(_,M,ie,de,_e){var Fe,Ke,ut,dt,Lt,xt,fn,Wn,zn,p=(de=de||{}).scope||this;if(typeof _=="number"&&typeof M=="number"&&(typeof ie=="string"||Array.isArray(ie))){var S=ie;ie=M,M=_,_=S}if(arguments[3]instanceof St==0?(ut=arguments[4],dt=arguments[5],Xn(fn=arguments[3])==="object"&&fn!==null||(typeof ut=="string"&&(dt=ut,ut=null),typeof fn=="string"&&(dt=fn,fn=null),typeof fn=="number"&&(ut=fn,fn=null),de={flags:fn,angle:ut,align:dt})):(D("The transform parameter of text() with a Matrix value"),zn=_e),isNaN(M)||isNaN(ie)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return p;var L,X="",Ae=typeof de.lineHeightFactor=="number"?de.lineHeightFactor:ia,De=p.internal.scaleFactor;function Ze(Rn){return Rn=Rn.split("	").join(Array(de.TabLen||9).join(" ")),Nr(Rn,fn)}function zt(Rn){for(var Sn,Zn=Rn.concat(),Ni=[],Ia=Zn.length;Ia--;)typeof(Sn=Zn.shift())=="string"?Ni.push(Sn):Array.isArray(Rn)&&(Sn.length===1||Sn[1]===void 0&&Sn[2]===void 0)?Ni.push(Sn[0]):Ni.push([Sn[0],Sn[1],Sn[2]]);return Ni}function Jn(Rn,Sn){var Zn;if(typeof Rn=="string")Zn=Sn(Rn)[0];else if(Array.isArray(Rn)){for(var Ni,Ia,oa=Rn.concat(),il=[],Ru=oa.length;Ru--;)typeof(Ni=oa.shift())=="string"?il.push(Sn(Ni)[0]):Array.isArray(Ni)&&typeof Ni[0]=="string"&&(Ia=Sn(Ni[0],Ni[1],Ni[2]),il.push([Ia[0],Ia[1],Ia[2]]));Zn=il}return Zn}var ln=!1,Pn=!0;if(typeof _=="string")ln=!0;else if(Array.isArray(_)){var nr=_.concat();Ke=[];for(var fr,Gn=nr.length;Gn--;)(typeof(fr=nr.shift())!="string"||Array.isArray(fr)&&typeof fr[0]!="string")&&(Pn=!1);ln=Pn}if(ln===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var dr=Me/p.internal.scaleFactor,Ss=dr*(Ae-1);switch(de.baseline){case"bottom":ie-=Ss;break;case"top":ie+=dr-Ss;break;case"hanging":ie+=dr-2*Ss;break;case"middle":ie+=dr/2-Ss}if((xt=de.maxWidth||0)>0&&(typeof _=="string"?_=p.splitTextToSize(_,xt):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(Rn,Sn){return Rn.concat(p.splitTextToSize(Sn,xt))},[]))),Fe={text:_,x:M,y:ie,options:de,mutex:{pdfEscape:Nr,activeFontKey:gt,fonts:Et,activeFontSize:Me}},an.publish("preProcessText",Fe),_=Fe.text,ut=(de=Fe.options).angle,zn instanceof St==0&&ut&&typeof ut=="number"){ut*=Math.PI/180,de.rotationDirection===0&&(ut=-ut),se===oe&&(ut=-ut);var Aa=Math.cos(ut),Sa=Math.sin(ut);zn=new St(Aa,Sa,-Sa,Aa,0,0)}else ut&&ut instanceof St&&(zn=ut);se!==oe||zn||(zn=Vr),(Lt=de.charSpace||Hr)!==void 0&&(X+=P(R(Lt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Wn=de.horizontalScale)!==void 0&&(X+=P(100*Wn)+` Tz
`),de.lang;var Kr=-1,Ha=de.renderingMode!==void 0?de.renderingMode:de.stroke,Ol=p.internal.getCurrentPageInfo().pageContext;switch(Ha){case 0:case!1:case"fill":Kr=0;break;case 1:case!0:case"stroke":Kr=1;break;case 2:case"fillThenStroke":Kr=2;break;case 3:case"invisible":Kr=3;break;case 4:case"fillAndAddForClipping":Kr=4;break;case 5:case"strokeAndAddPathForClipping":Kr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Kr=6;break;case 7:case"addToPathForClipping":Kr=7}var Cu=Ol.usedRenderingMode!==void 0?Ol.usedRenderingMode:-1;Kr!==-1?X+=Kr+` Tr
`:Cu!==-1&&(X+=`0 Tr
`),Kr!==-1&&(Ol.usedRenderingMode=Kr),dt=de.align||"left";var xs,sa=Me*Ae,Ga=p.internal.pageSize.getWidth(),Iu=Et[gt];Lt=de.charSpace||Hr,xt=de.maxWidth||0,fn=Object.assign({autoencode:!0,noBOM:!0},de.flags);var aa=[],Ao=function(Rn){return p.getStringUnitWidth(Rn,{font:Iu,charSpace:Lt,fontSize:Me,doKerning:!1})*Me/De};if(Object.prototype.toString.call(_)==="[object Array]"){var os;Ke=zt(_),dt!=="left"&&(xs=Ke.map(Ao));var $r,xa=0;if(dt==="right"){M-=xs[0],_=[],Gn=Ke.length;for(var Ea=0;Ea<Gn;Ea++)Ea===0?($r=Gi(M),os=Pi(ie)):($r=R(xa-xs[Ea]),os=-sa),_.push([Ke[Ea],$r,os]),xa=xs[Ea]}else if(dt==="center"){M-=xs[0]/2,_=[],Gn=Ke.length;for(var Ya=0;Ya<Gn;Ya++)Ya===0?($r=Gi(M),os=Pi(ie)):($r=R((xa-xs[Ya])/2),os=-sa),_.push([Ke[Ya],$r,os]),xa=xs[Ya]}else if(dt==="left"){_=[],Gn=Ke.length;for(var Pl=0;Pl<Gn;Pl++)_.push(Ke[Pl])}else if(dt==="justify"&&Iu.encoding==="Identity-H"){_=[],Gn=Ke.length,xt=xt!==0?xt:Ga;for(var Ml=0,Ti=0;Ti<Gn;Ti++)if(os=Ti===0?Pi(ie):-sa,$r=Ti===0?Gi(M):Ml,Ti<Gn-1){var gc=R((xt-xs[Ti])/(Ke[Ti].split(" ").length-1)),Ta=Ke[Ti].split(" ");_.push([Ta[0]+" ",$r,os]),Ml=0;for(var Na=1;Na<Ta.length;Na++){var pr=(Ao(Ta[Na-1]+" "+Ta[Na])-Ao(Ta[Na]))*De+gc;Na==Ta.length-1?_.push([Ta[Na],pr,0]):_.push([Ta[Na]+" ",pr,0]),Ml-=pr}}else _.push([Ke[Ti],$r,os]);_.push(["",Ml,0])}else{if(dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],Gn=Ke.length,xt=xt!==0?xt:Ga,Ti=0;Ti<Gn;Ti++){os=Ti===0?Pi(ie):-sa,$r=Ti===0?Gi(M):0;var Ka=Ke[Ti].split(" ").length-1,jl=Ka>0?(xt-xs[Ti])/Ka:0;Ti<Gn-1?aa.push(P(R(jl))):aa.push(0),_.push([Ke[Ti],$r,os])}}}(typeof de.R2L=="boolean"?de.R2L:Nt)===!0&&(_=Jn(_,function(Rn,Sn,Zn){return[Rn.split("").reverse().join(""),Sn,Zn]})),Fe={text:_,x:M,y:ie,options:de,mutex:{pdfEscape:Nr,activeFontKey:gt,fonts:Et,activeFontSize:Me}},an.publish("postProcessText",Fe),_=Fe.text,L=Fe.mutex.isHex||!1;var Ul=Et[gt].encoding;Ul!=="WinAnsiEncoding"&&Ul!=="StandardEncoding"||(_=Jn(_,function(Rn,Sn,Zn){return[Ze(Rn),Sn,Zn]})),Ke=zt(_),_=[];for(var $a,Xa,Ca,nl=Array.isArray(Ke[0])?1:0,Es="",Qa=function(Rn,Sn,Zn){var Ni="";return Zn instanceof St?(Zn=typeof de.angle=="number"?Js(Zn,new St(1,0,0,1,Rn,Sn)):Js(new St(1,0,0,1,Rn,Sn),Zn),se===oe&&(Zn=Js(new St(1,0,0,-1,0,0),Zn)),Ni=Zn.join(" ")+` Tm
`):Ni=P(Rn)+" "+P(Sn)+` Td
`,Ni},Rr=0;Rr<Ke.length;Rr++){switch(Es="",nl){case 1:Ca=(L?"<":"(")+Ke[Rr][0]+(L?">":")"),$a=parseFloat(Ke[Rr][1]),Xa=parseFloat(Ke[Rr][2]);break;case 0:Ca=(L?"<":"(")+Ke[Rr]+(L?">":")"),$a=Gi(M),Xa=Pi(ie)}aa!==void 0&&aa[Rr]!==void 0&&(Es=aa[Rr]+` Tw
`),Rr===0?_.push(Es+Qa($a,Xa,zn)+Ca):nl===0?_.push(Es+Ca):nl===1&&_.push(Es+Qa($a,Xa,zn)+Ca)}_=nl===0?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var Os=`BT
/`;return Os+=gt+" "+Me+` Tf
`,Os+=P(Me*Ae)+` TL
`,Os+=ws+`
`,Os+=X,Os+=_,Z(Os+="ET"),N[gt]=!0,p};var Qo=w.__private__.clip=w.clip=function(_){return Z(_==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return Qo("evenodd")},w.__private__.discardPath=w.discardPath=function(){return Z("n"),this};var hr=w.__private__.isValidStyle=function(_){var M=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(M=!0),M};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(_){return hr(_)&&(m=_),this};var Wo=w.__private__.getStyle=w.getStyle=function(_){var M=m;switch(_){case"D":case"S":M="S";break;case"F":M="f";break;case"FD":case"DF":M="B";break;case"f":case"f*":case"B":case"B*":M=_}return M},ta=w.close=function(){return Z("h"),this};w.stroke=function(){return Z("S"),this},w.fill=function(_){return Hi("f",_),this},w.fillEvenOdd=function(_){return Hi("f*",_),this},w.fillStroke=function(_){return Hi("B",_),this},w.fillStrokeEvenOdd=function(_){return Hi("B*",_),this};var Hi=function(_,M){Xn(M)==="object"?Zo(M,_):Z(_)},va=function(_){_===null||se===oe&&_===void 0||(_=Wo(_),Z(_))};function Jo(_,M,ie,de,_e){var Fe=new oh(M||this.boundingBox,ie||this.xStep,de||this.yStep,this.gState,_e||this.matrix);Fe.stream=this.stream;var Ke=_+"$$"+this.cloneIndex+++"$$";return Sr(Ke,Fe),Fe}var Zo=function(_,M){var ie=In[_.key],de=At[ie];if(de instanceof Ku)Z("q"),Z(yo(M)),de.gState&&w.setGState(de.gState),Z(_.matrix.toString()+" cm"),Z("/"+ie+" sh"),Z("Q");else if(de instanceof oh){var _e=new St(1,0,0,-1,0,As());_.matrix&&(_e=_e.multiply(_.matrix||Vr),ie=Jo.call(de,_.key,_.boundingBox,_.xStep,_.yStep,_e).id),Z("q"),Z("/Pattern cs"),Z("/"+ie+" scn"),de.gState&&w.setGState(de.gState),Z(M),Z("Q")}},yo=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},vo=w.moveTo=function(_,M){return Z(P(R(_))+" "+P(ee(M))+" m"),this},na=w.lineTo=function(_,M){return Z(P(R(_))+" "+P(ee(M))+" l"),this},Cr=w.curveTo=function(_,M,ie,de,_e,Fe){return Z([P(R(_)),P(ee(M)),P(R(ie)),P(ee(de)),P(R(_e)),P(ee(Fe)),"c"].join(" ")),this};w.__private__.line=w.line=function(_,M,ie,de,_e){if(isNaN(_)||isNaN(M)||isNaN(ie)||isNaN(de)||!hr(_e))throw new Error("Invalid arguments passed to jsPDF.line");return se===le?this.lines([[ie-_,de-M]],_,M,[1,1],_e||"S"):this.lines([[ie-_,de-M]],_,M,[1,1]).stroke()},w.__private__.lines=w.lines=function(_,M,ie,de,_e,Fe){var Ke,ut,dt,Lt,xt,fn,Wn,zn,p,S,L,X;if(typeof _=="number"&&(X=ie,ie=M,M=_,_=X),de=de||[1,1],Fe=Fe||!1,isNaN(M)||isNaN(ie)||!Array.isArray(_)||!Array.isArray(de)||!hr(_e)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(vo(M,ie),Ke=de[0],ut=de[1],Lt=_.length,S=M,L=ie,dt=0;dt<Lt;dt++)(xt=_[dt]).length===2?(S=xt[0]*Ke+S,L=xt[1]*ut+L,na(S,L)):(fn=xt[0]*Ke+S,Wn=xt[1]*ut+L,zn=xt[2]*Ke+S,p=xt[3]*ut+L,S=xt[4]*Ke+S,L=xt[5]*ut+L,Cr(fn,Wn,zn,p,S,L));return Fe&&ta(),va(_e),this},w.path=function(_){for(var M=0;M<_.length;M++){var ie=_[M],de=ie.c;switch(ie.op){case"m":vo(de[0],de[1]);break;case"l":na(de[0],de[1]);break;case"c":Cr.apply(this,de);break;case"h":ta()}}return this},w.__private__.rect=w.rect=function(_,M,ie,de,_e){if(isNaN(_)||isNaN(M)||isNaN(ie)||isNaN(de)||!hr(_e))throw new Error("Invalid arguments passed to jsPDF.rect");return se===le&&(de=-de),Z([P(R(_)),P(ee(M)),P(R(ie)),P(R(de)),"re"].join(" ")),va(_e),this},w.__private__.triangle=w.triangle=function(_,M,ie,de,_e,Fe,Ke){if(isNaN(_)||isNaN(M)||isNaN(ie)||isNaN(de)||isNaN(_e)||isNaN(Fe)||!hr(Ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-_,de-M],[_e-ie,Fe-de],[_-_e,M-Fe]],_,M,[1,1],Ke,!0),this},w.__private__.roundedRect=w.roundedRect=function(_,M,ie,de,_e,Fe,Ke){if(isNaN(_)||isNaN(M)||isNaN(ie)||isNaN(de)||isNaN(_e)||isNaN(Fe)||!hr(Ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ut=4/3*(Math.SQRT2-1);return _e=Math.min(_e,.5*ie),Fe=Math.min(Fe,.5*de),this.lines([[ie-2*_e,0],[_e*ut,0,_e,Fe-Fe*ut,_e,Fe],[0,de-2*Fe],[0,Fe*ut,-_e*ut,Fe,-_e,Fe],[2*_e-ie,0],[-_e*ut,0,-_e,-Fe*ut,-_e,-Fe],[0,2*Fe-de],[0,-Fe*ut,_e*ut,-Fe,_e,-Fe]],_+_e,M,[1,1],Ke,!0),this},w.__private__.ellipse=w.ellipse=function(_,M,ie,de,_e){if(isNaN(_)||isNaN(M)||isNaN(ie)||isNaN(de)||!hr(_e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*ie,Ke=4/3*(Math.SQRT2-1)*de;return vo(_+ie,M),Cr(_+ie,M-Ke,_+Fe,M-de,_,M-de),Cr(_-Fe,M-de,_-ie,M-Ke,_-ie,M),Cr(_-ie,M+Ke,_-Fe,M+de,_,M+de),Cr(_+Fe,M+de,_+ie,M+Ke,_+ie,M),va(_e),this},w.__private__.circle=w.circle=function(_,M,ie,de){if(isNaN(_)||isNaN(M)||isNaN(ie)||!hr(de))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,M,ie,ie,de)},w.setFont=function(_,M,ie){return ie&&(M=H(M,ie)),gt=Xo(_,M,{disableWarning:!1}),this};var _s=w.__private__.getFont=w.getFont=function(){return Et[Xo.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var _,M,ie={};for(_ in Mt)if(Mt.hasOwnProperty(_))for(M in ie[_]=[],Mt[_])Mt[_].hasOwnProperty(M)&&ie[_].push(M);return ie},w.addFont=function(_,M,ie,de,_e){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?_e=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(ie=H(ie,de)),po.call(this,_,M,ie,_e=_e||"Identity-H")};var ia,Ir=n.lineWidth||.200025,ba=w.__private__.getLineWidth=w.getLineWidth=function(){return Ir},Ct=w.__private__.setLineWidth=w.setLineWidth=function(_){return Ir=_,Z(P(R(_))+" w"),this};w.__private__.setLineDash=Tt.API.setLineDash=Tt.API.setLineDashPattern=function(_,M){if(_=_||[],M=M||0,isNaN(M)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(ie){return P(R(ie))}).join(" "),M=P(R(M)),Z("["+_+"] "+M+" d"),this};var Ba=w.__private__.getLineHeight=w.getLineHeight=function(){return Me*ia};w.__private__.getLineHeight=w.getLineHeight=function(){return Me*ia};var bo=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(ia=_),this},_a=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return ia};bo(n.lineHeight);var Gi=w.__private__.getHorizontalCoordinate=function(_){return R(_)},Pi=w.__private__.getVerticalCoordinate=function(_){return se===oe?_:vt[Y].mediaBox.topRightY-vt[Y].mediaBox.bottomLeftY-R(_)},Fa=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(_){return P(Gi(_))},On=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(_){return P(Pi(_))},qr=n.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return Hn(qr)},w.__private__.setStrokeColor=w.setDrawColor=function(_,M,ie,de){return qr=Oi({ch1:_,ch2:M,ch3:ie,ch4:de,pdfColorType:"draw",precision:2}),Z(qr),this};var za=n.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return Hn(za)},w.__private__.setFillColor=w.setFillColor=function(_,M,ie,de){return za=Oi({ch1:_,ch2:M,ch3:ie,ch4:de,pdfColorType:"fill",precision:2}),Z(za),this};var ws=n.textColor||"0 g",el=w.__private__.getTextColor=w.getTextColor=function(){return Hn(ws)};w.__private__.setTextColor=w.setTextColor=function(_,M,ie,de){return ws=Oi({ch1:_,ch2:M,ch3:ie,ch4:de,pdfColorType:"text",precision:3}),this};var Hr=n.charSpace,ra=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(Hr||0)};w.__private__.setCharSpace=w.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Hr=_,this};var Gr=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(_){var M=w.CapJoinStyles[_];if(M===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Gr=M,Z(M+" J"),this};var Ei=0;w.__private__.setLineJoin=w.setLineJoin=function(_){var M=w.CapJoinStyles[_];if(M===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ei=M,Z(M+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(P(R(_))+" M"),this},w.GState=$p,w.setGState=function(_){(_=typeof _=="string"?Ot[Pt[_]]:Is(null,_)).equals(kn)||(Z("/"+_.id+" gs"),kn=_)};var Is=function(_,M){if(!_||!Pt[_]){var ie=!1;for(var de in Ot)if(Ot.hasOwnProperty(de)&&Ot[de].equals(M)){ie=!0;break}if(ie)M=Ot[de];else{var _e="GS"+(Object.keys(Ot).length+1).toString(10);Ot[_e]=M,M.id=_e}return _&&(Pt[_]=M.id),an.publish("addGState",M),M}};w.addGState=function(_,M){return Is(_,M),this},w.saveGraphicsState=function(){return Z("q"),$t.push({key:gt,size:Me,color:ws}),this},w.restoreGraphicsState=function(){Z("Q");var _=$t.pop();return gt=_.key,Me=_.size,ws=_.color,kn=null,this},w.setCurrentTransformationMatrix=function(_){return Z(_.toString()+" cm"),this},w.comment=function(_){return Z("#"+_),this};var tr=function(_,M){var ie=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(Fe){isNaN(Fe)||(ie=parseFloat(Fe))}});var de=M||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return de},set:function(Fe){isNaN(Fe)||(de=parseFloat(Fe))}});var _e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return _e},set:function(Fe){_e=Fe.toString()}}),this},Rs=function(_,M,ie,de){tr.call(this,_,M),this.type="rect";var _e=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return _e},set:function(Ke){isNaN(Ke)||(_e=parseFloat(Ke))}});var Fe=de||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Fe},set:function(Ke){isNaN(Ke)||(Fe=parseFloat(Ke))}}),this},wa=function(){this.page=wt,this.currentPage=Y,this.pages=Xe.slice(0),this.pagesContext=vt.slice(0),this.x=yt,this.y=ui,this.matrix=Qt,this.width=as(Y),this.height=_o(Y),this.outputDestination=et,this.id="",this.objectNumber=-1};wa.prototype.restore=function(){wt=this.page,Y=this.currentPage,vt=this.pagesContext,Xe=this.pages,yt=this.x,ui=this.y,Qt=this.matrix,qa(Y,this.width),Yr(Y,this.height),et=this.outputDestination};var Ls=function(_,M,ie,de,_e){qi.push(new wa),wt=Y=0,Xe=[],yt=_,ui=M,Qt=_e,rs([ie,de])};for(var ks in w.beginFormObject=function(_,M,ie,de,_e){return Ls(_,M,ie,de,_e),this},w.endFormObject=function(_){return(function(M){if(Cs[M])qi.pop().restore();else{var ie=new wa,de="Xo"+(Object.keys(Ji).length+1).toString(10);ie.id=de,Cs[M]=de,Ji[de]=ie,an.publish("addFormObject",ie),qi.pop().restore()}})(_),this},w.doFormObject=function(_,M){var ie=Ji[Cs[_]];return Z("q"),Z(M.toString()+" cm"),Z("/"+ie.id+" Do"),Z("Q"),this},w.getFormObject=function(_){var M=Ji[Cs[_]];return{x:M.x,y:M.y,width:M.width,height:M.height,matrix:M.matrix}},w.save=function(_,M){return _=_||"generated.pdf",(M=M||{}).returnPromise=M.returnPromise||!1,M.returnPromise===!1?(Yu(yn(ss()),_),typeof Yu.unload=="function"&&Gt.setTimeout&&setTimeout(Yu.unload,911),this):new Promise(function(ie,de){try{var _e=Yu(yn(ss()),_);typeof Yu.unload=="function"&&Gt.setTimeout&&setTimeout(Yu.unload,911),ie(_e)}catch(Fe){de(Fe.message)}})},Tt.API)Tt.API.hasOwnProperty(ks)&&(ks==="events"&&Tt.API.events.length?(function(_,M){var ie,de,_e;for(_e=M.length-1;_e!==-1;_e--)ie=M[_e][0],de=M[_e][1],_.subscribe.apply(_,[ie].concat(typeof de=="function"?[de]:de))})(an,Tt.API.events):w[ks]=Tt.API[ks]);function as(_){return vt[_].mediaBox.topRightX-vt[_].mediaBox.bottomLeftX}function qa(_,M){vt[_].mediaBox.topRightX=M+vt[_].mediaBox.bottomLeftX}function _o(_){return vt[_].mediaBox.topRightY-vt[_].mediaBox.bottomLeftY}function Yr(_,M){vt[_].mediaBox.topRightY=M+vt[_].mediaBox.bottomLeftY}var Ds=w.getPageWidth=function(_){return as(_=_||Y)/qt},tl=w.setPageWidth=function(_,M){qa(_,M*qt)},As=w.getPageHeight=function(_){return _o(_=_||Y)/qt},wo=w.setPageHeight=function(_,M){Yr(_,M*qt)};return w.internal={pdfEscape:Nr,getStyle:Wo,getFont:_s,getFontSize:rt,getCharSpace:ra,getTextColor:el,getLineHeight:Ba,getLineHeightFactor:_a,getLineWidth:ba,write:pe,getHorizontalCoordinate:Gi,getVerticalCoordinate:Pi,getCoordinateString:Fa,getVerticalCoordinateString:On,collections:{},newObject:Fn,newAdditionalObject:ur,newObjectDeferred:Qn,newObjectDeferredBegin:Di,getFilters:Er,putStream:ns,events:an,scaleFactor:qt,pageSize:{getWidth:function(){return Ds(Y)},setWidth:function(_){tl(Y,_)},getHeight:function(){return As(Y)},setHeight:function(_){wo(Y,_)}},encryptionOptions:b,encryption:ri,getEncryptor:function(_){return b!==null?ri.encryptor(_,0):function(M){return M}},output:ya,getNumberOfPages:go,get pages(){return Xe},out:Z,f2:E,f3:I,getPageInfo:vi,getPageInfoByObjId:Va,getCurrentPageInfo:Dl,getPDFVersion:z,Point:tr,Rectangle:Rs,Matrix:St,hasHotfix:xi},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return Ds(Y)},set:function(_){tl(Y,_)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return As(Y)},set:function(_){wo(Y,_)},enumerable:!0,configurable:!0}),(function(_){for(var M=0,ie=st.length;M<ie;M++){var de=po.call(this,_[M][0],_[M][1],_[M][2],st[M][3],!0);x===!1&&(N[de]=!0);var _e=_[M][0].split("-");ci({id:de,fontName:_e[0],fontStyle:_e[1]||""})}an.publish("addFonts",{fonts:Et,dictionary:Mt})}).call(w,st),gt="F1",bs(a,t),an.publish("initialized"),w}sh.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},sh.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},sh.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},sh.prototype.processOwnerPassword=function(n,e){return J1(W1(e).substr(0,5),n)},sh.prototype.encryptor=function(n,e){var t=W1(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return J1(t,r)}},$p.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Xn(n)!==Xn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Tt.API={events:[]},Tt.version="3.0.4";var zi=Tt.API,J0=1,mc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zc=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},tn=function(n){return n.toFixed(2)},cu=function(n){return n.toFixed(5)};zi.__acroform__={};var Ws=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},i_=function(n){return n*J0},jo=function(n){var e=new j3,t=mt.internal.getHeight(n)||0,r=mt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(tn(r)),Number(tn(t))],e},mL=zi.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},gL=zi.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},yL=zi.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Xi=zi.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return yL(n,e-1)},Qi=zi.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return mL(n,e-1)},Wi=zi.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return gL(n,e-1)},vL=zi.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,a=n[0],o=n[1],c=n[2],h=n[3],d={};return d.lowerLeft_X=t(a)||0,d.lowerLeft_Y=r(o+h)||0,d.upperRight_X=t(a+c)||0,d.upperRight_Y=r(o)||0,[Number(tn(d.lowerLeft_X)),Number(tn(d.lowerLeft_Y)),Number(tn(d.upperRight_X)),Number(tn(d.upperRight_Y))]},bL=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=Z1(n,t),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+a+" "+tn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=jo(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},Z1=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=n.multiline?a.map(function(E){return E.split(`
`)}):a.map(function(E){return[E]});var o=t,c=mt.internal.getHeight(n)||0;c=c<0?-c:c;var h=mt.internal.getWidth(n)||0;h=h<0?-h:h;var d=function(E,I,R){if(E+1<a.length){var ee=I+" "+a[E+1][0];return rp(ee,n,R).width<=h-4}return!1};o++;e:for(;o>0;){e="",o--;var m,b,x=rp("3",n,o).height,N=n.multiline?c-o:(c-x)/2,w=N+=2,F=0,z=0,$=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+rp(e,n,o=12).width+", FieldWidth:"+h+`
`;break}for(var V="",le=0,oe=0;oe<a.length;oe++)if(a.hasOwnProperty(oe)){var se=!1;if(a[oe].length!==1&&$!==a[oe].length-1){if((x+2)*(le+2)+2>c)continue e;V+=a[oe][$],se=!0,z=oe,oe--}else{V=(V+=a[oe][$]+" ").substr(V.length-1)==" "?V.substr(0,V.length-1):V;var xe=parseInt(oe),Oe=d(xe,V,o),H=oe>=a.length-1;if(Oe&&!H){V+=" ",$=0;continue}if(Oe||H){if(H)z=xe;else if(n.multiline&&(x+2)*(le+2)+2>c)continue e}else{if(!n.multiline||(x+2)*(le+2)+2>c)continue e;z=xe}}for(var P="",D=F;D<=z;D++){var q=a[D];if(n.multiline){if(D===z){P+=q[$]+" ",$=($+1)%q.length;continue}if(D===F){P+=q[q.length-1]+" ";continue}}P+=q[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,b=rp(P,n,o).width,n.textAlign){case"right":m=h-b-2;break;case"center":m=(h-b)/2;break;default:m=2}e+=tn(m)+" "+tn(w)+` Td
`,e+="("+mc(P)+`) Tj
`,e+=-tn(m)+` 0 Td
`,w=-(o+2),b=0,F=se?z:z+1,le++,V=""}break}return r.text=e,r.fontSize=o,r},rp=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},_L={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},wL=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},AL=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(ho.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(_L)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");J0=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new U3,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];o.objId=void 0,o.hasAnnotation&&wL(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,a){var o=!r;for(var c in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(c)){var h=r[c],d=[],m=h.Rect;if(h.Rect&&(h.Rect=vL(h.Rect,a)),a.internal.newObjectDeferredBegin(h.objId,!0),h.DA=mt.createDefaultAppearanceStream(h),Xn(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(d=h.getKeyValueListForStream()),h.Rect=m,h.hasAppearanceStream&&!h.appearanceStreamContent){var b=bL(h);d.push({key:"AP",value:"<</N "+b+">>"}),a.internal.acroformPlugin.xForms.push(b)}if(h.appearanceStreamContent){var x="";for(var N in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(N)){var w=h.appearanceStreamContent[N];if(x+="/"+N+" ",x+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var c in w)if(w.hasOwnProperty(c)){var F=w[c];typeof F=="function"&&(F=F.call(a,h)),x+="/"+c+" "+F+" ",a.internal.acroformPlugin.xForms.indexOf(F)>=0||a.internal.acroformPlugin.xForms.push(F)}}else typeof(F=w)=="function"&&(F=F.call(a,h)),x+="/"+c+" "+F,a.internal.acroformPlugin.xForms.indexOf(F)>=0||a.internal.acroformPlugin.xForms.push(F);x+=">>"}d.push({key:"AP",value:`<<
`+x+">>"})}a.internal.putStream({additionalKeyValues:d,objectId:h.objId}),a.internal.out("endobj")}o&&(function(z,$){for(var V in z)if(z.hasOwnProperty(V)){var le=V,oe=z[V];$.internal.newObjectDeferredBegin(oe.objId,!0),Xn(oe)==="object"&&typeof oe.putStream=="function"&&oe.putStream(),delete z[le]}})(a.internal.acroformPlugin.xForms,a)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},M3=zi.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(c){return c};if(Array.isArray(n)){for(var a="[",o=0;o<n.length;o++)switch(o!==0&&(a+=" "),Xn(n[o])){case"boolean":case"number":case"object":a+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),a+="("+mc(r(n[o].toString()))+")"):a+=n[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},c1=function(n,e,t){var r=function(a){return a};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+mc(r(n))+")"},Vo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Vo.prototype.toString=function(){return this.objId+" 0 R"},Vo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Vo.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],a=this[r];a&&(Array.isArray(a)?n.push({key:r,value:M3(a,this.objId,this.scope)}):a instanceof Vo?(a.scope=this.scope,n.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:r,value:a}))}return n};var j3=function(){Vo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Ws(j3,Vo);var U3=function(){Vo.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+mc(t(n))+")"}},set:function(t){n=t}})};Ws(U3,Vo);var ho=function n(){Vo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(V){if(isNaN(V))throw new Error('Invalid value "'+V+'" for attribute F supplied.');e=V}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Xi(e,3)},set:function(V){V?this.F=Qi(e,3):this.F=Wi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(V){if(isNaN(V))throw new Error('Invalid value "'+V+'" for attribute Ff supplied.');t=V}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(V){r=V!==void 0?V:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(V){r[0]=V}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(V){r[1]=V}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(V){r[2]=V}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(V){r[3]=V}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(V){switch(V){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=V;break;default:throw new Error('Invalid value "'+V+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Xp)return;o="FieldObject"+n.FieldNum++}var V=function(le){return le};return this.scope&&(V=this.scope.internal.getEncryptor(this.objId)),"("+mc(V(o))+")"},set:function(V){o=V.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(V){o=V}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(V){c=V}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(V){h=V}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(V){d=V}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/J0:m},set:function(V){m=V}});var b="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return b},set:function(V){b=V}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof Xp||this instanceof nc))return c1(x,this.objId,this.scope)},set:function(V){V=V.toString(),x=V}});var N=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(N)return this instanceof jr==0?c1(N,this.objId,this.scope):N},set:function(V){V=V.toString(),N=this instanceof jr==0?V.substr(0,1)==="("?Zc(V.substr(1,V.length-2)):Zc(V):V}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof jr==1?Zc(N.substr(1,N.length-1)):N},set:function(V){V=V.toString(),N=this instanceof jr==1?"/"+V:V}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(V){this.V=V}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof jr==0?c1(w,this.objId,this.scope):w},set:function(V){V=V.toString(),w=this instanceof jr==0?V.substr(0,1)==="("?Zc(V.substr(1,V.length-2)):Zc(V):V}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof jr==1?Zc(w.substr(1,w.length-1)):w},set:function(V){V=V.toString(),w=this instanceof jr==1?"/"+V:V}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var F,z=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return z},set:function(V){V=!!V,z=V}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(F)return F},set:function(V){F=V}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,1)},set:function(V){V?this.Ff=Qi(this.Ff,1):this.Ff=Wi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,2)},set:function(V){V?this.Ff=Qi(this.Ff,2):this.Ff=Wi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,3)},set:function(V){V?this.Ff=Qi(this.Ff,3):this.Ff=Wi(this.Ff,3)}});var $=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if($!==null)return $},set:function(V){if([0,1,2].indexOf(V)===-1)throw new Error('Invalid value "'+V+'" for attribute Q supplied.');$=V}}),Object.defineProperty(this,"textAlign",{get:function(){var V;switch($){case 0:default:V="left";break;case 1:V="center";break;case 2:V="right"}return V},configurable:!0,enumerable:!0,set:function(V){switch(V){case"right":case 2:$=2;break;case"center":case 1:$=1;break;default:$=0}}})};Ws(ho,Vo);var ph=function(){ho.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return M3(e,this.objId,this.scope)},set:function(t){var r,a;a=[],typeof(r=t)=="string"&&(a=(function(o,c,h){h||(h=1);for(var d,m=[];d=c.exec(o);)m.push(d[h]);return m})(r,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,18)},set:function(t){t?this.Ff=Qi(this.Ff,18):this.Ff=Wi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Qi(this.Ff,19):this.Ff=Wi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,20)},set:function(t){t?(this.Ff=Qi(this.Ff,20),e.sort()):this.Ff=Wi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,22)},set:function(t){t?this.Ff=Qi(this.Ff,22):this.Ff=Wi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,23)},set:function(t){t?this.Ff=Qi(this.Ff,23):this.Ff=Wi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,27)},set:function(t){t?this.Ff=Qi(this.Ff,27):this.Ff=Wi(this.Ff,27)}}),this.hasAppearanceStream=!1};Ws(ph,ho);var mh=function(){ph.call(this),this.fontName="helvetica",this.combo=!1};Ws(mh,ph);var gh=function(){mh.call(this),this.combo=!0};Ws(gh,mh);var bp=function(){gh.call(this),this.edit=!0};Ws(bp,gh);var jr=function(){ho.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,15)},set:function(t){t?this.Ff=Qi(this.Ff,15):this.Ff=Wi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,16)},set:function(t){t?this.Ff=Qi(this.Ff,16):this.Ff=Wi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,17)},set:function(t){t?this.Ff=Qi(this.Ff,17):this.Ff=Wi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,26)},set:function(t){t?this.Ff=Qi(this.Ff,26):this.Ff=Wi(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,a=[];for(r in a.push("<<"),e)a.push("/"+r+" ("+mc(t(e[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Xn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Ws(jr,ho);var _p=function(){jr.call(this),this.pushButton=!0};Ws(_p,jr);var yh=function(){jr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Ws(yh,jr);var Xp=function(){var n,e;ho.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(h){return h};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),r)c.push("/"+o+" ("+mc(a(r[o]))+")");return c.push(">>"),c.join(`
`)},set:function(a){Xn(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=mt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ws(Xp,ho),yh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},yh.prototype.createOption=function(n){var e=new Xp;return e.Parent=this,e.optionName=n,this.Kids.push(e),SL.call(this.scope,e),e};var wp=function(){jr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=mt.CheckBox.createAppearanceStream()};Ws(wp,jr);var nc=function(){ho.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,13)},set:function(e){e?this.Ff=Qi(this.Ff,13):this.Ff=Wi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,21)},set:function(e){e?this.Ff=Qi(this.Ff,21):this.Ff=Wi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,23)},set:function(e){e?this.Ff=Qi(this.Ff,23):this.Ff=Wi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,24)},set:function(e){e?this.Ff=Qi(this.Ff,24):this.Ff=Wi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,25)},set:function(e){e?this.Ff=Qi(this.Ff,25):this.Ff=Wi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,26)},set:function(e){e?this.Ff=Qi(this.Ff,26):this.Ff=Wi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ws(nc,ho);var Ap=function(){nc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,14)},set:function(n){n?this.Ff=Qi(this.Ff,14):this.Ff=Wi(this.Ff,14)}}),this.password=!0};Ws(Ap,nc);var mt={CheckBox:{createAppearanceStream:function(){return{N:{On:mt.CheckBox.YesNormal},D:{On:mt.CheckBox.YesPushDown,Off:mt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=jo(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),o=Z1(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+tn(mt.internal.getWidth(n))+" "+tn(mt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+tn(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=jo(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),a=[],o=mt.internal.getHeight(n),c=mt.internal.getWidth(n),h=Z1(n,n.caption);return a.push("1 g"),a.push("0 0 "+tn(c)+" "+tn(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+tn(c-1)+" "+tn(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+tn(h.fontSize)+" Tf "+r),a.push(h.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(n){var e=jo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+tn(mt.internal.getWidth(n))+" "+tn(mt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:mt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=mt.RadioButton.Circle.YesNormal,e.D[n]=mt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=jo(n);e.scope=n.scope;var t=[],r=mt.internal.getWidth(n)<=mt.internal.getHeight(n)?mt.internal.getWidth(n)/4:mt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=mt.internal.Bezier_C,o=Number((r*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+cu(mt.internal.getWidth(n)/2)+" "+cu(mt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=jo(n);e.scope=n.scope;var t=[],r=mt.internal.getWidth(n)<=mt.internal.getHeight(n)?mt.internal.getWidth(n)/4:mt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*mt.internal.Bezier_C).toFixed(5)),c=Number((r*mt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+cu(mt.internal.getWidth(n)/2)+" "+cu(mt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+cu(mt.internal.getWidth(n)/2)+" "+cu(mt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+c+" "+c+" "+r+" 0 "+r+" c"),t.push("-"+c+" "+r+" -"+r+" "+c+" -"+r+" 0 c"),t.push("-"+r+" -"+c+" -"+c+" -"+r+" 0 -"+r+" c"),t.push(c+" -"+r+" "+r+" -"+c+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=jo(n);e.scope=n.scope;var t=[],r=mt.internal.getWidth(n)<=mt.internal.getHeight(n)?mt.internal.getWidth(n)/4:mt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*mt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+cu(mt.internal.getWidth(n)/2)+" "+cu(mt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:mt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=mt.RadioButton.Cross.YesNormal,e.D[n]=mt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=jo(n);e.scope=n.scope;var t=[],r=mt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+tn(mt.internal.getWidth(n)-2)+" "+tn(mt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(tn(r.x1.x)+" "+tn(r.x1.y)+" m"),t.push(tn(r.x2.x)+" "+tn(r.x2.y)+" l"),t.push(tn(r.x4.x)+" "+tn(r.x4.y)+" m"),t.push(tn(r.x3.x)+" "+tn(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=jo(n);e.scope=n.scope;var t=mt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+tn(mt.internal.getWidth(n))+" "+tn(mt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+tn(mt.internal.getWidth(n)-2)+" "+tn(mt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(tn(t.x1.x)+" "+tn(t.x1.y)+" m"),r.push(tn(t.x2.x)+" "+tn(t.x2.y)+" l"),r.push(tn(t.x4.x)+" "+tn(t.x4.y)+" m"),r.push(tn(t.x3.x)+" "+tn(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=jo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+tn(mt.internal.getWidth(n))+" "+tn(mt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};mt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=mt.internal.getWidth(n),t=mt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},mt.internal.getWidth=function(n){var e=0;return Xn(n)==="object"&&(e=i_(n.Rect[2])),e},mt.internal.getHeight=function(n){var e=0;return Xn(n)==="object"&&(e=i_(n.Rect[3])),e};var SL=zi.addField=function(n){if(AL(this,n),!(n instanceof ho))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};zi.AcroFormChoiceField=ph,zi.AcroFormListBox=mh,zi.AcroFormComboBox=gh,zi.AcroFormEditBox=bp,zi.AcroFormButton=jr,zi.AcroFormPushButton=_p,zi.AcroFormRadioButton=yh,zi.AcroFormCheckBox=wp,zi.AcroFormTextField=nc,zi.AcroFormPasswordField=Ap,zi.AcroFormAppearance=mt,zi.AcroForm={ChoiceField:ph,ListBox:mh,ComboBox:gh,EditBox:bp,Button:jr,PushButton:_p,RadioButton:yh,CheckBox:wp,TextField:nc,PasswordField:Ap,Appearance:mt},Tt.AcroForm={ChoiceField:ph,ListBox:mh,ComboBox:gh,EditBox:bp,Button:jr,PushButton:_p,RadioButton:yh,CheckBox:wp,TextField:nc,PasswordField:Ap,Appearance:mt};Tt.AcroForm;function V3(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(E,I){var R,ee,be,ne,he,fe=t;if((I=I||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(Oe(E))for(he in r)for(be=r[he],R=0;R<be.length;R+=1){for(ne=!0,ee=0;ee<be[R].length;ee+=1)if(be[R][ee]!==void 0&&be[R][ee]!==E[ee]){ne=!1;break}if(ne===!0){fe=he;break}}else for(he in r)for(be=r[he],R=0;R<be.length;R+=1){for(ne=!0,ee=0;ee<be[R].length;ee+=1)if(be[R][ee]!==void 0&&be[R][ee]!==E.charCodeAt(ee)){ne=!1;break}if(ne===!0){fe=he;break}}return fe===t&&I!==t&&(fe=I),fe},o=function E(I){for(var R=this.internal.write,ee=this.internal.putStream,be=(0,this.internal.getFilters)();be.indexOf("FlateEncode")!==-1;)be.splice(be.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var ne=[];if(ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Image"}),ne.push({key:"Width",value:I.width}),ne.push({key:"Height",value:I.height}),I.colorSpace===V.INDEXED?ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(ne.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===V.DEVICE_CMYK&&ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ne.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&ne.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var he="",fe=0,Te=I.transparency.length;fe<Te;fe++)he+=I.transparency[fe]+" "+I.transparency[fe]+" ";ne.push({key:"Mask",value:"["+he+"]"})}I.sMask!==void 0&&ne.push({key:"SMask",value:I.objectId+1+" 0 R"});var ke=I.filter!==void 0?["/"+I.filter]:void 0;if(ee({data:I.data,additionalKeyValues:ne,alreadyAppliedFilters:ke,objectId:I.objectId}),R("endobj"),"sMask"in I&&I.sMask!==void 0){var Q,k=(Q=I.sMaskBitsPerComponent)!==null&&Q!==void 0?Q:I.bitsPerComponent,Y={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:k,data:I.sMask};"filter"in I&&(Y.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(k," /Columns ").concat(I.width),Y.filter=I.filter),E.call(this,Y)}if(I.colorSpace===V.INDEXED){var J=this.internal.newObject();ee({data:P(new Uint8Array(I.palette)),objectId:J}),R("endobj")}},c=function(){var E=this.internal.collections[e+"images"];for(var I in E)o.call(this,E[I])},h=function(){var E,I=this.internal.collections[e+"images"],R=this.internal.write;for(var ee in I)R("/I"+(E=I[ee]).index,E.objectId,"0","R")},d=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",h))},m=function(){var E=this.internal.collections[e+"images"];return d.call(this),E},b=function(){return Object.keys(this.internal.collections[e+"images"]).length},x=function(E){return typeof n["process"+E.toUpperCase()]=="function"},N=function(E){return Xn(E)==="object"&&E.nodeType===1},w=function(E,I){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var R=""+E.getAttribute("src");if(R.indexOf("data:image/")===0)return vp(unescape(R).split("base64,").pop());var ee=n.loadFile(R,!0);if(ee!==void 0)return ee}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var be;switch(I){case"PNG":be="image/png";break;case"WEBP":be="image/webp";break;default:be="image/jpeg"}return vp(E.toDataURL(be,1).split("base64,").pop())}},F=function(E){var I=this.internal.collections[e+"images"];if(I){for(var R in I)if(E===I[R].alias)return I[R]}},z=function(E,I,R){return E||I||(E=-96,I=-96),E<0&&(E=-1*R.width*72/E/this.internal.scaleFactor),I<0&&(I=-1*R.height*72/I/this.internal.scaleFactor),E===0&&(E=I*R.width/R.height),I===0&&(I=E*R.height/R.width),[E,I]},$=function(E,I,R,ee,be,ne){var he=z.call(this,R,ee,be),fe=this.internal.getCoordinateString,Te=this.internal.getVerticalCoordinateString,ke=m.call(this);if(R=he[0],ee=he[1],ke[be.index]=be,ne){ne*=Math.PI/180;var Q=Math.cos(ne),k=Math.sin(ne),Y=function(ae){return ae.toFixed(4)},J=[Y(Q),Y(k),Y(-1*k),Y(Q),0,0,"cm"]}this.internal.write("q"),ne?(this.internal.write([1,"0","0",1,fe(E),Te(I+ee),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([fe(R),"0","0",fe(ee),"0","0","cm"].join(" "))):this.internal.write([fe(R),"0","0",fe(ee),fe(E),Te(I+ee),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+be.index+" Do"),this.internal.write("Q")},V=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var le=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},oe=n.__addimage__.sHashCode=function(E){var I,R,ee=0;if(typeof E=="string")for(R=E.length,I=0;I<R;I++)ee=(ee<<5)-ee+E.charCodeAt(I),ee|=0;else if(Oe(E))for(R=E.byteLength/2,I=0;I<R;I++)ee=(ee<<5)-ee+E[I],ee|=0;return ee},se=n.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var I=!0;return E.length===0&&(I=!1),E.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(I=!1),I},xe=n.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var I=E.indexOf(",");return I<0?null:E.substring(0,I).trim().endsWith("base64")?E.substring(I+1):null};n.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var Oe=n.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},H=n.__addimage__.binaryStringToUint8Array=function(E){for(var I=E.length,R=new Uint8Array(I),ee=0;ee<I;ee++)R[ee]=E.charCodeAt(ee);return R},P=n.__addimage__.arrayBufferToBinaryString=function(E){for(var I="",R=Oe(E)?E:new Uint8Array(E),ee=0;ee<R.length;ee+=8192)I+=String.fromCharCode.apply(null,R.subarray(ee,ee+8192));return I};n.addImage=function(){var E,I,R,ee,be,ne,he,fe,Te;if(typeof arguments[1]=="number"?(I=t,R=arguments[1],ee=arguments[2],be=arguments[3],ne=arguments[4],he=arguments[5],fe=arguments[6],Te=arguments[7]):(I=arguments[1],R=arguments[2],ee=arguments[3],be=arguments[4],ne=arguments[5],he=arguments[6],fe=arguments[7],Te=arguments[8]),Xn(E=arguments[0])==="object"&&!N(E)&&"imageData"in E){var ke=E;E=ke.imageData,I=ke.format||I||t,R=ke.x||R||0,ee=ke.y||ee||0,be=ke.w||ke.width||be,ne=ke.h||ke.height||ne,he=ke.alias||he,fe=ke.compression||fe,Te=ke.rotation||ke.angle||Te}var Q=this.internal.getFilters();if(fe===void 0&&Q.indexOf("FlateEncode")!==-1&&(fe="SLOW"),isNaN(R)||isNaN(ee))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var k=D.call(this,E,I,he,fe);return $.call(this,R,ee,be,ne,k,Te),this};var D=function(E,I,R,ee){var be,ne,he;if(typeof E=="string"&&a(E)===t){E=unescape(E);var fe=q(E,!1);(fe!==""||(fe=n.loadFile(E,!0))!==void 0)&&(E=fe)}if(N(E)&&(E=w(E,I)),I=a(E,I),!x(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((he=R)==null||he.length===0)&&(R=(function(Te){return typeof Te=="string"||Oe(Te)?oe(Te):Oe(Te.data)?oe(Te.data):null})(E)),(be=F.call(this,R))||(E instanceof Uint8Array||I==="RGBA"||(ne=E,E=H(E)),be=this["process"+I.toUpperCase()](E,b.call(this),R,(function(Te){return Te&&typeof Te=="string"&&(Te=Te.toUpperCase()),Te in n.image_compression?Te:le.NONE})(ee),ne)),!be)throw new Error("An unknown error occurred whilst processing the image.");return be},q=n.__addimage__.convertBase64ToBinaryString=function(E,I){I=typeof I!="boolean"||I;var R,ee="";if(typeof E=="string"){var be;R=(be=xe(E))!==null&&be!==void 0?be:E;try{ee=vp(R)}catch(ne){if(I)throw se(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ee};n.getImageProperties=function(E){var I,R,ee="";if(N(E)&&(E=w(E)),typeof E=="string"&&a(E)===t&&((ee=q(E,!1))===""&&(ee=n.loadFile(E)||""),E=ee),R=a(E),!x(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(E instanceof Uint8Array||(E=H(E)),!(I=this["process"+R.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=R,I}})(Tt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Tt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,a,o,c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(t.objId),m=t.pageContext.annotations,b=!1,x=0;x<m.length&&!b;x++)switch((r=m[x]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(b=!0);break;case"reference":case"text":case"freetext":b=!0}if(b!=0){this.internal.write("/Annots [");for(var N=0;N<m.length;N++){r=m[N];var w=this.internal.pdfEscape,F=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var z=this.internal.newAdditionalObject(),$=this.internal.newAdditionalObject(),V=this.internal.getEncryptor(z.objId),le=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+c(r.bounds.x)+" "+h(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y)+"] ")+"/Contents ("+w(V(r.contents))+")",o+=" /Popup "+$.objId+" 0 R",o+=" /P "+d.objId+" 0 R",o+=" /T ("+w(V(le))+") >>",z.content=o;var oe=z.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+c(r.bounds.x+30)+" "+h(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w+30)+" "+h(r.bounds.y)+"] ")+" /Parent "+oe,r.open&&(o+=" /Open true"),o+=" >>",$.content=o,this.internal.write(z.objId,"0 R",$.objId,"0 R");break;case"freetext":a="/Rect ["+c(r.bounds.x)+" "+h(r.bounds.y)+" "+c(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y+r.bounds.h)+"] ";var se=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+w(F(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+se+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var xe=this.annotations._nameMap[r.options.name];r.options.pageNumber=xe.page,r.options.top=xe.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+w(F(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var Oe=h(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+Oe+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,a,o,c){var h=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:d(t),y:m(r),w:d(t+a),h:m(r+o)},options:c,type:"link"})},n.textWithLink=function(t,r,a,o){var c,h,d=this.getTextWidth(t),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){h=o.maxWidth;var b=this.splitTextToSize(t,h).length;c=Math.ceil(m*b)}else h=d,c=m;return this.text(t,r,a,o),a+=.2*m,o.align==="center"&&(r-=d/2),o.align==="right"&&(r-=d),this.link(r,a-m,h,c,o),d},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(Tt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(z){return e[z.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(z){return typeof z=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(z)},h=n.__arabicParser__.isArabicEndLetter=function(z){return c(z)&&o(z)&&e[z.charCodeAt(0)].length<=2},d=n.__arabicParser__.isArabicAlfLetter=function(z){return c(z)&&a.indexOf(z.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(z){return c(z)&&o(z)&&e[z.charCodeAt(0)].length>=1};var m=n.__arabicParser__.arabicLetterHasFinalForm=function(z){return c(z)&&o(z)&&e[z.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(z){return c(z)&&o(z)&&e[z.charCodeAt(0)].length>=3};var b=n.__arabicParser__.arabicLetterHasMedialForm=function(z){return c(z)&&o(z)&&e[z.charCodeAt(0)].length==4},x=n.__arabicParser__.resolveLigatures=function(z){var $=0,V=t,le="",oe=0;for($=0;$<z.length;$+=1)V[z.charCodeAt($)]!==void 0?(oe++,typeof(V=V[z.charCodeAt($)])=="number"&&(le+=String.fromCharCode(V),V=t,oe=0),$===z.length-1&&(V=t,le+=z.charAt($-(oe-1)),$-=oe-1,oe=0)):(V=t,le+=z.charAt($-oe),$-=oe,oe=0);return le};n.__arabicParser__.isArabicDiacritic=function(z){return z!==void 0&&r[z.charCodeAt(0)]!==void 0};var N=n.__arabicParser__.getCorrectForm=function(z,$,V){return c(z)?o(z)===!1?-1:!m(z)||!c($)&&!c(V)||!c(V)&&h($)||h(z)&&!c($)||h(z)&&d($)||h(z)&&h($)?0:b(z)&&c($)&&!h($)&&c(V)&&m(V)?3:h(z)||!c(V)?1:2:-1},w=function(z){var $=0,V=0,le=0,oe="",se="",xe="",Oe=(z=z||"").split("\\s+"),H=[];for($=0;$<Oe.length;$+=1){for(H.push(""),V=0;V<Oe[$].length;V+=1)oe=Oe[$][V],se=Oe[$][V-1],xe=Oe[$][V+1],c(oe)?(le=N(oe,se,xe),H[$]+=le!==-1?String.fromCharCode(e[oe.charCodeAt(0)][le]):oe):H[$]+=oe;H[$]=x(H[$])}return H.join(" ")},F=n.__arabicParser__.processArabic=n.processArabic=function(){var z,$=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,V=[];if(Array.isArray($)){var le=0;for(V=[],le=0;le<$.length;le+=1)Array.isArray($[le])?V.push([w($[le][0]),$[le][1],$[le][2]]):V.push([w($[le])]);z=V}else z=w($);return typeof arguments[0]=="string"?z:(arguments[0].text=z,arguments[0])};n.events.push(["preProcessText",F])})(Tt.API),Tt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(h){t=h}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(h){r=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(h){a=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(h){o=h}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(h){c=h}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var a;if((t=t||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Tt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(z){d=z}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(z){m=z}});var b=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return b},set:function(z){b=z}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(z){x=z}});var N=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return N},set:function(z){N=z}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(z){w=z}});var F=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return F},set:function(z){F=z}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(d){return r.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},n.getTextDimensions=function(d,m){r.call(this);var b=(m=m||{}).fontSize||this.getFontSize(),x=m.font||this.getFont(),N=m.scaleFactor||this.internal.scaleFactor,w=0,F=0,z=0,$=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var V=m.maxWidth;V>0?typeof d=="string"?d=this.splitTextToSize(d,V):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(oe,se){return oe.concat($.splitTextToSize(se,V))},[])):d=Array.isArray(d)?d:[d];for(var le=0;le<d.length;le++)w<(z=this.getStringUnitWidth(d[le],{font:x})*b)&&(w=z);return w!==0&&(F=d.length),{w:w/=N,h:Math.max((F*b*this.getLineHeightFactor()-b*(this.getLineHeightFactor()-1))/N,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var d;d=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var m=this.internal.__cell__.lastCell,b=this.internal.__cell__.padding,x=this.internal.__cell__.margins||e,N=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===d.lineNumber?(d.x=(m.x||0)+(m.width||0),d.y=m.y||0):m.y+m.height+d.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=x.top,w&&N&&(this.printHeaderRow(d.lineNumber,!0),d.y+=N[0].height)):d.y=m.y+m.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,t===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-b,d.y+b,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+b,{align:"center",baseline:"top",maxWidth:d.width-b-b}):this.text(d.text,d.x+b,d.y+b,{align:"left",baseline:"top",maxWidth:d.width-b-b})),this.internal.__cell__.lastCell=d,this};n.table=function(d,m,b,x,N){if(r.call(this),!b)throw new Error("No data for PDF table.");var w,F,z,$,V=[],le=[],oe=[],se={},xe={},Oe=[],H=[],P=(N=N||{}).autoSize||!1,D=N.printHeaders!==!1,q=N.css&&N.css["font-size"]!==void 0?16*N.css["font-size"]:N.fontSize||12,E=N.margins||Object.assign({width:this.getPageWidth()},e),I=typeof N.padding=="number"?N.padding:3,R=N.headerBackgroundColor||"#c8c8c8",ee=N.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=ee,this.setFontSize(q),x==null)le=V=Object.keys(b[0]),oe=V.map(function(){return"left"});else if(Array.isArray(x)&&Xn(x[0])==="object")for(V=x.map(function(ke){return ke.name}),le=x.map(function(ke){return ke.prompt||ke.name||""}),oe=x.map(function(ke){return ke.align||"left"}),w=0;w<x.length;w+=1)xe[x[w].name]=.7499990551181103*x[w].width;else Array.isArray(x)&&typeof x[0]=="string"&&(le=V=x,oe=V.map(function(){return"left"}));if(P||Array.isArray(x)&&typeof x[0]=="string")for(w=0;w<V.length;w+=1){for(se[$=V[w]]=b.map(function(ke){return ke[$]}),this.setFont(void 0,"bold"),Oe.push(this.getTextDimensions(le[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),F=se[$],this.setFont(void 0,"normal"),z=0;z<F.length;z+=1)Oe.push(this.getTextDimensions(F[z],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);xe[$]=Math.max.apply(null,Oe)+I+I,Oe=[]}if(D){var be={};for(w=0;w<V.length;w+=1)be[V[w]]={},be[V[w]].text=le[w],be[V[w]].align=oe[w];var ne=h.call(this,be,xe);H=V.map(function(ke){return new o(d,m,xe[ke],ne,be[ke].text,void 0,be[ke].align)}),this.setTableHeaderRow(H),this.printHeaderRow(1,!1)}var he=x.reduce(function(ke,Q){return ke[Q.name]=Q.align,ke},{});for(w=0;w<b.length;w+=1){"rowStart"in N&&N.rowStart instanceof Function&&N.rowStart({row:w,data:b[w]},this);var fe=h.call(this,b[w],xe);for(z=0;z<V.length;z+=1){var Te=b[w][V[z]];"cellStart"in N&&N.cellStart instanceof Function&&N.cellStart({row:w,col:z,data:Te},this),c.call(this,new o(d,m,xe[V[z]],fe,Te,w+2,he[V[z]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=m,this};var h=function(d,m){var b=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,N=this.internal.scaleFactor;return Object.keys(d).map(function(w){var F=d[w];return this.splitTextToSize(F.hasOwnProperty("text")?F.text:F,m[w]-b-b)},this).map(function(w){return this.getLineHeightFactor()*w.length*x/N+b+b},this).reduce(function(w,F){return Math.max(w,F)},0)};n.setTableHeaderRow=function(d){r.call(this),this.internal.__cell__.tableHeaderRow=d},n.printHeaderRow=function(d,m){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var b;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var N=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){b=this.internal.__cell__.tableHeaderRow[w].clone(),m&&(b.y=this.internal.__cell__.margins.top||0,N.push(b)),b.lineNumber=d;var F=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,b),this.setTextColor(F)}N.length>0&&this.setTableHeaderRow(N),this.setFont(void 0,"normal"),t=!1}})(Tt.API);var B3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},F3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],e0=V3(F3),z3=[100,200,300,400,500,600,700,800,900],xL=V3(z3);function h1(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return B3[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),a=(function(o){return typeof e0[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:a,src:n.src||[],ref:n.ref||{name:e,style:[a,t,r].join(" ")}}}function r_(n,e,t,r){var a;for(a=t;a>=0&&a<e.length;a+=r)if(n[e[a]])return n[e[a]];for(a=t;a>=0&&a<e.length;a-=r)if(n[e[a]])return n[e[a]]}var EL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},s_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function a_(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function o_(n){return n.trimLeft()}function TL(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function NL(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var sp,l_,u_,eh,ap,c_,h_,f_,f1=["times"];function d_(n,e,t,r,a){var o=4,c=m_;switch(a){case Tt.API.image_compression.FAST:o=1,c=p_;break;case Tt.API.image_compression.MEDIUM:o=6,c=g_;break;case Tt.API.image_compression.SLOW:o=9,c=y_}n=(function(d,m,b,x){for(var N,w=d.length/m,F=new Uint8Array(d.length+w),z=[CL,p_,m_,g_,y_],$=0;$<w;$+=1){var V=$*m,le=d.subarray(V,V+m);if(x)F.set(x(le,b,N),V+$);else{for(var oe=z.length,se=[],xe=0;xe<oe;xe+=1)se[xe]=z[xe](le,b,N);var Oe=RL(se.concat());F.set(se[Oe],V+$)}N=le}return F})(n,e,Math.ceil(t*r/8),c);var h=K1(n,{level:o});return Tt.API.__addimage__.arrayBufferToBinaryString(h)}function CL(n){var e=Array.apply([],n);return e.unshift(0),e}function p_(n,e){var t=n.length,r=[];r[0]=1;for(var a=0;a<t;a+=1){var o=n[a-e]||0;r[a+1]=n[a]-o+256&255}return r}function m_(n,e,t){var r=n.length,a=[];a[0]=2;for(var o=0;o<r;o+=1){var c=t&&t[o]||0;a[o+1]=n[o]-c+256&255}return a}function g_(n,e,t){var r=n.length,a=[];a[0]=3;for(var o=0;o<r;o+=1){var c=n[o-e]||0,h=t&&t[o]||0;a[o+1]=n[o]+256-(c+h>>>1)&255}return a}function y_(n,e,t){var r=n.length,a=[];a[0]=4;for(var o=0;o<r;o+=1){var c=IL(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=n[o]-c+256&255}return a}function IL(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),a=Math.abs(n-t),o=Math.abs(n+e-t-t);return r<=a&&r<=o?n:a<=o?e:t}function RL(n){var e=n.map(function(t){return t.reduce(function(r,a){return r+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function d1(n,e,t){var r=e*t,a=Math.floor(r/8),o=16-(r-8*a+t),c=(1<<t)-1;return q3(n,a)>>o&c}function v_(n,e,t,r){var a=t*r,o=Math.floor(a/8),c=16-(a-8*o+r),h=(1<<r)-1,d=(e&h)<<c;(function(m,b,x){if(b+1<m.byteLength)m.setUint16(b,x,!1);else{var N=x>>8&255;m.setUint8(b,N)}})(n,o,q3(n,o)&~(h<<c)&65535|d)}function q3(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function LL(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,a=n[e++],o=a>>7,c=1<<1+(7&a);n[e++],n[e++];var h=null,d=null;o&&(h=e,d=c,e+=3*c);var m=!0,b=[],x=0,N=null,w=0,F=null;for(this.width=t,this.height=r;m&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,F=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((E=n[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var z=n[e++];x=n[e++]|n[e++]<<8,N=n[e++],1&z||(N=null),w=z>>2&7,e++;break;case 254:for(;;){if(!((E=n[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var $=n[e++]|n[e++]<<8,V=n[e++]|n[e++]<<8,le=n[e++]|n[e++]<<8,oe=n[e++]|n[e++]<<8,se=n[e++],xe=se>>6&1,Oe=1<<1+(7&se),H=h,P=d,D=!1;se>>7&&(D=!0,H=e,P=Oe,e+=3*Oe);var q=e;for(e++;;){var E;if(!((E=n[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}b.push({x:$,y:V,width:le,height:oe,has_local_palette:D,palette_offset:H,palette_size:P,data_offset:q,data_length:e-q,transparent_index:N,interlaced:!!xe,delay:x,disposal:w});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return b.length},this.loopCount=function(){return F},this.frameInfo=function(I){if(I<0||I>=b.length)throw new Error("Frame index out of range.");return b[I]},this.decodeAndBlitFrameBGRA=function(I,R){var ee=this.frameInfo(I),be=ee.width*ee.height,ne=new Uint8Array(be);b_(n,ee.data_offset,ne,be);var he=ee.palette_offset,fe=ee.transparent_index;fe===null&&(fe=256);var Te=ee.width,ke=t-Te,Q=Te,k=4*(ee.y*t+ee.x),Y=4*((ee.y+ee.height)*t+ee.x),J=k,ae=4*ke;ee.interlaced===!0&&(ae+=4*t*7);for(var ue=8,ye=0,Le=ne.length;ye<Le;++ye){var Ce=ne[ye];if(Q===0&&(Q=Te,(J+=ae)>=Y&&(ae=4*ke+4*t*(ue-1),J=k+(Te+ke)*(ue<<1),ue>>=1)),Ce===fe)J+=4;else{var Be=n[he+3*Ce],Xe=n[he+3*Ce+1],nt=n[he+3*Ce+2];R[J++]=nt,R[J++]=Xe,R[J++]=Be,R[J++]=255}--Q}},this.decodeAndBlitFrameRGBA=function(I,R){var ee=this.frameInfo(I),be=ee.width*ee.height,ne=new Uint8Array(be);b_(n,ee.data_offset,ne,be);var he=ee.palette_offset,fe=ee.transparent_index;fe===null&&(fe=256);var Te=ee.width,ke=t-Te,Q=Te,k=4*(ee.y*t+ee.x),Y=4*((ee.y+ee.height)*t+ee.x),J=k,ae=4*ke;ee.interlaced===!0&&(ae+=4*t*7);for(var ue=8,ye=0,Le=ne.length;ye<Le;++ye){var Ce=ne[ye];if(Q===0&&(Q=Te,(J+=ae)>=Y&&(ae=4*ke+4*t*(ue-1),J=k+(Te+ke)*(ue<<1),ue>>=1)),Ce===fe)J+=4;else{var Be=n[he+3*Ce],Xe=n[he+3*Ce+1],nt=n[he+3*Ce+2];R[J++]=Be,R[J++]=Xe,R[J++]=nt,R[J++]=255}--Q}}}function b_(n,e,t,r){for(var a=n[e++],o=1<<a,c=o+1,h=c+1,d=a+1,m=(1<<d)-1,b=0,x=0,N=0,w=n[e++],F=new Int32Array(4096),z=null;;){for(;b<16&&w!==0;)x|=n[e++]<<b,b+=8,w===1?w=n[e++]:--w;if(b<d)break;var $=x&m;if(x>>=d,b-=d,$!==o){if($===c)break;for(var V=$<h?$:z,le=0,oe=V;oe>o;)oe=F[oe]>>8,++le;var se=oe;if(N+le+(V!==$?1:0)>r)return void li.log("Warning, gif stream longer than expected.");t[N++]=se;var xe=N+=le;for(V!==$&&(t[N++]=se),oe=V;le--;)oe=F[oe],t[--xe]=255&oe,oe>>=8;z!==null&&h<4096&&(F[h++]=z<<8|se,h>=m+1&&d<12&&(++d,m=m<<1|1)),z=$}else h=c+1,m=(1<<(d=a+1))-1,z=null}return N!==r&&li.log("Warning, gif stream shorter than expected."),t}function p1(n){var e,t,r,a,o,c=Math.floor,h=new Array(64),d=new Array(64),m=new Array(64),b=new Array(64),x=new Array(65535),N=new Array(65535),w=new Array(64),F=new Array(64),z=[],$=0,V=7,le=new Array(64),oe=new Array(64),se=new Array(64),xe=new Array(256),Oe=new Array(2048),H=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],be=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ne(k,Y){for(var J=0,ae=0,ue=new Array,ye=1;ye<=16;ye++){for(var Le=1;Le<=k[ye];Le++)ue[Y[ae]]=[],ue[Y[ae]][0]=J,ue[Y[ae]][1]=ye,ae++,J++;J*=2}return ue}function he(k){for(var Y=k[0],J=k[1]-1;J>=0;)Y&1<<J&&($|=1<<V),J--,--V<0&&($==255?(fe(255),fe(0)):fe($),V=7,$=0)}function fe(k){z.push(k)}function Te(k){fe(k>>8&255),fe(255&k)}function ke(k,Y,J,ae,ue){for(var ye,Le=ue[0],Ce=ue[240],Be=(function(Me,it){var rt,Nt,_t,Kt,Jt,Bt,sn,Xt,gt,qt,yt=0;for(gt=0;gt<8;++gt){rt=Me[yt],Nt=Me[yt+1],_t=Me[yt+2],Kt=Me[yt+3],Jt=Me[yt+4],Bt=Me[yt+5],sn=Me[yt+6];var ui=rt+(Xt=Me[yt+7]),Qt=rt-Xt,Et=Nt+sn,Mt=Nt-sn,$t=_t+Bt,At=_t-Bt,In=Kt+Jt,Ot=Kt-Jt,Pt=ui+In,kn=ui-In,wt=Et+$t,vt=Et-$t;Me[yt]=Pt+wt,Me[yt+4]=Pt-wt;var an=.707106781*(vt+kn);Me[yt+2]=kn+an,Me[yt+6]=kn-an;var lr=.382683433*((Pt=Ot+At)-(vt=Mt+Qt)),Ji=.5411961*Pt+lr,Cs=1.306562965*vt+lr,qi=.707106781*(wt=At+Mt),St=Qt+qi,Js=Qt-qi;Me[yt+5]=Js+Ji,Me[yt+3]=Js-Ji,Me[yt+1]=St+Cs,Me[yt+7]=St-Cs,yt+=8}for(yt=0,gt=0;gt<8;++gt){rt=Me[yt],Nt=Me[yt+8],_t=Me[yt+16],Kt=Me[yt+24],Jt=Me[yt+32],Bt=Me[yt+40],sn=Me[yt+48];var Vr=rt+(Xt=Me[yt+56]),Sr=rt-Xt,xr=Nt+sn,Fn=Nt-sn,Qn=_t+Bt,Di=_t-Bt,ur=Kt+Jt,Zi=Kt-Jt,Dn=Vr+ur,Hn=Vr-ur,Oi=xr+Qn,Er=xr-Qn;Me[yt]=Dn+Oi,Me[yt+32]=Dn-Oi;var ns=.707106781*(Er+Hn);Me[yt+16]=Hn+ns,Me[yt+48]=Hn-ns;var ga=.382683433*((Dn=Zi+Di)-(Er=Fn+Sr)),vs=.5411961*Dn+ga,Tr=1.306562965*Er+ga,Zs=.707106781*(Oi=Di+Fn),Br=Sr+Zs,cr=Sr-Zs;Me[yt+40]=cr+vs,Me[yt+24]=cr-vs,Me[yt+8]=Br+Tr,Me[yt+56]=Br-Tr,yt++}for(gt=0;gt<64;++gt)qt=Me[gt]*it[gt],w[gt]=qt>0?qt+.5|0:qt-.5|0;return w})(k,Y),Xe=0;Xe<64;++Xe)F[H[Xe]]=Be[Xe];var nt=F[0]-J;J=F[0],nt==0?he(ae[0]):(he(ae[N[ye=32767+nt]]),he(x[ye]));for(var et=63;et>0&&F[et]==0;)et--;if(et==0)return he(Le),J;for(var lt,Z=1;Z<=et;){for(var pe=Z;F[Z]==0&&Z<=et;)++Z;var Je=Z-pe;if(Je>=16){lt=Je>>4;for(var st=1;st<=lt;++st)he(Ce);Je&=15}ye=32767+F[Z],he(ue[(Je<<4)+N[ye]]),he(x[ye]),Z++}return et!=63&&he(Le),J}function Q(k){k=Math.min(Math.max(k,1),100),o!=k&&((function(Y){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var ue=c((J[ae]*Y+50)/100);ue=Math.min(Math.max(ue,1),255),h[H[ae]]=ue}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Le=0;Le<64;Le++){var Ce=c((ye[Le]*Y+50)/100);Ce=Math.min(Math.max(Ce,1),255),d[H[Le]]=Ce}for(var Be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Xe=0,nt=0;nt<8;nt++)for(var et=0;et<8;et++)m[Xe]=1/(h[H[Xe]]*Be[nt]*Be[et]*8),b[Xe]=1/(d[H[Xe]]*Be[nt]*Be[et]*8),Xe++})(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),o=k)}this.encode=function(k,Y){Y&&Q(Y),z=new Array,$=0,V=7,Te(65496),Te(65504),Te(16),fe(74),fe(70),fe(73),fe(70),fe(0),fe(1),fe(1),fe(0),Te(1),Te(1),fe(0),fe(0),(function(){Te(65499),Te(132),fe(0);for(var Nt=0;Nt<64;Nt++)fe(h[Nt]);fe(1);for(var _t=0;_t<64;_t++)fe(d[_t])})(),(function(Nt,_t){Te(65472),Te(17),fe(8),Te(_t),Te(Nt),fe(3),fe(1),fe(17),fe(0),fe(2),fe(17),fe(1),fe(3),fe(17),fe(1)})(k.width,k.height),(function(){Te(65476),Te(418),fe(0);for(var Nt=0;Nt<16;Nt++)fe(P[Nt+1]);for(var _t=0;_t<=11;_t++)fe(D[_t]);fe(16);for(var Kt=0;Kt<16;Kt++)fe(q[Kt+1]);for(var Jt=0;Jt<=161;Jt++)fe(E[Jt]);fe(1);for(var Bt=0;Bt<16;Bt++)fe(I[Bt+1]);for(var sn=0;sn<=11;sn++)fe(R[sn]);fe(17);for(var Xt=0;Xt<16;Xt++)fe(ee[Xt+1]);for(var gt=0;gt<=161;gt++)fe(be[gt])})(),Te(65498),Te(12),fe(3),fe(1),fe(0),fe(2),fe(17),fe(3),fe(17),fe(0),fe(63),fe(0);var J=0,ae=0,ue=0;$=0,V=7,this.encode.displayName="_encode_";for(var ye,Le,Ce,Be,Xe,nt,et,lt,Z,pe=k.data,Je=k.width,st=k.height,Me=4*Je,it=0;it<st;){for(ye=0;ye<Me;){for(Xe=Me*it+ye,et=-1,lt=0,Z=0;Z<64;Z++)nt=Xe+(lt=Z>>3)*Me+(et=4*(7&Z)),it+lt>=st&&(nt-=Me*(it+1+lt-st)),ye+et>=Me&&(nt-=ye+et-Me+4),Le=pe[nt++],Ce=pe[nt++],Be=pe[nt++],le[Z]=(Oe[Le]+Oe[Ce+256|0]+Oe[Be+512|0]>>16)-128,oe[Z]=(Oe[Le+768|0]+Oe[Ce+1024|0]+Oe[Be+1280|0]>>16)-128,se[Z]=(Oe[Le+1280|0]+Oe[Ce+1536|0]+Oe[Be+1792|0]>>16)-128;J=ke(le,m,J,e,r),ae=ke(oe,b,ae,t,a),ue=ke(se,b,ue,t,a),ye+=32}it+=8}if(V>=0){var rt=[];rt[1]=V+1,rt[0]=(1<<V+1)-1,he(rt)}return Te(65497),new Uint8Array(z)},n=n||50,(function(){for(var k=String.fromCharCode,Y=0;Y<256;Y++)xe[Y]=k(Y)})(),e=ne(P,D),t=ne(I,R),r=ne(q,E),a=ne(ee,be),(function(){for(var k=1,Y=2,J=1;J<=15;J++){for(var ae=k;ae<Y;ae++)N[32767+ae]=J,x[32767+ae]=[],x[32767+ae][1]=J,x[32767+ae][0]=ae;for(var ue=-(Y-1);ue<=-k;ue++)N[32767+ue]=J,x[32767+ue]=[],x[32767+ue][1]=J,x[32767+ue][0]=Y-1+ue;k<<=1,Y<<=1}})(),(function(){for(var k=0;k<256;k++)Oe[k]=19595*k,Oe[k+256|0]=38470*k,Oe[k+512|0]=7471*k+32768,Oe[k+768|0]=-11059*k,Oe[k+1024|0]=-21709*k,Oe[k+1280|0]=32768*k+8421375,Oe[k+1536|0]=-27439*k,Oe[k+1792|0]=-5329*k})(),Q(n)}function so(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function __(n){function e(D){if(!D)throw Error("assert :P")}function t(D,q,E){for(var I=0;4>I;I++)if(D[q+I]!=E.charCodeAt(I))return!0;return!1}function r(D,q,E,I,R){for(var ee=0;ee<R;ee++)D[q+ee]=E[I+ee]}function a(D,q,E,I){for(var R=0;R<I;R++)D[q+R]=E}function o(D){return new Int32Array(D)}function c(D,q){for(var E=[],I=0;I<D;I++)E.push(new q);return E}function h(D,q){var E=[];return(function I(R,ee,be){for(var ne=be[ee],he=0;he<ne&&(R.push(be.length>ee+1?[]:new q),!(be.length<ee+1));he++)I(R[he],ee+1,be)})(E,0,D),E}var d=function(){var D=this;function q(f,y){for(var A=1<<y-1>>>0;f&A;)A>>>=1;return A?(f&A-1)+A:f}function E(f,y,A,T,j){e(!(T%A));do f[y+(T-=A)]=j;while(0<T)}function I(f,y,A,T,j){if(e(2328>=j),512>=j)var U=o(512);else if((U=o(j))==null)return 0;return(function(B,K,W,re,me,Ne){var te,ve,Se=K,Ve=1<<W,Ee=o(16),Ue=o(16);for(e(me!=0),e(re!=null),e(B!=null),e(0<W),ve=0;ve<me;++ve){if(15<re[ve])return 0;++Ee[re[ve]]}if(Ee[0]==me)return 0;for(Ue[1]=0,te=1;15>te;++te){if(Ee[te]>1<<te)return 0;Ue[te+1]=Ue[te]+Ee[te]}for(ve=0;ve<me;++ve)te=re[ve],0<re[ve]&&(Ne[Ue[te]++]=ve);if(Ue[15]==1)return(re=new R).g=0,re.value=Ne[0],E(B,Se,1,Ve,re),Ve;var qe,Qe=-1,Ye=Ve-1,pt=0,at=1,Ht=1,ht=1<<W;for(ve=0,te=1,me=2;te<=W;++te,me<<=1){if(at+=Ht<<=1,0>(Ht-=Ee[te]))return 0;for(;0<Ee[te];--Ee[te])(re=new R).g=te,re.value=Ne[ve++],E(B,Se+pt,me,ht,re),pt=q(pt,te)}for(te=W+1,me=2;15>=te;++te,me<<=1){if(at+=Ht<<=1,0>(Ht-=Ee[te]))return 0;for(;0<Ee[te];--Ee[te]){if(re=new R,(pt&Ye)!=Qe){for(Se+=ht,qe=1<<(Qe=te)-W;15>Qe&&!(0>=(qe-=Ee[Qe]));)++Qe,qe<<=1;Ve+=ht=1<<(qe=Qe-W),B[K+(Qe=pt&Ye)].g=qe+W,B[K+Qe].value=Se-K-Qe}re.g=te-W,re.value=Ne[ve++],E(B,Se+(pt>>W),me,ht,re),pt=q(pt,te)}}return at!=2*Ue[15]-1?0:Ve})(f,y,A,T,j,U)}function R(){this.value=this.g=0}function ee(){this.value=this.g=0}function be(){this.G=c(5,R),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Ao,ee)}function ne(f,y,A,T){e(f!=null),e(y!=null),e(2147483648>T),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=y,f.pa=A,f.Jd=y,f.Yc=A+T,f.Zc=4<=T?A+T-4+1:A,Le(f)}function he(f,y){for(var A=0;0<y--;)A|=Be(f,128)<<y;return A}function fe(f,y){var A=he(f,y);return Ce(f)?-A:A}function Te(f,y,A,T){var j,U=0;for(e(f!=null),e(y!=null),e(4294967288>T),f.Sb=T,f.Ra=0,f.u=0,f.h=0,4<T&&(T=4),j=0;j<T;++j)U+=y[A+j]<<8*j;f.Ra=U,f.bb=T,f.oa=y,f.pa=A}function ke(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<xa-8>>>0,++f.bb,f.u-=8;ae(f)&&(f.h=1,f.u=0)}function Q(f,y){if(e(0<=y),!f.h&&y<=$r){var A=J(f)&os[y];return f.u+=y,ke(f),A}return f.h=1,f.u=0}function k(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(f){return f.Ra>>>(f.u&xa-1)>>>0}function ae(f){return e(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>xa}function ue(f,y){f.u=y,f.h=ae(f)}function ye(f){f.u>=Ea&&(e(f.u>=Ea),ke(f))}function Le(f){e(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(e(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function Ce(f){return he(f,1)}function Be(f,y){var A=f.Ca;0>f.b&&Le(f);var T=f.b,j=A*y>>>8,U=(f.I>>>T>j)+0;for(U?(A-=j,f.I-=j+1<<T>>>0):A=j+1,T=A,j=0;256<=T;)j+=8,T>>=8;return T=7^j+Ya[T],f.b-=T,f.Ca=(A<<T)-1,U}function Xe(f,y,A){f[y+0]=A>>24&255,f[y+1]=A>>16&255,f[y+2]=A>>8&255,f[y+3]=255&A}function nt(f,y){return f[y+0]|f[y+1]<<8}function et(f,y){return nt(f,y)|f[y+2]<<16}function lt(f,y){return nt(f,y)|nt(f,y+2)<<16}function Z(f,y){var A=1<<y;return e(f!=null),e(0<y),f.X=o(A),f.X==null?0:(f.Mb=32-y,f.Xa=y,1)}function pe(f,y){e(f!=null),e(y!=null),e(f.Xa==y.Xa),r(y.X,0,f.X,0,1<<y.Xa)}function Je(){this.X=[],this.Xa=this.Mb=0}function st(f,y,A,T){e(A!=null),e(T!=null);var j=A[0],U=T[0];return j==0&&(j=(f*U+y/2)/y),U==0&&(U=(y*j+f/2)/f),0>=j||0>=U?0:(A[0]=j,T[0]=U,1)}function Me(f,y){return f+(1<<y)-1>>>y}function it(f,y){return((4278255360&f)+(4278255360&y)>>>0&4278255360)+((16711935&f)+(16711935&y)>>>0&16711935)>>>0}function rt(f,y){D[y]=function(A,T,j,U,B,K,W){var re;for(re=0;re<B;++re){var me=D[f](K[W+re-1],j,U+re);K[W+re]=it(A[T+re],me)}}}function Nt(){this.ud=this.hd=this.jd=0}function _t(f,y){return((4278124286&(f^y))>>>1)+(f&y)>>>0}function Kt(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function Jt(f,y){return Kt(f+(f-y+.5>>1))}function Bt(f,y,A){return Math.abs(y-A)-Math.abs(f-A)}function sn(f,y,A,T,j,U,B){for(T=U[B-1],A=0;A<j;++A)U[B+A]=T=it(f[y+A],T)}function Xt(f,y,A,T,j){var U;for(U=0;U<A;++U){var B=f[y+U],K=B>>8&255,W=16711935&(W=(W=16711935&B)+((K<<16)+K));T[j+U]=(4278255360&B)+W>>>0}}function gt(f,y){y.jd=255&f,y.hd=f>>8&255,y.ud=f>>16&255}function qt(f,y,A,T,j,U){var B;for(B=0;B<T;++B){var K=y[A+B],W=K>>>8,re=K,me=255&(me=(me=K>>>16)+((f.jd<<24>>24)*(W<<24>>24)>>>5));re=255&(re=(re+=(f.hd<<24>>24)*(W<<24>>24)>>>5)+((f.ud<<24>>24)*(me<<24>>24)>>>5)),j[U+B]=(4278255360&K)+(me<<16)+re}}function yt(f,y,A,T,j){D[y]=function(U,B,K,W,re,me,Ne,te,ve){for(W=Ne;W<te;++W)for(Ne=0;Ne<ve;++Ne)re[me++]=j(K[T(U[B++])])},D[f]=function(U,B,K,W,re,me,Ne){var te=8>>U.b,ve=U.Ea,Se=U.K[0],Ve=U.w;if(8>te)for(U=(1<<U.b)-1,Ve=(1<<te)-1;B<K;++B){var Ee,Ue=0;for(Ee=0;Ee<ve;++Ee)Ee&U||(Ue=T(W[re++])),me[Ne++]=j(Se[Ue&Ve]),Ue>>=te}else D["VP8LMapColor"+A](W,re,Se,Ve,me,Ne,B,K,ve)}}function ui(f,y,A,T,j){for(A=y+A;y<A;){var U=f[y++];T[j++]=U>>16&255,T[j++]=U>>8&255,T[j++]=255&U}}function Qt(f,y,A,T,j){for(A=y+A;y<A;){var U=f[y++];T[j++]=U>>16&255,T[j++]=U>>8&255,T[j++]=255&U,T[j++]=U>>24&255}}function Et(f,y,A,T,j){for(A=y+A;y<A;){var U=(B=f[y++])>>16&240|B>>12&15,B=240&B|B>>28&15;T[j++]=U,T[j++]=B}}function Mt(f,y,A,T,j){for(A=y+A;y<A;){var U=(B=f[y++])>>16&248|B>>13&7,B=B>>5&224|B>>3&31;T[j++]=U,T[j++]=B}}function $t(f,y,A,T,j){for(A=y+A;y<A;){var U=f[y++];T[j++]=255&U,T[j++]=U>>8&255,T[j++]=U>>16&255}}function At(f,y,A,T,j,U){if(U==0)for(A=y+A;y<A;)Xe(T,((U=f[y++])[0]>>24|U[1]>>8&65280|U[2]<<8&16711680|U[3]<<24)>>>0),j+=32;else r(T,j,f,y,A)}function In(f,y){D[y][0]=D[f+"0"],D[y][1]=D[f+"1"],D[y][2]=D[f+"2"],D[y][3]=D[f+"3"],D[y][4]=D[f+"4"],D[y][5]=D[f+"5"],D[y][6]=D[f+"6"],D[y][7]=D[f+"7"],D[y][8]=D[f+"8"],D[y][9]=D[f+"9"],D[y][10]=D[f+"10"],D[y][11]=D[f+"11"],D[y][12]=D[f+"12"],D[y][13]=D[f+"13"],D[y][14]=D[f+"0"],D[y][15]=D[f+"0"]}function Ot(f){return f==Mu||f==wc||f==Bl||f==Ac}function Pt(){this.eb=[],this.size=this.A=this.fb=0}function kn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function wt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Pt,this.f.kb=new kn,this.sd=null}function vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function an(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function lr(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function Ji(f,y){var A=f.T,T=y.ba.f.RGBA,j=T.eb,U=T.fb+f.ka*T.A,B=yr[y.ba.S],K=f.y,W=f.O,re=f.f,me=f.N,Ne=f.ea,te=f.W,ve=y.cc,Se=y.dc,Ve=y.Mc,Ee=y.Nc,Ue=f.ka,qe=f.ka+f.T,Qe=f.U,Ye=Qe+1>>1;for(Ue==0?B(K,W,null,null,re,me,Ne,te,re,me,Ne,te,j,U,null,null,Qe):(B(y.ec,y.fc,K,W,ve,Se,Ve,Ee,re,me,Ne,te,j,U-T.A,j,U,Qe),++A);Ue+2<qe;Ue+=2)ve=re,Se=me,Ve=Ne,Ee=te,me+=f.Rc,te+=f.Rc,U+=2*T.A,B(K,(W+=2*f.fa)-f.fa,K,W,ve,Se,Ve,Ee,re,me,Ne,te,j,U-T.A,j,U,Qe);return W+=f.fa,f.j+qe<f.o?(r(y.ec,y.fc,K,W,Qe),r(y.cc,y.dc,re,me,Ye),r(y.Mc,y.Nc,Ne,te,Ye),A--):1&qe||B(K,W,null,null,re,me,Ne,te,re,me,Ne,te,j,U+T.A,null,null,Qe),A}function Cs(f,y,A){var T=f.F,j=[f.J];if(T!=null){var U=f.U,B=y.ba.S,K=B==Pu||B==Bl;y=y.ba.f.RGBA;var W=[0],re=f.ka;W[0]=f.T,f.Kb&&(re==0?--W[0]:(--re,j[0]-=f.width),f.j+f.ka+f.T==f.o&&(W[0]=f.o-f.j-re));var me=y.eb;re=y.fb+re*y.A,f=Lu(T,j[0],f.width,U,W,me,re+(K?0:3),y.A),e(A==W),f&&Ot(B)&&rl(me,re,K,U,W,y.A)}return 0}function qi(f){var y=f.ma,A=y.ba.S,T=11>A,j=A==kr||A==Ms||A==Pu||A==Vl||A==12||Ot(A);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!Ga(y.Oa,f,j?11:12))return 0;if(j&&Ot(A)&&zt(),f.da)alert("todo:use_scaling");else{if(T){if(y.Ib=lr,f.Kb){if(A=f.U+1>>1,y.memory=o(f.U+2*A),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+f.U,y.Mc=y.cc,y.Nc=y.dc+A,y.Ib=Ji,zt()}}else alert("todo:EmitYUV");j&&(y.Jb=Cs,T&&De())}if(T&&!Io){for(f=0;256>f;++f)vr[f]=89858*(f-128)+ql>>zs,gm[f]=-22014*(f-128)+ql,sd[f]=-45773*(f-128),Nc[f]=113618*(f-128)+ql>>zs;for(f=ll;f<Co;++f)y=76283*(f-16)+ql>>zs,ym[f-ll]=zr(y,255),vm[f-ll]=zr(y+8>>4,15);Io=1}return 1}function St(f){var y=f.ma,A=f.U,T=f.T;return e(!(1&f.ka)),0>=A||0>=T?0:(A=y.Ib(f,y),y.Jb!=null&&y.Jb(f,y,A),y.Dc+=A,1)}function Js(f){f.ma.memory=null}function Vr(f,y,A,T){return Q(f,8)!=47?0:(y[0]=Q(f,14)+1,A[0]=Q(f,14)+1,T[0]=Q(f,1),Q(f,3)!=0?0:!f.h)}function Sr(f,y){if(4>f)return f+1;var A=f-2>>1;return(2+(1&f)<<A)+Q(y,A)+1}function xr(f,y){return 120<y?y-120:1<=(A=((A=Us[y-1])>>4)*f+(8-(15&A)))?A:1;var A}function Fn(f,y,A){var T=J(A),j=f[y+=255&T].g-8;return 0<j&&(ue(A,A.u+8),T=J(A),y+=f[y].value,y+=T&(1<<j)-1),ue(A,A.u+f[y].g),f[y].value}function Qn(f,y,A){return A.g+=f.g,A.value+=f.value<<y>>>0,e(8>=A.g),f.g}function Di(f,y,A){var T=f.xc;return e((y=T==0?0:f.vc[f.md*(A>>T)+(y>>T)])<f.Wb),f.Ya[y]}function ur(f,y,A,T){var j=f.ab,U=f.c*y,B=f.C;y=B+y;var K=A,W=T;for(T=f.Ta,A=f.Ua;0<j--;){var re=f.gc[j],me=B,Ne=y,te=K,ve=W,Se=(W=T,K=A,re.Ea);switch(e(me<Ne),e(Ne<=re.nc),re.hc){case 2:Ti(te,ve,(Ne-me)*Se,W,K);break;case 0:var Ve=me,Ee=Ne,Ue=W,qe=K,Qe=(ht=re).Ea;Ve==0&&(Pl(te,ve,null,null,1,Ue,qe),sn(te,ve+1,0,0,Qe-1,Ue,qe+1),ve+=Qe,qe+=Qe,++Ve);for(var Ye=1<<ht.b,pt=Ye-1,at=Me(Qe,ht.b),Ht=ht.K,ht=ht.w+(Ve>>ht.b)*at;Ve<Ee;){var dn=Ht,ai=ht,Zt=1;for(Ml(te,ve,Ue,qe-Qe,1,Ue,qe);Zt<Qe;){var ot=(Zt&~pt)+Ye;ot>Qe&&(ot=Qe),(0,Ka[dn[ai++]>>8&15])(te,ve+ +Zt,Ue,qe+Zt-Qe,ot-Zt,Ue,qe+Zt),Zt=ot}ve+=Qe,qe+=Qe,++Ve&pt||(ht+=at)}Ne!=re.nc&&r(W,K-Se,W,K+(Ne-me-1)*Se,Se);break;case 1:for(Se=te,Ee=ve,Qe=(te=re.Ea)-(qe=te&~(Ue=(ve=1<<re.b)-1)),Ve=Me(te,re.b),Ye=re.K,re=re.w+(me>>re.b)*Ve;me<Ne;){for(pt=Ye,at=re,Ht=new Nt,ht=Ee+qe,dn=Ee+te;Ee<ht;)gt(pt[at++],Ht),jl(Ht,Se,Ee,ve,W,K),Ee+=ve,K+=ve;Ee<dn&&(gt(pt[at++],Ht),jl(Ht,Se,Ee,Qe,W,K),Ee+=Qe,K+=Qe),++me&Ue||(re+=Ve)}break;case 3:if(te==W&&ve==K&&0<re.b){for(Ee=W,te=Se=K+(Ne-me)*Se-(qe=(Ne-me)*Me(re.Ea,re.b)),ve=W,Ue=K,Ve=[],qe=(Qe=qe)-1;0<=qe;--qe)Ve[qe]=ve[Ue+qe];for(qe=Qe-1;0<=qe;--qe)Ee[te+qe]=Ve[qe];gc(re,me,Ne,W,Se,W,K)}else gc(re,me,Ne,te,ve,W,K)}K=T,W=A}W!=A&&r(T,A,K,W,U)}function Zi(f,y){var A=f.V,T=f.Ba+f.c*f.C,j=y-f.C;if(e(y<=f.l.o),e(16>=j),0<j){var U=f.l,B=f.Ta,K=f.Ua,W=U.width;if(ur(f,j,A,T),j=K=[K],e((A=f.C)<(T=y)),e(U.v<U.va),T>U.o&&(T=U.o),A<U.j){var re=U.j-A;A=U.j,j[0]+=re*W}if(A>=T?A=0:(j[0]+=4*U.v,U.ka=A-U.j,U.U=U.va-U.v,U.T=T-A,A=1),A){if(K=K[0],11>(A=f.ca).S){var me=A.f.RGBA,Ne=(T=A.S,j=U.U,U=U.T,re=me.eb,me.A),te=U;for(me=me.fb+f.Ma*me.A;0<te--;){var ve=B,Se=K,Ve=j,Ee=re,Ue=me;switch(T){case bc:Ul(ve,Se,Ve,Ee,Ue);break;case kr:$a(ve,Se,Ve,Ee,Ue);break;case Mu:$a(ve,Se,Ve,Ee,Ue),rl(Ee,Ue,0,Ve,1,0);break;case _c:nl(ve,Se,Ve,Ee,Ue);break;case Ms:At(ve,Se,Ve,Ee,Ue,1);break;case wc:At(ve,Se,Ve,Ee,Ue,1),rl(Ee,Ue,0,Ve,1,0);break;case Pu:At(ve,Se,Ve,Ee,Ue,0);break;case Bl:At(ve,Se,Ve,Ee,Ue,0),rl(Ee,Ue,1,Ve,1,0);break;case Vl:Xa(ve,Se,Ve,Ee,Ue);break;case Ac:Xa(ve,Se,Ve,Ee,Ue),Ps(Ee,Ue,Ve,1,0);break;case So:Ca(ve,Se,Ve,Ee,Ue);break;default:e(0)}K+=W,me+=Ne}f.Ma+=U}else alert("todo:EmitRescaledRowsYUVA");e(f.Ma<=A.height)}}f.C=y,e(f.C<=f.i)}function Dn(f){var y;if(0<f.ua)return 0;for(y=0;y<f.Wb;++y){var A=f.Ya[y].G,T=f.Ya[y].H;if(0<A[1][T[1]+0].g||0<A[2][T[2]+0].g||0<A[3][T[3]+0].g)return 0}return 1}function Hn(f,y,A,T,j,U){if(f.Z!=0){var B=f.qd,K=f.rd;for(e(Ja[f.Z]!=null);y<A;++y)Ja[f.Z](B,K,T,j,T,j,U),B=T,K=j,j+=U;f.qd=B,f.rd=K}}function Oi(f,y){var A=f.l.ma,T=A.Z==0||A.Z==1?f.l.j:f.C;if(T=f.C<T?T:f.C,e(y<=f.l.o),y>T){var j=f.l.width,U=A.ca,B=A.tb+j*T,K=f.V,W=f.Ba+f.c*T,re=f.gc;e(f.ab==1),e(re[0].hc==3),Na(re[0],T,y,K,W,U,B),Hn(A,T,y,U,B,j)}f.C=f.Ma=y}function Er(f,y,A,T,j,U,B){var K=f.$/T,W=f.$%T,re=f.m,me=f.s,Ne=A+f.$,te=Ne;j=A+T*j;var ve=A+T*U,Se=280+me.ua,Ve=f.Pb?K:16777216,Ee=0<me.ua?me.Wa:null,Ue=me.wc,qe=Ne<ve?Di(me,W,K):null;e(f.C<U),e(ve<=j);var Qe=!1;e:for(;;){for(;Qe||Ne<ve;){var Ye=0;if(K>=Ve){var pt=Ne-A;e((Ve=f).Pb),Ve.wd=Ve.m,Ve.xd=pt,0<Ve.s.ua&&pe(Ve.s.Wa,Ve.s.vb),Ve=K+xo}if(W&Ue||(qe=Di(me,W,K)),e(qe!=null),qe.Qb&&(y[Ne]=qe.qb,Qe=!0),!Qe)if(ye(re),qe.jc){Ye=re,pt=y;var at=Ne,Ht=qe.pd[J(Ye)&Ao-1];e(qe.jc),256>Ht.g?(ue(Ye,Ye.u+Ht.g),pt[at]=Ht.value,Ye=0):(ue(Ye,Ye.u+Ht.g-256),e(256<=Ht.value),Ye=Ht.value),Ye==0&&(Qe=!0)}else Ye=Fn(qe.G[0],qe.H[0],re);if(re.h)break;if(Qe||256>Ye){if(!Qe)if(qe.nd)y[Ne]=(qe.qb|Ye<<8)>>>0;else{if(ye(re),Qe=Fn(qe.G[1],qe.H[1],re),ye(re),pt=Fn(qe.G[2],qe.H[2],re),at=Fn(qe.G[3],qe.H[3],re),re.h)break;y[Ne]=(at<<24|Qe<<16|Ye<<8|pt)>>>0}if(Qe=!1,++Ne,++W>=T&&(W=0,++K,B!=null&&K<=U&&!(K%16)&&B(f,K),Ee!=null))for(;te<Ne;)Ye=y[te++],Ee.X[(506832829*Ye&4294967295)>>>Ee.Mb]=Ye}else if(280>Ye){if(Ye=Sr(Ye-256,re),pt=Fn(qe.G[4],qe.H[4],re),ye(re),pt=xr(T,pt=Sr(pt,re)),re.h)break;if(Ne-A<pt||j-Ne<Ye)break e;for(at=0;at<Ye;++at)y[Ne+at]=y[Ne+at-pt];for(Ne+=Ye,W+=Ye;W>=T;)W-=T,++K,B!=null&&K<=U&&!(K%16)&&B(f,K);if(e(Ne<=j),W&Ue&&(qe=Di(me,W,K)),Ee!=null)for(;te<Ne;)Ye=y[te++],Ee.X[(506832829*Ye&4294967295)>>>Ee.Mb]=Ye}else{if(!(Ye<Se))break e;for(Qe=Ye-280,e(Ee!=null);te<Ne;)Ye=y[te++],Ee.X[(506832829*Ye&4294967295)>>>Ee.Mb]=Ye;Ye=Ne,e(!(Qe>>>(pt=Ee).Xa)),y[Ye]=pt.X[Qe],Qe=!0}Qe||e(re.h==ae(re))}if(f.Pb&&re.h&&Ne<j)e(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&pe(f.s.vb,f.s.Wa);else{if(re.h)break e;B?.(f,K>U?U:K),f.a=0,f.$=Ne-A}return 1}return f.a=3,0}function ns(f){e(f!=null),f.vc=null,f.yc=null,f.Ya=null;var y=f.Wa;y!=null&&(y.X=null),f.vb=null,e(f!=null)}function ga(){var f=new Lt;return f==null?null:(f.a=0,f.xb=Uh,In("Predictor","VP8LPredictors"),In("Predictor","VP8LPredictors_C"),In("PredictorAdd","VP8LPredictorsAdd"),In("PredictorAdd","VP8LPredictorsAdd_C"),Ti=Xt,jl=qt,Ul=ui,$a=Qt,Xa=Et,Ca=Mt,nl=$t,D.VP8LMapColor32b=Ta,D.VP8LMapColor8b=pr,f)}function vs(f,y,A,T,j){var U=1,B=[f],K=[y],W=T.m,re=T.s,me=null,Ne=0;e:for(;;){if(A)for(;U&&Q(W,1);){var te=B,ve=K,Se=T,Ve=1,Ee=Se.m,Ue=Se.gc[Se.ab],qe=Q(Ee,2);if(Se.Oc&1<<qe)U=0;else{switch(Se.Oc|=1<<qe,Ue.hc=qe,Ue.Ea=te[0],Ue.nc=ve[0],Ue.K=[null],++Se.ab,e(4>=Se.ab),qe){case 0:case 1:Ue.b=Q(Ee,3)+2,Ve=vs(Me(Ue.Ea,Ue.b),Me(Ue.nc,Ue.b),0,Se,Ue.K),Ue.K=Ue.K[0];break;case 3:var Qe,Ye=Q(Ee,8)+1,pt=16<Ye?0:4<Ye?1:2<Ye?2:3;if(te[0]=Me(Ue.Ea,pt),Ue.b=pt,Qe=Ve=vs(Ye,1,0,Se,Ue.K)){var at,Ht=Ye,ht=Ue,dn=1<<(8>>ht.b),ai=o(dn);if(ai==null)Qe=0;else{var Zt=ht.K[0],ot=ht.w;for(ai[0]=ht.K[0][0],at=1;at<1*Ht;++at)ai[at]=it(Zt[ot+at],ai[at-1]);for(;at<4*dn;++at)ai[at]=0;ht.K[0]=null,ht.K[0]=ai,Qe=1}}Ve=Qe;break;case 2:break;default:e(0)}U=Ve}}if(B=B[0],K=K[0],U&&Q(W,1)&&!(U=1<=(Ne=Q(W,4))&&11>=Ne)){T.a=3;break e}var tt;if(tt=U)t:{var hi,jt,rn,Un=T,Yi=B,br=K,ei=Ne,Mi=A,Dr=Un.m,ji=Un.s,un=[null],En=1,fi=0,Ln=Vs[ei];n:for(;;){if(Mi&&Q(Dr,1)){var Ki=Q(Dr,3)+2,di=Me(Yi,Ki),Tn=Me(br,Ki),Ii=di*Tn;if(!vs(di,Tn,0,Un,un))break n;for(un=un[0],ji.xc=Ki,hi=0;hi<Ii;++hi){var Vn=un[hi]>>8&65535;un[hi]=Vn,Vn>=En&&(En=Vn+1)}}if(Dr.h)break n;for(jt=0;5>jt;++jt){var Ui=al[jt];!jt&&0<ei&&(Ui+=1<<ei),fi<Ui&&(fi=Ui)}var Vi=c(En*Ln,R),Yn=En,xn=c(Yn,be);if(xn==null)var Or=null;else e(65536>=Yn),Or=xn;var _i=o(fi);if(Or==null||_i==null||Vi==null){Un.a=1;break n}var It=Vi;for(hi=rn=0;hi<En;++hi){var kt=Or[hi],Nn=kt.G,ls=kt.H,qs=0,Qr=1,Bi=0;for(jt=0;5>jt;++jt){Ui=al[jt],Nn[jt]=It,ls[jt]=rn,!jt&&0<ei&&(Ui+=1<<ei);r:{var Ro,Lo=Ui,Ic=Un,ti=_i,Bh=It,Fh=rn,Rc=0,Za=Ic.m,bm=Q(Za,1);if(a(ti,0,0,Lo),bm){var zh=Q(Za,1)+1,qh=Q(Za,1),Lc=Q(Za,qh==0?1:8);ti[Lc]=1,zh==2&&(ti[Lc=Q(Za,8)]=1);var ir=1}else{var wi=o(19),Bu=Q(Za,4)+4;if(19<Bu){Ic.a=3;var ko=0;break r}for(Ro=0;Ro<Bu;++Ro)wi[ju[Ro]]=Q(Za,3);var Gl=void 0,ul=void 0,La=Ic,kc=wi,Yl=Lo,Dc=ti,Oc=0,eo=La.m,Hh=8,Gh=c(128,R);i:for(;I(Gh,0,7,kc,19);){if(Q(eo,1)){var ad=2+2*Q(eo,3);if((Gl=2+Q(eo,ad))>Yl)break i}else Gl=Yl;for(ul=0;ul<Yl&&Gl--;){ye(eo);var Yh=Gh[0+(127&J(eo))];ue(eo,eo.u+Yh.g);var Do=Yh.value;if(16>Do)Dc[ul++]=Do,Do!=0&&(Hh=Do);else{var od=Do==16,ld=Do-16,ud=Fl[ld],Kh=Q(eo,js[ld])+ud;if(ul+Kh>Yl)break i;for(var cd=od?Hh:0;0<Kh--;)Dc[ul++]=cd}}Oc=1;break i}Oc||(La.a=3),ir=Oc}(ir=ir&&!Za.h)&&(Rc=I(Bh,Fh,8,ti,Lo)),ir&&Rc!=0?ko=Rc:(Ic.a=3,ko=0)}if(ko==0)break n;if(Qr&&Sc[jt]==1&&(Qr=It[rn].g==0),qs+=It[rn].g,rn+=ko,3>=jt){var cl,Pc=_i[0];for(cl=1;cl<Ui;++cl)_i[cl]>Pc&&(Pc=_i[cl]);Bi+=Pc}}if(kt.nd=Qr,kt.Qb=0,Qr&&(kt.qb=(Nn[3][ls[3]+0].value<<24|Nn[1][ls[1]+0].value<<16|Nn[2][ls[2]+0].value)>>>0,qs==0&&256>Nn[0][ls[0]+0].value&&(kt.Qb=1,kt.qb+=Nn[0][ls[0]+0].value<<8)),kt.jc=!kt.Qb&&6>Bi,kt.jc){var Fu,ka=kt;for(Fu=0;Fu<Ao;++Fu){var to=Fu,no=ka.pd[to],Mc=ka.G[0][ka.H[0]+to];256<=Mc.value?(no.g=Mc.g+256,no.value=Mc.value):(no.g=0,no.value=0,to>>=Qn(Mc,8,no),to>>=Qn(ka.G[1][ka.H[1]+to],16,no),to>>=Qn(ka.G[2][ka.H[2]+to],0,no),Qn(ka.G[3][ka.H[3]+to],24,no))}}}ji.vc=un,ji.Wb=En,ji.Ya=Or,ji.yc=Vi,tt=1;break t}tt=0}if(!(U=tt)){T.a=3;break e}if(0<Ne){if(re.ua=1<<Ne,!Z(re.Wa,Ne)){T.a=1,U=0;break e}}else re.ua=0;var jc=T,hl=B,hd=K,Kl=jc.s,$l=Kl.xc;if(jc.c=hl,jc.i=hd,Kl.md=Me(hl,$l),Kl.wc=$l==0?-1:(1<<$l)-1,A){T.xb=Eo;break e}if((me=o(B*K))==null){T.a=1,U=0;break e}U=(U=Er(T,me,0,B,K,K,null))&&!W.h;break e}return U?(j!=null?j[0]=me:(e(me==null),e(A)),T.$=0,A||ns(re)):ns(re),U}function Tr(f,y){var A=f.c*f.i,T=A+y+16*y;return e(f.c<=y),f.V=o(T),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+A+y,1)}function Zs(f,y){var A=f.C,T=y-A,j=f.V,U=f.Ba+f.c*A;for(e(y<=f.l.o);0<T;){var B=16<T?16:T,K=f.l.ma,W=f.l.width,re=W*B,me=K.ca,Ne=K.tb+W*A,te=f.Ta,ve=f.Ua;ur(f,B,j,U),Ts(te,ve,me,Ne,re),Hn(K,A,A+B,me,Ne,W),T-=B,j+=B*f.c,A+=B}e(A==y),f.C=f.Ma=y}function Br(){this.ub=this.yd=this.td=this.Rb=0}function cr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Fr(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function is(){this.Yb=(function(){var f=[];return(function y(A,T,j){for(var U=j[T],B=0;B<U&&(A.push(j.length>T+1?[]:0),!(j.length<T+1));B++)y(A[B],T+1,j)})(f,0,[3,11]),f})()}function ci(){this.jb=o(3),this.Wc=h([4,8],is),this.Xc=h([4,17],is)}function po(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Nr(){this.ld=this.La=this.dd=this.tc=0}function rs(){this.Na=this.la=0}function bs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ua(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function mo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Nr),this.Y=0,this.ya=Array(new Ua),this.aa=0,this.l=new er}function go(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Xo(){this.cb=this.a=0,this.sc="",this.m=new k,this.Od=new Br,this.Kc=new cr,this.ed=new po,this.Qa=new Fr,this.Ic=this.$c=this.Aa=0,this.D=new mo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,k),this.ia=0,this.pb=c(4,bs),this.Pa=new ci,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new go),this.Hd=0,this.rb=Array(new rs),this.sb=0,this.wa=Array(new Nr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ua),this.L=this.aa=0,this.gd=h([4,2],Nr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function zr(f,y){return 0>f?0:f>y?y:f}function er(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function yi(){var f=new Xo;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,Ns||(Ns=yn)),f}function cn(f,y,A){return f.a==0&&(f.a=y,f.sc=A,f.cb=0),0}function ea(f,y,A){return 3<=A&&f[y+0]==157&&f[y+1]==1&&f[y+2]==42}function ss(f,y){if(f==null)return 0;if(f.a=0,f.sc="OK",y==null)return cn(f,2,"null VP8Io passed to VP8GetHeaders()");var A=y.data,T=y.w,j=y.ha;if(4>j)return cn(f,7,"Truncated header.");var U=A[T+0]|A[T+1]<<8|A[T+2]<<16,B=f.Od;if(B.Rb=!(1&U),B.td=U>>1&7,B.yd=U>>4&1,B.ub=U>>5,3<B.td)return cn(f,3,"Incorrect keyframe parameters.");if(!B.yd)return cn(f,4,"Frame not displayable.");T+=3,j-=3;var K=f.Kc;if(B.Rb){if(7>j)return cn(f,7,"cannot parse picture header");if(!ea(A,T,j))return cn(f,3,"Bad code word");K.c=16383&(A[T+4]<<8|A[T+3]),K.Td=A[T+4]>>6,K.i=16383&(A[T+6]<<8|A[T+5]),K.Ud=A[T+6]>>6,T+=7,j-=7,f.za=K.c+15>>4,f.Ub=K.i+15>>4,y.width=K.c,y.height=K.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,a((U=f.Pa).jb,0,255,U.jb.length),e((U=f.Qa)!=null),U.Cb=0,U.Bb=0,U.Fb=1,a(U.Zb,0,0,U.Zb.length),a(U.Lb,0,0,U.Lb)}if(B.ub>j)return cn(f,7,"bad partition length");ne(U=f.m,A,T,B.ub),T+=B.ub,j-=B.ub,B.Rb&&(K.Ld=Ce(U),K.Kd=Ce(U)),K=f.Qa;var W,re=f.Pa;if(e(U!=null),e(K!=null),K.Cb=Ce(U),K.Cb){if(K.Bb=Ce(U),Ce(U)){for(K.Fb=Ce(U),W=0;4>W;++W)K.Zb[W]=Ce(U)?fe(U,7):0;for(W=0;4>W;++W)K.Lb[W]=Ce(U)?fe(U,6):0}if(K.Bb)for(W=0;3>W;++W)re.jb[W]=Ce(U)?he(U,8):255}else K.Bb=0;if(U.Ka)return cn(f,3,"cannot parse segment header");if((K=f.ed).zd=Ce(U),K.Tb=he(U,6),K.wb=he(U,3),K.Pc=Ce(U),K.Pc&&Ce(U)){for(re=0;4>re;++re)Ce(U)&&(K.vd[re]=fe(U,6));for(re=0;4>re;++re)Ce(U)&&(K.od[re]=fe(U,6))}if(f.L=K.Tb==0?0:K.zd?1:2,U.Ka)return cn(f,3,"cannot parse filter header");var me=j;if(j=W=T,T=W+me,K=me,f.Xb=(1<<he(f.m,2))-1,me<3*(re=f.Xb))A=7;else{for(W+=3*re,K-=3*re,me=0;me<re;++me){var Ne=A[j+0]|A[j+1]<<8|A[j+2]<<16;Ne>K&&(Ne=K),ne(f.Jc[+me],A,W,Ne),W+=Ne,K-=Ne,j+=3}ne(f.Jc[+re],A,W,K),A=W<T?0:5}if(A!=0)return cn(f,A,"cannot parse partitions");for(A=he(W=f.m,7),j=Ce(W)?fe(W,4):0,T=Ce(W)?fe(W,4):0,K=Ce(W)?fe(W,4):0,re=Ce(W)?fe(W,4):0,W=Ce(W)?fe(W,4):0,me=f.Qa,Ne=0;4>Ne;++Ne){if(me.Cb){var te=me.Zb[Ne];me.Fb||(te+=A)}else{if(0<Ne){f.pb[Ne]=f.pb[0];continue}te=A}var ve=f.pb[Ne];ve.Sc[0]=Bs[zr(te+j,127)],ve.Sc[1]=Fs[zr(te+0,127)],ve.Eb[0]=2*Bs[zr(te+T,127)],ve.Eb[1]=101581*Fs[zr(te+K,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=Bs[zr(te+re,117)],ve.Qc[1]=Fs[zr(te+W,127)],ve.lc=te+W}if(!B.Rb)return cn(f,4,"Not a key frame.");for(Ce(U),B=f.Pa,A=0;4>A;++A){for(j=0;8>j;++j)for(T=0;3>T;++T)for(K=0;11>K;++K)re=Be(U,si[A][j][T][K])?he(U,8):rd[A][j][T][K],B.Wc[A][j].Yb[T][K]=re;for(j=0;17>j;++j)B.Xc[A][j]=B.Wc[A][pn[j]]}return f.kc=Ce(U),f.kc&&(f.Bd=he(U,8)),f.cb=1}function yn(f,y,A,T,j,U,B){var K=y[j].Yb[A];for(A=0;16>j;++j){if(!Be(f,K[A+0]))return j;for(;!Be(f,K[A+1]);)if(K=y[++j].Yb[0],A=0,j==16)return 16;var W=y[j+1].Yb;if(Be(f,K[A+2])){var re=f,me=0;if(Be(re,(te=K)[(Ne=A)+3]))if(Be(re,te[Ne+6])){for(K=0,Ne=2*(me=Be(re,te[Ne+8]))+(te=Be(re,te[Ne+9+me])),me=0,te=id[Ne];te[K];++K)me+=me+Be(re,te[K]);me+=3+(8<<Ne)}else Be(re,te[Ne+7])?(me=7+2*Be(re,165),me+=Be(re,145)):me=5+Be(re,159);else me=Be(re,te[Ne+4])?3+Be(re,te[Ne+5]):2;K=W[2]}else me=1,K=W[1];W=B+jh[j],0>(re=f).b&&Le(re);var Ne,te=re.b,ve=(Ne=re.Ca>>1)-(re.I>>te)>>31;--re.b,re.Ca+=ve,re.Ca|=1,re.I-=(Ne+1&ve)<<te,U[W]=((me^ve)-ve)*T[(0<j)+0]}return 16}function ya(f){var y=f.rb[f.sb-1];y.la=0,y.Na=0,a(f.zc,0,0,f.zc.length),f.ja=0}function xi(f,y,A,T,j){j=f[y+A+32*T]+(j>>3),f[y+A+32*T]=-256&j?0>j?0:255:j}function ri(f,y,A,T,j,U){xi(f,y,0,A,T+j),xi(f,y,1,A,T+U),xi(f,y,2,A,T-U),xi(f,y,3,A,T-j)}function vi(f){return(20091*f>>16)+f}function Va(f,y,A,T){var j,U=0,B=o(16);for(j=0;4>j;++j){var K=f[y+0]+f[y+8],W=f[y+0]-f[y+8],re=(35468*f[y+4]>>16)-vi(f[y+12]),me=vi(f[y+4])+(35468*f[y+12]>>16);B[U+0]=K+me,B[U+1]=W+re,B[U+2]=W-re,B[U+3]=K-me,U+=4,y++}for(j=U=0;4>j;++j)K=(f=B[U+0]+4)+B[U+8],W=f-B[U+8],re=(35468*B[U+4]>>16)-vi(B[U+12]),xi(A,T,0,0,K+(me=vi(B[U+4])+(35468*B[U+12]>>16))),xi(A,T,1,0,W+re),xi(A,T,2,0,W-re),xi(A,T,3,0,K-me),U++,T+=32}function Dl(f,y,A,T){var j=f[y+0]+4,U=35468*f[y+4]>>16,B=vi(f[y+4]),K=35468*f[y+1]>>16;ri(A,T,0,j+B,f=vi(f[y+1]),K),ri(A,T,1,j+U,f,K),ri(A,T,2,j-U,f,K),ri(A,T,3,j-B,f,K)}function Qo(f,y,A,T,j){Va(f,y,A,T),j&&Va(f,y+16,A,T+4)}function hr(f,y,A,T){Qa(f,y+0,A,T,1),Qa(f,y+32,A,T+128,1)}function Wo(f,y,A,T){var j;for(f=f[y+0]+4,j=0;4>j;++j)for(y=0;4>y;++y)xi(A,T,y,j,f)}function ta(f,y,A,T){f[y+0]&&Rn(f,y+0,A,T),f[y+16]&&Rn(f,y+16,A,T+4),f[y+32]&&Rn(f,y+32,A,T+128),f[y+48]&&Rn(f,y+48,A,T+128+4)}function Hi(f,y,A,T){var j,U=o(16);for(j=0;4>j;++j){var B=f[y+0+j]+f[y+12+j],K=f[y+4+j]+f[y+8+j],W=f[y+4+j]-f[y+8+j],re=f[y+0+j]-f[y+12+j];U[0+j]=B+K,U[8+j]=B-K,U[4+j]=re+W,U[12+j]=re-W}for(j=0;4>j;++j)B=(f=U[0+4*j]+3)+U[3+4*j],K=U[1+4*j]+U[2+4*j],W=U[1+4*j]-U[2+4*j],re=f-U[3+4*j],A[T+0]=B+K>>3,A[T+16]=re+W>>3,A[T+32]=B-K>>3,A[T+48]=re-W>>3,T+=64}function va(f,y,A){var T,j=y-32,U=Lr,B=255-f[j-1];for(T=0;T<A;++T){var K,W=U,re=B+f[y-1];for(K=0;K<A;++K)f[y+K]=W[re+f[j+K]];y+=32}}function Jo(f,y){va(f,y,4)}function Zo(f,y){va(f,y,8)}function yo(f,y){va(f,y,16)}function vo(f,y){var A;for(A=0;16>A;++A)r(f,y+32*A,f,y-32,16)}function na(f,y){var A;for(A=16;0<A;--A)a(f,y,f[y-1],16),y+=32}function Cr(f,y,A){var T;for(T=0;16>T;++T)a(y,A+32*T,f,16)}function _s(f,y){var A,T=16;for(A=0;16>A;++A)T+=f[y-1+32*A]+f[y+A-32];Cr(T>>5,f,y)}function ia(f,y){var A,T=8;for(A=0;16>A;++A)T+=f[y-1+32*A];Cr(T>>4,f,y)}function Ir(f,y){var A,T=8;for(A=0;16>A;++A)T+=f[y+A-32];Cr(T>>4,f,y)}function ba(f,y){Cr(128,f,y)}function Ct(f,y,A){return f+2*y+A+2>>2}function Ba(f,y){var A,T=y-32;for(T=new Uint8Array([Ct(f[T-1],f[T+0],f[T+1]),Ct(f[T+0],f[T+1],f[T+2]),Ct(f[T+1],f[T+2],f[T+3]),Ct(f[T+2],f[T+3],f[T+4])]),A=0;4>A;++A)r(f,y+32*A,T,0,T.length)}function bo(f,y){var A=f[y-1],T=f[y-1+32],j=f[y-1+64],U=f[y-1+96];Xe(f,y+0,16843009*Ct(f[y-1-32],A,T)),Xe(f,y+32,16843009*Ct(A,T,j)),Xe(f,y+64,16843009*Ct(T,j,U)),Xe(f,y+96,16843009*Ct(j,U,U))}function _a(f,y){var A,T=4;for(A=0;4>A;++A)T+=f[y+A-32]+f[y-1+32*A];for(T>>=3,A=0;4>A;++A)a(f,y+32*A,T,4)}function Gi(f,y){var A=f[y-1+0],T=f[y-1+32],j=f[y-1+64],U=f[y-1-32],B=f[y+0-32],K=f[y+1-32],W=f[y+2-32],re=f[y+3-32];f[y+0+96]=Ct(T,j,f[y-1+96]),f[y+1+96]=f[y+0+64]=Ct(A,T,j),f[y+2+96]=f[y+1+64]=f[y+0+32]=Ct(U,A,T),f[y+3+96]=f[y+2+64]=f[y+1+32]=f[y+0+0]=Ct(B,U,A),f[y+3+64]=f[y+2+32]=f[y+1+0]=Ct(K,B,U),f[y+3+32]=f[y+2+0]=Ct(W,K,B),f[y+3+0]=Ct(re,W,K)}function Pi(f,y){var A=f[y+1-32],T=f[y+2-32],j=f[y+3-32],U=f[y+4-32],B=f[y+5-32],K=f[y+6-32],W=f[y+7-32];f[y+0+0]=Ct(f[y+0-32],A,T),f[y+1+0]=f[y+0+32]=Ct(A,T,j),f[y+2+0]=f[y+1+32]=f[y+0+64]=Ct(T,j,U),f[y+3+0]=f[y+2+32]=f[y+1+64]=f[y+0+96]=Ct(j,U,B),f[y+3+32]=f[y+2+64]=f[y+1+96]=Ct(U,B,K),f[y+3+64]=f[y+2+96]=Ct(B,K,W),f[y+3+96]=Ct(K,W,W)}function Fa(f,y){var A=f[y-1+0],T=f[y-1+32],j=f[y-1+64],U=f[y-1-32],B=f[y+0-32],K=f[y+1-32],W=f[y+2-32],re=f[y+3-32];f[y+0+0]=f[y+1+64]=U+B+1>>1,f[y+1+0]=f[y+2+64]=B+K+1>>1,f[y+2+0]=f[y+3+64]=K+W+1>>1,f[y+3+0]=W+re+1>>1,f[y+0+96]=Ct(j,T,A),f[y+0+64]=Ct(T,A,U),f[y+0+32]=f[y+1+96]=Ct(A,U,B),f[y+1+32]=f[y+2+96]=Ct(U,B,K),f[y+2+32]=f[y+3+96]=Ct(B,K,W),f[y+3+32]=Ct(K,W,re)}function On(f,y){var A=f[y+0-32],T=f[y+1-32],j=f[y+2-32],U=f[y+3-32],B=f[y+4-32],K=f[y+5-32],W=f[y+6-32],re=f[y+7-32];f[y+0+0]=A+T+1>>1,f[y+1+0]=f[y+0+64]=T+j+1>>1,f[y+2+0]=f[y+1+64]=j+U+1>>1,f[y+3+0]=f[y+2+64]=U+B+1>>1,f[y+0+32]=Ct(A,T,j),f[y+1+32]=f[y+0+96]=Ct(T,j,U),f[y+2+32]=f[y+1+96]=Ct(j,U,B),f[y+3+32]=f[y+2+96]=Ct(U,B,K),f[y+3+64]=Ct(B,K,W),f[y+3+96]=Ct(K,W,re)}function qr(f,y){var A=f[y-1+0],T=f[y-1+32],j=f[y-1+64],U=f[y-1+96];f[y+0+0]=A+T+1>>1,f[y+2+0]=f[y+0+32]=T+j+1>>1,f[y+2+32]=f[y+0+64]=j+U+1>>1,f[y+1+0]=Ct(A,T,j),f[y+3+0]=f[y+1+32]=Ct(T,j,U),f[y+3+32]=f[y+1+64]=Ct(j,U,U),f[y+3+64]=f[y+2+64]=f[y+0+96]=f[y+1+96]=f[y+2+96]=f[y+3+96]=U}function za(f,y){var A=f[y-1+0],T=f[y-1+32],j=f[y-1+64],U=f[y-1+96],B=f[y-1-32],K=f[y+0-32],W=f[y+1-32],re=f[y+2-32];f[y+0+0]=f[y+2+32]=A+B+1>>1,f[y+0+32]=f[y+2+64]=T+A+1>>1,f[y+0+64]=f[y+2+96]=j+T+1>>1,f[y+0+96]=U+j+1>>1,f[y+3+0]=Ct(K,W,re),f[y+2+0]=Ct(B,K,W),f[y+1+0]=f[y+3+32]=Ct(A,B,K),f[y+1+32]=f[y+3+64]=Ct(T,A,B),f[y+1+64]=f[y+3+96]=Ct(j,T,A),f[y+1+96]=Ct(U,j,T)}function ws(f,y){var A;for(A=0;8>A;++A)r(f,y+32*A,f,y-32,8)}function el(f,y){var A;for(A=0;8>A;++A)a(f,y,f[y-1],8),y+=32}function Hr(f,y,A){var T;for(T=0;8>T;++T)a(y,A+32*T,f,8)}function ra(f,y){var A,T=8;for(A=0;8>A;++A)T+=f[y+A-32]+f[y-1+32*A];Hr(T>>4,f,y)}function Gr(f,y){var A,T=4;for(A=0;8>A;++A)T+=f[y+A-32];Hr(T>>3,f,y)}function Ei(f,y){var A,T=4;for(A=0;8>A;++A)T+=f[y-1+32*A];Hr(T>>3,f,y)}function Is(f,y){Hr(128,f,y)}function tr(f,y,A){var T=f[y-A],j=f[y+0],U=3*(j-T)+Wa[1020+f[y-2*A]-f[y+A]],B=Ou[112+(U+4>>3)];f[y-A]=Lr[255+T+Ou[112+(U+3>>3)]],f[y+0]=Lr[255+j-B]}function Rs(f,y,A,T){var j=f[y+0],U=f[y+A];return mr[255+f[y-2*A]-f[y-A]]>T||mr[255+U-j]>T}function wa(f,y,A,T){return 4*mr[255+f[y-A]-f[y+0]]+mr[255+f[y-2*A]-f[y+A]]<=T}function Ls(f,y,A,T,j){var U=f[y-3*A],B=f[y-2*A],K=f[y-A],W=f[y+0],re=f[y+A],me=f[y+2*A],Ne=f[y+3*A];return 4*mr[255+K-W]+mr[255+B-re]>T?0:mr[255+f[y-4*A]-U]<=j&&mr[255+U-B]<=j&&mr[255+B-K]<=j&&mr[255+Ne-me]<=j&&mr[255+me-re]<=j&&mr[255+re-W]<=j}function ks(f,y,A,T){var j=2*T+1;for(T=0;16>T;++T)wa(f,y+T,A,j)&&tr(f,y+T,A)}function as(f,y,A,T){var j=2*T+1;for(T=0;16>T;++T)wa(f,y+T*A,1,j)&&tr(f,y+T*A,1)}function qa(f,y,A,T){var j;for(j=3;0<j;--j)ks(f,y+=4*A,A,T)}function _o(f,y,A,T){var j;for(j=3;0<j;--j)as(f,y+=4,A,T)}function Yr(f,y,A,T,j,U,B,K){for(U=2*U+1;0<j--;){if(Ls(f,y,A,U,B))if(Rs(f,y,A,K))tr(f,y,A);else{var W=f,re=y,me=A,Ne=W[re-2*me],te=W[re-me],ve=W[re+0],Se=W[re+me],Ve=W[re+2*me],Ee=27*(qe=Wa[1020+3*(ve-te)+Wa[1020+Ne-Se]])+63>>7,Ue=18*qe+63>>7,qe=9*qe+63>>7;W[re-3*me]=Lr[255+W[re-3*me]+qe],W[re-2*me]=Lr[255+Ne+Ue],W[re-me]=Lr[255+te+Ee],W[re+0]=Lr[255+ve-Ee],W[re+me]=Lr[255+Se-Ue],W[re+2*me]=Lr[255+Ve-qe]}y+=T}}function Ds(f,y,A,T,j,U,B,K){for(U=2*U+1;0<j--;){if(Ls(f,y,A,U,B))if(Rs(f,y,A,K))tr(f,y,A);else{var W=f,re=y,me=A,Ne=W[re-me],te=W[re+0],ve=W[re+me],Se=Ou[112+(4+(Ve=3*(te-Ne))>>3)],Ve=Ou[112+(Ve+3>>3)],Ee=Se+1>>1;W[re-2*me]=Lr[255+W[re-2*me]+Ee],W[re-me]=Lr[255+Ne+Ve],W[re+0]=Lr[255+te-Se],W[re+me]=Lr[255+ve-Ee]}y+=T}}function tl(f,y,A,T,j,U){Yr(f,y,A,1,16,T,j,U)}function As(f,y,A,T,j,U){Yr(f,y,1,A,16,T,j,U)}function wo(f,y,A,T,j,U){var B;for(B=3;0<B;--B)Ds(f,y+=4*A,A,1,16,T,j,U)}function _(f,y,A,T,j,U){var B;for(B=3;0<B;--B)Ds(f,y+=4,1,A,16,T,j,U)}function M(f,y,A,T,j,U,B,K){Yr(f,y,j,1,8,U,B,K),Yr(A,T,j,1,8,U,B,K)}function ie(f,y,A,T,j,U,B,K){Yr(f,y,1,j,8,U,B,K),Yr(A,T,1,j,8,U,B,K)}function de(f,y,A,T,j,U,B,K){Ds(f,y+4*j,j,1,8,U,B,K),Ds(A,T+4*j,j,1,8,U,B,K)}function _e(f,y,A,T,j,U,B,K){Ds(f,y+4,1,j,8,U,B,K),Ds(A,T+4,1,j,8,U,B,K)}function Fe(){this.ba=new wt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new an,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ke(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ut(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function dt(){this.ua=0,this.Wa=new Je,this.vb=new Je,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new be,this.yc=new R}function Lt(){this.xb=this.a=0,this.l=new er,this.ca=new wt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new dt,this.ab=0,this.gc=c(4,ut),this.Oc=0}function xt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new er,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function fn(f,y,A,T,j,U,B){for(f=f==null?0:f[y+0],y=0;y<B;++y)j[U+y]=f+A[T+y]&255,f=j[U+y]}function Wn(f,y,A,T,j,U,B){var K;if(f==null)fn(null,null,A,T,j,U,B);else for(K=0;K<B;++K)j[U+K]=f[y+K]+A[T+K]&255}function zn(f,y,A,T,j,U,B){if(f==null)fn(null,null,A,T,j,U,B);else{var K,W=f[y+0],re=W,me=W;for(K=0;K<B;++K)re=me+(W=f[y+K])-re,me=A[T+K]+(-256&re?0>re?0:255:re)&255,re=W,j[U+K]=me}}function p(f,y,A,T){var j=y.width,U=y.o;if(e(f!=null&&y!=null),0>A||0>=T||A+T>U)return null;if(!f.Cc){if(f.ga==null){var B;if(f.ga=new xt,(B=f.ga==null)||(B=y.width*y.o,e(f.Gb.length==0),f.Gb=o(B),f.Uc=0,f.Gb==null?B=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,B=1),B=!B),!B){B=f.ga;var K=f.Fa,W=f.P,re=f.qc,me=f.mb,Ne=f.nb,te=W+1,ve=re-1,Se=B.l;if(e(K!=null&&me!=null&&y!=null),Ja[0]=null,Ja[1]=fn,Ja[2]=Wn,Ja[3]=zn,B.ca=me,B.tb=Ne,B.c=y.width,B.i=y.height,e(0<B.c&&0<B.i),1>=re)y=0;else if(B.$a=3&K[W+0],B.Z=K[W+0]>>2&3,B.Lc=K[W+0]>>4&3,W=K[W+0]>>6&3,0>B.$a||1<B.$a||4<=B.Z||1<B.Lc||W)y=0;else if(Se.put=St,Se.ac=qi,Se.bc=Js,Se.ma=B,Se.width=y.width,Se.height=y.height,Se.Da=y.Da,Se.v=y.v,Se.va=y.va,Se.j=y.j,Se.o=y.o,B.$a)e:{e(B.$a==1),y=ga();t:for(;;){if(y==null){y=0;break e}if(e(B!=null),B.mc=y,y.c=B.c,y.i=B.i,y.l=B.l,y.l.ma=B,y.l.width=B.c,y.l.height=B.i,y.a=0,Te(y.m,K,te,ve),!vs(B.c,B.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&Dn(y.s)?(B.ic=1,K=y.c*y.i,y.Ta=null,y.Ua=0,y.V=o(K),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(B.ic=0,y=Tr(y,B.c)),!y))break t;y=1;break e}B.mc=null,y=0}else y=ve>=B.c*B.i;B=!y}if(B)return null;f.ga.Lc!=1?f.Ga=0:T=U-A}e(f.ga!=null),e(A+T<=U);e:{if(y=(K=f.ga).c,U=K.l.o,K.$a==0){if(te=f.rc,ve=f.Vc,Se=f.Fa,W=f.P+1+A*y,re=f.mb,me=f.nb+A*y,e(W<=f.P+f.qc),K.Z!=0)for(e(Ja[K.Z]!=null),B=0;B<T;++B)Ja[K.Z](te,ve,Se,W,re,me,y),te=re,ve=me,me+=y,W+=y;else for(B=0;B<T;++B)r(re,me,Se,W,y),te=re,ve=me,me+=y,W+=y;f.rc=te,f.Vc=ve}else{if(e(K.mc!=null),y=A+T,e((B=K.mc)!=null),e(y<=B.i),B.C>=y)y=1;else if(K.ic||De(),K.ic){K=B.V,te=B.Ba,ve=B.c;var Ve=B.i,Ee=(Se=1,W=B.$/ve,re=B.$%ve,me=B.m,Ne=B.s,B.$),Ue=ve*Ve,qe=ve*y,Qe=Ne.wc,Ye=Ee<qe?Di(Ne,re,W):null;e(Ee<=Ue),e(y<=Ve),e(Dn(Ne));t:for(;;){for(;!me.h&&Ee<qe;){if(re&Qe||(Ye=Di(Ne,re,W)),e(Ye!=null),ye(me),256>(Ve=Fn(Ye.G[0],Ye.H[0],me)))K[te+Ee]=Ve,++Ee,++re>=ve&&(re=0,++W<=y&&!(W%16)&&Oi(B,W));else{if(!(280>Ve)){Se=0;break t}Ve=Sr(Ve-256,me);var pt,at=Fn(Ye.G[4],Ye.H[4],me);if(ye(me),!(Ee>=(at=xr(ve,at=Sr(at,me)))&&Ue-Ee>=Ve)){Se=0;break t}for(pt=0;pt<Ve;++pt)K[te+Ee+pt]=K[te+Ee+pt-at];for(Ee+=Ve,re+=Ve;re>=ve;)re-=ve,++W<=y&&!(W%16)&&Oi(B,W);Ee<qe&&re&Qe&&(Ye=Di(Ne,re,W))}e(me.h==ae(me))}Oi(B,W>y?y:W);break t}!Se||me.h&&Ee<Ue?(Se=0,B.a=me.h?5:3):B.$=Ee,y=Se}else y=Er(B,B.V,B.Ba,B.c,B.i,y,Zs);if(!y){T=0;break e}}A+T>=U&&(f.Cc=1),T=1}if(!T)return null;if(f.Cc&&((T=f.ga)!=null&&(T.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+A*j}function S(f,y,A,T,j,U){for(;0<j--;){var B,K=f,W=y+(A?1:0),re=f,me=y+(A?0:3);for(B=0;B<T;++B){var Ne=re[me+4*B];Ne!=255&&(Ne*=32897,K[W+4*B+0]=K[W+4*B+0]*Ne>>23,K[W+4*B+1]=K[W+4*B+1]*Ne>>23,K[W+4*B+2]=K[W+4*B+2]*Ne>>23)}y+=U}}function L(f,y,A,T,j){for(;0<T--;){var U;for(U=0;U<A;++U){var B=f[y+2*U+0],K=15&(re=f[y+2*U+1]),W=4369*K,re=(240&re|re>>4)*W>>16;f[y+2*U+0]=(240&B|B>>4)*W>>16&240|(15&B|B<<4)*W>>16>>4&15,f[y+2*U+1]=240&re|K}y+=j}}function X(f,y,A,T,j,U,B,K){var W,re,me=255;for(re=0;re<j;++re){for(W=0;W<T;++W){var Ne=f[y+W];U[B+4*W]=Ne,me&=Ne}y+=A,B+=K}return me!=255}function Ae(f,y,A,T,j){var U;for(U=0;U<j;++U)A[T+U]=f[y+U]>>8}function De(){rl=S,Ps=L,Lu=X,Ts=Ae}function Ze(f,y,A){D[f]=function(T,j,U,B,K,W,re,me,Ne,te,ve,Se,Ve,Ee,Ue,qe,Qe){var Ye,pt=Qe-1>>1,at=K[W+0]|re[me+0]<<16,Ht=Ne[te+0]|ve[Se+0]<<16;e(T!=null);var ht=3*at+Ht+131074>>2;for(y(T[j+0],255&ht,ht>>16,Ve,Ee),U!=null&&(ht=3*Ht+at+131074>>2,y(U[B+0],255&ht,ht>>16,Ue,qe)),Ye=1;Ye<=pt;++Ye){var dn=K[W+Ye]|re[me+Ye]<<16,ai=Ne[te+Ye]|ve[Se+Ye]<<16,Zt=at+dn+Ht+ai+524296,ot=Zt+2*(dn+Ht)>>3;ht=ot+at>>1,at=(Zt=Zt+2*(at+ai)>>3)+dn>>1,y(T[j+2*Ye-1],255&ht,ht>>16,Ve,Ee+(2*Ye-1)*A),y(T[j+2*Ye-0],255&at,at>>16,Ve,Ee+(2*Ye-0)*A),U!=null&&(ht=Zt+Ht>>1,at=ot+ai>>1,y(U[B+2*Ye-1],255&ht,ht>>16,Ue,qe+(2*Ye-1)*A),y(U[B+2*Ye+0],255&at,at>>16,Ue,qe+(2*Ye+0)*A)),at=dn,Ht=ai}1&Qe||(ht=3*at+Ht+131074>>2,y(T[j+Qe-1],255&ht,ht>>16,Ve,Ee+(Qe-1)*A),U!=null&&(ht=3*Ht+at+131074>>2,y(U[B+Qe-1],255&ht,ht>>16,Ue,qe+(Qe-1)*A)))}}function zt(){yr[bc]=ol,yr[kr]=zl,yr[_c]=Vh,yr[Ms]=Ec,yr[Pu]=To,yr[Vl]=Ra,yr[So]=No,yr[Mu]=zl,yr[wc]=Ec,yr[Bl]=To,yr[Ac]=Ra}function Jn(f){return f&-16384?0>f?0:255:f>>Tc}function ln(f,y){return Jn((19077*f>>8)+(26149*y>>8)-14234)}function Pn(f,y,A){return Jn((19077*f>>8)-(6419*y>>8)-(13320*A>>8)+8708)}function nr(f,y){return Jn((19077*f>>8)+(33050*y>>8)-17685)}function fr(f,y,A,T,j){T[j+0]=ln(f,A),T[j+1]=Pn(f,y,A),T[j+2]=nr(f,y)}function Gn(f,y,A,T,j){T[j+0]=nr(f,y),T[j+1]=Pn(f,y,A),T[j+2]=ln(f,A)}function dr(f,y,A,T,j){var U=Pn(f,y,A);y=U<<3&224|nr(f,y)>>3,T[j+0]=248&ln(f,A)|U>>5,T[j+1]=y}function Ss(f,y,A,T,j){var U=240&nr(f,y)|15;T[j+0]=240&ln(f,A)|Pn(f,y,A)>>4,T[j+1]=U}function Aa(f,y,A,T,j){T[j+0]=255,fr(f,y,A,T,j+1)}function Sa(f,y,A,T,j){Gn(f,y,A,T,j),T[j+3]=255}function Kr(f,y,A,T,j){fr(f,y,A,T,j),T[j+3]=255}function Ha(f,y,A){D[f]=function(T,j,U,B,K,W,re,me,Ne){for(var te=me+(-2&Ne)*A;me!=te;)y(T[j+0],U[B+0],K[W+0],re,me),y(T[j+1],U[B+0],K[W+0],re,me+A),j+=2,++B,++W,me+=2*A;1&Ne&&y(T[j+0],U[B+0],K[W+0],re,me)}}function Ol(f,y,A){return A==0?f==0?y==0?6:5:y==0?4:0:A}function Cu(f,y,A,T,j){switch(f>>>30){case 3:Qa(y,A,T,j,0);break;case 2:Rr(y,A,T,j);break;case 1:Rn(y,A,T,j)}}function xs(f,y){var A,T,j=y.M,U=y.Nb,B=f.oc,K=f.pc+40,W=f.oc,re=f.pc+584,me=f.oc,Ne=f.pc+600;for(A=0;16>A;++A)B[K+32*A-1]=129;for(A=0;8>A;++A)W[re+32*A-1]=129,me[Ne+32*A-1]=129;for(0<j?B[K-1-32]=W[re-1-32]=me[Ne-1-32]=129:(a(B,K-32-1,127,21),a(W,re-32-1,127,9),a(me,Ne-32-1,127,9)),T=0;T<f.za;++T){var te=y.ya[y.aa+T];if(0<T){for(A=-1;16>A;++A)r(B,K+32*A-4,B,K+32*A+12,4);for(A=-1;8>A;++A)r(W,re+32*A-4,W,re+32*A+4,4),r(me,Ne+32*A-4,me,Ne+32*A+4,4)}var ve=f.Gd,Se=f.Hd+T,Ve=te.ad,Ee=te.Hc;if(0<j&&(r(B,K-32,ve[Se].y,0,16),r(W,re-32,ve[Se].f,0,8),r(me,Ne-32,ve[Se].ea,0,8)),te.Za){var Ue=B,qe=K-32+16;for(0<j&&(T>=f.za-1?a(Ue,qe,ve[Se].y[15],4):r(Ue,qe,ve[Se+1].y,0,4)),A=0;4>A;A++)Ue[qe+128+A]=Ue[qe+256+A]=Ue[qe+384+A]=Ue[qe+0+A];for(A=0;16>A;++A,Ee<<=2)Ue=B,qe=K+Ci[A],bi[te.Ob[A]](Ue,qe),Cu(Ee,Ve,16*+A,Ue,qe)}else if(Ue=Ol(T,j,te.Ob[0]),Xr[Ue](B,K),Ee!=0)for(A=0;16>A;++A,Ee<<=2)Cu(Ee,Ve,16*+A,B,K+Ci[A]);for(A=te.Gc,Ue=Ol(T,j,te.Dd),la[Ue](W,re),la[Ue](me,Ne),Ee=Ve,Ue=W,qe=re,255&(te=0|A)&&(170&te?Os(Ee,256,Ue,qe):Sn(Ee,256,Ue,qe)),te=me,Ee=Ne,255&(A>>=8)&&(170&A?Os(Ve,320,te,Ee):Sn(Ve,320,te,Ee)),j<f.Ub-1&&(r(ve[Se].y,0,B,K+480,16),r(ve[Se].f,0,W,re+224,8),r(ve[Se].ea,0,me,Ne+224,8)),A=8*U*f.B,ve=f.sa,Se=f.ta+16*T+16*U*f.R,Ve=f.qa,te=f.ra+8*T+A,Ee=f.Ha,Ue=f.Ia+8*T+A,A=0;16>A;++A)r(ve,Se+A*f.R,B,K+32*A,16);for(A=0;8>A;++A)r(Ve,te+A*f.B,W,re+32*A,8),r(Ee,Ue+A*f.B,me,Ne+32*A,8)}}function sa(f,y,A,T,j,U,B,K,W){var re=[0],me=[0],Ne=0,te=W!=null?W.kd:0,ve=W??new Ke;if(f==null||12>A)return 7;ve.data=f,ve.w=y,ve.ha=A,y=[y],A=[A],ve.gb=[ve.gb];e:{var Se=y,Ve=A,Ee=ve.gb;if(e(f!=null),e(Ve!=null),e(Ee!=null),Ee[0]=0,12<=Ve[0]&&!t(f,Se[0],"RIFF")){if(t(f,Se[0]+8,"WEBP")){Ee=3;break e}var Ue=lt(f,Se[0]+4);if(12>Ue||4294967286<Ue){Ee=3;break e}if(te&&Ue>Ve[0]-8){Ee=7;break e}Ee[0]=Ue,Se[0]+=12,Ve[0]-=12}Ee=0}if(Ee!=0)return Ee;for(Ue=0<ve.gb[0],A=A[0];;){e:{var qe=f;Ve=y,Ee=A;var Qe=re,Ye=me,pt=Se=[0];if((ht=Ne=[Ne])[0]=0,8>Ee[0])Ee=7;else{if(!t(qe,Ve[0],"VP8X")){if(lt(qe,Ve[0]+4)!=10){Ee=3;break e}if(18>Ee[0]){Ee=7;break e}var at=lt(qe,Ve[0]+8),Ht=1+et(qe,Ve[0]+12);if(2147483648<=Ht*(qe=1+et(qe,Ve[0]+15))){Ee=3;break e}pt!=null&&(pt[0]=at),Qe!=null&&(Qe[0]=Ht),Ye!=null&&(Ye[0]=qe),Ve[0]+=18,Ee[0]-=18,ht[0]=1}Ee=0}}if(Ne=Ne[0],Se=Se[0],Ee!=0)return Ee;if(Ve=!!(2&Se),!Ue&&Ne)return 3;if(U!=null&&(U[0]=!!(16&Se)),B!=null&&(B[0]=Ve),K!=null&&(K[0]=0),B=re[0],Se=me[0],Ne&&Ve&&W==null){Ee=0;break}if(4>A){Ee=7;break}if(Ue&&Ne||!Ue&&!Ne&&!t(f,y[0],"ALPH")){A=[A],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{at=f,Ee=y,Ue=A;var ht=ve.gb;Qe=ve.na,Ye=ve.P,pt=ve.Sa,Ht=22,e(at!=null),e(Ue!=null),qe=Ee[0];var dn=Ue[0];for(e(Qe!=null),e(pt!=null),Qe[0]=null,Ye[0]=null,pt[0]=0;;){if(Ee[0]=qe,Ue[0]=dn,8>dn){Ee=7;break e}var ai=lt(at,qe+4);if(4294967286<ai){Ee=3;break e}var Zt=8+ai+1&-2;if(Ht+=Zt,0<ht&&Ht>ht){Ee=3;break e}if(!t(at,qe,"VP8 ")||!t(at,qe,"VP8L")){Ee=0;break e}if(dn[0]<Zt){Ee=7;break e}t(at,qe,"ALPH")||(Qe[0]=at,Ye[0]=qe+8,pt[0]=ai),qe+=Zt,dn-=Zt}}if(A=A[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],Ee!=0)break}A=[A],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(ht=f,Ee=y,Ue=A,Qe=ve.gb[0],Ye=ve.Ja,pt=ve.xa,at=Ee[0],qe=!t(ht,at,"VP8 "),Ht=!t(ht,at,"VP8L"),e(ht!=null),e(Ue!=null),e(Ye!=null),e(pt!=null),8>Ue[0])Ee=7;else{if(qe||Ht){if(ht=lt(ht,at+4),12<=Qe&&ht>Qe-12){Ee=3;break e}if(te&&ht>Ue[0]-8){Ee=7;break e}Ye[0]=ht,Ee[0]+=8,Ue[0]-=8,pt[0]=Ht}else pt[0]=5<=Ue[0]&&ht[at+0]==47&&!(ht[at+4]>>5),Ye[0]=Ue[0];Ee=0}if(A=A[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],y=y[0],Ee!=0)break;if(4294967286<ve.Ja)return 3;if(K==null||Ve||(K[0]=ve.xa?2:1),B=[B],Se=[Se],ve.xa){if(5>A){Ee=7;break}K=B,te=Se,Ve=U,f==null||5>A?f=0:5<=A&&f[y+0]==47&&!(f[y+4]>>5)?(Ue=[0],ht=[0],Qe=[0],Te(Ye=new Y,f,y,A),Vr(Ye,Ue,ht,Qe)?(K!=null&&(K[0]=Ue[0]),te!=null&&(te[0]=ht[0]),Ve!=null&&(Ve[0]=Qe[0]),f=1):f=0):f=0}else{if(10>A){Ee=7;break}K=Se,f==null||10>A||!ea(f,y+3,A-3)?f=0:(te=f[y+0]|f[y+1]<<8|f[y+2]<<16,Ve=16383&(f[y+7]<<8|f[y+6]),f=16383&(f[y+9]<<8|f[y+8]),1&te||3<(te>>1&7)||!(te>>4&1)||te>>5>=ve.Ja||!Ve||!f?f=0:(B&&(B[0]=Ve),K&&(K[0]=f),f=1))}if(!f||(B=B[0],Se=Se[0],Ne&&(re[0]!=B||me[0]!=Se)))return 3;W!=null&&(W[0]=ve,W.offset=y-W.w,e(4294967286>y-W.w),e(W.offset==W.ha-A));break}return Ee==0||Ee==7&&Ne&&W==null?(U!=null&&(U[0]|=ve.na!=null&&0<ve.na.length),T!=null&&(T[0]=B),j!=null&&(j[0]=Se),0):Ee}function Ga(f,y,A){var T=y.width,j=y.height,U=0,B=0,K=T,W=j;if(y.Da=f!=null&&0<f.Da,y.Da&&(K=f.cd,W=f.bd,U=f.v,B=f.j,11>A||(U&=-2,B&=-2),0>U||0>B||0>=K||0>=W||U+K>T||B+W>j))return 0;if(y.v=U,y.j=B,y.va=U+K,y.o=B+W,y.U=K,y.T=W,y.da=f!=null&&0<f.da,y.da){if(!st(K,W,A=[f.ib],U=[f.hb]))return 0;y.ib=A[0],y.hb=U[0]}return y.ob=f!=null&&f.ob,y.Kb=f==null||!f.Sd,y.da&&(y.ob=y.ib<3*T/4&&y.hb<3*j/4,y.Kb=0),1}function Iu(f){if(f==null)return 2;if(11>f.S){var y=f.f.RGBA;y.fb+=(f.height-1)*y.A,y.A=-y.A}else y=f.f.kb,f=f.height,y.O+=(f-1)*y.fa,y.fa=-y.fa,y.N+=(f-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(f-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(f-1)*y.lb,y.lb=-y.lb);return 0}function aa(f,y,A,T){if(T==null||0>=f||0>=y)return 2;if(A!=null){if(A.Da){var j=A.cd,U=A.bd,B=-2&A.v,K=-2&A.j;if(0>B||0>K||0>=j||0>=U||B+j>f||K+U>y)return 2;f=j,y=U}if(A.da){if(!st(f,y,j=[A.ib],U=[A.hb]))return 2;f=j[0],y=U[0]}}T.width=f,T.height=y;e:{var W=T.width,re=T.height;if(f=T.S,0>=W||0>=re||!(f>=bc&&13>f))f=2;else{if(0>=T.Rd&&T.sd==null){B=U=j=y=0;var me=(K=W*Cc[f])*re;if(11>f||(U=(re+1)/2*(y=(W+1)/2),f==12&&(B=(j=W)*re)),(re=o(me+2*U+B))==null){f=1;break e}T.sd=re,11>f?((W=T.f.RGBA).eb=re,W.fb=0,W.A=K,W.size=me):((W=T.f.kb).y=re,W.O=0,W.fa=K,W.Fd=me,W.f=re,W.N=0+me,W.Ab=y,W.Cd=U,W.ea=re,W.W=0+me+U,W.Db=y,W.Ed=U,f==12&&(W.F=re,W.J=0+me+2*U),W.Tc=B,W.lb=j)}if(y=1,j=T.S,U=T.width,B=T.height,j>=bc&&13>j)if(11>j)f=T.f.RGBA,y&=(K=Math.abs(f.A))*(B-1)+U<=f.size,y&=K>=U*Cc[j],y&=f.eb!=null;else{f=T.f.kb,K=(U+1)/2,me=(B+1)/2,W=Math.abs(f.fa),re=Math.abs(f.Ab);var Ne=Math.abs(f.Db),te=Math.abs(f.lb),ve=te*(B-1)+U;y&=W*(B-1)+U<=f.Fd,y&=re*(me-1)+K<=f.Cd,y=(y&=Ne*(me-1)+K<=f.Ed)&W>=U&re>=K&Ne>=K,y&=f.y!=null,y&=f.f!=null,y&=f.ea!=null,j==12&&(y&=te>=U,y&=ve<=f.Tc,y&=f.F!=null)}else y=0;f=y?0:2}}return f!=0||A!=null&&A.fd&&(f=Iu(T)),f}var Ao=64,os=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],$r=24,xa=32,Ea=8,Ya=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];rt("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(f){return f},D.Predictor2=function(f,y,A){return y[A+0]},D.Predictor3=function(f,y,A){return y[A+1]},D.Predictor4=function(f,y,A){return y[A-1]},D.Predictor5=function(f,y,A){return _t(_t(f,y[A+1]),y[A+0])},D.Predictor6=function(f,y,A){return _t(f,y[A-1])},D.Predictor7=function(f,y,A){return _t(f,y[A+0])},D.Predictor8=function(f,y,A){return _t(y[A-1],y[A+0])},D.Predictor9=function(f,y,A){return _t(y[A+0],y[A+1])},D.Predictor10=function(f,y,A){return _t(_t(f,y[A-1]),_t(y[A+0],y[A+1]))},D.Predictor11=function(f,y,A){var T=y[A+0];return 0>=Bt(T>>24&255,f>>24&255,(y=y[A-1])>>24&255)+Bt(T>>16&255,f>>16&255,y>>16&255)+Bt(T>>8&255,f>>8&255,y>>8&255)+Bt(255&T,255&f,255&y)?T:f},D.Predictor12=function(f,y,A){var T=y[A+0];return(Kt((f>>24&255)+(T>>24&255)-((y=y[A-1])>>24&255))<<24|Kt((f>>16&255)+(T>>16&255)-(y>>16&255))<<16|Kt((f>>8&255)+(T>>8&255)-(y>>8&255))<<8|Kt((255&f)+(255&T)-(255&y)))>>>0},D.Predictor13=function(f,y,A){var T=y[A-1];return(Jt((f=_t(f,y[A+0]))>>24&255,T>>24&255)<<24|Jt(f>>16&255,T>>16&255)<<16|Jt(f>>8&255,T>>8&255)<<8|Jt(255&f,255&T))>>>0};var Pl=D.PredictorAdd0;D.PredictorAdd1=sn,rt("Predictor2","PredictorAdd2"),rt("Predictor3","PredictorAdd3"),rt("Predictor4","PredictorAdd4"),rt("Predictor5","PredictorAdd5"),rt("Predictor6","PredictorAdd6"),rt("Predictor7","PredictorAdd7"),rt("Predictor8","PredictorAdd8"),rt("Predictor9","PredictorAdd9"),rt("Predictor10","PredictorAdd10"),rt("Predictor11","PredictorAdd11"),rt("Predictor12","PredictorAdd12"),rt("Predictor13","PredictorAdd13");var Ml=D.PredictorAdd2;yt("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),yt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var Ti,gc=D.ColorIndexInverseTransform,Ta=D.MapARGB,Na=D.VP8LColorIndexInverseTransformAlpha,pr=D.MapAlpha,Ka=D.VP8LPredictorsAdd=[];Ka.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var jl,Ul,$a,Xa,Ca,nl,Es,Qa,Rr,Os,Rn,Sn,Zn,Ni,Ia,oa,il,Ru,Oh,ed,td,nd,Ph,Mh,rl,Ps,Lu,Ts,sl=o(511),yc=o(2041),ku=o(225),Du=o(767),vc=0,Wa=yc,Ou=ku,Lr=Du,mr=sl,bc=0,kr=1,_c=2,Ms=3,Pu=4,Vl=5,So=6,Mu=7,wc=8,Bl=9,Ac=10,js=[2,3,7],Fl=[3,3,11],al=[280,256,256,256,40],Sc=[0,1,1,1,0],ju=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Us=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Vs=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],xo=8,Bs=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Fs=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ns=null,id=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],jh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],xc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],rd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],gr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],si=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],pn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Xr=[],bi=[],la=[],Eo=1,Uh=2,Ja=[],yr=[];Ze("UpsampleRgbLinePair",fr,3),Ze("UpsampleBgrLinePair",Gn,3),Ze("UpsampleRgbaLinePair",Kr,4),Ze("UpsampleBgraLinePair",Sa,4),Ze("UpsampleArgbLinePair",Aa,4),Ze("UpsampleRgba4444LinePair",Ss,2),Ze("UpsampleRgb565LinePair",dr,2);var ol=D.UpsampleRgbLinePair,Vh=D.UpsampleBgrLinePair,zl=D.UpsampleRgbaLinePair,Ec=D.UpsampleBgraLinePair,To=D.UpsampleArgbLinePair,Ra=D.UpsampleRgba4444LinePair,No=D.UpsampleRgb565LinePair,zs=16,ql=1<<zs-1,ll=-227,Co=482,Tc=6,Io=0,vr=o(256),Nc=o(256),sd=o(256),gm=o(256),ym=o(Co-ll),vm=o(Co-ll);Ha("YuvToRgbRow",fr,3),Ha("YuvToBgrRow",Gn,3),Ha("YuvToRgbaRow",Kr,4),Ha("YuvToBgraRow",Sa,4),Ha("YuvToArgbRow",Aa,4),Ha("YuvToRgba4444Row",Ss,2),Ha("YuvToRgb565Row",dr,2);var Ci=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Hl=[0,2,8],Uu=[8,7,6,4,4,2,2,2,1,1,1,1],Vu=1;this.WebPDecodeRGBA=function(f,y,A,T,j){var U=kr,B=new Fe,K=new wt;B.ba=K,K.S=U,K.width=[K.width],K.height=[K.height];var W=K.width,re=K.height,me=new vt;if(me==null||f==null)var Ne=2;else e(me!=null),Ne=sa(f,y,A,me.width,me.height,me.Pd,me.Qd,me.format,null);if(Ne!=0?W=0:(W!=null&&(W[0]=me.width[0]),re!=null&&(re[0]=me.height[0]),W=1),W){K.width=K.width[0],K.height=K.height[0],T!=null&&(T[0]=K.width),j!=null&&(j[0]=K.height);e:{if(T=new er,(j=new Ke).data=f,j.w=y,j.ha=A,j.kd=1,y=[0],e(j!=null),((f=sa(j.data,j.w,j.ha,null,null,null,y,null,j))==0||f==7)&&y[0]&&(f=4),(y=f)==0){if(e(B!=null),T.data=j.data,T.w=j.w+j.offset,T.ha=j.ha-j.offset,T.put=St,T.ac=qi,T.bc=Js,T.ma=B,j.xa){if((f=ga())==null){B=1;break e}if((function(te,ve){var Se=[0],Ve=[0],Ee=[0];t:for(;;){if(te==null)return 0;if(ve==null)return te.a=2,0;if(te.l=ve,te.a=0,Te(te.m,ve.data,ve.w,ve.ha),!Vr(te.m,Se,Ve,Ee)){te.a=3;break t}if(te.xb=Uh,ve.width=Se[0],ve.height=Ve[0],!vs(Se[0],Ve[0],1,te,null))break t;return 1}return e(te.a!=0),0})(f,T)){if(T=(y=aa(T.width,T.height,B.Oa,B.ba))==0){t:{T=f;n:for(;;){if(T==null){T=0;break t}if(e(T.s.yc!=null),e(T.s.Ya!=null),e(0<T.s.Wb),e((A=T.l)!=null),e((j=A.ma)!=null),T.xb!=0){if(T.ca=j.ba,T.tb=j.tb,e(T.ca!=null),!Ga(j.Oa,A,Ms)){T.a=2;break n}if(!Tr(T,A.width)||A.da)break n;if((A.da||Ot(T.ca.S))&&De(),11>T.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),T.ca.f.kb.F!=null&&De()),T.Pb&&0<T.s.ua&&T.s.vb.X==null&&!Z(T.s.vb,T.s.Wa.Xa)){T.a=1;break n}T.xb=0}if(!Er(T,T.V,T.Ba,T.c,T.i,A.o,Zi))break n;j.Dc=T.Ma,T=1;break t}e(T.a!=0),T=0}T=!T}T&&(y=f.a)}else y=f.a}else{if((f=new yi)==null){B=1;break e}if(f.Fa=j.na,f.P=j.P,f.qc=j.Sa,ss(f,T)){if((y=aa(T.width,T.height,B.Oa,B.ba))==0){if(f.Aa=0,A=B.Oa,e((j=f)!=null),A!=null){if(0<(W=0>(W=A.Md)?0:100<W?255:255*W/100)){for(re=me=0;4>re;++re)12>(Ne=j.pb[re]).lc&&(Ne.ia=W*Uu[0>Ne.lc?0:Ne.lc]>>3),me|=Ne.ia;me&&(alert("todo:VP8InitRandom"),j.ia=1)}j.Ga=A.Id,100<j.Ga?j.Ga=100:0>j.Ga&&(j.Ga=0)}(function(te,ve){if(te==null)return 0;if(ve==null)return cn(te,2,"NULL VP8Io parameter in VP8Decode().");if(!te.cb&&!ss(te,ve))return 0;if(e(te.cb),ve.ac==null||ve.ac(ve)){ve.ob&&(te.L=0);var Se=Hl[te.L];if(te.L==2?(te.yb=0,te.zb=0):(te.yb=ve.v-Se>>4,te.zb=ve.j-Se>>4,0>te.yb&&(te.yb=0),0>te.zb&&(te.zb=0)),te.Va=ve.o+15+Se>>4,te.Hb=ve.va+15+Se>>4,te.Hb>te.za&&(te.Hb=te.za),te.Va>te.Ub&&(te.Va=te.Ub),0<te.L){var Ve=te.ed;for(Se=0;4>Se;++Se){var Ee;if(te.Qa.Cb){var Ue=te.Qa.Lb[Se];te.Qa.Fb||(Ue+=Ve.Tb)}else Ue=Ve.Tb;for(Ee=0;1>=Ee;++Ee){var qe=te.gd[Se][Ee],Qe=Ue;if(Ve.Pc&&(Qe+=Ve.vd[0],Ee&&(Qe+=Ve.od[0])),0<(Qe=0>Qe?0:63<Qe?63:Qe)){var Ye=Qe;0<Ve.wb&&(Ye=4<Ve.wb?Ye>>2:Ye>>1)>9-Ve.wb&&(Ye=9-Ve.wb),1>Ye&&(Ye=1),qe.dd=Ye,qe.tc=2*Qe+Ye,qe.ld=40<=Qe?2:15<=Qe?1:0}else qe.tc=0;qe.La=Ee}}}Se=0}else cn(te,6,"Frame setup failed"),Se=te.a;if(Se=Se==0){if(Se){te.$c=0,0<te.Aa||(te.Ic=Vu);t:{Se=te.Ic,Ve=4*(Ye=te.za);var pt=32*Ye,at=Ye+1,Ht=0<te.L?Ye*(0<te.Aa?2:1):0,ht=(te.Aa==2?2:1)*Ye;if((qe=Ve+832+(Ee=3*(16*Se+Hl[te.L])/2*pt)+(Ue=te.Fa!=null&&0<te.Fa.length?te.Kc.c*te.Kc.i:0))!=qe)Se=0;else{if(qe>te.Vb){if(te.Vb=0,te.Ec=o(qe),te.Fc=0,te.Ec==null){Se=cn(te,1,"no memory during frame initialization.");break t}te.Vb=qe}qe=te.Ec,Qe=te.Fc,te.Ac=qe,te.Bc=Qe,Qe+=Ve,te.Gd=c(pt,go),te.Hd=0,te.rb=c(at+1,rs),te.sb=1,te.wa=Ht?c(Ht,Nr):null,te.Y=0,te.D.Nb=0,te.D.wa=te.wa,te.D.Y=te.Y,0<te.Aa&&(te.D.Y+=Ye),e(!0),te.oc=qe,te.pc=Qe,Qe+=832,te.ya=c(ht,Ua),te.aa=0,te.D.ya=te.ya,te.D.aa=te.aa,te.Aa==2&&(te.D.aa+=Ye),te.R=16*Ye,te.B=8*Ye,Ye=(pt=Hl[te.L])*te.R,pt=pt/2*te.B,te.sa=qe,te.ta=Qe+Ye,te.qa=te.sa,te.ra=te.ta+16*Se*te.R+pt,te.Ha=te.qa,te.Ia=te.ra+8*Se*te.B+pt,te.$c=0,Qe+=Ee,te.mb=Ue?qe:null,te.nb=Ue?Qe:null,e(Qe+Ue<=te.Fc+te.Vb),ya(te),a(te.Ac,te.Bc,0,Ve),Se=1}}if(Se){if(ve.ka=0,ve.y=te.sa,ve.O=te.ta,ve.f=te.qa,ve.N=te.ra,ve.ea=te.Ha,ve.Vd=te.Ia,ve.fa=te.R,ve.Rc=te.B,ve.F=null,ve.J=0,!vc){for(Se=-255;255>=Se;++Se)sl[255+Se]=0>Se?-Se:Se;for(Se=-1020;1020>=Se;++Se)yc[1020+Se]=-128>Se?-128:127<Se?127:Se;for(Se=-112;112>=Se;++Se)ku[112+Se]=-16>Se?-16:15<Se?15:Se;for(Se=-255;510>=Se;++Se)Du[255+Se]=0>Se?0:255<Se?255:Se;vc=1}Es=Hi,Qa=Qo,Os=hr,Rn=Wo,Sn=ta,Rr=Dl,Zn=tl,Ni=As,Ia=M,oa=ie,il=wo,Ru=_,Oh=de,ed=_e,td=ks,nd=as,Ph=qa,Mh=_o,bi[0]=_a,bi[1]=Jo,bi[2]=Ba,bi[3]=bo,bi[4]=Gi,bi[5]=Fa,bi[6]=Pi,bi[7]=On,bi[8]=za,bi[9]=qr,Xr[0]=_s,Xr[1]=yo,Xr[2]=vo,Xr[3]=na,Xr[4]=ia,Xr[5]=Ir,Xr[6]=ba,la[0]=ra,la[1]=Zo,la[2]=ws,la[3]=el,la[4]=Ei,la[5]=Gr,la[6]=Is,Se=1}else Se=0}Se&&(Se=(function(dn,ai){for(dn.M=0;dn.M<dn.Va;++dn.M){var Zt,ot=dn.Jc[dn.M&dn.Xb],tt=dn.m,hi=dn;for(Zt=0;Zt<hi.za;++Zt){var jt=tt,rn=hi,Un=rn.Ac,Yi=rn.Bc+4*Zt,br=rn.zc,ei=rn.ya[rn.aa+Zt];if(rn.Qa.Bb?ei.$b=Be(jt,rn.Pa.jb[0])?2+Be(jt,rn.Pa.jb[2]):Be(jt,rn.Pa.jb[1]):ei.$b=0,rn.kc&&(ei.Ad=Be(jt,rn.Bd)),ei.Za=!Be(jt,145)+0,ei.Za){var Mi=ei.Ob,Dr=0;for(rn=0;4>rn;++rn){var ji,un=br[0+rn];for(ji=0;4>ji;++ji){un=gr[Un[Yi+ji]][un];for(var En=xc[Be(jt,un[0])];0<En;)En=xc[2*En+Be(jt,un[En])];un=-En,Un[Yi+ji]=un}r(Mi,Dr,Un,Yi,4),Dr+=4,br[0+rn]=un}}else un=Be(jt,156)?Be(jt,128)?1:3:Be(jt,163)?2:0,ei.Ob[0]=un,a(Un,Yi,un,4),a(br,0,un,4);ei.Dd=Be(jt,142)?Be(jt,114)?Be(jt,183)?1:3:2:0}if(hi.m.Ka)return cn(dn,7,"Premature end-of-partition0 encountered.");for(;dn.ja<dn.za;++dn.ja){if(hi=ot,jt=(tt=dn).rb[tt.sb-1],Un=tt.rb[tt.sb+tt.ja],Zt=tt.ya[tt.aa+tt.ja],Yi=tt.kc?Zt.Ad:0)jt.la=Un.la=0,Zt.Za||(jt.Na=Un.Na=0),Zt.Hc=0,Zt.Gc=0,Zt.ia=0;else{var fi,Ln;if(jt=Un,Un=hi,Yi=tt.Pa.Xc,br=tt.ya[tt.aa+tt.ja],ei=tt.pb[br.$b],rn=br.ad,Mi=0,Dr=tt.rb[tt.sb-1],un=ji=0,a(rn,Mi,0,384),br.Za)var Ki=0,di=Yi[3];else{En=o(16);var Tn=jt.Na+Dr.Na;if(Tn=Ns(Un,Yi[1],Tn,ei.Eb,0,En,0),jt.Na=Dr.Na=(0<Tn)+0,1<Tn)Es(En,0,rn,Mi);else{var Ii=En[0]+3>>3;for(En=0;256>En;En+=16)rn[Mi+En]=Ii}Ki=1,di=Yi[0]}var Vn=15&jt.la,Ui=15&Dr.la;for(En=0;4>En;++En){var Vi=1&Ui;for(Ii=Ln=0;4>Ii;++Ii)Vn=Vn>>1|(Vi=(Tn=Ns(Un,di,Tn=Vi+(1&Vn),ei.Sc,Ki,rn,Mi))>Ki)<<7,Ln=Ln<<2|(3<Tn?3:1<Tn?2:rn[Mi+0]!=0),Mi+=16;Vn>>=4,Ui=Ui>>1|Vi<<7,ji=(ji<<8|Ln)>>>0}for(di=Vn,Ki=Ui>>4,fi=0;4>fi;fi+=2){for(Ln=0,Vn=jt.la>>4+fi,Ui=Dr.la>>4+fi,En=0;2>En;++En){for(Vi=1&Ui,Ii=0;2>Ii;++Ii)Tn=Vi+(1&Vn),Vn=Vn>>1|(Vi=0<(Tn=Ns(Un,Yi[2],Tn,ei.Qc,0,rn,Mi)))<<3,Ln=Ln<<2|(3<Tn?3:1<Tn?2:rn[Mi+0]!=0),Mi+=16;Vn>>=2,Ui=Ui>>1|Vi<<5}un|=Ln<<4*fi,di|=Vn<<4<<fi,Ki|=(240&Ui)<<fi}jt.la=di,Dr.la=Ki,br.Hc=ji,br.Gc=un,br.ia=43690&un?0:ei.ia,Yi=!(ji|un)}if(0<tt.L&&(tt.wa[tt.Y+tt.ja]=tt.gd[Zt.$b][Zt.Za],tt.wa[tt.Y+tt.ja].La|=!Yi),hi.Ka)return cn(dn,7,"Premature end-of-file encountered.")}if(ya(dn),tt=ai,hi=1,Zt=(ot=dn).D,jt=0<ot.L&&ot.M>=ot.zb&&ot.M<=ot.Va,ot.Aa==0)t:{if(Zt.M=ot.M,Zt.uc=jt,xs(ot,Zt),hi=1,Zt=(Ln=ot.D).Nb,jt=(un=Hl[ot.L])*ot.R,Un=un/2*ot.B,En=16*Zt*ot.R,Ii=8*Zt*ot.B,Yi=ot.sa,br=ot.ta-jt+En,ei=ot.qa,rn=ot.ra-Un+Ii,Mi=ot.Ha,Dr=ot.Ia-Un+Ii,Ui=(Vn=Ln.M)==0,ji=Vn>=ot.Va-1,ot.Aa==2&&xs(ot,Ln),Ln.uc)for(Vi=(Tn=ot).D.M,e(Tn.D.uc),Ln=Tn.yb;Ln<Tn.Hb;++Ln){Ki=Ln,di=Vi;var Yn=(xn=(Bi=Tn).D).Nb;fi=Bi.R;var xn=xn.wa[xn.Y+Ki],Or=Bi.sa,_i=Bi.ta+16*Yn*fi+16*Ki,It=xn.dd,kt=xn.tc;if(kt!=0)if(e(3<=kt),Bi.L==1)0<Ki&&nd(Or,_i,fi,kt+4),xn.La&&Mh(Or,_i,fi,kt),0<di&&td(Or,_i,fi,kt+4),xn.La&&Ph(Or,_i,fi,kt);else{var Nn=Bi.B,ls=Bi.qa,qs=Bi.ra+8*Yn*Nn+8*Ki,Qr=Bi.Ha,Bi=Bi.Ia+8*Yn*Nn+8*Ki;Yn=xn.ld,0<Ki&&(Ni(Or,_i,fi,kt+4,It,Yn),oa(ls,qs,Qr,Bi,Nn,kt+4,It,Yn)),xn.La&&(Ru(Or,_i,fi,kt,It,Yn),ed(ls,qs,Qr,Bi,Nn,kt,It,Yn)),0<di&&(Zn(Or,_i,fi,kt+4,It,Yn),Ia(ls,qs,Qr,Bi,Nn,kt+4,It,Yn)),xn.La&&(il(Or,_i,fi,kt,It,Yn),Oh(ls,qs,Qr,Bi,Nn,kt,It,Yn))}}if(ot.ia&&alert("todo:DitherRow"),tt.put!=null){if(Ln=16*Vn,Vn=16*(Vn+1),Ui?(tt.y=ot.sa,tt.O=ot.ta+En,tt.f=ot.qa,tt.N=ot.ra+Ii,tt.ea=ot.Ha,tt.W=ot.Ia+Ii):(Ln-=un,tt.y=Yi,tt.O=br,tt.f=ei,tt.N=rn,tt.ea=Mi,tt.W=Dr),ji||(Vn-=un),Vn>tt.o&&(Vn=tt.o),tt.F=null,tt.J=null,ot.Fa!=null&&0<ot.Fa.length&&Ln<Vn&&(tt.J=p(ot,tt,Ln,Vn-Ln),tt.F=ot.mb,tt.F==null&&tt.F.length==0)){hi=cn(ot,3,"Could not decode alpha data.");break t}Ln<tt.j&&(un=tt.j-Ln,Ln=tt.j,e(!(1&un)),tt.O+=ot.R*un,tt.N+=ot.B*(un>>1),tt.W+=ot.B*(un>>1),tt.F!=null&&(tt.J+=tt.width*un)),Ln<Vn&&(tt.O+=tt.v,tt.N+=tt.v>>1,tt.W+=tt.v>>1,tt.F!=null&&(tt.J+=tt.v),tt.ka=Ln-tt.j,tt.U=tt.va-tt.v,tt.T=Vn-Ln,hi=tt.put(tt))}Zt+1!=ot.Ic||ji||(r(ot.sa,ot.ta-jt,Yi,br+16*ot.R,jt),r(ot.qa,ot.ra-Un,ei,rn+8*ot.B,Un),r(ot.Ha,ot.Ia-Un,Mi,Dr+8*ot.B,Un))}if(!hi)return cn(dn,6,"Output aborted.")}return 1})(te,ve)),ve.bc!=null&&ve.bc(ve),Se&=1}return Se?(te.cb=0,Se):0})(f,T)||(y=f.a)}}else y=f.a}y==0&&B.Oa!=null&&B.Oa.fd&&(y=Iu(B.ba))}B=y}U=B!=0?null:11>U?K.f.RGBA.eb:K.f.kb.y}else U=null;return U};var Cc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(D,q){for(var E="",I=0;I<4;I++)E+=String.fromCharCode(D[q++]);return E}function b(D,q){return D[q+0]|D[q+1]<<8}function x(D,q){return(D[q+0]|D[q+1]<<8|D[q+2]<<16)>>>0}function N(D,q){return(D[q+0]|D[q+1]<<8|D[q+2]<<16|D[q+3]<<24)>>>0}new d;var w=[0],F=[0],z=[],$=new d,V=n,le=(function(D,q){var E={},I=0,R=!1,ee=0,be=0;if(E.frames=[],!(function(k,Y){for(var J=0;J<4;J++)if(k[Y+J]!="RIFF".charCodeAt(J))return!0;return!1})(D,q)){for(N(D,q+=4),q+=8;q<D.length;){var ne=m(D,q),he=N(D,q+=4);q+=4;var fe=he+(1&he);switch(ne){case"VP8 ":case"VP8L":E.frames[I]===void 0&&(E.frames[I]={}),(Q=E.frames[I]).src_off=R?be:q-8,Q.src_size=ee+he+8,I++,R&&(R=!1,ee=0,be=0);break;case"VP8X":(Q=E.header={}).feature_flags=D[q];var Te=q+4;Q.canvas_width=1+x(D,Te),Te+=3,Q.canvas_height=1+x(D,Te),Te+=3;break;case"ALPH":R=!0,ee=fe+8,be=q-8;break;case"ANIM":(Q=E.header).bgcolor=N(D,q),Te=q+4,Q.loop_count=b(D,Te),Te+=2;break;case"ANMF":var ke,Q;(Q=E.frames[I]={}).offset_x=2*x(D,q),q+=3,Q.offset_y=2*x(D,q),q+=3,Q.width=1+x(D,q),q+=3,Q.height=1+x(D,q),q+=3,Q.duration=x(D,q),q+=3,ke=D[q++],Q.dispose=1&ke,Q.blend=ke>>1&1}ne!="ANMF"&&(q+=fe)}return E}})(V,0);le.response=V,le.rgbaoutput=!0,le.dataurl=!1;var oe=le.header?le.header:null,se=le.frames?le.frames:null;if(oe){oe.loop_counter=oe.loop_count,w=[oe.canvas_height],F=[oe.canvas_width];for(var xe=0;xe<se.length&&se[xe].blend!=0;xe++);}var Oe=se[0],H=$.WebPDecodeRGBA(V,Oe.src_off,Oe.src_size,F,w);Oe.rgba=H,Oe.imgwidth=F[0],Oe.imgheight=w[0];for(var P=0;P<F[0]*w[0]*4;P++)z[P]=H[P];return this.width=F,this.height=w,this.data=z,this}(function(n){var e,t,r,a,o,c,h,d,m,b=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new d,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new c,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new c,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new x(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,h=this.internal.Rectangle,d=this.internal.Matrix,m=new b}]);var x=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=k;Object.defineProperty(this,"pdf",{get:function(){return Y}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(Z){J=!!Z}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function(Z){ae=!!Z}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(Z){isNaN(Z)||(ue=Z)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(Z){isNaN(Z)||(ye=Z)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(Z){var pe;typeof Z=="number"?pe=[Z,Z,Z,Z]:((pe=new Array(4))[0]=Z[0],pe[1]=Z.length>=2?Z[1]:pe[0],pe[2]=Z.length>=3?Z[2]:pe[0],pe[3]=Z.length>=4?Z[3]:pe[1]),m.margin=pe}});var Le=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Le},set:function(Z){Le=Z}});var Ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ce},set:function(Z){Ce=Z}});var Be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Be},set:function(Z){Be=Z}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(Z){Z instanceof b&&(m=Z)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(Z){m.path=Z}});var Xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Xe},set:function(Z){Xe=Z}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Z){var pe;pe=N(Z),this.ctx.fillStyle=pe.style,this.ctx.isFillTransparent=pe.a===0,this.ctx.fillOpacity=pe.a,this.pdf.setFillColor(pe.r,pe.g,pe.b,{a:pe.a}),this.pdf.setTextColor(pe.r,pe.g,pe.b,{a:pe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Z){var pe=N(Z);this.ctx.strokeStyle=pe.style,this.ctx.isStrokeTransparent=pe.a===0,this.ctx.strokeOpacity=pe.a,pe.a===0?this.pdf.setDrawColor(255,255,255):(pe.a,this.pdf.setDrawColor(pe.r,pe.g,pe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Z){["butt","round","square"].indexOf(Z)!==-1&&(this.ctx.lineCap=Z,this.pdf.setLineCap(Z))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Z){isNaN(Z)||(this.ctx.lineWidth=Z,this.pdf.setLineWidth(Z))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Z){["bevel","round","miter"].indexOf(Z)!==-1&&(this.ctx.lineJoin=Z,this.pdf.setLineJoin(Z))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Z){isNaN(Z)||(this.ctx.miterLimit=Z,this.pdf.setMiterLimit(Z))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Z){this.ctx.textBaseline=Z}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Z){["right","end","center","left","start"].indexOf(Z)!==-1&&(this.ctx.textAlign=Z)}});var nt=null,et=null,lt=null;Object.defineProperty(this,"fontFaces",{get:function(){return lt},set:function(Z){nt=null,et=null,lt=Z}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Z){var pe;if(this.ctx.font=Z,(pe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Z))!==null){var Je=pe[1];pe[2];var st=pe[3],Me=pe[4];pe[5];var it=pe[6],rt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Me)[2];Me=Math.floor(rt==="px"?parseFloat(Me)*this.pdf.internal.scaleFactor:rt==="em"?parseFloat(Me)*this.pdf.getFontSize():parseFloat(Me)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Me);var Nt=(function(yt){var ui,Qt,Et=[],Mt=yt.trim();if(Mt==="")return f1;if(Mt in s_)return[s_[Mt]];for(;Mt!=="";){switch(Qt=null,ui=(Mt=o_(Mt)).charAt(0)){case'"':case"'":Qt=TL(Mt.substring(1),ui);break;default:Qt=NL(Mt)}if(Qt===null||(Et.push(Qt[0]),(Mt=o_(Qt[1]))!==""&&Mt.charAt(0)!==","))return f1;Mt=Mt.replace(/^,/,"")}return Et})(it);if(this.fontFaces){var _t=(function(yt,ui){var Qt=yt.getFontList(),Et=JSON.stringify(Qt);if(nt===null||et!==Et){var Mt=(function($t){var At=[];return Object.keys($t).forEach(function(In){$t[In].forEach(function(Ot){var Pt=null;switch(Ot){case"bold":Pt={family:In,weight:"bold"};break;case"italic":Pt={family:In,style:"italic"};break;case"bolditalic":Pt={family:In,weight:"bold",style:"italic"};break;case"":case"normal":Pt={family:In}}Pt!==null&&(Pt.ref={name:In,style:Ot},At.push(Pt))})}),At})(Qt);nt=(function($t){for(var At={},In=0;In<$t.length;++In){var Ot=h1($t[In]),Pt=Ot.family,kn=Ot.stretch,wt=Ot.style,vt=Ot.weight;At[Pt]=At[Pt]||{},At[Pt][kn]=At[Pt][kn]||{},At[Pt][kn][wt]=At[Pt][kn][wt]||{},At[Pt][kn][wt][vt]=Ot}return At})(Mt.concat(ui)),et=Et}return nt})(this.pdf,this.fontFaces),Kt=Nt.map(function(yt){return{family:yt,stretch:"normal",weight:st,style:Je}}),Jt=(function(yt,ui,Qt){for(var Et=(Qt=Qt||{}).defaultFontFamily||"times",Mt=Object.assign({},EL,Qt.genericFontFamilies||{}),$t=null,At=null,In=0;In<ui.length;++In)if(Mt[($t=h1(ui[In])).family]&&($t.family=Mt[$t.family]),yt.hasOwnProperty($t.family)){At=yt[$t.family];break}if(!(At=At||yt[Et]))throw new Error("Could not find a font-family for the rule '"+a_($t)+"' and default family '"+Et+"'.");if(At=(function(Ot,Pt){if(Pt[Ot])return Pt[Ot];var kn=e0[Ot],wt=kn<=e0.normal?-1:1,vt=r_(Pt,F3,kn,wt);if(!vt)throw new Error("Could not find a matching font-stretch value for "+Ot);return vt})($t.stretch,At),At=(function(Ot,Pt){if(Pt[Ot])return Pt[Ot];for(var kn=B3[Ot],wt=0;wt<kn.length;++wt)if(Pt[kn[wt]])return Pt[kn[wt]];throw new Error("Could not find a matching font-style for "+Ot)})($t.style,At),!(At=(function(Ot,Pt){if(Pt[Ot])return Pt[Ot];if(Ot===400&&Pt[500])return Pt[500];if(Ot===500&&Pt[400])return Pt[400];var kn=xL[Ot],wt=r_(Pt,z3,kn,Ot<400?-1:1);if(!wt)throw new Error("Could not find a matching font-weight for value "+Ot);return wt})($t.weight,At)))throw new Error("Failed to resolve a font for the rule '"+a_($t)+"'.");return At})(_t,Kt);this.pdf.setFont(Jt.ref.name,Jt.ref.style)}else{var Bt="";(st==="bold"||parseInt(st,10)>=700||Je==="bold")&&(Bt="bold"),Je==="italic"&&(Bt+="italic"),Bt.length===0&&(Bt="normal");for(var sn="",Xt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},gt=0;gt<Nt.length;gt++){if(this.pdf.internal.getFont(Nt[gt],Bt,{noFallback:!0,disableWarning:!0})!==void 0){sn=Nt[gt];break}if(Bt==="bolditalic"&&this.pdf.internal.getFont(Nt[gt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)sn=Nt[gt],Bt="bold";else if(this.pdf.internal.getFont(Nt[gt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){sn=Nt[gt],Bt="normal";break}}if(sn===""){for(var qt=0;qt<Nt.length;qt++)if(Xt[Nt[qt]]){sn=Xt[Nt[qt]];break}}sn=sn===""?"Times":sn,this.pdf.setFont(sn,Bt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Z){this.ctx.globalCompositeOperation=Z}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Z){this.ctx.globalAlpha=Z}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Z){this.ctx.lineDashOffset=Z,Q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Z){this.ctx.lineDash=Z,Q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Z){this.ctx.ignoreClearRect=!!Z}})};x.prototype.setLineDash=function(k){this.lineDash=k},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){se.call(this,"fill",!1)},x.prototype.stroke=function(){se.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(k,Y){if(isNaN(k)||isNaN(Y))throw li.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new c(k,Y));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new c(k,Y)},x.prototype.closePath=function(){var k=new c(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&Xn(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){k=new c(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(k.x,k.y)},x.prototype.lineTo=function(k,Y){if(isNaN(k)||isNaN(Y))throw li.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new c(k,Y));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new c(J.x,J.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),se.call(this,null,!0)},x.prototype.quadraticCurveTo=function(k,Y,J,ae){if(isNaN(J)||isNaN(ae)||isNaN(k)||isNaN(Y))throw li.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new c(J,ae)),ye=this.ctx.transform.applyToPoint(new c(k,Y));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new c(ue.x,ue.y)},x.prototype.bezierCurveTo=function(k,Y,J,ae,ue,ye){if(isNaN(ue)||isNaN(ye)||isNaN(k)||isNaN(Y)||isNaN(J)||isNaN(ae))throw li.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Le=this.ctx.transform.applyToPoint(new c(ue,ye)),Ce=this.ctx.transform.applyToPoint(new c(k,Y)),Be=this.ctx.transform.applyToPoint(new c(J,ae));this.path.push({type:"bct",x1:Ce.x,y1:Ce.y,x2:Be.x,y2:Be.y,x:Le.x,y:Le.y}),this.ctx.lastPoint=new c(Le.x,Le.y)},x.prototype.arc=function(k,Y,J,ae,ue,ye){if(isNaN(k)||isNaN(Y)||isNaN(J)||isNaN(ae)||isNaN(ue))throw li.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var Le=this.ctx.transform.applyToPoint(new c(k,Y));k=Le.x,Y=Le.y;var Ce=this.ctx.transform.applyToPoint(new c(0,J)),Be=this.ctx.transform.applyToPoint(new c(0,0));J=Math.sqrt(Math.pow(Ce.x-Be.x,2)+Math.pow(Ce.y-Be.y,2))}Math.abs(ue-ae)>=2*Math.PI&&(ae=0,ue=2*Math.PI),this.path.push({type:"arc",x:k,y:Y,radius:J,startAngle:ae,endAngle:ue,counterclockwise:ye})},x.prototype.arcTo=function(k,Y,J,ae,ue){throw new Error("arcTo not implemented.")},x.prototype.rect=function(k,Y,J,ae){if(isNaN(k)||isNaN(Y)||isNaN(J)||isNaN(ae))throw li.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,Y),this.lineTo(k+J,Y),this.lineTo(k+J,Y+ae),this.lineTo(k,Y+ae),this.lineTo(k,Y),this.lineTo(k+J,Y),this.lineTo(k,Y)},x.prototype.fillRect=function(k,Y,J,ae){if(isNaN(k)||isNaN(Y)||isNaN(J)||isNaN(ae))throw li.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,Y,J,ae),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},x.prototype.strokeRect=function(k,Y,J,ae){if(isNaN(k)||isNaN(Y)||isNaN(J)||isNaN(ae))throw li.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");F.call(this)||(this.beginPath(),this.rect(k,Y,J,ae),this.stroke())},x.prototype.clearRect=function(k,Y,J,ae){if(isNaN(k)||isNaN(Y)||isNaN(J)||isNaN(ae))throw li.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,Y,J,ae))},x.prototype.save=function(k){k=typeof k!="boolean"||k;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new b(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},x.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var N=function(k){var Y,J,ae,ue;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))Y=0,J=0,ae=0,ue=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(ye!==null)Y=parseInt(ye[1]),J=parseInt(ye[2]),ae=parseInt(ye[3]),ue=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)Y=parseInt(ye[1]),J=parseInt(ye[2]),ae=parseInt(ye[3]),ue=parseFloat(ye[4]);else{if(ue=1,typeof k=="string"&&k.charAt(0)!=="#"){var Le=new D3(k);k=Le.ok?Le.toHex():"#000000"}k.length===4?(Y=k.substring(1,2),Y+=Y,J=k.substring(2,3),J+=J,ae=k.substring(3,4),ae+=ae):(Y=k.substring(1,3),J=k.substring(3,5),ae=k.substring(5,7)),Y=parseInt(Y,16),J=parseInt(J,16),ae=parseInt(ae,16)}}return{r:Y,g:J,b:ae,a:ue,style:k}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},F=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(k,Y,J,ae){if(isNaN(Y)||isNaN(J)||typeof k!="string")throw li.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!w.call(this)){var ue=fe(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;I.call(this,{text:k,x:Y,y:J,scale:ye,angle:ue,align:this.textAlign,maxWidth:ae})}},x.prototype.strokeText=function(k,Y,J,ae){if(isNaN(Y)||isNaN(J)||typeof k!="string")throw li.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!F.call(this)){ae=isNaN(ae)?void 0:ae;var ue=fe(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;I.call(this,{text:k,x:Y,y:J,scale:ye,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:ae})}},x.prototype.measureText=function(k){if(typeof k!="string")throw li.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,J=this.pdf.internal.scaleFactor,ae=Y.internal.getFontSize(),ue=Y.getStringUnitWidth(k)*ae/Y.internal.scaleFactor;return new function(ye){var Le=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Le}}),this}({width:ue*=Math.round(96*J/72*1e4)/1e4})},x.prototype.scale=function(k,Y){if(isNaN(k)||isNaN(Y))throw li.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new d(k,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},x.prototype.rotate=function(k){if(isNaN(k))throw li.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new d(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},x.prototype.translate=function(k,Y){if(isNaN(k)||isNaN(Y))throw li.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new d(1,0,0,1,k,Y);this.ctx.transform=this.ctx.transform.multiply(J)},x.prototype.transform=function(k,Y,J,ae,ue,ye){if(isNaN(k)||isNaN(Y)||isNaN(J)||isNaN(ae)||isNaN(ue)||isNaN(ye))throw li.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Le=new d(k,Y,J,ae,ue,ye);this.ctx.transform=this.ctx.transform.multiply(Le)},x.prototype.setTransform=function(k,Y,J,ae,ue,ye){k=isNaN(k)?1:k,Y=isNaN(Y)?0:Y,J=isNaN(J)?0:J,ae=isNaN(ae)?1:ae,ue=isNaN(ue)?0:ue,ye=isNaN(ye)?0:ye,this.ctx.transform=new d(k,Y,J,ae,ue,ye)};var z=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(k,Y,J,ae,ue,ye,Le,Ce,Be){var Xe=this.pdf.getImageProperties(k),nt=1,et=1,lt=1,Z=1;ae!==void 0&&Ce!==void 0&&(lt=Ce/ae,Z=Be/ue,nt=Xe.width/ae*Ce/ae,et=Xe.height/ue*Be/ue),ye===void 0&&(ye=Y,Le=J,Y=0,J=0),ae!==void 0&&Ce===void 0&&(Ce=ae,Be=ue),ae===void 0&&Ce===void 0&&(Ce=Xe.width,Be=Xe.height);var pe=this.ctx.transform.decompose(),Je=fe(pe.rotate.shx),st=new d,Me=(st=(st=(st=st.multiply(pe.translate)).multiply(pe.skew)).multiply(pe.scale)).applyToRectangle(new h(ye-Y*lt,Le-J*Z,ae*nt,ue*et));if(this.autoPaging){for(var it,rt=$.call(this,Me),Nt=[],_t=0;_t<rt.length;_t+=1)Nt.indexOf(rt[_t])===-1&&Nt.push(rt[_t]);oe(Nt);for(var Kt=Nt[0],Jt=Nt[Nt.length-1],Bt=Kt;Bt<Jt+1;Bt++){this.pdf.setPage(Bt);var sn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xt=Bt===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],yt=Bt===1?0:gt+(Bt-2)*qt;if(this.ctx.clip_path.length!==0){var ui=this.path;it=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=le(it,this.posX+this.margin[3],-yt+Xt+this.ctx.prevPageLastElemOffset),xe.call(this,"fill",!0),this.path=ui}var Qt=JSON.parse(JSON.stringify(Me));Qt=le([Qt],this.posX+this.margin[3],-yt+Xt+this.ctx.prevPageLastElemOffset)[0];var Et=(Bt>Kt||Bt<Jt)&&z.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],sn,qt,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",Qt.x,Qt.y,Qt.w,Qt.h,null,null,Je),Et&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(k,"JPEG",Me.x,Me.y,Me.w,Me.h,null,null,Je)};var $=function(k,Y,J){var ae=[];Y=Y||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":ae.push(Math.floor((k.y+ue)/J)+1);break;case"arc":ae.push(Math.floor((k.y+ue-k.radius)/J)+1),ae.push(Math.floor((k.y+ue+k.radius)/J)+1);break;case"qct":var ye=Te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);ae.push(Math.floor((ye.y+ue)/J)+1),ae.push(Math.floor((ye.y+ye.h+ue)/J)+1);break;case"bct":var Le=ke(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);ae.push(Math.floor((Le.y+ue)/J)+1),ae.push(Math.floor((Le.y+Le.h+ue)/J)+1);break;case"rect":ae.push(Math.floor((k.y+ue)/J)+1),ae.push(Math.floor((k.y+k.h+ue)/J)+1)}for(var Ce=0;Ce<ae.length;Ce+=1)for(;this.pdf.internal.getNumberOfPages()<ae[Ce];)V.call(this);return ae},V=function(){var k=this.fillStyle,Y=this.strokeStyle,J=this.font,ae=this.lineCap,ue=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=Y,this.font=J,this.lineCap=ae,this.lineWidth=ue,this.lineJoin=ye},le=function(k,Y,J){for(var ae=0;ae<k.length;ae++)switch(k[ae].type){case"bct":k[ae].x2+=Y,k[ae].y2+=J;case"qct":k[ae].x1+=Y,k[ae].y1+=J;default:k[ae].x+=Y,k[ae].y+=J}return k},oe=function(k){return k.sort(function(Y,J){return Y-J})},se=function(k,Y){var J=this.fillStyle,ae=this.strokeStyle,ue=this.lineCap,ye=this.lineWidth,Le=Math.abs(ye*this.ctx.transform.scaleX),Ce=this.lineJoin;if(this.autoPaging){for(var Be,Xe,nt=JSON.parse(JSON.stringify(this.path)),et=JSON.parse(JSON.stringify(this.path)),lt=[],Z=0;Z<et.length;Z++)if(et[Z].x!==void 0)for(var pe=$.call(this,et[Z]),Je=0;Je<pe.length;Je+=1)lt.indexOf(pe[Je])===-1&&lt.push(pe[Je]);for(var st=0;st<lt.length;st++)for(;this.pdf.internal.getNumberOfPages()<lt[st];)V.call(this);oe(lt);for(var Me=lt[0],it=lt[lt.length-1],rt=Me;rt<it+1;rt++){this.pdf.setPage(rt),this.fillStyle=J,this.strokeStyle=ae,this.lineCap=ue,this.lineWidth=Le,this.lineJoin=Ce;var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=rt===1?this.posY+this.margin[0]:this.margin[0],Kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Bt=rt===1?0:Kt+(rt-2)*Jt;if(this.ctx.clip_path.length!==0){var sn=this.path;Be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=le(Be,this.posX+this.margin[3],-Bt+_t+this.ctx.prevPageLastElemOffset),xe.call(this,k,!0),this.path=sn}if(Xe=JSON.parse(JSON.stringify(nt)),this.path=le(Xe,this.posX+this.margin[3],-Bt+_t+this.ctx.prevPageLastElemOffset),Y===!1||rt===0){var Xt=(rt>Me||rt<it)&&z.call(this);Xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,Jt,null).clip().discardPath()),xe.call(this,k,Y),Xt&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}this.path=nt}else this.lineWidth=Le,xe.call(this,k,Y),this.lineWidth=ye},xe=function(k,Y){if((k!=="stroke"||Y||!F.call(this))&&(k==="stroke"||Y||!w.call(this))){for(var J,ae,ue=[],ye=this.path,Le=0;Le<ye.length;Le++){var Ce=ye[Le];switch(Ce.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:Ce,deltas:[],abs:[]});break;case"lt":var Be=ue.length;if(ye[Le-1]&&!isNaN(ye[Le-1].x)&&(J=[Ce.x-ye[Le-1].x,Ce.y-ye[Le-1].y],Be>0)){for(;Be>=0;Be--)if(ue[Be-1].close!==!0&&ue[Be-1].begin!==!0){ue[Be-1].deltas.push(J),ue[Be-1].abs.push(Ce);break}}break;case"bct":J=[Ce.x1-ye[Le-1].x,Ce.y1-ye[Le-1].y,Ce.x2-ye[Le-1].x,Ce.y2-ye[Le-1].y,Ce.x-ye[Le-1].x,Ce.y-ye[Le-1].y],ue[ue.length-1].deltas.push(J);break;case"qct":var Xe=ye[Le-1].x+2/3*(Ce.x1-ye[Le-1].x),nt=ye[Le-1].y+2/3*(Ce.y1-ye[Le-1].y),et=Ce.x+2/3*(Ce.x1-Ce.x),lt=Ce.y+2/3*(Ce.y1-Ce.y),Z=Ce.x,pe=Ce.y;J=[Xe-ye[Le-1].x,nt-ye[Le-1].y,et-ye[Le-1].x,lt-ye[Le-1].y,Z-ye[Le-1].x,pe-ye[Le-1].y],ue[ue.length-1].deltas.push(J);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(Ce)}}ae=Y?null:k==="stroke"?"stroke":"fill";for(var Je=!1,st=0;st<ue.length;st++)if(ue[st].arc)for(var Me=ue[st].abs,it=0;it<Me.length;it++){var rt=Me[it];rt.type==="arc"?P.call(this,rt.x,rt.y,rt.radius,rt.startAngle,rt.endAngle,rt.counterclockwise,void 0,Y,!Je):R.call(this,rt.x,rt.y),Je=!0}else if(ue[st].close===!0)this.pdf.internal.out("h"),Je=!1;else if(ue[st].begin!==!0){var Nt=ue[st].start.x,_t=ue[st].start.y;ee.call(this,ue[st].deltas,Nt,_t),Je=!0}ae&&D.call(this,ae),Y&&q.call(this)}},Oe=function(k){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-J;case"top":return k+Y-J;case"hanging":return k+Y-2*J;case"middle":return k+Y/2-J;default:return k}},H=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(Y,J){this.colorStops.push([Y,J])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(k,Y,J,ae,ue,ye,Le,Ce,Be){for(var Xe=ne.call(this,J,ae,ue,ye),nt=0;nt<Xe.length;nt++){var et=Xe[nt];nt===0&&(Be?E.call(this,et.x1+k,et.y1+Y):R.call(this,et.x1+k,et.y1+Y)),be.call(this,k,Y,et.x2,et.y2,et.x3,et.y3,et.x4,et.y4)}Ce?q.call(this):D.call(this,Le)},D=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(k,Y){this.pdf.internal.out(t(k)+" "+r(Y)+" m")},I=function(k){var Y;switch(k.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var J,ae,ue,ye=this.pdf.getTextDimensions(k.text),Le=Oe.call(this,k.y),Ce=H.call(this,Le)-ye.h,Be=this.ctx.transform.applyToPoint(new c(k.x,Le));if(this.autoPaging){var Xe=this.ctx.transform.decompose(),nt=new d;nt=(nt=(nt=nt.multiply(Xe.translate)).multiply(Xe.skew)).multiply(Xe.scale);for(var et=this.ctx.transform.applyToRectangle(new h(k.x,Le,ye.w,ye.h)),lt=nt.applyToRectangle(new h(k.x,Ce,ye.w,ye.h)),Z=$.call(this,lt),pe=[],Je=0;Je<Z.length;Je+=1)pe.indexOf(Z[Je])===-1&&pe.push(Z[Je]);oe(pe);for(var st=pe[0],Me=pe[pe.length-1],it=st;it<Me+1;it++){this.pdf.setPage(it);var rt=it===1?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[2],Kt=_t-this.margin[0],Jt=this.pdf.internal.pageSize.width-this.margin[1],Bt=Jt-this.margin[3],sn=it===1?0:Nt+(it-2)*Kt;if(this.ctx.clip_path.length!==0){var Xt=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=le(J,this.posX+this.margin[3],-1*sn+rt),xe.call(this,"fill",!0),this.path=Xt}var gt=le([JSON.parse(JSON.stringify(lt))],this.posX+this.margin[3],-sn+rt+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ae*k.scale),ue=this.lineWidth,this.lineWidth=ue*k.scale);var qt=this.autoPaging!=="text";if(qt||gt.y+gt.h<=_t){if(qt||gt.y>=rt&&gt.x<=Jt){var yt=qt?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||Jt-gt.x)[0],ui=le([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-sn+rt+this.ctx.prevPageLastElemOffset)[0],Qt=qt&&(it>st||it<Me)&&z.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Bt,Kt,null).clip().discardPath()),this.pdf.text(yt,ui.x,ui.y,{angle:k.angle,align:Y,renderingMode:k.renderingMode}),Qt&&this.pdf.restoreGraphicsState()}}else gt.y<_t&&(this.ctx.prevPageLastElemOffset+=_t-gt.y);k.scale>=.01&&(this.pdf.setFontSize(ae),this.lineWidth=ue)}}else k.scale>=.01&&(ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ae*k.scale),ue=this.lineWidth,this.lineWidth=ue*k.scale),this.pdf.text(k.text,Be.x+this.posX,Be.y+this.posY,{angle:k.angle,align:Y,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(ae),this.lineWidth=ue)},R=function(k,Y,J,ae){J=J||0,ae=ae||0,this.pdf.internal.out(t(k+J)+" "+r(Y+ae)+" l")},ee=function(k,Y,J){return this.pdf.lines(k,Y,J,null,null)},be=function(k,Y,J,ae,ue,ye,Le,Ce){this.pdf.internal.out([e(a(J+k)),e(o(ae+Y)),e(a(ue+k)),e(o(ye+Y)),e(a(Le+k)),e(o(Ce+Y)),"c"].join(" "))},ne=function(k,Y,J,ae){for(var ue=2*Math.PI,ye=Math.PI/2;Y>J;)Y-=ue;var Le=Math.abs(J-Y);Le<ue&&ae&&(Le=ue-Le);for(var Ce=[],Be=ae?-1:1,Xe=Y;Le>1e-5;){var nt=Xe+Be*Math.min(Le,ye);Ce.push(he.call(this,k,Xe,nt)),Le-=Math.abs(nt-Xe),Xe=nt}return Ce},he=function(k,Y,J){var ae=(J-Y)/2,ue=k*Math.cos(ae),ye=k*Math.sin(ae),Le=ue,Ce=-ye,Be=Le*Le+Ce*Ce,Xe=Be+Le*ue+Ce*ye,nt=4/3*(Math.sqrt(2*Be*Xe)-Xe)/(Le*ye-Ce*ue),et=Le-nt*Ce,lt=Ce+nt*Le,Z=et,pe=-lt,Je=ae+Y,st=Math.cos(Je),Me=Math.sin(Je);return{x1:k*Math.cos(Y),y1:k*Math.sin(Y),x2:et*st-lt*Me,y2:et*Me+lt*st,x3:Z*st-pe*Me,y3:Z*Me+pe*st,x4:k*Math.cos(J),y4:k*Math.sin(J)}},fe=function(k){return 180*k/Math.PI},Te=function(k,Y,J,ae,ue,ye){var Le=k+.5*(J-k),Ce=Y+.5*(ae-Y),Be=ue+.5*(J-ue),Xe=ye+.5*(ae-ye),nt=Math.min(k,ue,Le,Be),et=Math.max(k,ue,Le,Be),lt=Math.min(Y,ye,Ce,Xe),Z=Math.max(Y,ye,Ce,Xe);return new h(nt,lt,et-nt,Z-lt)},ke=function(k,Y,J,ae,ue,ye,Le,Ce){var Be,Xe,nt,et,lt,Z,pe,Je,st,Me,it,rt,Nt,_t,Kt=J-k,Jt=ae-Y,Bt=ue-J,sn=ye-ae,Xt=Le-ue,gt=Ce-ye;for(Xe=0;Xe<41;Xe++)st=(pe=(nt=k+(Be=Xe/40)*Kt)+Be*((lt=J+Be*Bt)-nt))+Be*(lt+Be*(ue+Be*Xt-lt)-pe),Me=(Je=(et=Y+Be*Jt)+Be*((Z=ae+Be*sn)-et))+Be*(Z+Be*(ye+Be*gt-Z)-Je),Xe==0?(it=st,rt=Me,Nt=st,_t=Me):(it=Math.min(it,st),rt=Math.min(rt,Me),Nt=Math.max(Nt,st),_t=Math.max(_t,Me));return new h(Math.round(it),Math.round(rt),Math.round(Nt-it),Math.round(_t-rt))},Q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,Y,J=(k=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:Y}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(Tt.API),(function(n){var e=function(c){var h,d,m,b,x,N,w,F,z,$;for(d=[],m=0,b=(c+=h="\0\0\0\0".slice(c.length%4||4)).length;b>m;m+=4)(x=(c.charCodeAt(m)<<24)+(c.charCodeAt(m+1)<<16)+(c.charCodeAt(m+2)<<8)+c.charCodeAt(m+3))!==0?(N=(x=((x=((x=((x=(x-($=x%85))/85)-(z=x%85))/85)-(F=x%85))/85)-(w=x%85))/85)%85,d.push(N+33,w+33,F+33,z+33,$+33)):d.push(122);return(function(V,le){for(var oe=le;oe>0;oe--)V.pop()})(d,h.length),String.fromCharCode.apply(String,d)+"~>"},t=function(c){var h,d,m,b,x,N=String,w="length",F=255,z="charCodeAt",$="slice",V="replace";for(c[$](-2),c=c[$](0,-2)[V](/\s/g,"")[V]("z","!!!!!"),m=[],b=0,x=(c+=h="uuuuu"[$](c[w]%5||5))[w];x>b;b+=5)d=52200625*(c[z](b)-33)+614125*(c[z](b+1)-33)+7225*(c[z](b+2)-33)+85*(c[z](b+3)-33)+(c[z](b+4)-33),m.push(F&d>>24,F&d>>16,F&d>>8,F&d);return(function(le,oe){for(var se=oe;se>0;se--)le.pop()})(m,h[w]),N.fromCharCode.apply(N,m)},r=function(c){return c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(c){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),h.test(c)===!1)return"";for(var d="",m=0;m<c.length;m+=2)d+=String.fromCharCode("0x"+(c[m]+c[m+1]));return d},o=function(c){for(var h=new Uint8Array(c.length),d=c.length;d--;)h[d]=c.charCodeAt(d);return(h=K1(h)).reduce(function(m,b){return m+String.fromCharCode(b)},"")};n.processDataByFilters=function(c,h){var d=0,m=c||"",b=[];for(typeof(h=h||[])=="string"&&(h=[h]),d=0;d<h.length;d+=1)switch(h[d]){case"ASCII85Decode":case"/ASCII85Decode":m=t(m),b.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":m=e(m),b.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":m=a(m),b.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":m=r(m),b.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":m=o(m),b.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[d]+'" is not implemented')}return{data:m,reverseChain:b.reverse().join(" ")}}})(Tt.API),(function(n){n.loadFile=function(e,t,r){return(function(a,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var h=void 0;try{h=(function(d,m,b){var x=new XMLHttpRequest,N=0,w=function(F){var z=F.length,$=[],V=String.fromCharCode;for(N=0;N<z;N+=1)$.push(V(255&F.charCodeAt(N)));return $.join("")};if(x.open("GET",d,!m),x.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(x.onload=function(){x.status===200?b(w(this.responseText)):b(void 0)}),x.send(null),m&&x.status===200)return w(x.responseText)})(a,o,c)}catch{}return h})(e,t,r)},n.loadImageFile=n.loadFile})(Tt.API),(function(n){function e(){return(Gt.html2canvas?Promise.resolve(Gt.html2canvas):Kg(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[],import.meta.url)).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function t(){return(Gt.DOMPurify?Promise.resolve(Gt.DOMPurify):Kg(()=>import("./purify.es-Bzr520pe.js"),[],import.meta.url)).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var r=function(h){var d=Xn(h);return d==="undefined"?"undefined":d==="string"||h instanceof String?"string":d==="number"||h instanceof Number?"number":d==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":d==="object"?"object":"unknown"},a=function(h,d){var m=document.createElement(h);for(var b in d.className&&(m.className=d.className),d.innerHTML&&d.dompurify&&(m.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)m.style[b]=d.style[b];return m},o=function h(d,m){for(var b=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),x=d.firstChild;x;x=x.nextSibling)m!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||b.appendChild(h(x,m));return d.nodeType===1&&(d.nodeName==="CANVAS"?(b.width=d.width,b.height=d.height,b.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(b.value=d.value),b.addEventListener("load",function(){b.scrollTop=d.scrollTop,b.scrollLeft=d.scrollLeft},!0)),b},c=function h(d){var m=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),b=h.convert(Promise.resolve(),m);return(b=b.setProgress(1,h,1,[h])).set(d)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(h,d){return h.__proto__=d||c.prototype,h},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(h,d){return this.then(function(){switch(d=d||(function(m){switch(r(m)){case"string":return"string";case"element":return m.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),d){case"string":return this.then(t).then(function(m){return this.set({src:a("div",{innerHTML:h,dompurify:m})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},c.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(d){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,d(this.prop.container,m)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(d){var m=this.opt.jsPDF,b=this.opt.fontFaces,x=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,N=Object.assign({async:!0,allowTaint:!0,scale:x,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete N.onrendered,m.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,m.context2d.posX=this.opt.x,m.context2d.posY=this.opt.y,m.context2d.margin=this.opt.margin,m.context2d.fontFaces=b,b)for(var w=0;w<b.length;++w){var F=b[w],z=F.src.find(function($){return $.format==="truetype"});z&&m.addFont(z.url,F.ref.name,F.ref.style)}return N.windowHeight=N.windowHeight||0,N.windowHeight=N.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):N.windowHeight,m.context2d.save(!0),d(this.prop.container,N)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(h,d,m){return(m=m||"pdf").toLowerCase()==="img"||m.toLowerCase()==="image"?this.outputImg(h,d):this.outputPdf(h,d)},c.prototype.outputPdf=function(h,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,d)})},c.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},c.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(h){if(r(h)!=="object")return this;var d=Object.keys(h||{}).map(function(m){if(m in c.template.prop)return function(){this.prop[m]=h[m]};switch(m){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[m]=h[m]}}},this);return this.then(function(){return this.thenList(d)})},c.prototype.get=function(h,d){return this.then(function(){var m=h in c.template.prop?this.prop[h]:this.opt[h];return d?d(m):m})},c.prototype.setMargin=function(h){return this.then(function(){switch(r(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},c.prototype.setPageSize=function(h){function d(m,b){return Math.floor(m*b/72*96)}return this.then(function(){(h=h||Tt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:d(h.inner.width,h.k),height:d(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},c.prototype.setProgress=function(h,d,m,b){return h!=null&&(this.progress.val=h),d!=null&&(this.progress.state=d),m!=null&&(this.progress.n=m),b!=null&&(this.progress.stack=b),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(h,d,m,b){return this.setProgress(h?this.progress.val+h:null,d||null,m?this.progress.n+m:null,b?this.progress.stack.concat(b):null)},c.prototype.then=function(h,d){var m=this;return this.thenCore(h,d,function(b,x){return m.updateProgress(null,null,1,[b]),Promise.prototype.then.call(this,function(N){return m.updateProgress(null,b),N}).then(b,x).then(function(N){return m.updateProgress(1),N})})},c.prototype.thenCore=function(h,d,m){m=m||Promise.prototype.then;var b=this;h&&(h=h.bind(b)),d&&(d=d.bind(b));var x=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?b:c.convert(Object.assign({},b),Promise.prototype),N=m.call(x,h,d);return c.convert(N,b.__proto__)},c.prototype.thenExternal=function(h,d){return Promise.prototype.then.call(this,h,d)},c.prototype.thenList=function(h){var d=this;return h.forEach(function(m){d=d.thenCore(m)}),d},c.prototype.catch=function(h){h&&(h=h.bind(this));var d=Promise.prototype.catch.call(this,h);return c.convert(d,this)},c.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},c.prototype.error=function(h){return this.then(function(){throw new Error(h)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Tt.getPageSize=function(h,d,m){if(Xn(h)==="object"){var b=h;h=b.orientation,d=b.unit||d,m=b.format||m}d=d||"mm",m=m||"a4",h=(""+(h||"P")).toLowerCase();var x,N=(""+m).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":x=1;break;case"mm":x=72/25.4;break;case"cm":x=72/2.54;break;case"in":x=72;break;case"px":x=.75;break;case"pc":case"em":x=12;break;case"ex":x=6;break;default:throw"Invalid unit: "+d}var F,z=0,$=0;if(w.hasOwnProperty(N))z=w[N][1]/x,$=w[N][0]/x;else try{z=m[1],$=m[0]}catch{throw new Error("Invalid format: "+m)}if(h==="p"||h==="portrait")h="p",$>z&&(F=$,$=z,z=F);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",z>$&&(F=$,$=z,z=F)}return{width:$,height:z,unit:d,k:x,orientation:h}},n.html=function(h,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(h1):null;var m=new c(d);return d.worker?m:m.from(h).doCallback()}})(Tt.API),Tt.API.addJS=function(n){return u_=n,this.internal.events.subscribe("postPutResources",function(){sp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(sp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),l_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+u_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){sp!==void 0&&l_!==void 0&&this.internal.out("/Names <</JavaScript "+sp+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var c=a[o],h=r.exec(c);if(h!=null){var d=h[1];t.internal.newObjectDeferredBegin(d,!1)}t.internal.write(c)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,b=[];for(o=0;o<m;o++){var x=t.internal.newObject();b.push(x);var N=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+N.objId+" 0 R /XYZ null null null]>> endobj")}var w=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<b.length;o++)t.internal.write("(page_"+(o+1)+")"+b[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+w+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,a,o){var c={title:a,options:o,children:[]};return r==null&&(r=this.root),r.children.push(c),c},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var c=r.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var h=this.count=this.count_r({count:0},c);if(h>0&&this.line("/Count "+h),c.options&&c.options.pageNumber){var d=t.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var m=0;m<r.children.length;m++)this.renderItems(r.children[m])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,a){for(var o=0;o<a.children.length;o++)r.count++,this.count_r(r,a.children[o]);return r.count}}])})(Tt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,a,o,c,h){var d,m=this.decode.DCT_DECODE,b=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=c||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,d=(function(x){for(var N,w=256*x.charCodeAt(4)+x.charCodeAt(5),F=x.length,z={width:0,height:0,numcomponents:1},$=4;$<F;$+=2){if($+=w,e.indexOf(x.charCodeAt($+1))!==-1){N=256*x.charCodeAt($+5)+x.charCodeAt($+6),z={width:256*x.charCodeAt($+7)+x.charCodeAt($+8),height:N,numcomponents:x.charCodeAt($+9)};break}w=256*x.charCodeAt($+2)+x.charCodeAt($+3)}return z})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),d.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}b={data:t,width:d.width,height:d.height,colorSpace:h,bitsPerComponent:8,filter:m,index:r,alias:a}}return b}})(Tt.API),Tt.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,o=cL(n,{checkCrc:!0}),c=o.width,h=o.height,d=o.channels,m=o.palette,b=o.depth;a=m&&d===1?(function(P){for(var D=P.width,q=P.height,E=P.data,I=P.palette,R=P.depth,ee=!1,be=[],ne=[],he=void 0,fe=!1,Te=0,ke=0;ke<I.length;ke++){var Q=db(I[ke],4),k=Q[0],Y=Q[1],J=Q[2],ae=Q[3];be.push(k,Y,J),ae!=null&&(ae===0?(Te++,ne.length<1&&ne.push(ke)):ae<255&&(fe=!0))}if(fe||Te>1){ee=!0,ne=void 0;var ue=D*q;he=new Uint8Array(ue);for(var ye=new DataView(E.buffer),Le=0;Le<ue;Le++){var Ce=d1(ye,Le,R),Be=db(I[Ce],4)[3];he[Le]=Be}}else Te===0&&(ne=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ee?8:void 0,colorBytes:E,alphaBytes:he,needSMask:ee,palette:be,mask:ne}})(o):d===2||d===4?(function(P){for(var D=P.data,q=P.width,E=P.height,I=P.channels,R=P.depth,ee=I===2?"DeviceGray":"DeviceRGB",be=I-1,ne=q*E,he=be,fe=ne*he,Te=1*ne,ke=Math.ceil(fe*R/8),Q=Math.ceil(Te*R/8),k=new Uint8Array(ke),Y=new Uint8Array(Q),J=new DataView(D.buffer),ae=new DataView(k.buffer),ue=new DataView(Y.buffer),ye=!1,Le=0;Le<ne;Le++){for(var Ce=Le*I,Be=0;Be<he;Be++)v_(ae,d1(J,Ce+Be,R),Le*he+Be,R);var Xe=d1(J,Ce+he,R);Xe<(1<<R)-1&&(ye=!0),v_(ue,Xe,1*Le,R)}return{colorSpace:ee,colorsPerPixel:be,sMaskBitsPerComponent:ye?R:void 0,colorBytes:k,alphaBytes:Y,needSMask:ye}})(o):(function(P){var D=P.data,q=P.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:q,colorsPerPixel:q==="DeviceGray"?1:3,colorBytes:D instanceof Uint16Array?(function(E){for(var I=E.length,R=new Uint8Array(2*I),ee=new DataView(R.buffer,R.byteOffset,R.byteLength),be=0;be<I;be++)ee.setUint16(2*be,E[be],!1);return R})(D):D,needSMask:!1}})(o);var x,N,w,F=a,z=F.colorSpace,$=F.colorsPerPixel,V=F.sMaskBitsPerComponent,le=F.colorBytes,oe=F.alphaBytes,se=F.needSMask,xe=F.palette,Oe=F.mask,H=null;return r!==Tt.API.image_compression.NONE&&typeof K1=="function"?(H=(function(P){var D;switch(P){case Tt.API.image_compression.FAST:D=11;break;case Tt.API.image_compression.MEDIUM:D=13;break;case Tt.API.image_compression.SLOW:D=14;break;default:D=12}return D})(r),x=this.decode.FLATE_DECODE,N="/Predictor ".concat(H," /Colors ").concat($," /BitsPerComponent ").concat(b," /Columns ").concat(c),n=d_(le,Math.ceil(c*$*b/8),$,b,r),se&&(w=d_(oe,Math.ceil(c*V/8),1,V,r))):(x=void 0,N=void 0,n=le,se&&(w=oe)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(w&&this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),{alias:t,data:n,index:e,filter:x,decodeParameters:N,transparency:Oe,palette:xe,sMask:w,predictor:H,width:c,height:h,bitsPerComponent:b,sMaskBitsPerComponent:V,colorSpace:z}}},(function(n){n.processGIF89A=function(e,t,r,a){var o=new LL(e),c=o.width,h=o.height,d=[];o.decodeAndBlitFrameRGBA(0,d);var m={data:d,width:c,height:h},b=new p1(100).encode(m,100);return n.processJPEG.call(this,b,t,r,a)},n.processGIF87A=n.processGIF89A})(Tt.API),so.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},so.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){li.log("bit decode error:"+t)}},so.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+8*a*4,h=0;h<8&&8*a+h<this.width;h++){var d=this.palette[o>>7-h&1];this.data[c+4*h]=d.blue,this.data[c+4*h+1]=d.green,this.data[c+4*h+2]=d.red,this.data[c+4*h+3]=255}t!==0&&(this.pos+=4-t)}},so.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<n;a++){var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+2*a*4,h=o>>4,d=15&o,m=this.palette[h];if(this.data[c]=m.blue,this.data[c+1]=m.green,this.data[c+2]=m.red,this.data[c+3]=255,2*a+1>=this.width)break;m=this.palette[d],this.data[c+4]=m.blue,this.data[c+4+1]=m.green,this.data[c+4+2]=m.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},so.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(a<this.palette.length){var c=this.palette[a];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},so.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,h=(o>>5&e)/e*255|0,d=(o>>10&e)/e*255|0,m=o>>15?255:0,b=r*this.width*4+4*a;this.data[b]=d,this.data[b+1]=h,this.data[b+2]=c,this.data[b+3]=m}this.pos+=n}},so.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(c&e)/e*255|0,d=(c>>5&t)/t*255|0,m=(c>>11)/e*255|0,b=a*this.width*4+4*o;this.data[b]=m,this.data[b+1]=d,this.data[b+2]=h,this.data[b+3]=255}this.pos+=n}},so.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=r,this.data[c+3]=255}this.pos+=this.width%4}},so.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*t;this.data[h]=o,this.data[h+1]=a,this.data[h+2]=r,this.data[h+3]=c}},so.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,a){var o=new so(e,!1),c=o.width,h=o.height,d={data:o.getData(),width:c,height:h},m=new p1(100).encode(d,100);return n.processJPEG.call(this,m,t,r,a)}})(Tt.API),__.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,a){var o=new __(e),c=o.width,h=o.height,d={data:o.getData(),width:c,height:h},m=new p1(100).encode(d,100);return n.processJPEG.call(this,m,t,r,a)}})(Tt.API),Tt.API.processRGBA=function(n,e,t){for(var r=n.data,a=r.length,o=new Uint8Array(a/4*3),c=new Uint8Array(a/4),h=0,d=0,m=0;m<a;m+=4){var b=r[m],x=r[m+1],N=r[m+2],w=r[m+3];o[h++]=b,o[h++]=x,o[h++]=N,c[d++]=w}var F=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:F,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Tt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},eh=Tt.API,ap=eh.getCharWidthsArray=function(n,e){var t,r,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),h=e.widths?e.widths:a.metadata.Unicode.widths,d=h.fof?h.fof:1,m=e.kerning?e.kerning:a.metadata.Unicode.kerning,b=m.fof?m.fof:1,x=e.doKerning!==!1,N=0,w=n.length,F=0,z=h[0]||d,$=[];for(t=0;t<w;t++)r=n.charCodeAt(t),typeof a.metadata.widthOfString=="function"?$.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+c*(1e3/o)||0)/1e3):(N=x&&Xn(m[r])==="object"&&!isNaN(parseInt(m[r][F],10))?m[r][F]/b:0,$.push((h[r]||z)/d+N)),F=r;return $},c_=eh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return eh.processArabic&&(n=eh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,a)/t:ap.apply(this,arguments).reduce(function(o,c){return o+c},0)},h_=function(n,e,t,r){for(var a=[],o=0,c=n.length,h=0;o!==c&&h+e[o]<t;)h+=e[o],o++;a.push(n.slice(0,o));var d=o;for(h=0;o!==c;)h+e[o]>r&&(a.push(n.slice(d,o)),h=0,d=o),h+=e[o],o++;return d!==o&&a.push(n.slice(d,o)),a},f_=function(n,e,t){t||(t={});var r,a,o,c,h,d,m,b=[],x=[b],N=t.textIndent||0,w=0,F=0,z=n.split(" "),$=ap.apply(this,[" ",t])[0];if(d=t.lineIndent===-1?z[0].length+2:t.lineIndent||0){var V=Array(d).join(" "),le=[];z.map(function(se){(se=se.split(/\s*\n/)).length>1?le=le.concat(se.map(function(xe,Oe){return(Oe&&xe.length?`
`:"")+xe})):le.push(se[0])}),z=le,d=c_.apply(this,[V,t])}for(o=0,c=z.length;o<c;o++){var oe=0;if(r=z[o],d&&r[0]==`
`&&(r=r.substr(1),oe=1),N+w+(F=(a=ap.apply(this,[r,t])).reduce(function(se,xe){return se+xe},0))>e||oe){if(F>e){for(h=h_.apply(this,[r,a,e-(N+w),e]),b.push(h.shift()),b=[h.pop()];h.length;)x.push([h.shift()]);F=a.slice(r.length-(b[0]?b[0].length:0)).reduce(function(se,xe){return se+xe},0)}else b=[r];x.push(b),N=F+d,w=$}else b.push(r),N+=w+F,w=$}return m=d?function(se,xe){return(xe?V:"")+se.join(" ")}:function(se){return se.join(" ")},x.map(m)},eh.splitTextToSize=function(n,e,t){var r,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(b){if(b.widths&&b.kerning)return{widths:b.widths,kerning:b.kerning};var x=this.internal.getFont(b.fontName,b.fontStyle),N="Unicode";return x.metadata[N]?{widths:x.metadata[N].widths||{0:1},kerning:x.metadata[N].kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var h,d,m=[];for(h=0,d=r.length;h<d;h++)m=m.concat(f_.apply(this,[r[h],c,o]));return m},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},a={},o=0;o<16;o++)r[t[o]]=e[o],a[e[o]]=t[o];var c=function(N){return"0x"+parseInt(N,10).toString(16)},h=n.__fontmetrics__.compress=function(N){var w,F,z,$,V=["{"];for(var le in N){if(w=N[le],isNaN(parseInt(le,10))?F="'"+le+"'":(le=parseInt(le,10),F=(F=c(le).slice(2)).slice(0,-1)+a[F.slice(-1)]),typeof w=="number")w<0?(z=c(w).slice(3),$="-"):(z=c(w).slice(2),$=""),z=$+z.slice(0,-1)+a[z.slice(-1)];else{if(Xn(w)!=="object")throw new Error("Don't know what to do with value type "+Xn(w)+".");z=h(w)}V.push(F+z)}return V.push("}"),V.join("")},d=n.__fontmetrics__.uncompress=function(N){if(typeof N!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,F,z,$,V={},le=1,oe=V,se=[],xe="",Oe="",H=N.length-1,P=1;P<H;P+=1)($=N[P])=="'"?w?(z=w.join(""),w=void 0):w=[]:w?w.push($):$=="{"?(se.push([oe,z]),oe={},z=void 0):$=="}"?((F=se.pop())[0][F[1]]=oe,z=void 0,oe=F[0]):$=="-"?le=-1:z===void 0?r.hasOwnProperty($)?(xe+=r[$],z=parseInt(xe,16)*le,le=1,xe=""):xe+=$:r.hasOwnProperty($)?(Oe+=r[$],oe[z]=parseInt(Oe,16)*le,le=1,z=void 0,Oe=""):Oe+=$;return V},m={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},b={Unicode:{Courier:m,"Courier-Bold":m,"Courier-BoldOblique":m,"Courier-Oblique":m,Helvetica:m,"Helvetica-Bold":m,"Helvetica-BoldOblique":m,"Helvetica-Oblique":m,"Times-Roman":m,"Times-Bold":m,"Times-BoldItalic":m,"Times-Italic":m}},x={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(N){var w=N.font,F=x.Unicode[w.postScriptName];F&&(w.metadata.Unicode={},w.metadata.Unicode.widths=F.widths,w.metadata.Unicode.kerning=F.kerning);var z=b.Unicode[w.postScriptName];z&&(w.metadata.Unicode.encoding=z,w.encoding=z.codePages[0])}])})(Tt.API),(function(n){var e=function(t){for(var r=t.length,a=new Uint8Array(r),o=0;o<r;o++)a[o]=t.charCodeAt(o);return a};n.API.events.push(["addFont",function(t){var r=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(c,h){h=/^\x00\x01\x00\x00/.test(h)?e(h):e(vp(h)),c.metadata=n.API.TTFFont.open(h),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(a,r)}}])})(Tt),Tt.API.addSvgAsImage=function(n,e,t,r,a,o,c,h){if(isNaN(e)||isNaN(t))throw li.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw li.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=r,d.height=a;var m=d.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,d.width,d.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return(Gt.canvg?Promise.resolve(Gt.canvg):Kg(()=>import("./index.es--GN71O4y.js"),[],import.meta.url)).catch(function(N){return Promise.reject(new Error("Could not load canvg: "+N))}).then(function(N){return N.default?N.default:N}).then(function(N){return N.fromString(m,n,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(b)}).then(function(){x.addImage(d.toDataURL("image/jpeg",1),e,t,r,a,c,h)})},Tt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(e,t);return this},Tt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,a,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(c),d=[],m=0,b=0,x=0;function N(F,z){var $,V=!1;for($=0;$<F.length;$+=1)F[$]===z&&(V=!0);return V}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var w=h.length;for(x=0;x<w;x+=1)t[h[x]].value=t[h[x]].defaultValue,t[h[x]].explicitSet=!1}if(Xn(n)==="object"){for(a in n)if(o=n[a],N(h,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&N(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(m=0;m<o.length;m+=1)if(r=!0,o[m].length===1&&typeof o[m][0]=="number")d.push(String(o[m]-1));else if(o[m].length>1){for(b=0;b<o[m].length;b+=1)typeof o[m][b]!="number"&&(r=!1);r===!0&&d.push([o[m][0]-1,o[m][1]-1].join(" "))}t[a].value="["+d.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var F,z=[];for(F in t)t[F].explicitSet===!0&&(t[F].type==="name"?z.push("/"+F+" /"+t[F].value):z.push("/"+F+" "+t[F].value));z.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+z.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),m=o.length+c.length+h.length+a.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+m+" >>"),this.internal.write("stream"),this.internal.write(a+o+c+h+d),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Tt.API),(function(n){var e=n.API,t=e.pdfEscape16=function(o,c){for(var h,d=c.metadata.Unicode.widths,m=["","0","00","000","0000"],b=[""],x=0,N=o.length;x<N;++x){if(h=c.metadata.characterToGlyph(o.charCodeAt(x)),c.metadata.glyIdsUsed.push(h),c.metadata.toUnicode[h]=o.charCodeAt(x),d.indexOf(h)==-1&&(d.push(h),d.push([parseInt(c.metadata.widthOfGlyph(h),10)])),h=="0")return b.join("");h=h.toString(16),b.push(m[4-h.length],h)}return b.join("")},r=function(o){var c,h,d,m,b,x,N;for(b=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],x=0,N=(h=Object.keys(o).sort(function(w,F){return w-F})).length;x<N;x++)c=h[x],d.length>=100&&(b+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(m=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),d.push("<"+c+"><"+m+">"));return d.length&&(b+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),b+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(c){var h=c.font,d=c.out,m=c.newObject,b=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="Identity-H"){for(var x=h.metadata.Unicode.widths,N=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),w="",F=0;F<N.length;F++)w+=String.fromCharCode(N[F]);var z=m();b({data:w,addLength1:!0,objectId:z}),d("endobj");var $=m();b({data:r(h.metadata.toUnicode),addLength1:!0,objectId:$}),d("endobj");var V=m();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+ah(h.fontName)),d("/FontFile2 "+z+" 0 R"),d("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),d("/Flags "+h.metadata.flags),d("/StemV "+h.metadata.stemV),d("/ItalicAngle "+h.metadata.italicAngle),d("/Ascent "+h.metadata.ascender),d("/Descent "+h.metadata.decender),d("/CapHeight "+h.metadata.capHeight),d(">>"),d("endobj");var le=m();d("<<"),d("/Type /Font"),d("/BaseFont /"+ah(h.fontName)),d("/FontDescriptor "+V+" 0 R"),d("/W "+n.API.PDFObject.convert(x)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+h.encoding+")"),d(">>"),d(">>"),d("endobj"),h.objectNumber=m(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+$+" 0 R"),d("/BaseFont /"+ah(h.fontName)),d("/Encoding /"+h.encoding),d("/DescendantFonts ["+le+" 0 R]"),d(">>"),d("endobj"),h.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(c){var h=c.font,d=c.out,m=c.newObject,b=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var x=h.metadata.rawData,N="",w=0;w<x.length;w++)N+=String.fromCharCode(x[w]);var F=m();b({data:N,addLength1:!0,objectId:F}),d("endobj");var z=m();b({data:r(h.metadata.toUnicode),addLength1:!0,objectId:z}),d("endobj");var $=m();d("<<"),d("/Descent "+h.metadata.decender),d("/CapHeight "+h.metadata.capHeight),d("/StemV "+h.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+F+" 0 R"),d("/Flags 96"),d("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),d("/FontName /"+ah(h.fontName)),d("/ItalicAngle "+h.metadata.italicAngle),d("/Ascent "+h.metadata.ascender),d(">>"),d("endobj"),h.objectNumber=m();for(var V=0;V<h.metadata.hmtx.widths.length;V++)h.metadata.hmtx.widths[V]=parseInt(h.metadata.hmtx.widths[V]*(1e3/h.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+z+" 0 R/BaseFont/"+ah(h.fontName)+"/FontDescriptor "+$+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),d("endobj"),h.isAlreadyPutted=!0}})(o)}]);var a=function(o){var c,h=o.text||"",d=o.x,m=o.y,b=o.options||{},x=o.mutex||{},N=x.pdfEscape,w=x.activeFontKey,F=x.fonts,z=w,$="",V=0,le="",oe=F[z].encoding;if(F[z].encoding!=="Identity-H")return{text:h,x:d,y:m,options:b,mutex:x};for(le=h,z=w,Array.isArray(h)&&(le=h[0]),V=0;V<le.length;V+=1)F[z].metadata.hasOwnProperty("cmap")&&(c=F[z].metadata.cmap.unicode.codeMap[le[V].charCodeAt(0)]),c||le[V].charCodeAt(0)<256&&F[z].metadata.hasOwnProperty("Unicode")?$+=le[V]:$+="";var se="";return parseInt(z.slice(1))<14||oe==="WinAnsiEncoding"?se=N($,z).split("").map(function(xe){return xe.charCodeAt(0).toString(16)}).join(""):oe==="Identity-H"&&(se=t($,F[z])),x.isHex=!0,{text:se,x:d,y:m,options:b,mutex:x}};e.events.push(["postProcessText",function(o){var c=o.text||"",h=[],d={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var m=0;for(m=0;m<c.length;m+=1)Array.isArray(c[m])&&c[m].length===3?h.push([a(Object.assign({},d,{text:c[m][0]})).text,c[m][1],c[m][2]]):h.push(a(Object.assign({},d,{text:c[m]})).text);o.text=h}else o.text=a(Object.assign({},d,{text:c})).text}])})(Tt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Tt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var a,o,c,h,d,m,b,x=e,N=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],F={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},z={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},$=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],V=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),le=!1,oe=0;this.__bidiEngine__={};var se=function(E){var I=E.charCodeAt(),R=I>>8,ee=z[R];return ee!==void 0?x[256*ee+(255&I)]:R===252||R===253?"AL":V.test(R)?"L":R===8?"R":"N"},xe=function(E){for(var I,R=0;R<E.length;R++){if((I=se(E.charAt(R)))==="L")return!1;if(I==="R")return!0}return!1},Oe=function(E,I,R,ee){var be,ne,he,fe,Te=I[ee];switch(Te){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":le=!1;break;case"N":case"AN":break;case"EN":le&&(Te="AN");break;case"AL":le=!0,Te="R";break;case"WS":case"BN":Te="N";break;case"CS":ee<1||ee+1>=I.length||(be=R[ee-1])!=="EN"&&be!=="AN"||(ne=I[ee+1])!=="EN"&&ne!=="AN"?Te="N":le&&(ne="AN"),Te=ne===be?ne:"N";break;case"ES":Te=(be=ee>0?R[ee-1]:"B")==="EN"&&ee+1<I.length&&I[ee+1]==="EN"?"EN":"N";break;case"ET":if(ee>0&&R[ee-1]==="EN"){Te="EN";break}if(le){Te="N";break}for(he=ee+1,fe=I.length;he<fe&&I[he]==="ET";)he++;Te=he<fe&&I[he]==="EN"?"EN":"N";break;case"NSM":if(c&&!h){for(fe=I.length,he=ee+1;he<fe&&I[he]==="NSM";)he++;if(he<fe){var ke=E[ee],Q=ke>=1425&&ke<=2303||ke===64286;if(be=I[he],Q&&(be==="R"||be==="AL")){Te="R";break}}}Te=ee<1||(be=I[ee-1])==="B"?"N":R[ee-1];break;case"B":le=!1,a=!0,Te=oe;break;case"S":o=!0,Te="N"}return Te},H=function(E,I,R){var ee=E.split("");return R&&P(ee,R,{hiLevel:oe}),ee.reverse(),I&&I.reverse(),ee.join("")},P=function(E,I,R){var ee,be,ne,he,fe,Te=-1,ke=E.length,Q=0,k=[],Y=oe?w:N,J=[];for(le=!1,a=!1,o=!1,be=0;be<ke;be++)J[be]=se(E[be]);for(ne=0;ne<ke;ne++){if(fe=Q,k[ne]=Oe(E,J,k,ne),ee=240&(Q=Y[fe][F[k[ne]]]),Q&=15,I[ne]=he=Y[Q][5],ee>0)if(ee===16){for(be=Te;be<ne;be++)I[be]=1;Te=-1}else Te=-1;if(Y[Q][6])Te===-1&&(Te=ne);else if(Te>-1){for(be=Te;be<ne;be++)I[be]=he;Te=-1}J[ne]==="B"&&(I[ne]=0),R.hiLevel|=he}o&&(function(ae,ue,ye){for(var Le=0;Le<ye;Le++)if(ae[Le]==="S"){ue[Le]=oe;for(var Ce=Le-1;Ce>=0&&ae[Ce]==="WS";Ce--)ue[Ce]=oe}})(J,I,ke)},D=function(E,I,R,ee,be){if(!(be.hiLevel<E)){if(E===1&&oe===1&&!a)return I.reverse(),void(R&&R.reverse());for(var ne,he,fe,Te,ke=I.length,Q=0;Q<ke;){if(ee[Q]>=E){for(fe=Q+1;fe<ke&&ee[fe]>=E;)fe++;for(Te=Q,he=fe-1;Te<he;Te++,he--)ne=I[Te],I[Te]=I[he],I[he]=ne,R&&(ne=R[Te],R[Te]=R[he],R[he]=ne);Q=fe}Q++}}},q=function(E,I,R){var ee=E.split(""),be={hiLevel:oe};return R||(R=[]),P(ee,R,be),(function(ne,he,fe){if(fe.hiLevel!==0&&b)for(var Te,ke=0;ke<ne.length;ke++)he[ke]===1&&(Te=$.indexOf(ne[ke]))>=0&&(ne[ke]=$[Te+1])})(ee,R,be),D(2,ee,I,R,be),D(1,ee,I,R,be),ee.join("")};return this.__bidiEngine__.doBidiReorder=function(E,I,R){if((function(be,ne){if(ne)for(var he=0;he<be.length;he++)ne[he]=he;h===void 0&&(h=xe(be)),m===void 0&&(m=xe(be))})(E,I),c||!d||m)if(c&&d&&h^m)oe=h?1:0,E=H(E,I,R);else if(!c&&d&&m)oe=h?1:0,E=q(E,I,R),E=H(E,I);else if(!c||h||d||m){if(c&&!d&&h^m)E=H(E,I),h?(oe=0,E=q(E,I,R)):(oe=1,E=q(E,I,R),E=H(E,I));else if(c&&h&&!d&&m)oe=1,E=q(E,I,R),E=H(E,I);else if(!c&&!d&&h^m){var ee=b;h?(oe=1,E=q(E,I,R),oe=0,b=!1,E=q(E,I,R),b=ee):(oe=0,E=q(E,I,R),E=H(E,I),oe=1,b=!1,E=q(E,I,R),b=ee,E=H(E,I))}}else oe=0,E=q(E,I,R);else oe=h?1:0,E=q(E,I,R);return E},this.__bidiEngine__.setOptions=function(E){E&&(c=E.isInputVisual,d=E.isOutputVisual,h=E.isInputRtl,m=E.isOutputRtl,b=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var h=0;for(c=[],h=0;h<a.length;h+=1)Object.prototype.toString.call(a[h])==="[object Array]"?c.push([t.doBidiReorder(a[h][0]),a[h][1],a[h][2]]):c.push([t.doBidiReorder(a[h])]);r.text=c}else r.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(Tt),Tt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Nu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new YL(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new kL(this.contents),this.head=new OL(this),this.name=new VL(this),this.cmap=new H3(this),this.toUnicode={},this.hhea=new PL(this),this.maxp=new BL(this),this.hmtx=new FL(this),this.post=new jL(this),this.os2=new ML(this),this.loca=new GL(this),this.glyf=new zL(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,h,d,m;for(m=[],c=0,h=(d=this.bbox).length;c<h;c++)e=d[c],m.push(Math.round(e*this.scaleFactor));return m}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var a,o,c,h;for(c=0,o=0,h=(e=""+e).length;0<=h?o<h:o>h;o=0<=h?++o:--o)a=e.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/t)||0;return c*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var fo,Nu=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,a;for(a=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,a,o,c,h,d;return e=this.readByte(),t=this.readByte(),r=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),h=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^o)+65536*(255^c)+256*(255^h)+(255^d)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*a+16777216*o+65536*c+256*h+d},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,a,o;for(o=[],r=0,a=e.length;r<a;r++)t=e[r],o.push(this.writeByte(t));return o},n})(),kL=(function(){var n;function e(t){var r,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,a,o,c,h,d,m,b,x,N,w,F,z;for(z in w=Object.keys(t).length,d=Math.log(2),x=16*Math.floor(Math.log(w)/d),c=Math.floor(x/d),b=16*w-x,(a=new Nu).writeInt(this.scalarType),a.writeShort(w),a.writeShort(x),a.writeShort(c),a.writeShort(b),o=16*w,m=a.pos+o,h=null,F=[],t)for(N=t[z],a.writeString(z),a.writeInt(n(N)),a.writeInt(m),a.writeInt(N.length),F=F.concat(N),z==="head"&&(h=m),m+=N.length;m%4;)F.push(0),m++;return a.write(F),r=2981146554-n(a.data),a.pos=h+8,a.writeUInt32(r),a.data},n=function(t){var r,a,o,c;for(t=G3.call(t);t.length%4;)t.push(0);for(o=new Nu(t),a=0,r=0,c=t.length;r<c;r=r+=4)a+=o.readUInt32();return 4294967295&a},e})(),DL={}.hasOwnProperty,$o=function(n,e){for(var t in e)DL.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};fo=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var OL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,fo),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Nu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),w_=(function(){function n(e,t){var r,a,o,c,h,d,m,b,x,N,w,F,z,$,V,le,oe;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),x=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(w=e.readUInt16(),N=w/2,e.pos+=6,o=(function(){var se,xe;for(xe=[],d=se=0;0<=N?se<N:se>N;d=0<=N?++se:--se)xe.push(e.readUInt16());return xe})(),e.pos+=2,z=(function(){var se,xe;for(xe=[],d=se=0;0<=N?se<N:se>N;d=0<=N?++se:--se)xe.push(e.readUInt16());return xe})(),m=(function(){var se,xe;for(xe=[],d=se=0;0<=N?se<N:se>N;d=0<=N?++se:--se)xe.push(e.readUInt16());return xe})(),b=(function(){var se,xe;for(xe=[],d=se=0;0<=N?se<N:se>N;d=0<=N?++se:--se)xe.push(e.readUInt16());return xe})(),a=(this.length-e.pos+this.offset)/2,h=(function(){var se,xe;for(xe=[],d=se=0;0<=a?se<a:se>a;d=0<=a?++se:--se)xe.push(e.readUInt16());return xe})(),d=V=0,oe=o.length;V<oe;d=++V)for($=o[d],r=le=F=z[d];F<=$?le<=$:le>=$;r=F<=$?++le:--le)b[d]===0?c=r+m[d]:(c=h[b[d]/2+(r-F)-(N-d)]||0)!==0&&(c+=m[d]),this.codeMap[r]=65535&c}e.pos=x}return n.encode=function(e,t){var r,a,o,c,h,d,m,b,x,N,w,F,z,$,V,le,oe,se,xe,Oe,H,P,D,q,E,I,R,ee,be,ne,he,fe,Te,ke,Q,k,Y,J,ae,ue,ye,Le,Ce,Be,Xe,nt;switch(ee=new Nu,c=Object.keys(e).sort(function(et,lt){return et-lt}),t){case"macroman":for(z=0,$=(function(){var et=[];for(F=0;F<256;++F)et.push(0);return et})(),le={0:0},o={},be=0,Te=c.length;be<Te;be++)le[Ce=e[a=c[be]]]==null&&(le[Ce]=++z),o[a]={old:e[a],new:le[e[a]]},$[a]=le[e[a]];return ee.writeUInt16(1),ee.writeUInt16(0),ee.writeUInt32(12),ee.writeUInt16(0),ee.writeUInt16(262),ee.writeUInt16(0),ee.write($),{charMap:o,subtable:ee.data,maxGlyphID:z+1};case"unicode":for(I=[],x=[],oe=0,le={},r={},V=m=null,ne=0,ke=c.length;ne<ke;ne++)le[xe=e[a=c[ne]]]==null&&(le[xe]=++oe),r[a]={old:xe,new:le[xe]},h=le[xe]-a,V!=null&&h===m||(V&&x.push(V),I.push(a),m=h),V=a;for(V&&x.push(V),x.push(65535),I.push(65535),q=2*(D=I.length),P=2*Math.pow(Math.log(D)/Math.LN2,2),N=Math.log(P/2)/Math.LN2,H=2*D-P,d=[],Oe=[],w=[],F=he=0,Q=I.length;he<Q;F=++he){if(E=I[F],b=x[F],E===65535){d.push(0),Oe.push(0);break}if(E-(R=r[E].new)>=32768)for(d.push(0),Oe.push(2*(w.length+D-F)),a=fe=E;E<=b?fe<=b:fe>=b;a=E<=b?++fe:--fe)w.push(r[a].new);else d.push(R-E),Oe.push(0)}for(ee.writeUInt16(3),ee.writeUInt16(1),ee.writeUInt32(12),ee.writeUInt16(4),ee.writeUInt16(16+8*D+2*w.length),ee.writeUInt16(0),ee.writeUInt16(q),ee.writeUInt16(P),ee.writeUInt16(N),ee.writeUInt16(H),ye=0,k=x.length;ye<k;ye++)a=x[ye],ee.writeUInt16(a);for(ee.writeUInt16(0),Le=0,Y=I.length;Le<Y;Le++)a=I[Le],ee.writeUInt16(a);for(Be=0,J=d.length;Be<J;Be++)h=d[Be],ee.writeUInt16(h);for(Xe=0,ae=Oe.length;Xe<ae;Xe++)se=Oe[Xe],ee.writeUInt16(se);for(nt=0,ue=w.length;nt<ue;nt++)z=w[nt],ee.writeUInt16(z);return{charMap:r,subtable:ee.data,maxGlyphID:oe+1}}},n})(),H3=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,fo),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)t=new w_(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,a;return t==null&&(t="macroman"),r=w_.encode(e,t),(a=new Nu).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},n})(),PL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,fo),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),ML=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,fo),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),jL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,fo),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var c,h,d;for(d=[],o=c=0,h=this.file.maxp.numGlyphs;0<=h?c<h:c>h;o=0<=h?++c:--c)d.push(e.readUInt32());return d}).call(this)}},n})(),UL=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},VL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,fo),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,a,o,c,h,d,m,b,x,N;for(e.pos=this.offset,e.readShort(),t=e.readShort(),h=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(d={},o=b=0,x=r.length;b<x;o=++b)a=r[o],e.pos=a.offset,m=e.readString(a.length),c=new UL(m,a),d[N=a.nameID]==null&&(d[N]=[]),d[a.nameID].push(c);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},n})(),BL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,fo),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),FL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,fo),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,a,o,c,h,d;for(e.pos=this.offset,this.metrics=[],t=0,h=this.file.hhea.numberOfMetrics;0<=h?t<h:t>h;t=0<=h?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var m,b;for(b=[],t=m=0;0<=a?m<a:m>a;t=0<=a?++m:--m)b.push(e.readInt16());return b})(),this.widths=(function(){var m,b,x,N;for(N=[],m=0,b=(x=this.metrics).length;m<b;m++)o=x[m],N.push(o.advance);return N}).call(this),r=this.widths[this.widths.length-1],d=[],t=c=0;0<=a?c<a:c>a;t=0<=a?++c:--c)d.push(this.widths.push(r));return d},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),G3=[].slice,zL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,fo),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,a,o,c,h,d,m,b,x;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,c=(h=new Nu(t.read(a))).readShort(),m=h.readShort(),x=h.readShort(),d=h.readShort(),b=h.readShort(),this.cache[e]=c===-1?new HL(h,m,x,d,b):new qL(h,c,m,x,d,b),this.cache[e]))},n.prototype.encode=function(e,t,r){var a,o,c,h,d;for(c=[],o=[],h=0,d=t.length;h<d;h++)a=e[t[h]],o.push(c.length),a&&(c=c.concat(a.encode(r)));return o.push(c.length),{table:c,offsets:o}},n})(),qL=(function(){function n(e,t,r,a,o,c){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=a,this.xMax=o,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),HL=(function(){function n(e,t,r,a,o){var c,h;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;h=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&h;)c.pos+=1&h?4:2,128&h?c.pos+=8:64&h?c.pos+=4:8&h&&(c.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Nu(G3.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),GL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,fo),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),a=0,o=0,c=0;c<r.length;++c)if(r[c]=a,o<t.length&&t[o]==c){++o,r[c]=a;var h=this.offsets[c],d=this.offsets[c+1]-h;d>0&&(a+=d)}for(var m=new Array(4*r.length),b=0;b<r.length;++b)m[4*b+3]=255&r[b],m[4*b+2]=(65280&r[b])>>8,m[4*b+1]=(16711680&r[b])>>16,m[4*b]=(4278190080&r[b])>>24;return m},n})(),YL=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=a[r];return e},n.prototype.glyphsFor=function(e){var t,r,a,o,c,h,d;for(a={},c=0,h=e.length;c<h;c++)a[o=e[c]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(r=a[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in d=this.glyphsFor(t))r=d[o],a[o]=r;return a},n.prototype.encode=function(e,t){var r,a,o,c,h,d,m,b,x,N,w,F,z,$,V;for(a in r=H3.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),w={0:0},V=r.charMap)w[(d=V[a]).old]=d.new;for(F in N=r.maxGlyphID,c)F in w||(w[F]=N++);return b=(function(le){var oe,se;for(oe in se={},le)se[le[oe]]=oe;return se})(w),x=Object.keys(b).sort(function(le,oe){return le-oe}),z=(function(){var le,oe,se;for(se=[],le=0,oe=x.length;le<oe;le++)h=x[le],se.push(b[h]);return se})(),o=this.font.glyf.encode(c,z,w),m=this.font.loca.encode(o.offsets,z),$={cmap:this.font.cmap.raw(),glyf:o.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&($["OS/2"]=this.font.os2.raw()),this.font.directory.encode($)},n})();Tt.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,a,o,c;if(Array.isArray(t))return"["+(function(){var h,d,m;for(m=[],h=0,d=t.length;h<d;h++)r=t[h],m.push(e.convert(r));return m})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)c=t[a],o.push("/"+a+" "+e.convert(c));return o.push(">>"),o.join(`
`)}return""+t},e})();const KL=async(n,e)=>{const t=document.getElementById(n);if(t)try{const r=await n7(t,{backgroundColor:"#ffffff",pixelRatio:2,style:{width:"800px",maxWidth:"none",height:"auto",overflow:"visible"}}),o=await(await fetch(r)).blob(),h={files:[new File([o],e.replace(".pdf",".png"),{type:"image/png"})],title:"Borewell Invoice",text:"Please find the attached invoice details."};if(navigator.canShare&&navigator.canShare(h))try{await navigator.share(h)}catch(d){d.name!=="AbortError"&&(console.warn("Sharing failed, falling back to download:",d),A_(r,e.replace(".pdf",".png")))}else A_(r,e.replace(".pdf",".png"))}catch(r){console.error("Error generating Image:",r),alert("Failed to generate image.")}},$L=n=>{const{customer:e,borewell:t,items:r,totalAmount:a,boreType:o}=n,{totalCost:c}=G0(t.depth,t.oldBoreDepth,t.flushingRate,t.appliedRates,t.drillingBuffer);let h=` *INVOICE DETAILS* 
`;return h+=`--------------------------------
`,h+=` *${e.name}*
`,h+=` ${e.phone||"N/A"}
`,h+=` ${e.address?e.address.split(",")[0]:""}
`,h+=` ${e.date}  |  # ${e.invoiceNumber.replace("INV-","")}
`,h+=`--------------------------------

`,h+=` *${o||"Drilling"} Work*
`,h+=` Depth: *${t.depth} ft*
`,h+=` Drill Cost: ${c.toLocaleString()}
`,t.casingDepth7>0&&(h+=`
 *7" Casing Pipe*
`,h+=`   ${t.casingDepth7} ft x ${t.casingRate7} = ${(t.casingDepth7*t.casingRate7).toLocaleString()}
`),t.casingDepth10>0&&(h+=`
 *10" Casing Pipe*
`,h+=`   ${t.casingDepth10} ft x ${t.casingRate10} = ${(t.casingDepth10*t.casingRate10).toLocaleString()}
`),t.bata>0&&(h+=`
 Bata: ${t.bata.toLocaleString()}
`),t.transportCharges>0&&(h+=` Transport: ${t.transportCharges.toLocaleString()}
`),t.extraTime>0&&(h+=` Extra Time: ${t.extraTime.toLocaleString()}
`),r&&r.length>0&&(h+=`
 *Extra Items:*
`,r.forEach(m=>{h+=`    ${m.description}: ${m.quantity} x ${m.rate} = ${m.amount.toLocaleString()}
`})),t.discountAmount>0&&(h+=`
 *Discount:* -${t.discountAmount.toLocaleString()}
`),h+=`
--------------------------------
`,h+=` *GRAND TOTAL: ${a.toLocaleString()}* 
`,h+=`--------------------------------
`,h+=`
*Anjaneya Borewells* 
`,h+=`Short of Water? Go Deeper! 
`,h+=" https://anjaneyaborewells.com/",`https://wa.me/${e.phone?`91${e.phone}`:""}?text=${encodeURIComponent(h)}`},A_=(n,e)=>{const t=document.createElement("a");t.download=e,t.href=n,t.click()},XL=({onClose:n})=>O.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4 backdrop-blur-sm",onClick:n,children:O.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[85vh] overflow-hidden flex flex-col shadow-2xl",onClick:e=>e.stopPropagation(),children:[O.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-gray-50",children:[O.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"User Guide "}),O.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:O.jsx(tc,{size:20,className:"text-gray-600"})})]}),O.jsxs("div",{className:"p-5 overflow-y-auto space-y-8 text-gray-700",children:[O.jsxs("section",{children:[O.jsxs("h3",{className:"font-bold text-lg text-primary flex items-center gap-2 mb-3",children:[O.jsx(z1,{size:20})," Creating Invoices"]}),O.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm text-gray-600",children:[O.jsxs("li",{children:["Tap the big ",O.jsx("strong",{children:"+ Button"})," to create a new Invoice or Quotation."]}),O.jsxs("li",{children:[O.jsx("strong",{children:"Rates are Automatic"}),": Just enter the Total Depth, and the Casing/Drilling charges are calculated automatically based on saved rates."]}),O.jsxs("li",{children:[O.jsx("strong",{children:"Duplicate Check"}),": The app checks for duplicate 'Invoice Numbers' automatically. If you try to save a number that exists, it will warn you! "]})]})]}),O.jsxs("section",{children:[O.jsxs("h3",{className:"font-bold text-lg text-green-600 flex items-center gap-2 mb-3",children:[O.jsx(F1,{size:20})," Cloud Sync (Firebase)"]}),O.jsxs("div",{className:"bg-green-50 p-3 rounded-xl border border-green-100 text-sm",children:[O.jsxs("p",{className:"mb-2",children:[O.jsx("strong",{children:"Why connect?"})," so your data is backed up and available on all your devices (Phone, Laptop, Tablet)."]}),O.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[O.jsxs("li",{children:["Tap the ",O.jsx("strong",{children:"Drive Icon"})," in Settings to Login."]}),O.jsx("li",{children:"Once connected, any change you make is saved within seconds."}),O.jsx("li",{children:"If you are offline, it saves locally and syncs when you reconnect! "})]})]})]}),O.jsxs("section",{children:[O.jsxs("h3",{className:"font-bold text-lg text-red-500 flex items-center gap-2 mb-3",children:[O.jsx(Wu,{size:20})," Safety & Recycle Bin"]}),O.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm text-gray-600",children:[O.jsxs("li",{children:[O.jsx("strong",{children:"Deleting"}),': Tapping trash asks for confirmation first. "Are you sure?" ']}),O.jsxs("li",{children:[O.jsx("strong",{children:"Recycle Bin"}),": Deleted files aren't gone! They go to ",O.jsxs("strong",{children:["Settings ",">"," Recycle Bin"]}),"."]}),O.jsxs("li",{children:[O.jsx("strong",{children:"Restore"}),': Made a mistake? Go to Recycle Bin and tap "Restore" to bring it back.']}),O.jsxs("li",{children:[O.jsx("strong",{children:"Delete Forever"}),": To clear space, you can permanently delete items in the Recycle Bin."]})]})]}),O.jsxs("section",{children:[O.jsxs("h3",{className:"font-bold text-lg text-blue-600 flex items-center gap-2 mb-3",children:[O.jsx(G4,{size:20})," Pro Tips"]}),O.jsxs("div",{className:"space-y-3 text-sm",children:[O.jsxs("div",{className:"flex gap-3 items-start",children:[O.jsx(ZC,{className:"text-gray-400 shrink-0 mt-1",size:16}),O.jsxs("p",{children:[O.jsx("strong",{children:"Search:"})," Use the search bar for Name, Phone Number, or Invoice #."]})]}),O.jsxs("div",{className:"flex gap-3 items-start",children:[O.jsx(rI,{className:"text-gray-400 shrink-0 mt-1",size:16}),O.jsxs("p",{children:[O.jsx("strong",{children:"Edit:"})," Tap the Pencil icon to update an invoice. Changes sync everywhere."]})]})]})]})]}),O.jsx("div",{className:"p-4 border-t bg-gray-50 text-center",children:O.jsx("p",{className:"text-xs text-gray-500",children:"Borewell Invoice Generator v1.3.0"})})]})}),QL=({onEdit:n,onCreate:e})=>{const{invoices:t,deleteInvoice:r,restoreInvoice:a,permanentDeleteInvoice:o,emptyRecycleBin:c,exportBackup:h,importBackup:d,loginToGoogle:m,logout:b,logo:x,setLogo:N,user:w,syncStatus:F,nextInvoiceNumber:z,setNextInvoiceNumber:$}=H0(),V=!!w,le=$u.useRef(null),oe=$u.useRef(null),[se,xe]=$u.useState(""),[Oe,H]=hn.useState(!1),[P,D]=hn.useState(null),q=$u.useRef(null),[E,I]=hn.useState(!1),[R,ee]=hn.useState(!1),[be,ne]=hn.useState("active"),he=t.filter(ke=>be==="active"&&ke.isDeleted||be==="deleted"&&!ke.isDeleted?!1:ke.customer.name.toLowerCase().includes(se.toLowerCase())||ke.customer.phone.includes(se)||ke.customer.invoiceNumber.toLowerCase().includes(se.toLowerCase())||ke.customer.address.toLowerCase().includes(se.toLowerCase())||ke.id.includes(se)),fe=ke=>{ke.target.files?.[0]&&d(ke.target.files[0])},Te=ke=>{const Q=ke.target.files?.[0];if(Q){const k=new FileReader;k.onloadend=()=>{N(k.result),alert("Logo updated!")},k.readAsDataURL(Q)}};return O.jsxs("div",{className:"bg-slate-50 min-h-screen p-4 pb-20",children:[O.jsxs("div",{className:"flex justify-between items-start mb-6",children:[O.jsxs("div",{className:"flex items-center gap-3 text-left",children:[x?O.jsx("img",{src:x,className:"w-14 h-14 rounded-xl object-contain bg-white shadow-md shadow-gray-200"}):null,O.jsxs("div",{children:[O.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-[#009900] tracking-wider whitespace-nowrap",style:{fontFamily:'"Permanent Marker", cursive'},children:["ANJANEYA BO",O.jsx("span",{className:"text-red-600",children:"R"}),"EWELLS"]}),O.jsx("p",{className:"text-[10px] md:text-xs text-gray-600 font-bold mt-0.5 ml-1",children:be==="deleted"?" Recycle Bin":" !.."})]})]}),O.jsxs("div",{className:"flex gap-2 items-center",children:[be==="deleted"&&O.jsxs(O.Fragment,{children:[O.jsxs("button",{onClick:()=>{const ke=prompt(`WARNING: This will permanently delete ALL invoices in the Recycle Bin.

Type DELETE to confirm:`);ke==="DELETE"?(c(),alert("Recycle Bin Emptied.")):ke!==null&&alert("Deletion Cancelled: You must type DELETE exactly.")},className:"p-2 bg-red-100 text-red-600 rounded-full shadow hover:bg-red-200 transition-colors flex items-center gap-1 px-3 text-xs font-bold",children:[O.jsx(Wu,{size:14})," Empty Bin"]}),O.jsx("button",{onClick:()=>ne("active"),className:"p-2 bg-white rounded-full shadow text-primary font-bold text-xs px-3 self-center",children:"Back"})]}),V&&O.jsxs("div",{className:"flex items-center justify-center p-2 rounded-full bg-slate-100/50",title:`Sync Status: ${F}`,children:[F==="syncing"&&O.jsx(QC,{size:18,className:"text-blue-500 animate-spin"}),F==="success"&&O.jsx(TC,{size:18,className:"text-green-500"}),F==="error"&&O.jsx(CC,{size:18,className:"text-red-500"}),F==="idle"&&O.jsx(F1,{size:18,className:"text-gray-400"})]}),O.jsx("button",{onClick:()=>H(!0),className:"p-2 bg-white rounded-full shadow text-gray-600 hover:bg-gray-100 transition-colors",children:O.jsx(tI,{size:24})})]})]}),O.jsx("div",{className:"mb-4",children:O.jsx("input",{type:"text",placeholder:be==="deleted"?"Search deleted invoices...":"Search by name, phone, or invoice #...",className:"w-full p-3 rounded-lg border border-gray-200 shadow-sm focus:ring-2 focus:ring-primary focus:outline-none",value:se,onChange:ke=>xe(ke.target.value)})}),he.length===0?O.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400",children:[be==="deleted"?O.jsx(Wu,{size:48,className:"mb-2 opacity-50"}):O.jsx(VC,{size:48,className:"mb-2 opacity-50"}),O.jsx("p",{children:be==="deleted"?"Recycle Bin Empty":"No invoices found"}),be==="active"&&O.jsx("button",{onClick:e,className:"mt-4 text-primary font-semibold",children:"Create New"})]}):O.jsx("div",{className:"space-y-3",children:he.map(ke=>O.jsxs("div",{className:`p-4 rounded-xl shadow-sm flex justify-between items-center cursor-pointer transition-colors ${be==="deleted"?"bg-red-50 border border-red-100":"bg-white hover:bg-gray-50"}`,onClick:()=>be==="active"&&D(ke),children:[O.jsxs("div",{children:[O.jsx("h3",{className:"font-bold text-gray-800",children:ke.customer.name}),O.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[ke.customer.date,"  #",ke.customer.invoiceNumber,V&&O.jsx(F1,{size:12,className:"text-green-500 ml-1"})]})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsxs("span",{className:`font-bold mr-2 ${be==="deleted"?"text-gray-400":"text-primary"}`,children:["",ke.totalAmount.toLocaleString()]}),be==="active"?O.jsxs(O.Fragment,{children:[O.jsx("button",{onClick:Q=>{Q.stopPropagation(),n(ke)},className:"p-2 text-blue-500 hover:bg-blue-50 rounded-full",children:O.jsx(KC,{size:18})}),O.jsx("button",{onClick:Q=>{Q.stopPropagation(),confirm("Move to Recycle Bin?")&&r(ke.id)},className:"p-2 text-red-500 hover:bg-red-50 rounded-full",children:O.jsx(Wu,{size:18})})]}):O.jsxs(O.Fragment,{children:[O.jsx("button",{onClick:Q=>{Q.stopPropagation(),confirm("Restore this invoice?")&&a(ke.id)},className:"text-xs bg-green-100 text-green-700 px-3 py-1 rounded-full font-semibold",children:"Restore"}),O.jsx("button",{onClick:Q=>{Q.stopPropagation(),confirm("PERMANENTLY DELETE? This cannot be undone.")&&o(ke.id)},className:"p-2 text-red-600 hover:bg-red-100 rounded-full",children:O.jsx(tc,{size:18})})]})]})]},ke.id))}),be==="active"&&O.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 w-full max-w-md z-10 pointer-events-none px-4",children:O.jsx("button",{onClick:e,className:"absolute bottom-0 right-4 bg-primary text-white w-14 h-14 rounded-full shadow-lg flex items-center justify-center text-3xl hover:bg-sky-700 pointer-events-auto",children:"+"})}),Oe&&O.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",onClick:()=>H(!1),children:!E&&!R?O.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm p-6 shadow-2xl space-y-6",onClick:ke=>ke.stopPropagation(),children:[O.jsxs("div",{className:"flex justify-between items-center border-b pb-4",children:[O.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Settings"}),O.jsx("button",{onClick:()=>H(!1),className:"bg-gray-100 p-2 rounded-full hover:bg-gray-200",children:O.jsx(tc,{size:20,className:"text-gray-600"})})]}),O.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[O.jsxs("button",{onClick:()=>{V?confirm("Sign out of sync?")&&b():m()},className:`flex flex-col items-center gap-2 p-4 rounded-xl transition-colors border ${V?"bg-green-50 hover:bg-green-100 text-green-700 border-green-200":"bg-orange-50 hover:bg-orange-100 text-orange-600 border-orange-100"}`,children:[O.jsxs("div",{className:"bg-white p-2 rounded-full shadow-sm relative",children:[O.jsx(FC,{size:24,className:V?"text-green-600":"text-orange-500"}),V&&O.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),O.jsxs("div",{className:"flex flex-col items-center",children:[O.jsx("span",{className:"text-xs font-semibold",children:V?"Synced":"Connect"}),V?O.jsx("span",{className:"text-[10px] text-green-600 font-bold mt-1",children:F==="syncing"?"Syncing...":"Tap to Logout"}):O.jsx("span",{className:"text-[10px] text-orange-500 mt-1",children:"Tap to Login"})]})]}),O.jsxs("button",{onClick:()=>ee(!0),className:"flex flex-col items-center gap-2 p-4 bg-indigo-50 hover:bg-indigo-100 rounded-xl transition-colors text-indigo-600 border border-indigo-100",children:[O.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm",children:O.jsx(RC,{size:24})}),O.jsx("span",{className:"text-xs font-semibold",children:"Help Guide"})]}),O.jsxs("button",{onClick:()=>I(!0),className:"flex flex-col items-center gap-2 p-4 bg-teal-50 hover:bg-teal-100 rounded-xl transition-colors text-teal-600 border border-teal-100",children:[O.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm",children:O.jsx(G4,{size:24})}),O.jsx("span",{className:"text-xs font-semibold",children:"Install App"})]}),O.jsxs("button",{onClick:()=>oe.current?.click(),className:"flex flex-col items-center gap-2 p-4 bg-blue-50 hover:bg-blue-100 rounded-xl transition-colors text-primary border border-blue-100",children:[O.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm",children:O.jsx(qC,{size:24})}),O.jsx("span",{className:"text-xs font-semibold",children:"Logo"})]}),O.jsx("input",{type:"file",ref:oe,onChange:Te,className:"hidden",accept:"image/*"}),O.jsxs("button",{onClick:h,className:"flex flex-col items-center gap-2 p-4 bg-purple-50 hover:bg-purple-100 rounded-xl transition-colors text-purple-600 border border-purple-100",children:[O.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm",children:O.jsx(DC,{size:24})}),O.jsx("span",{className:"text-xs font-semibold",children:"Backup"})]}),O.jsxs("button",{onClick:()=>le.current?.click(),className:"flex flex-col items-center gap-2 p-4 bg-green-50 hover:bg-green-100 rounded-xl transition-colors text-green-600 border border-green-100",children:[O.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm",children:O.jsx(oI,{size:24})}),O.jsx("span",{className:"text-xs font-semibold",children:"Restore"})]}),O.jsx("input",{type:"file",ref:le,onChange:fe,className:"hidden",accept:".json"}),O.jsxs("div",{className:"col-span-2 md:col-span-3 bg-gray-50 p-3 rounded-xl border border-gray-100 flex items-center justify-between",children:[O.jsxs("div",{className:"flex flex-col",children:[O.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Next Invoice #"}),O.jsx("span",{className:"text-xs text-gray-400",children:"Auto-increments"})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("span",{className:"font-mono text-gray-500",children:"INV-"}),O.jsx("input",{type:"number",className:"w-20 p-1 border rounded text-center font-bold text-gray-700",value:z,onChange:ke=>$(Number(ke.target.value))})]})]}),O.jsxs("button",{onClick:()=>{ne("deleted"),H(!1)},className:"flex flex-col items-center gap-2 p-4 bg-red-50 hover:bg-red-100 rounded-xl transition-colors text-red-600 border border-red-100",children:[O.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm",children:O.jsx(Wu,{size:24})}),O.jsx("span",{className:"text-xs font-semibold",children:"Recycle Bin"})]})]}),O.jsx("div",{className:"text-center pt-2",children:O.jsx("p",{className:"text-[10px] text-gray-400",children:"Version 1.0.3  Anjaneya Borewells"})})]}):R?O.jsx(XL,{onClose:()=>ee(!1)}):O.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm p-6 shadow-2xl space-y-4",onClick:ke=>ke.stopPropagation(),children:[O.jsxs("div",{className:"flex justify-between items-center border-b pb-4",children:[O.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Install App"}),O.jsx("button",{onClick:()=>I(!1),className:"bg-gray-100 p-2 rounded-full hover:bg-gray-200",children:O.jsx(B1,{size:20,className:"text-gray-600"})})]}),O.jsxs("div",{className:"space-y-4 text-sm text-gray-600",children:[O.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:[O.jsx("h3",{className:"font-semibold text-gray-800 mb-2 flex items-center gap-2",children:" For Android (Chrome)"}),O.jsxs("ol",{className:"list-decimal ml-4 space-y-1 text-xs",children:[O.jsxs("li",{children:["Tap the ",O.jsx("strong",{children:"three dots ()"})," in the top right."]}),O.jsxs("li",{children:["Tap ",O.jsx("strong",{children:'"Add to Home screen"'})," or ",O.jsx("strong",{children:'"Install App"'}),"."]}),O.jsxs("li",{children:["Confirm by tapping ",O.jsx("strong",{children:"Add/Install"}),"."]})]})]}),O.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:[O.jsx("h3",{className:"font-semibold text-gray-800 mb-2 flex items-center gap-2",children:" For iOS (Safari)"}),O.jsxs("ol",{className:"list-decimal ml-4 space-y-1 text-xs",children:[O.jsxs("li",{children:["Tap the ",O.jsx("strong",{children:"Share"})," button (box with arrow) at the bottom."]}),O.jsxs("li",{children:["Scroll down and tap ",O.jsx("strong",{children:'"Add to Home Screen"'}),"."]}),O.jsxs("li",{children:["Tap ",O.jsx("strong",{children:"Add"})," in the top right corner."]})]})]})]}),O.jsx("div",{className:"text-center pt-2",children:O.jsx("p",{className:"text-[10px] text-primary bg-blue-50 p-2 rounded",children:"Note: This makes the app work offline and look like a native app!"})})]})}),P&&O.jsxs("div",{className:"fixed inset-0 bg-black/80 z-50 flex flex-col pt-10 overflow-y-auto",children:[O.jsx("div",{className:"flex justify-end p-4 gap-4 px-4 sticky top-0",children:O.jsx("button",{onClick:()=>D(null),className:"bg-white p-2 rounded-full",children:O.jsx(tc,{})})}),O.jsx("div",{className:"flex-1 overflow-y-auto px-2 md:px-0",children:O.jsx(q4,{ref:q,data:P})}),O.jsxs("div",{className:"bg-white p-4 flex justify-around items-center sticky bottom-0 pb-8 rounded-t-xl gap-4",children:[O.jsxs("button",{onClick:()=>{const ke=$L(P);window.open(ke,"_blank")},className:"flex flex-col items-center gap-1 text-green-600",children:[O.jsx("div",{className:"bg-green-50 p-3 rounded-full border border-green-200",children:O.jsx(GC,{size:24})}),O.jsx("span",{className:"text-[10px] font-semibold",children:"WhatsApp Text"})]}),O.jsxs("button",{onClick:()=>KL("invoice-preview",`${P.type}-${P.customer.name}.png`),className:"flex flex-col items-center gap-1 text-blue-600",children:[O.jsx("div",{className:"bg-blue-50 p-3 rounded-full border border-blue-200",children:O.jsx(jC,{size:24})}),O.jsx("span",{className:"text-[10px] font-semibold",children:"Share Image"})]})]})]})]})};function WL(){const[n,e]=hn.useState("list"),[t,r]=hn.useState(void 0),a=()=>{r(void 0),e("create")},o=h=>{r(h),e("create")},c=()=>{e("list")};return O.jsx(yC,{children:O.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-slate-50 shadow-2xl relative",children:[n==="list"&&O.jsx(QL,{onEdit:o,onCreate:a}),n==="create"&&O.jsx(uI,{onBack:c,initialData:t})]})})}uS.createRoot(document.getElementById("root")).render(O.jsx(hn.StrictMode,{children:O.jsx(WL,{})}));export{Xn as _,JL as c,ZA as g};
